/**!
 * IMPORTANT NOTE:
 *    This file is licensed only for use in providing the iCloud
 *    service or any part thereof, and is subject to the iCloud
 *    Terms and Conditions. You may not port this file to another
 *    platform without Apple's written consent.
 *
 *    Portions of this Apple Software may utilize copyrighted material under open source licenses.
 *    Please see the file at https://www.icloud.com/applications/iclouddrive/1808Project39/en-us/acknowledgements.txt for licensing information.
 */
!function(i,n,e,t){var r=i.__CW_IMG_URLS={};for(var a in e){var s=e[a];Object.defineProperty(r,a,{get:function(){return[n,(e=s,t=Math.ceil(i.devicePixelRatio),1===t?e:e.replace(/@\d{1}(?=x)/i,"@"+t))].join("/");var e,t}})}}(this,"/applications/iclouddrive/1808Project39/en-us",{}),function(l,e,t,i){var u=l.URL||l.webkitURL,d=l.__CW_BLOB_URLS={};l.__CW_BLOBS_READY=!1;var n,r,a,s,o,h=["image/gif","image/png","image/jpeg","image/svg+xml"],c=3,p=!1,f=!1;function _(e){p=!1,l.__CW_BLOBS_READY=!1,g("__CW_SPRITE_ERROR",e)}function m(e,t,i){if(e.slice)return e.slice(t,i);var n=e.byteLength;if(t=t||0,i=i||n,0===n||n<=t||i<=t)return new ArrayBuffer(0);var r=Math.min(n-t,i-t),a=new ArrayBuffer(r);return new Uint8Array(a).set(new Uint8Array(e,t,r)),a}function g(e,t){var i=document.createEvent("Event");i.data=t,i.initEvent(e,!0,!0),document.dispatchEvent(i)}function v(e){var t=d[e],i=new RegExp("\\(blob_"+e+"\\)","gi");return function(){var e;r++,n=n.replace(i,"("+JSON.stringify(t)+")"),r===a&&((e=document.getElementById("cw-css"))||((e=document.createElement("link")).rel="stylesheet",e.id="cw-css"),e.onload=function(){g("__CW_CSS_LOADED"),n=null,f=!1},e.href="data:text/css;base64,"+btoa(unescape(encodeURIComponent(n))),document.head.appendChild(e))}}document.addEventListener("__CW_SPRITE_LOADED",function(){if(!f)if(f=!0,g("__CW_CSS_START"),n=".cw-alert .alert-icon{background-image:url(blob_1)}\n\n.cw-alert .alert-icon.info::after{background-image:url(blob_2)}\n\n.cw-alert .alert-icon.error::after{background-image:url(blob_3)}\n\n.cw-alert .alert-icon.checked::after{background-image:url(blob_4)}\n\n.cw-alert .alert-icon.sharing::after{background-image:url(blob_5)}\n\ncw-checkbox input[type=checkbox]:checked+label::before{background-image:url(blob_6)}\n\ncw-checkbox input[type=checkbox]:indeterminate+label::before{background-image:url(blob_7)}\n\n.dr-root-header>.sort-action-menu>.right-accessory{background-image:url(blob_8)}\n\n.br-view.toolbar .button.help{background-image:url(blob_9)}\n\n.br-view.toolbar .button.help.active{background-image:url(blob_10)}\n\n.br-view.toolbar .button.help.pressed{background-image:url(blob_11)}\n\n.br-view.toolbar .button.help.disabled{background-image:url(blob_12)}\n\n.br-view.toolbar .button.apps-launcher.active .right-accessory{background-image:url(blob_13)}\n\n.br-view.toolbar .button.user-action-menu.active .right-accessory{background-image:url(blob_13)}\n\n.br-view.toolbar .button.user-action-menu .right-accessory.active{background-image:url(blob_13)}\n\n.br-view.toolbar .button.apps-launcher.pressed .right-accessory{background-image:url(blob_14)}\n\n.br-view.toolbar .button.user-action-menu.pressed .right-accessory{background-image:url(blob_14)}\n\n.br-view.toolbar .button.user-action-menu .right-accessory.pressed{background-image:url(blob_14)}\n\n.br-view.toolbar .button.apps-launcher .left-accessory{background-image:url(blob_15)}\n\n.cn .br-view.toolbar .button.apps-launcher .left-accessory{background-image:url(blob_16)}\n\n.br-view.toolbar .button.apps-launcher .right-accessory{background-image:url(blob_17)}\n\n.br-view.toolbar .button.user-action-menu .right-accessory{background-image:url(blob_17)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container{background-image:url(blob_19)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.image{background-image:url(blob_20)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.audio{background-image:url(blob_21)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.video{background-image:url(blob_22)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.vcard{background-image:url(blob_23)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.msword{background-image:url(blob_24)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.msexcel{background-image:url(blob_25)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.msppoint{background-image:url(blob_26)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.rtf{background-image:url(blob_27)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.txt{background-image:url(blob_28)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.email{background-image:url(blob_29)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.cert{background-image:url(blob_30)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.cal{background-image:url(blob_31)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.prov-profile{background-image:url(blob_32)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.vpn{background-image:url(blob_33)}\n\n.drive-ui .x-file.x-showcase.large .file-icon-container .file-icon.csv{background-image:url(blob_34)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container{background-image:url(blob_35)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.image{background-image:url(blob_36)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.audio{background-image:url(blob_37)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.video{background-image:url(blob_38)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.vcard{background-image:url(blob_39)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.msword{background-image:url(blob_40)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.msexcel{background-image:url(blob_41)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.msppoint{background-image:url(blob_42)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.rtf{background-image:url(blob_43)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.txt{background-image:url(blob_44)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.email{background-image:url(blob_45)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.cert{background-image:url(blob_46)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.cal{background-image:url(blob_47)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.prov-profile{background-image:url(blob_48)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.vpn{background-image:url(blob_49)}\n\n.drive-ui .x-file.x-showcase.medium .file-icon-container .file-icon.csv{background-image:url(blob_50)}\n\n.drive-ui .x-file.x-showcase.small .file-icon-container{background-image:url(blob_51)}\n\nfigure.participant-icon-view::after{background-image:url(blob_52)}\n\n.cw-alert .alert-icon.ck-sharing-error-icon{background-image:url(blob_53)}\n\n.cw-alert .alert-icon.ck-sharing-icon{background-image:url(blob_54)}\n\n.ck-sharing-transports-view.cw-segmented-control .cw-button.email::before{background-image:url(blob_55)}\n\n.ck-sharing-transports-view.cw-segmented-control .cw-button.copy-link::before{background-image:url(blob_56)}\n\n.drive-ui .br-file-upload-view .error-icon{background-image:url(blob_57)}\n\n.drive-ui .br-file-upload-view .retry-icon{background-image:url(blob_58)}\n\n.cw-popover-view.cosk-account-menu-popover .cw-up-arrow{background-image:url(blob_59)}\n\n.br-view.popover.default .arrow.up{background-image:url(blob_63)}\n\n.br-view.popover.default .arrow.down{background-image:url(blob_64)}\n\n.br-view.popover.default .arrow.left{background-image:url(blob_65)}\n\n.br-view.popover.default .arrow.right{background-image:url(blob_66)}\n\n.br-view.menu .br-view.menu-item .checkmark.checked{background-image:url(blob_67)}\n\n.expandable-view .expander-control-arrow{background-image:url(blob_68)}\n\n.cw-tokenizedtextfield-view.show-error-indicator::after{background-image:url(blob_69)}\n\n.br-view.checkbox.enabled>.indicator.checked{background-image:url(blob_70)}\n\n.br-view.checkbox.enabled>.indicator.not-checked{background-image:url(blob_71)}\n\n.br-view.checkbox.enabled>.indicator.mixed{background-image:url(blob_72)}\n\n.br-view.checkbox.disabled>.indicator.checked{background-image:url(blob_73)}\n\n.br-view.checkbox.disabled>.indicator.not-checked{background-image:url(blob_74)}\n\n.br-view.checkbox.disabled>.indicator.mixed{background-image:url(blob_75)}\n\n.br-view.checkbox.pressed.enabled>.indicator.checked{background-image:url(blob_76)}\n\n.br-view.checkbox.pressed.enabled>.indicator.not-checked{background-image:url(blob_77)}\n\n.br-view.checkbox.pressed.enabled>.indicator.mixed{background-image:url(blob_78)}\n\n.drive-ui .folder.showcase{background-image:url(blob_79)}\n\n.app-folder{background-image:url(blob_79)}\n\n.drive-ui .folder.showcase.medium{background-image:url(blob_80)}\n\n.app-folder.medium{background-image:url(blob_80)}\n\n.drive-ui .path-bar-view-cell .icon.filetall{background-image:url(blob_81)}\n\n.drive-ui .path-bar-view-cell .icon.filewide{background-image:url(blob_82)}\n\n.drive-ui .path-bar-view-cell .icon.folder{background-image:url(blob_83)}\n\n.drive-ui .path-bar-view-cell .icon.home{background-image:url(blob_84)}\n\n.drive-ui .path-bar-view-cell .icon.appcontainer{background-image:url(blob_85)}\n\n.drive-ui .path-bar-view-cell>.fade{background-image:url(blob_86)}\n\n.drive-ui .br-view.path-bar::after{background-image:url(blob_86)}\n\n.drive-ui .br-view.path-bar .arrow{background-image:url(blob_87)}\n\nsection[role=toolbar] .button.upload-files{background-image:url(blob_95)}\n\nsection[role=toolbar] .button.upload-files.active{background-image:url(blob_96)}\n\nsection[role=toolbar] .button.upload-files.pressed{background-image:url(blob_97)}\n\nsection[role=toolbar] .button.upload-files.disabled{background-image:url(blob_98)}\n\nsection[role=toolbar] .button.sharing{background-image:url(blob_99)}\n\nsection[role=toolbar] .button.sharing.active{background-image:url(blob_100)}\n\nsection[role=toolbar] .button.sharing.pressed{background-image:url(blob_101)}\n\nsection[role=toolbar] .button.sharing.disabled{background-image:url(blob_102)}\n\nsection[role=toolbar] .button.sharing.on{background-image:url(blob_103)}\n\nsection[role=toolbar] .button.sharing.on.active{background-image:url(blob_104)}\n\nsection[role=toolbar] .button.sharing.on.pressed{background-image:url(blob_105)}\n\nsection[role=toolbar] .button.new-folder{background-image:url(blob_106)}\n\nsection[role=toolbar] .button.new-folder.active{background-image:url(blob_107)}\n\nsection[role=toolbar] .button.new-folder.pressed{background-image:url(blob_108)}\n\nsection[role=toolbar] .button.new-folder.disabled{background-image:url(blob_109)}\n\nsection[role=toolbar] .button.trash-files{background-image:url(blob_110)}\n\nsection[role=toolbar] .button.trash-files.active{background-image:url(blob_111)}\n\nsection[role=toolbar] .button.trash-files.pressed{background-image:url(blob_112)}\n\nsection[role=toolbar] .button.trash-files.disabled{background-image:url(blob_113)}\n\nsection[role=toolbar] .button.email-files{background-image:url(blob_114)}\n\nsection[role=toolbar] .button.email-files.active{background-image:url(blob_115)}\n\nsection[role=toolbar] .button.email-files.pressed{background-image:url(blob_116)}\n\nsection[role=toolbar] .button.email-files.disabled{background-image:url(blob_117)}\n\nsection[role=toolbar] .button.download-files{background-image:url(blob_118)}\n\nsection[role=toolbar] .button.download-files.active{background-image:url(blob_119)}\n\nsection[role=toolbar] .button.download-files.pressed{background-image:url(blob_120)}\n\nsection[role=toolbar] .button.download-files.disabled{background-image:url(blob_121)}\n\n.drive-ui .br-view.navigation .br-view.navigation-bar .br-view.button.left .left-accessory{background-image:url(blob_135)}\n\n.drive-ui .br-view.navigation .br-view.navigation-bar .br-view.button.right .right-accessory{background-image:url(blob_136)}\n\n.showcase-drag-bg-file{background-image:url(blob_137)}\n\n.showcase-drag-bg-folder{background-image:url(blob_138)}\n\n.files-grid-item.collection-cell.loaded.drag-ghost .invalid-drag-icon{background-image:url(blob_139)}\n\n.files-grid-item.collection-cell.loaded .info.button{background-image:url(blob_140)}\n\n.files-grid-item.collection-cell.loaded .info.button.active{background-image:url(blob_141)}\n\n.files-grid-item.collection-cell.loaded .info.button.pressed{background-image:url(blob_142)}\n\n.files-grid-item.collection-cell.loaded .cancel-button{background-image:url(blob_143)}\n\n.files-grid-item.collection-cell.loaded .cancel-button.active{background-image:url(blob_144)}\n\n.files-grid-item.collection-cell.loaded .cancel-button.pressed{background-image:url(blob_145)}\n\n.files-grid-item.collection-cell.loaded .locked-icon{background-image:url(blob_146)}\n\n.drive-ui.br-item-info .cw-popover-view>.cw-popover-arrow.cw-up-arrow{background-image:url(blob_153)}\n\n.drive-ui.br-item-info .cw-popover-view>.cw-popover-arrow.cw-down-arrow{background-image:url(blob_154)}\n\n.drive-ui.br-item-info .cw-popover-view>.cw-popover-arrow.cw-left-arrow{background-image:url(blob_155)}\n\n.drive-ui.br-item-info .cw-popover-view>.cw-popover-arrow.cw-right-arrow{background-image:url(blob_156)}\n\n.drive-ui.brx.br-alert-modal .iclouddrive{background-image:url(blob_157)}\n".slice(),d&&(a=Object.keys(d).length),d&&0<a){r=0;var e=function(){var e="cw-img-container-r"+l.devicePixelRatio,t=document.getElementById(e);if(!t){(t=document.createElement("div")).setAttribute("aria-hidden",!0),t.id=e;var i=t.style;i.overflow="hidden",i.height="0",i.width="0",document.body.appendChild(t)}return t}();for(var t in d){var i=document.createElement("img");i.addEventListener("load",v(t)),i.src=d[t],e.appendChild(i)}}else f=!1}),s=l.devicePixelRatio,(o=t[s-1])||(o=t[0]),function t(i){if(!p){p=!0,g("__CW_SPRITE_START");var e=new XMLHttpRequest;e.open("GET","/applications/iclouddrive/1808Project39/en-us/"+i,!0),e.responseType="arraybuffer",e.onload=function(){!function(e){try{if(e&&e instanceof ArrayBuffer)for(var t=new DataView(e),i=t.byteLength,n=0;n<i;){var r=t.getUint16(n),a=t.getUint8(n+2),s=t.getUint32(n+3),o=m(e,n+=7,n+s),c=new Blob([o],{type:h[a-1]});d[r]=u.createObjectURL(c),n+=s}p=!1,l.__CW_BLOBS_READY=!0,g("__CW_SPRITE_LOADED")}catch(e){_(e)}}(e.response)},e.onerror=function(e){0<--c?t(i):_(e)},e.send()}}(o)}(this,0,["images@1x.bin","images@2x.bin"]),function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/applications/iclouddrive/1808Project39/en-us",r(r.s=895)}([function(e,t,i){"use strict";var n=i(249);i.d(t,"d",function(){return n.a}),i.d(t,"e",function(){return n.b}),i.d(t,"r",function(){return n.c}),i.d(t,"t",function(){return n.d}),i.d(t,"D",function(){return n.e}),i.d(t,"_18",function(){return n.f}),i.d(t,"_36",function(){return n.h}),i.d(t,"_38",function(){return n.i}),i.d(t,"_45",function(){return n.j});var r=i(10);i.d(t,"j",function(){return r.a}),i.d(t,"C",function(){return r.b}),i.d(t,"_78",function(){return r.g}),i.d(t,"_97",function(){return r.h});var a=i(176);i.d(t,"a",function(){return a.a}),i.d(t,"p",function(){return a.b}),i.d(t,"q",function(){return a.c}),i.d(t,"L",function(){return a.d}),i.d(t,"M",function(){return a.e}),i.d(t,"N",function(){return a.f}),i.d(t,"O",function(){return a.g}),i.d(t,"V",function(){return a.h}),i.d(t,"W",function(){return a.j}),i.d(t,"X",function(){return a.k}),i.d(t,"_40",function(){return a.l}),i.d(t,"_41",function(){return a.m});var s=i(1136);i.d(t,"y",function(){return s.a}),i.d(t,"z",function(){return s.b}),i.d(t,"_0",function(){return s.c}),i.d(t,"_1",function(){return s.d}),i.d(t,"_5",function(){return s.e}),i.d(t,"_16",function(){return s.f}),i.d(t,"_28",function(){return s.g}),i.d(t,"_46",function(){return s.h}),i.d(t,"_51",function(){return s.i}),i.d(t,"_79",function(){return s.j}),i.d(t,"_103",function(){return s.k}),i.d(t,"_123",function(){return s.l});var o=i(14);i.d(t,"S",function(){return o.i}),i.d(t,"T",function(){return o.j}),i.d(t,"U",function(){return o.k}),i.d(t,"_34",function(){return o.p}),i.d(t,"_37",function(){return o.q}),i.d(t,"_76",function(){return o.v}),i.d(t,"_112",function(){return o.w}),i.d(t,"_122",function(){return o.x});var c=i(172);i.d(t,"B",function(){return c.a}),i.d(t,"Y",function(){return c.b}),i.d(t,"_62",function(){return c.c}),i.d(t,"_81",function(){return c.d}),i.d(t,"_99",function(){return c.e});var l=i(1143);i.d(t,"H",function(){return l.a}),i.d(t,"Q",function(){return l.b}),i.d(t,"R",function(){return l.c}),i.d(t,"_2",function(){return l.d}),i.d(t,"_19",function(){return l.e}),i.d(t,"_29",function(){return l.f}),i.d(t,"_30",function(){return l.g}),i.d(t,"_35",function(){return l.h}),i.d(t,"_53",function(){return l.i}),i.d(t,"_54",function(){return l.j}),i.d(t,"_59",function(){return l.k}),i(1152);var u=i(1);i.d(t,"o",function(){return u.Class}),i.d(t,"v",function(){return u.CoreObject}),i.d(t,"w",function(){return u.CorePromise}),i.d(t,"E",function(){return u.EnumGroup}),i.d(t,"K",function(){return u.ITSELF}),i.d(t,"P",function(){return u.JSONSerializer}),i.d(t,"_3",function(){return u.Metadata}),i.d(t,"_20",function(){return u.PatternValidator}),i.d(t,"_25",function(){return u.Property}),i.d(t,"_26",function(){return u.Protocol}),i.d(t,"_31",function(){return u.RequiredMethod}),i.d(t,"_33",function(){return u.RequiredProperty}),i.d(t,"_42",function(){return u.SharedInstance}),i.d(t,"_60",function(){return u.accumulator}),i.d(t,"_67",function(){return u.createEnumGroup}),i.d(t,"_70",function(){return u.define}),i.d(t,"_85",function(){return u.instance}),i.d(t,"_90",function(){return u.isCoreObject}),i.d(t,"_107",function(){return u.property});var d=i(3);i.d(t,"g",function(){return d.c}),i.d(t,"i",function(){return d.e}),i.d(t,"u",function(){return d.f}),i.d(t,"x",function(){return d.h}),i.d(t,"A",function(){return d.i}),i.d(t,"_7",function(){return d.p}),i.d(t,"_8",function(){return d.q}),i.d(t,"_9",function(){return d.r}),i.d(t,"_10",function(){return d.t}),i.d(t,"_11",function(){return d.u}),i.d(t,"_17",function(){return d.y}),i.d(t,"_23",function(){return d.A}),i.d(t,"_27",function(){return d.C}),i.d(t,"_32",function(){return d.E}),i.d(t,"_43",function(){return d.G}),i.d(t,"_47",function(){return d.H}),i.d(t,"_48",function(){return d.I}),i.d(t,"_49",function(){return d.J}),i.d(t,"_52",function(){return d.K}),i.d(t,"_55",function(){return d.Q}),i.d(t,"_64",function(){return d.R}),i.d(t,"_98",function(){return d.S}),i.d(t,"_105",function(){return d.T}),i.d(t,"_106",function(){return d.U}),i.d(t,"_118",function(){return d.V}),i(1155);var h=i(7);i.d(t,"l",function(){return h.a}),i.d(t,"n",function(){return h.b}),i.d(t,"s",function(){return h.c}),i.d(t,"F",function(){return h.e}),i.d(t,"I",function(){return h.f}),i.d(t,"_56",function(){return h.l}),i.d(t,"_57",function(){return h.m}),i.d(t,"_58",function(){return h.n}),i.d(t,"_101",function(){return h.p}),i.d(t,"_115",function(){return h.q});var p=i(1157);i.d(t,"b",function(){return p.a}),i.d(t,"c",function(){return p.b}),i.d(t,"f",function(){return p.c}),i.d(t,"h",function(){return p.d}),i.d(t,"k",function(){return p.e}),i.d(t,"m",function(){return p.f}),i.d(t,"_4",function(){return p.g}),i.d(t,"_12",function(){return p.h}),i.d(t,"_13",function(){return p.i}),i.d(t,"_14",function(){return p.j}),i.d(t,"_15",function(){return p.k}),i.d(t,"_21",function(){return p.l}),i.d(t,"_22",function(){return p.m}),i.d(t,"_24",function(){return p.n}),i.d(t,"_39",function(){return p.o}),i.d(t,"_44",function(){return p.p}),i.d(t,"_50",function(){return p.q});var f=i(2);i.d(t,"G",function(){return f.b}),i.d(t,"J",function(){return f.c}),i.d(t,"Z",function(){return f.d}),i.d(t,"_6",function(){return f.e}),i.d(t,"_61",function(){return f.h}),i.d(t,"_63",function(){return f.j}),i.d(t,"_65",function(){return f.n}),i.d(t,"_66",function(){return f.o}),i.d(t,"_68",function(){return f.r}),i.d(t,"_69",function(){return f.s}),i.d(t,"_71",function(){return f.t}),i.d(t,"_72",function(){return f.u}),i.d(t,"_73",function(){return f.v}),i.d(t,"_74",function(){return f.x}),i.d(t,"_75",function(){return f.y}),i.d(t,"_77",function(){return f.z}),i.d(t,"_80",function(){return f.B}),i.d(t,"_82",function(){return f.D}),i.d(t,"_83",function(){return f.E}),i.d(t,"_84",function(){return f.F}),i.d(t,"_86",function(){return f.G}),i.d(t,"_87",function(){return f.H}),i.d(t,"_88",function(){return f.J}),i.d(t,"_89",function(){return f.K}),i.d(t,"_91",function(){return f.M}),i.d(t,"_92",function(){return f.N}),i.d(t,"_93",function(){return f.O}),i.d(t,"_94",function(){return f.P}),i.d(t,"_95",function(){return f.Q}),i.d(t,"_96",function(){return f.R}),i.d(t,"_100",function(){return f.T}),i.d(t,"_102",function(){return f.U}),i.d(t,"_104",function(){return f.V}),i.d(t,"_108",function(){return f._0}),i.d(t,"_109",function(){return f._1}),i.d(t,"_110",function(){return f._2}),i.d(t,"_111",function(){return f._3}),i.d(t,"_113",function(){return f._5}),i.d(t,"_114",function(){return f._6}),i.d(t,"_116",function(){return f._8}),i.d(t,"_117",function(){return f._9}),i.d(t,"_119",function(){return f._10}),i.d(t,"_120",function(){return f._11}),i.d(t,"_121",function(){return f._12}),i.d(t,"_124",function(){return f._13}),i.d(t,"_125",function(){return f._14}),i.d(t,"_126",function(){return f._15})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(429);i.d(t,"AccessorProtocol",function(){return n.a});var r=i(449);i.d(t,"BatchSetterForNonObservableObject",function(){return r.a});var a=i(40);i.d(t,"NULL_WEAK_REFERENCE",function(){return a.b}),i.d(t,"Class",function(){return a.a});var s=i(260);i.d(t,"CloneableProtocol",function(){return s.a});var o=i(1066);i.d(t,"SimpleCloneableSupport",function(){return o.a});var c=i(261);i.d(t,"EnumGroup",function(){return c.EnumGroup}),i.d(t,"createEnumGroup",function(){return c.createEnumGroup});var l=i(266);i.d(t,"EnumItem",function(){return l.EnumItem}),i.d(t,"createEnumItem",function(){return l.createEnumItem});var u=i(1067);i.d(t,"ExceptionHandlerDelegateProtocol",function(){return u.a}),i.d(t,"StaticExceptionHandlerDelegateProtocol",function(){return u.b});var d=i(450);i.d(t,"ITSELF",function(){return d.a});var h=i(264);i.d(t,"Instance",function(){return h.Instance}),i.d(t,"instance",function(){return h.instance});var p=i(263);i.d(t,"InstanceSupport",function(){return p.a});var f=i(1068);i.d(t,"Accumulator",function(){return f.a}),i.d(t,"accumulator",function(){return f.b});var _=i(60);i.d(t,"define",function(){return _.b}),i.d(t,"Metadata",function(){return _.a});var m=i(99);i.d(t,"MetadataSupport",function(){return m.MetadataSupport});var g=i(35);i.d(t,"VALUE_SENTINEL",function(){return g.VALUE_SENTINEL}),i.d(t,"Property",function(){return g.Property}),i.d(t,"property",function(){return g.property});var v=i(452);i.d(t,"STRONG",function(){return v.a}),i.d(t,"WEAK",function(){return v.c}),i.d(t,"UNSAFE",function(){return v.b}),i.d(t,"retainValueIfNeeded",function(){return v.f}),i.d(t,"releaseValueIfNeeded",function(){return v.e}),i.d(t,"autoreleaseValueIfNeeded",function(){return v.d}),i.d(t,"weaklyReferenceValueIfNeeded",function(){return v.g}),i.d(t,"weaklyUnreferenceValueIfNeeded",function(){return v.h});var y=i(262);i.d(t,"PropertySupport",function(){return y.a});var b=i(453);i.d(t,"_selectPropertyTypeCheck",function(){return b.a});var I=i(454);i.d(t,"SubclassProperty",function(){return I.SubclassProperty}),i.d(t,"subclassProperty",function(){return I.subclassProperty});var S=i(258);i.d(t,"NonObservableBatchSetter",function(){return S.NonObservableBatchSetter});var w=i(125);i.d(t,"CoreObject",function(){return w.a});var C=i(25);i.d(t,"CorePromise",function(){return C.CorePromise});var E=i(455);i.d(t,"PromiseSupport",function(){return E.a});var T=i(448);i.d(t,"Abstract",function(){return T.a});var A=i(79);i.d(t,"Protocol",function(){return A.a});var O=i(166);i.d(t,"Required",function(){return O.Required});var D=i(456);i.d(t,"RequiredMetadata",function(){return D.a});var F=i(100);i.d(t,"RequiredMethod",function(){return F.a});var M=i(1069);i.d(t,"RequiredProperty",function(){return M.a});var N=i(457);i.d(t,"JSONSerializer",function(){return N.a});var L=i(1070);i.d(t,"SerializationSupport",function(){return L.a});var x=i(458);i.d(t,"SerializerProtocol",function(){return x.a});var P=i(459);i.d(t,"SharedInstance",function(){return P.a});var R=i(267);i.d(t,"SubclassFactoryProtocol",function(){return R.a});var k=i(1071);i.d(t,"SubclassFactorySupport",function(){return k.a});var j=i(1072);i.d(t,"EmailValidator",function(){return j.a});var V=i(1073);i.d(t,"LengthValidator",function(){return V.a});var U=i(1074);i.d(t,"NotEmptyValidator",function(){return U.a});var B=i(460);i.d(t,"PatternValidator",function(){return B.a});var $=i(1075);i.d(t,"RangeValidator",function(){return $.a});var W=i(101);i.d(t,"Validator",function(){return W.Validator});var G=i(1076);i.d(t,"_ObjectPool",function(){return G.a});var z=i(259);i.d(t,"_Poolable",function(){return z.a});var H=i(265);i.d(t,"isCWClass",function(){return H.a});var K=i(451);i.d(t,"isCoreObject",function(){return K.a});var Q=i(1077);i.d(t,"kindOf",function(){return Q.a})},function(e,t,i){"use strict";var n=i(430);i.d(t,"f",function(){return n.a});var r=i(1011);i.d(t,"i",function(){return r.a});var a=i(251);i.d(t,"j",function(){return a.a}),i(1012);var s=i(432);i.d(t,"H",function(){return s.a});var o=i(431);i.d(t,"X",function(){return o.a});var c=i(1013);i.d(t,"_2",function(){return c.a});var l=i(433);i.d(t,"_10",function(){return l.a});var u=i(1014);i.d(t,"_13",function(){return u.a}),i(1015),i(1016);var d=i(434);i.d(t,"s",function(){return d.a});var h=i(1017);i.d(t,"x",function(){return h.a});var p=i(162);i.d(t,"K",function(){return p.a});var f=i(1018);i.d(t,"L",function(){return f.a});var _=i(1019);i.d(t,"M",function(){return _.a});var m=i(1020);i.d(t,"N",function(){return m.a});var g=i(435);i.d(t,"O",function(){return g.a});var v=i(252);i.d(t,"P",function(){return v.a}),i(164);var y=i(163);i.d(t,"Q",function(){return y.a});var b=i(1021);i.d(t,"R",function(){return b.a});var I=i(253);i.d(t,"p",function(){return I.b}),i.d(t,"a",function(){return I.a});var S=i(1022);i.d(t,"q",function(){return S.a});var w=i(1023);i.d(t,"r",function(){return w.a});var C=i(1024);i.d(t,"_9",function(){return C.a}),i(254);var E=i(1025);i.d(t,"h",function(){return E.a}),i(1026);var T=i(437);i.d(t,"J",function(){return T.b}),i.d(t,"Z",function(){return T.c}),i.d(t,"A",function(){return T.a});var A=i(1027);i.d(t,"_1",function(){return A.a});var O=i(1028);i.d(t,"_3",function(){return O.a});var D=i(1029);i.d(t,"_6",function(){return D.a});var F=i(1030);i.d(t,"_8",function(){return F.a});var M=i(255);i.d(t,"_12",function(){return M.a}),i(438),i(439),i(1031);var N=i(98);i.d(t,"_15",function(){return N.a});var L=i(23);i.d(t,"b",function(){return L.a}),i.d(t,"y",function(){return L.b});var x=i(1032);i.d(t,"c",function(){return x.a});var P=i(1033);i.d(t,"e",function(){return P.a});var R=i(1034);i.d(t,"l",function(){return R.a});var k=i(1035);i.d(t,"B",function(){return k.a});var j=i(165);i.d(t,"D",function(){return j.a});var V=i(440);i.d(t,"E",function(){return V.a});var U=i(436);i.d(t,"d",function(){return U.a}),i.d(t,"T",function(){return U.b}),i(1036),i(1037);var B=i(1038);i.d(t,"t",function(){return B.a}),i(257);var $=i(1039);i.d(t,"C",function(){return $.a}),i(1040),i(1041);var W=i(441);i.d(t,"S",function(){return W.a});var G=i(1042);i.d(t,"U",function(){return G.a});var z=i(442);i.d(t,"W",function(){return z.a});var H=i(1043);i.d(t,"_4",function(){return H.a});var K=i(1044);i.d(t,"_5",function(){return K.a});var Q=i(1045);i.d(t,"_7",function(){return Q.a});var q=i(1046);i.d(t,"m",function(){return q.a});var Y=i(1047);i.d(t,"n",function(){return Y.a});var J=i(1048);i.d(t,"o",function(){return J.a});var X=i(1049);i.d(t,"_11",function(){return X.a});var Z=i(1050);i.d(t,"v",function(){return Z.b}),i.d(t,"u",function(){return Z.a}),i.d(t,"w",function(){return Z.c});var ee=i(250);i.d(t,"z",function(){return ee.a});var te=i(1051);i.d(t,"F",function(){return te.a});var ie=i(1052);i.d(t,"V",function(){return ie.a});var ne=i(1053);i.d(t,"Y",function(){return ne.a});var re=i(443);i.d(t,"_0",function(){return re.b}),i(1054),i(1055),i(1056),i(1057),i(1058),i(1059),i(444),i(1060),i(445),i(1061),i(1062),i(446),i(447);var ae=i(1063);i.d(t,"_14",function(){return ae.a}),i(1064);var se=i(256);i.d(t,"I",function(){return se.c}),i.d(t,"k",function(){return se.b}),i.d(t,"g",function(){return se.a});var oe=i(1065);i.d(t,"G",function(){return oe.a})},function(e,t,i){"use strict";var n=i(268);i.d(t,"f",function(){return n.a});var r=i(169);i.d(t,"a",function(){return r.a}),i(171),i(463),i(465),i(126);var a=i(273);i.d(t,"b",function(){return a.a}),i(483),i(482);var s=i(274);i.d(t,"d",function(){return s.a});var o=i(486);i.d(t,"k",function(){return o.a});var c=i(487);i.d(t,"l",function(){return c.a});var l=i(484);i.d(t,"w",function(){return l.a});var u=i(481);i.d(t,"x",function(){return u.a});var d=i(485);i.d(t,"B",function(){return d.a});var h=i(490);i.d(t,"M",function(){return h.a});var p=i(492);i.d(t,"N",function(){return p.a}),i(491);var f=i(493);i.d(t,"O",function(){return f.a}),i(269);var _=i(129);i.d(t,"m",function(){return _.a}),i(1078),i(494);var m=i(167);i.d(t,"n",function(){return m.a});var g=i(1079);i.d(t,"g",function(){return g.a}),i(495),i(496),i(497),i(128),i(489);var v=i(41);i.d(t,"r",function(){return v.ObservableArray}),i(477);var y=i(498);i.d(t,"s",function(){return y.a}),i(478),i(479),i(168),i(127);var b=i(1080);i.d(t,"y",function(){return b.a}),i(464),i(462),i(1081);var I=i(499);i.d(t,"h",function(){return I.a}),i(500);var S=i(488);i.d(t,"H",function(){return S.StrongArray}),i(275);var w=i(466);i.d(t,"I",function(){return w.StrongObservableArray});var C=i(1082);i.d(t,"L",function(){return C.a}),i(501);var E=i(468);i.d(t,"c",function(){return E.BatchSetter}),i(467);var T=i(102);i.d(t,"e",function(){return T.a}),i.d(t,"R",function(){return T.c}),i(469);var A=i(21);i.d(t,"i",function(){return A.a});var O=i(504);i.d(t,"z",function(){return O.a});var D=i(1083);i.d(t,"D",function(){return D.b}),i.d(t,"C",function(){return D.a});var F=i(505);i.d(t,"G",function(){return F.a});var M=i(130);i.d(t,"p",function(){return M.a});var N=i(103);i.d(t,"j",function(){return N.a}),i(470),i(471),i(472),i(473),i(270);var L=i(104);i.d(t,"o",function(){return L.a}),i.d(t,"P",function(){return L.b}),i(271),i(474),i(475),i(476);var x=i(20);i.d(t,"q",function(){return x.a});var P=i(18);i.d(t,"t",function(){return P.ObservableProperty}),i.d(t,"T",function(){return P.observableProperty});var R=i(26);i.d(t,"v",function(){return R.ObserverMetadata}),i.d(t,"u",function(){return R.Observer}),i.d(t,"U",function(){return R.observer}),i.d(t,"S",function(){return R.listener});var k=i(1084);i.d(t,"A",function(){return k.a});var j=i(170);i.d(t,"E",function(){return j.a});var V=i(480);i.d(t,"F",function(){return V.a});var U=i(131);i.d(t,"V",function(){return U.signal}),i(272);var B=i(503);i.d(t,"J",function(){return B.a});var $=i(502);i.d(t,"K",function(){return $.a});var W=i(1085);i.d(t,"Q",function(){return W.a}),i(1086)},function(e,t,i){"use strict";var n=i(187);i.d(t,"a",function(){return n.a}),i(1190);var r=i(139);i.d(t,"g",function(){return r.a});var a=i(1191);i.d(t,"d",function(){return a.a}),i(337);var s=i(1193);i.d(t,"_10",function(){return s.a});var o=i(338);i.d(t,"j",function(){return o.a}),i(339);var c=i(615);i.d(t,"A",function(){return c.a});var l=i(1194);i.d(t,"B",function(){return l.a}),i(616);var u=i(107);i.d(t,"S",function(){return u.a});var d=i(336);i.d(t,"V",function(){return d.a});var h=i(108);i.d(t,"Z",function(){return h.a});var p=i(1195);i.d(t,"E",function(){return p.a});var f=i(189);i.d(t,"I",function(){return f.a});var _=i(617);i.d(t,"P",function(){return _.a}),i.d(t,"Q",function(){return _.b});var m=i(1196);i.d(t,"R",function(){return m.a}),i(340),i(610),i(140),i(618);var g=i(619);i.d(t,"X",function(){return g.a}),i(1197);var v=i(1198);i.d(t,"_0",function(){return v.a}),i(1199),i(1200);var y=i(1201);i.d(t,"_2",function(){return y.a});var b=i(1202);i.d(t,"_3",function(){return b.a}),i(1203);var I=i(64);i.d(t,"_4",function(){return I.a});var S=i(621);i.d(t,"_5",function(){return S.a});var w=i(190);i.d(t,"i",function(){return w.a}),i(622),i(611);var C=i(614);i.d(t,"p",function(){return C.a}),i(188),i(1204),i(341);var E=i(342);i.d(t,"_12",function(){return E.a});var T=i(1205);i.d(t,"s",function(){return T.a}),i(1211);var A=i(1212);i.d(t,"t",function(){return A.a});var O=i(625);i.d(t,"u",function(){return O.c}),i.d(t,"r",function(){return O.b}),i.d(t,"q",function(){return O.a});var D=i(1213);i.d(t,"v",function(){return D.a}),i(1214);var F=i(1215);i.d(t,"w",function(){return F.a});var M=i(1216);i.d(t,"x",function(){return M.a});var N=i(1217);i.d(t,"y",function(){return N.a}),i(344),i(1218);var L=i(191);i.d(t,"z",function(){return L.a}),i(613),i(1219),i(192),i(1220),i(627);var x=i(193);i.d(t,"G",function(){return x.b}),i.d(t,"F",function(){return x.a}),i(612);var P=i(1221);i.d(t,"K",function(){return P.a}),i.d(t,"L",function(){return P.b});var R=i(1222);i.d(t,"M",function(){return R.a});var k=i(1255);i.d(t,"O",function(){return k.a});var j=i(345);i.d(t,"T",function(){return j.a});var V=i(629);i.d(t,"U",function(){return V.a}),i(1256),i(670);var U=i(626);i.d(t,"_13",function(){return U.a}),i(671),i(672);var B=i(12);i.d(t,"_7",function(){return B.a});var $=i(346);i.d(t,"_8",function(){return $.a}),i(673);var W=i(1257);i.d(t,"N",function(){return W.a}),i(1266),i(1267);var G=i(683);i.d(t,"e",function(){return G.a});var z=i(1269);i.d(t,"b",function(){return z.a});var H=i(1270);i.d(t,"h",function(){return H.a});var K=i(1272);i.d(t,"k",function(){return K.a});var Q=i(684);i.d(t,"n",function(){return Q.b}),i.d(t,"l",function(){return Q.a});var q=i(1276);i.d(t,"m",function(){return q.a}),i(1277),i(1278);var Y=i(1280);i.d(t,"o",function(){return Y.a});var J=i(1281);i.d(t,"f",function(){return J.a}),i(1284),i(1286),i(1288);var X=i(1289);i.d(t,"D",function(){return X.b}),i.d(t,"C",function(){return X.a}),i(1290);var Z=i(1291);i.d(t,"H",function(){return Z.a}),i(686);var ee=i(1293);i.d(t,"J",function(){return ee.a}),i(628),i(1294),i(674),i(630);var te=i(1295);i.d(t,"W",function(){return te.a}),i(685);var ie=i(358);i.d(t,"Y",function(){return ie.a});var ne=i(1296);i.d(t,"_1",function(){return ne.a});var re=i(1298);i.d(t,"_6",function(){return re.a});var ae=i(1299);i.d(t,"c",function(){return ae.a}),i(1300),i(359),i(360),i(688),i(1301),i(1302),i(1303);var se=i(1304);i.d(t,"_15",function(){return se.a});var oe=i(1305);i.d(t,"_16",function(){return oe.a}),i(620),i(687);var ce=i(1306);i.d(t,"_11",function(){return ce.b}),i.d(t,"_9",function(){return ce.a}),i.d(t,"_14",function(){return ce.c}),i(1307)},function(e,t,i){"use strict";var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}e.exports=n},function(e,t,i){var _=i(11),m=i(87),g=i(33),v=i(57),y=i(48),b="prototype",n=function e(t,i,n){var r,a,s,o,c=t&e.F,l=t&e.G,u=t&e.P,d=t&e.B,h=l?_:t&e.S?_[i]||(_[i]={}):(_[i]||{})[b],p=l?m:m[i]||(m[i]={}),f=p[b]||(p[b]={});for(r in l&&(n=i),n)s=((a=!c&&h&&void 0!==h[r])?h:n)[r],o=d&&a?y(s,_):u&&"function"==typeof s?y(Function.call,s):s,h&&v(h,r,s,t&e.U),p[r]!=s&&g(p,r,o),u&&f[r]!=s&&(f[r]=s)};_.core=m,n.F=1,n.G=2,n.S=4,n.P=8,n.B=16,n.W=32,n.U=64,n.R=128,e.exports=n},function(e,t,i){"use strict";var n=i(1105);i.d(t,"l",function(){return n.b}),i.d(t,"f",function(){return n.a});var r=i(1106);i.d(t,"d",function(){return r.a}),i(288),i(1107),i(1108),i(289),i(290);var a=i(1109);i.d(t,"g",function(){return a.a}),i(526);var s=i(1110);i.d(t,"e",function(){return s.a}),i(527),i(540);var o=i(294);i.d(t,"j",function(){return o.a}),i(291);var c=i(295);i.d(t,"k",function(){return c.a}),i(1113);var l=i(173);i.d(t,"m",function(){return l.a});var u=i(1115);i.d(t,"b",function(){return u.a}),i.d(t,"o",function(){return u.b});var d=i(541);i.d(t,"n",function(){return d.a}),i(1116);var h=i(528);i.d(t,"a",function(){return h.a});var p=i(529);i.d(t,"c",function(){return p.a}),i(135);var f=i(530);i.d(t,"h",function(){return f.a});var _=i(1118);i.d(t,"i",function(){return _.a}),i(532),i(533),i(534),i(81),i(535),i(536),i(52),i(42),i(537),i(538),i(61),i(539),i(293);var m=i(531);i.d(t,"p",function(){return m.a});var g=i(136);i.d(t,"q",function(){return g.a})},function(e,t,i){"use strict";var n=i(631);i.d(t,"a",function(){return n.a}),i(636),i(638),i(142),i(1232),i(351),i(1233),i(639);var r=i(1234);i.d(t,"d",function(){return r.a}),i(348),i(650),i(637),i(649),i(651),i(347),i(352),i(654),i(1235),i(653),i(660),i(1236),i(1237),i(656),i(1238),i(1239),i(657),i(1240);var a=i(644);i.d(t,"b",function(){return a.a}),i(640),i(647),i(645),i(349),i(1241);var s=i(196);i.d(t,"h",function(){return s.a}),i(659);var o=i(353);i.d(t,"i",function(){return o.a}),i(354);var c=i(658);i.d(t,"k",function(){return c.a}),i(1242);var l=i(195);i.d(t,"m",function(){return l.a}),i(194),i(634);var u=i(632);i.d(t,"g",function(){return u.d}),i.d(t,"f",function(){return u.c}),i.d(t,"e",function(){return u.b}),i(633);var d=i(141);i.d(t,"j",function(){return d.a}),i(661),i(662),i(655),i(664),i(663),i(1244),i(665),i(356),i(667),i(668),i(1248);var h=i(1250);i.d(t,"c",function(){return h.a}),i(652);var p=i(648);i.d(t,"p",function(){return p.a}),i(1251);var f=i(1252);i.d(t,"l",function(){return f.a});var _=i(350);i.d(t,"n",function(){return _.a}),i(1253),i(635),i(646),i(669),i(1254);var m=i(15);i.d(t,"o",function(){return m.a})},function(e,t){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":i(e))?null!==e:"function"==typeof e}},function(e,t,i){"use strict";var n=i(133);i.d(t,"a",function(){return n.a});var r=i(278);i.d(t,"b",function(){return r.a});var a=i(1087);i.d(t,"c",function(){return a.a}),i(1088);var s=i(1089);i.d(t,"d",function(){return s.a}),i(508);var o=i(1090);i.d(t,"f",function(){return o.a}),i(1091);var c=i(1092);i.d(t,"g",function(){return c.a});var l=i(1093);i.d(t,"h",function(){return l.a});var u=i(509);i.d(t,"j",function(){return u.b});var d=i(1094);i.d(t,"i",function(){return d.a});var h=i(1095);i.d(t,"e",function(){return h.a})},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i(0),n=i(1192),r=(i.n(n),i(611)),s=i(614),o=a._57.extend({additionalClassNames:a._60(["br-view"]),subviews:a._85(Array),frame:a._107({readOnly:!0,get:function(){return this.layer.frame}}),layer:a._107({readOnly:!0,get:function(){var e=this._layer;return e||(e=this._layer=this.loadLayer()),e}}),visible:a._105({defaultValue:!0}),brGestureRecognizers:a._107({readOnly:!0,defaultValue:function(){return[]}}),isBeingAttachedToWindow:a._107({readOnly:!0,get:function(){return this._isBeingAttachedToWindow}}),isBeingDetachedFromWindow:a._107({readOnly:!0,get:function(){return this._isBeingDetachedFromWindow}}),viewController:null,preferredSize:null,init:function(e){this._cachedDOMProxies={};var t=this._displayInfo={renderKeys:[],dynamicContentKeys:[]};this.__s._$N1$init.call(this,e);var i=this.getMetadataByType(a._25);for(var n in i){var r=i[n];(r.render||r.dynamicContent)&&(t[n]={},r.render&&(t.renderKeys.push(n),this._prepareRenderPropertyForKey(r,n)),r.dynamicContent&&(t.dynamicContentKeys.push(n),this._prepareDynamicContentPropertyForKey(r,n)))}this.loadSubviews(),this.setNeedsLayout(),this.setNeedsRender()},shouldApplyClassHierarchyClassNames:function(){return!1},_prepareRenderPropertyForKey:function(e,t){var i=this._displayInfo[t].render={dirty:!1};if(this.setNeedsRenderForKey(t),e.instanceOf&&e.instanceOf(a._10)){var n=this,r=this.observe(t,function(){n.setNeedsRenderForKey(t)});i.observable=!0,i.observer=r}},_prepareDynamicContentPropertyForKey:function(e,t){var i=this._displayInfo[t].dynamicContent={};if(e.instanceOf&&e.instanceOf(a._10)){var n=this,r=this.observe(t,function(){n.notifyParentOfDynamicContentChange()});i.observable=!0,i.observer=r}},set:function(e,t){this.__s._$t0$set.call(this,e,t);var i=this._displayInfo[e];i&&(i.render&&!i.render.observable&&this.setNeedsRenderForKey(e),i.dynamicContent&&!i.dynamicContent.observable&&this.notifyParentOfDynamicContentChange())},loadLayer:function(){return r.a.create({dataSource:this})},getBackingElementForDOMLayer:function(){return this.element},adjustPosition:function(e,t){var i=this.layer.frame;i.adjustPosition(e,t),this.frameOffsetDidChange(i)},adjustSize:function(e,t){var i=this.layer.frame;i.adjustSize(e,t),this.frameBoundsDidChange(i)},addSubview:function(e,t){if(e.parent!==this){var i=this.subviews;0<=i.indexOf(e)&&a._75("Cannot add subview. Already subview of this view",{view:this});var n=this.isAttached;n&&e.willMoveToWindow(n),e.willMoveToParentView(this),(t?this.$(t):this.$()).appendChild(e.element),e.layer&&this.layer.addSublayer(e.layer),i.push(e),(e.parent=this).didAddSubview(e),e.didMoveToParentView(this),n&&e.didMoveToWindow(n)}},removeSubview:function(e,t){if(e&&e.parent){var i=this.subviews;i.indexOf(e)<0&&a._75("Cannot remove subview. Not a subview of this view",{view:this}),e.willMoveToParentView(null),e.willMoveToWindow(!1),a._110(e,i),e.parent=null,(t?this.$(t):this.$()).removeChild(e.element),this.layer.removeSublayer(e.layer),this.didRemoveSubview(e),e.didMoveToParentView(null),e.didMoveToWindow(!1)}},didAddSubview:function(e){},didRemoveSubview:function(e){},willMoveToParentView:function(e){},didMoveToParentView:function(e){this.isAttached&&this.invalidateFrame()},willMoveToWindow:function(e){var t=this.subviews,i=t.length;this._isBeingAttachedToWindow=e,this._isBeingDetachedFromWindow=!e;for(var n=0;n<i;n++)t[n].willMoveToWindow(e)},didMoveToWindow:function(e){var t=this.subviews,i=t.length;this._isBeingAttachedToWindow=!1,this._isBeingDetachedFromWindow=!1,this.propertyChanged("isAttached");for(var n=0;n<i;n++)t[n].didMoveToWindow(e);var r=a.e.application._paneManager;r&&(this._needsLayout&&r.queueViewForLayout(this),this._needsRender&&r.queueViewForRender(this))},setNeedsLayout:function(){if(!this._needsLayout){this._needsLayout=!0;var e=a.e.application._paneManager;e&&!this._isBeingAttachedToWindow&&e.queueViewForLayout(this)}},layoutIfNeeded:function(){this._needsLayout&&(this._needsLayout=!1,this.layout())},layout:function(){var e=this.viewController;e&&e.viewWillLayoutSubviews(),this.layoutSubviews(),e&&e.viewDidLayoutSubviews()},layoutSubviews:function(){},shouldRenderForKey:function(e){var t=this._displayInfo[e];return!(!t||!t.render)&&t.render.dirty},setNeedsRenderForKey:function(e){this.setNeedsRender();var t=this._displayInfo[e];if(!t){var i=this._displayInfo;t=i[e]={render:{}},i.renderKeys.push(e)}t.render.dirty=!0},setNeedsRender:function(){if(!this._needsRender){this._needsRender=!0;var e=a.e.application._paneManager;e&&!this._isBeingAttachedToWindow&&e.queueViewForRender(this)}},renderIfNeeded:function(){if(!this.isDisposed&&this._needsRender){this._needsRender=!1,this.render();var e=this._displayInfo,t=e.renderKeys;if(t)for(var i=0,n=t.length;i<n;i++)e[t[i]].render.dirty=!1}},render:function(){},brAddGestureRecognizer:function(e){(e.view=this).brGestureRecognizers.push(e)},brRemoveGestureRecognizer:function(e){e.view=null,a._110(e,this.brGestureRecognizers)},pointerUp:function(e){return this.brTryHandlingEventForGestureRecognizers("pointerUp",e),!1},pointerDown:function(e){return this.brTryHandlingEventForGestureRecognizers("pointerDown",e),!1},pointerMove:function(e){return this.brTryHandlingEventForGestureRecognizers("pointerMove",e),!1},brTryHandlingEventForGestureRecognizers:function(e,t){for(var i=this.brGestureRecognizers,n=i.length,r=0;r<n;r++)i[r][e](t)},brResetGestureRecognizers:function(){for(var e=this.brGestureRecognizers,t=e.length,i=0;i<t;i++)e[i].reset();var n=this.parent;n&&n.brResetGestureRecognizers&&n.brResetGestureRecognizers()},_brkit_adjustElementVisibility:a._106("visible","element",function(e,t){t&&(t.style.display=e?"":"none")}),loadSubviews:function(){},loadSubviewForProperty:function(e){var t="load"+e[0].toUpperCase()+e.substring(1),i=this[t];i||a._75("Missing method "+t+". Cannot load subview for "+e);var n=i.call(this);this.set(e,n)},loadSubviewForPropertyIfNeeded:function(e){this.get(e)||this.loadSubviewForProperty(e)},frameOffsetDidChange:function(e){this.invalidateFrame(e)},frameBoundsDidChange:function(e){this.invalidateSubviewFrames()},frameDidInvalidate:function(e,t){this.invalidateSubviewFrames(t)},notifyParentOfDynamicContentChange:function(){if(this.isAttached){var e=this.parent;e&&e.subviewDidChangeDynamicContent(this)}},subviewDidChangeDynamicContent:function(e){},shouldAutomaticallyForwardSubviewFramesInvalidation:function(){return!0},invalidateFrame:function(e){var t=this.layer.frame;t.invalidate(),this.frameDidInvalidate(t,e),this.invalidateSubviewFrames(e)},invalidateSubviewFrames:function(e){if(this.shouldAutomaticallyForwardSubviewFramesInvalidation())for(var t=this.subviews,i=t.length,n=0;n<i;n++)t[n].invalidateFrame(e)},queryElement:function(e){var t=this.element;if(!t)return null;var i=null;return e?(i=this._cachedDOMProxies[e])||(i=s.a.create(t,e),this._cachedDOMProxies[e]=i):(i=this._rootDOMProxy)||(i=this._rootDOMProxy=s.a.create(t)),i},staticMembers:{__QUALIFIED_CLASS_NAME__:"View"},__superMap:{_$N1$init:"init",_$t0$set:"set"}});o.prototype.$=o.prototype.queryElement},function(e,t,i){var n=i(9);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){"use strict";var n=i(276);i.d(t,"c",function(){return n.a}),i(506),i(277);var r=i(132);i.d(t,"o",function(){return r.b}),i.d(t,"n",function(){return r.a});var a=i(507);i.d(t,"t",function(){return a.a});var s=i(1096);i.d(t,"e",function(){return s.b}),i.d(t,"d",function(){return s.a});var o=i(510);i.d(t,"f",function(){return o.a}),i.d(t,"s",function(){return o.b});var c=i(1097);i.d(t,"a",function(){return c.a}),i.d(t,"b",function(){return c.b}),i(286),i(513);var l=i(80);i.d(t,"h",function(){return l.b});var u=i(285);i.d(t,"g",function(){return u.a}),i(284);var d=i(1098);i.d(t,"m",function(){return d.a});var h=i(512);i.d(t,"r",function(){return h.b}),i.d(t,"l",function(){return h.a}),i(514),i(515),i(516),i(134),i(517),i(518),i(519),i(520),i(521),i(522);var p=i(511);i.d(t,"i",function(){return p.a});var f=i(280);i.d(t,"j",function(){return f.a});var _=i(281);i.d(t,"k",function(){return _.a}),i(282);var m=i(279);i.d(t,"p",function(){return m.a});var g=i(1099);i.d(t,"q",function(){return g.a}),i.d(t,"v",function(){return g.c}),i.d(t,"u",function(){return g.b});var v=i(283);i.d(t,"w",function(){return v.a});var y=i(1101);i.d(t,"x",function(){return y.a})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{cloudOSApplication:n._105(),cloudOSService:n._105({dependencies:["cloudOSApplication.cloudOSService"],readOnly:!0,strong:!0,get:Object.assign(function(){return this.getPath("cloudOSApplication.cloudOSService")||null},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])||null}})}),environment:n._105(n._64("cloudOSService.environment")),authBag:n._105(n._64("cloudOSService.environment.authBag")),currentUser:n._105(n._64("cloudOSService.environment.authBag.user")),isReloading:n._105(!1)}).create()},function(e,t,i){"use strict";i(27),i(690),i(53),i(691),i(1308),i(1309);var n=i(84);i.d(t,"p",function(){return n.a});var r=i(65);i.d(t,"r",function(){return r.a}),i(110);var a=i(695);i.d(t,"K",function(){return a.a}),i(28),i(143),i(696),i(694);var s=i(83);i.d(t,"j",function(){return s.a}),i(36);var o=i(44);i.d(t,"s",function(){return o.b}),i(697),i(698),i(699),i(700);var c=i(1310);i.d(t,"D",function(){return c.a}),i(701),i(145),i(147),i(66),i(702),i(703);var l=i(1311);i.d(t,"I",function(){return l.a}),i(704),i(692),i(705),i(362);var u=i(1312);i.d(t,"e",function(){return u.a}),i(706),i(363),i(707),i(708),i(709),i(710),i(711),i(45),i(46),i(712),i(693),i(713),i(1313),i(715),i(716),i(717),i(718),i(364),i(719),i(365),i(54);var d=i(1314);i.d(t,"L",function(){return d.a}),i(146),i(67);var h=i(1315);i.d(t,"b",function(){return h.a});var p=i(1316);i.d(t,"d",function(){return p.a}),i(203);var f=i(1317);i.d(t,"v",function(){return f.a});var _=i(1318);i.d(t,"y",function(){return _.a});var m=i(1319);i.d(t,"z",function(){return m.a});var g=i(1320);i.d(t,"F",function(){return g.a});var v=i(1321);i.d(t,"G",function(){return v.a}),i(68);var y=i(1322);i.d(t,"M",function(){return y.a});var b=i(1323);i.d(t,"O",function(){return b.a}),i(723);var I=i(1324);i.d(t,"R",function(){return I.a});var S=i(720);i.d(t,"h",function(){return S.a});var w=i(202);i.d(t,"i",function(){return w.b}),i(724),i(714),i(366);var C=i(721);i.d(t,"w",function(){return C.a});var E=i(204);i.d(t,"x",function(){return E.a}),i(55);var T=i(69);i.d(t,"J",function(){return T.a});var A=i(722);i.d(t,"P",function(){return A.a});var O=i(112);i.d(t,"Q",function(){return O.a});var D=i(1325);i.d(t,"l",function(){return D.b}),i.d(t,"k",function(){return D.a}),i(736),i(148),i(111),i(205);var F=i(1326);i.d(t,"A",function(){return F.a}),i(738),i(739),i(740),i(737);var M=i(1327);i.d(t,"B",function(){return M.a}),i(741),i(727),i(731),i(732);var N=i(1328);i.d(t,"H",function(){return N.a}),i(742);var L=i(1329);i.d(t,"m",function(){return L.a});var x=i(1330);i.d(t,"n",function(){return x.a});var P=i(1331);i.d(t,"c",function(){return P.a});var R=i(1332);i.d(t,"f",function(){return R.a}),i(207);var k=i(1333);i.d(t,"g",function(){return k.a});var j=i(1334);i.d(t,"o",function(){return j.a});var V=i(1335);i.d(t,"u",function(){return V.a}),i(689),i(725),i(743);var U=i(1336);i.d(t,"q",function(){return U.a});var B=i(1392);i.d(t,"t",function(){return B.a}),i(726),i(367);var $=i(1393);i.d(t,"E",function(){return $.a}),i(728),i(729),i(733),i(734);var W=i(1394);i.d(t,"N",function(){return W.a}),i(730);var G=i(368);i.d(t,"a",function(){return G.a}),i(206);var z=i(361);i.d(t,"C",function(){return z.a}),i(369),i(840),i(735)},function(e,t,i){var n=i(233)("wks"),r=i(74),a=i(11).Symbol,s="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=s&&a[e]||(s?a:r)("Symbol."+e))}).store=n},function(e,S,w){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),function(r){w.d(S,"ObservableProperty",function(){return I}),w.d(S,"observableProperty",function(){return i});var u,o=w(1),_=w(2),m=w(102),g=w(21),n=w(103),a=w(470),s=w(472),c=w(473),l=w(270),e=w(20),d=w(104),h=w(271),p=w(474),f=w(475),v=w(476),y=(g.a.NULL_INDEX,[]),b="_cw_itselfProperty",I=o.Property.extend({staticMembers:{_getterString:"",_setterString:"",isInsideSetter:!1,getDependencyValuesAsTempArray:function(e,t,i,n){for(var r=y.length=0;r<t.length;r++){var a=t[r+i];0<g.a._sanitizeNodeID(a)&&(y[r]=n.internalGet(e,a))}return y},__QUALIFIED_CLASS_NAME__:"ObservableProperty"},readOnly:null,cacheable:void 0,binding:void 0,downstreamBindings:null,dependencies:null,writeDependencies:null,bindings:null,writeBindings:null,_valueCount:0,didChange:null,isComputedProperty:!1,isDependentComputedProperty:!1,isRootValueProperty:!1,requiresSupport:e.a,downstreamNodeManagerClass:null,upstreamNodeManagerClass:null,downstreamNodeManager:null,upstreamNodeManager:null,weakRootValueUpstreamNodeManager:null,init:function(e){Object(_.G)(e,m.a)&&(e={binding:e}),this.__s._$BAQ$init.call(this,e)},getValue:function(e,t){var i=this.binding||this.defaultValue;return void 0===i&&(this.get||this.set)&&Object(_.G)(e[o.PropertySupport.staticMembers.defaultValuePrefix+t],m.a)?null:i},inheritFrom:function(e){var t=arguments;this.__s._$BQO$inheritFrom.apply(this,t),this.didChange||(this.didChange=e.didChange),e.hasOwnProperty("cacheable")&&!this.hasOwnProperty("cacheable")&&(this.cacheable=e.cacheable);var i=e.downstreamBindings;if(i){var n=this.downstreamBindings;this.downstreamBindings=n?Object.assign(r.Object.create(i),n):i}},wasRegistered:function(e,t,i){var n=arguments;this.__s._$Blq$wasRegistered.apply(this,n),this._didFirstObservablePropertyRegister||(this._validateProvidedInitValues(e,t),this._validateProvidedAccessors(t),this.reference!==o.WEAK||this.readOnly||(this._setRootValueNodeManagerIfNeeded=this._setRootValueNodeManagerIfNeededWeakWritable,this._setBoundNodeManagerIfNeeded=this._setBoundNodeManagerIfNeededWeakWritable),this.setUpManagers(),t=(t=t.replace(/\\/g,"\\\\")).replace(/\./g,"\\."),this._ownBinding=Object(m.c)(t),this.initializeNodeFlags(),this._didFirstObservablePropertyRegister=!0),this._setUpDidChangeObserver(e,t)},_validateProvidedInitValues:function(e,t){var i=this.binding,n=this.defaultValue;Object(_.x)(i)&&Object(_.x)(n)&&Object(_.y)("You can't define an observable property with both a binding and a defaultValue (%{key}).",{key:t,property:this}),Object(_.G)(n,m.a)&&Object(_.y)("You cant pass bindings into a property definition on `defaultValue`; you must pass it in on `binding` (%{key}).",{binding:i,property:this,key:t}),Object(_.Q)(i)&&(this.binding=Object(m.c)(i));var r=this.computedDownstreamBindings=[],a=this.downstreamBindings;for(var s in a){var o=a[s];if(Object(_.x)(o)){if(Object(_.Q)(o)&&(o=Object(m.c)(o)),Object(_.G)(o,m.a)){var c=o.rootObject;if(c){if(c===m.b){o.rootObject=null;var l=o.components;0===l.length&&(l.push(b),e.getMetadata(b)||e.registerMetadata(b,u))}r.push({upstreamSide:o,downstreamSide:Object(m.c)(t+"."+s)});continue}Object(_.y)("Right side of downstream bindings must either explicitly specify a root object or begin with `'(owner).'`: `'%{path}'`",{path:o.path})}Object(_.y)("Right side of downstream bindings must be a string or a binding",{binding:o})}}},_validateProvidedAccessors:function(e){var t=this.dependencies,i=this.writeDependencies,n=t&&0<t.length,r=i?0<i.length:n,a=this.isDependentComputedProperty=n||r,s=this.reference;n&&this.usesBuiltinGet&&Object(_.y)("Computed properties with dependencies must provide a getter (%{key}).",{property:this,dependencies:t,key:e}),r&&this.usesBuiltinSet&&!this.readOnly&&Object(_.y)("Computed properties with (explicit or implicit) write-dependencies must either include a setter or be marked readOnly (%{key}).",{property:this,dependencies:t,key:e}),this.isComputedProperty&&s===o.WEAK&&Object(_.y)("Computed properties may not be WEAK references (%{key}).",{property:this,dependencies:t,key:e}),!1!==this.cacheable||s===o.UNSAFE||this.typeIsPrimitive||Object(_.y)("Non-cacheable, non-primitively-typed properties may not be STRONG or WEAK references; you must manage them yourself. (%{key}).",{property:this,key:e}),a&&(i&&(this.writeBindings=m.a.createForPaths(this.writeDependencies)),this.bindings=m.a.createForPaths(this.dependencies))},_setUpDidChangeObserver:function(e,t){if(this.didChange){var i="_"+t+"_didChangeObserver";e.registerMetadata(i,w(26).observer(t,this.didChange))}},setUpManagers:function(){var e=this.upstreamNodeManagerClass,t=this.downstreamNodeManagerClass,i=this.reference;e||(e=this.readOnly?i===o.STRONG?p.a:h.a:i===o.STRONG?f.a:d.b),t||(t=i===o.STRONG?this.usesBuiltinGet||!1===this.cacheable?this.typeIsPrimitive?n.a:a.b:a.a:i===o.WEAK?this.usesBuiltinGet||!1===this.cacheable?l.a:c.a:s.a),this.upstreamNodeManager=e.create(this),this.downstreamNodeManager=t.create(this),i===o.WEAK&&(this.weakRootValueUpstreamNodeManager=v.a.create(this))},initializeNodeFlags:function(){var e=this.upstreamNodeFlags,t=this.downstreamNodeFlags;if(-1===e||-1===t){var i=this.reference;i===o.STRONG&&this.typeIsPrimitive&&(i=o.UNSAFE),-1===e&&(e=g.a.DIRTY_TRACKING|g.a.RELATIONSHIPS|g.a.PULL_ON_FREE,this.readOnly&&(e|=g.a.FLUSH),i!==o.WEAK&&i!==o.STRONG||(e|=g.a.PULL_ON_FLUSH),i===o.STRONG&&(e|=g.a.PREVIOUS_VALUE_TRACKING),i!==o.UNSAFE&&(e|=g.a.FREE),this.upstreamNodeFlags=e),-1===t&&(t=g.a.RELATIONSHIPS,i===o.UNSAFE||this.usesBuiltinGet||!1===this.cacheable||(t|=g.a.FREE,i===o.STRONG&&(t|=g.a.PREVIOUS_VALUE_TRACKING)),i===o.STRONG&&(t|=g.a.PREVIOUS_VALUE_TRACKING,t|=g.a.FREE),this.downstreamNodeFlags=t)}},upstreamNodeFlags:-1,downstreamNodeFlags:-1,initForObject:function(e,t){var i,n,r,a=arguments,s=this.downstreamNodeManager;r=this.reference===o.WEAK&&this.isRootValueProperty?this.weakRootValueUpstreamNodeManager:this.upstreamNodeManager,i=e.allocNode(s,this.downstreamNodeFlags),e.downstreamNodes[t]=i,n=e.allocNode(r,this.upstreamNodeFlags),e.upstreamNodes[t]=n,e.addConnectable(this,i,n),this.__s._$Gls$initForObject.apply(this,a)},setInitialValueForObject:function(e,t,i){var n=e.downstreamNodes[t],r=e.upstreamNodes[t];if(g.a.getManagerForNode(n).setUpNode(e,n),g.a.getManagerForNode(r).setUpNode(e,r),Object(_.G)(i,m.a)){var a=i;this.isDependentComputedProperty&&Object(_.y)("Dependent computed properties cannot be created with a binding (%{key}).",{property:this,key:t,object:e}),g.a.setDataForNode(a,n)}else this.readOnly?(this.reference===o.STRONG&&Object(o.retainValueIfNeeded)(i,e,"Observable strong ref for `"+t+"` (read-only default value)"),g.a.setDataForNode(i,r)):void 0!==i&&g.a.passValueToNode(i,r)},connect:function(e,t,i){this.isRootValueProperty=!this.isDependentComputedProperty,this._configurePropertyAsRootValue(t,i);var n=this._ownBinding;if(this.isDependentComputedProperty){var r,a,s,o=this.bindings,c=this.writeBindings,l=0<=i&&void 0!==g.a.getStateDataForNode(i);if(o&&0<(r=o.length))for(a=0;a<r;a++)s=o[a],m.a.hookUpBinding(e,s,n,l,!0,m.a.DONT_CONNECT,m.a.CONNECT)||Object(_.y)("Unable to connect dependency for computed property (key: "+this.key+", dependency: "+s.path+").",{object:e,property:this,key:this.key,dependency:s.path});if(c&&0<(r=c.length))for(a=0;a<r;a++)s=c[a],m.a.hookUpBinding(e,s,n,l,!0,m.a.CONNECT,m.a.DONT_CONNECT)||Object(_.y)("Unable to connect write dependency for computed property (key: "+this.key+", dependency: "+s.path+").",{object:e,property:this,key:this.key,dependency:s.path})}else{var u;0<=t&&(u=g.a.getDataForNode(t)),u&&u.instanceOf&&u.instanceOf(m.a)&&(this.isRootValueProperty=!1,this.bind(e,u),g.a.setDataForNode(void 0,t),i&&g.a.setDataForNode(void 0,i))}for(var d=this.computedDownstreamBindings,h=d.length,p=0;p<h;p++){var f=d[p];m.a.hookUpBinding(e,f.upstreamSide,f.downstreamSide,!1,!0)}},_configurePropertyAsRootValue:function(e,t){g.a.addChildToNode(e,t,!0),this._setRootValueNodeManagerIfNeeded(e,t)},_setRootValueNodeManagerIfNeeded:_.e,_setRootValueNodeManagerIfNeededWeakWritable:function(e,t){g.a.setManagerForNode(this.weakRootValueUpstreamNodeManager,t)},bind:function(e,t){var i=this.key;this.isDependentComputedProperty&&Object(_.y)("Cannot bind property %{key}. Properties with dependencies cannot be bound.",{property:this,key:this.key,object:e});var n=e.downstreamNodes[i],r=e.upstreamNodes[i];this._disconnectNodes(n,r),this._configurePropertyAsBound(n,r);var a=t;t&&t.instanceOf&&t.instanceOf(m.a)||(a=m.a.create(a)),m.a.hookUpBinding(e,a,this._ownBinding,!1,!0)||Object(_.y)("Unable to bind property (key: "+this.key+", binding: "+a.path+").",{object:e,property:this,key:this.key,binding:a,path:a.path}),e.isConnected&&g.a.triggerFlush()},_configurePropertyAsBound:function(e,t){this._setBoundNodeManagerIfNeeded(e,t)},_setBoundNodeManagerIfNeeded:_.e,_setBoundNodeManagerIfNeededWeakWritable:function(e,t){g.a.setManagerForNode(this.upstreamNodeManager,t)},unbind:function(e){var t=this.key;this.isDependentComputedProperty&&Object(_.y)("Cannot unbind property %{key}. Properties with dependencies cannot be unbound.",{property:this,key:this.key,object:e});var i=e.downstreamNodes[t],n=e.upstreamNodes[t];this._disconnectNodes(i,n),this._configurePropertyAsRootValue(i,n),g.a.passValueToNode(void 0,n),e.isConnected&&g.a.triggerFlush()},_disconnectNodes:function(e,t){0<t&&g.a.disconnectChildrenFromNode(t),g.a.disconnectParentsFromNode(e)},_getter:null,_setter:null,_setUpInternalAccessors:function(){var n=this.key,r=o.PropertySupport.staticMembers.defaultValuePrefix+n;this._getter=function(){if(!this.hasOwnProperty("propertiesAreInitialized"))return this[r];var e=I.isInsideSetter;I.isInsideSetter=!1;var t=this.downstreamNodes[n],i=g.a.getValueForNode(t);return I.isInsideSetter=e,i},this.readOnly?this._setter=function(e){this.hasOwnProperty("propertiesAreInitialized")?Object(_.y)("Cannot write to read-only property: "+n,{object:this,value:e}):this[r]=e}:this._setter=function(e){if(this.hasOwnProperty("propertiesAreInitialized")){var t=I.isInsideSetter;I.isInsideSetter=!0;var i=this.upstreamNodes[n];t&&g.a.nodeIsDirty(i)?g.a.passValueToNode(e,i):g.a.setValueForNode(e,i),I.isInsideSetter=t}else this[r]=e}},internalGet:t,internalGetPath:t,_synthesizeInternalGet:_.e,setUpNativeAccessors:function(e,t){Object.defineProperty(e,t,{get:this._getter,set:this._setter,configurable:!0})},getForObject:function(e,t){return this._getter.call(e)},setForObject:function(e,t,i){return this._setter.call(e,i)},disposeForObject:function(e,t){},__superMap:{_$BAQ$init:"init",_$BQO$inheritFrom:"inheritFrom",_$Blq$wasRegistered:"wasRegistered",_$Gls$initForObject:"initForObject"}});function t(e,t){return g.a.getValueForNode(t)}var i=function(e){return I.define.apply(I,arguments)};u=i({defaultValue:o.ITSELF,readOnly:!0})}.call(S,w(5))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,s){"use strict";s.d(t,"a",function(){return d});var i=s(1),r=s(2),n=s(467),a=s(102),o=s(21),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=o.a.NULL_INDEX,u={isObservable:!0,initializeInstance:function(){this._nodes=[];var e=this.upstreamNodes={},t=this.downstreamNodes={};this._connectables=[],this._connectableTargets=[],o.a.pause(),this.initializeObservers(e,t),this.initializeSignals(e,t),this.__s._$TP$initializeInstance.call(this),this._connectAllConnectables(),o.a.triggerFlush(),o.a.resume()},initializeObservers:function(e,t){var i=this.getMetadataByType(s(26).ObserverMetadata);for(var n in i){var r=i[n],a=this.allocNode(r.manager,o.a.PULL_ON_FLUSH);t[n]=a,this.addConnectable(r,a,l)}},initializeSignals:function(e,t){var i=this.getMetadataByType(s(131).SignalMetadata);for(var n in i){var r=i[n],a=this.allocNode(r,o.a.PULL_ON_FLUSH|o.a.NOTIFY);r.initializeEvent(a),e[n]=t[n]=a}},upstreamNodes:null,downstreamNodes:null,_connectables:null,_connectableTargets:null,isConnected:!1,addConnectable:function(e,t,i){this.isConnected?e.connect(this,t,i):(this._connectables.push(e),this._connectableTargets.push(t),this._connectableTargets.push(i))},_connectAllConnectables:function(){var e,t=this._connectables,i=this._connectableTargets,n=t.length,r=l,a=l;for(e=0;e<n;e++)r=i[2*e],a=i[2*e+1],t[e].connect(this,r,a);this._connectables=this._connectableTargets=null,this.isConnected=!0},allocNode:function(e,t){var i=o.a.allocNode(e,this,t);return this._nodes.push(i),i},freeNode:function(e){var t=this._nodes,i=t.indexOf(e);0<=i?t.splice(i,1):Object(r.y)("CW.Observable `freeNode` called with a node not managed by this Observable!",{nodeID:e,observable:this}),o.a.freeNode(e)},dispose:function(){var e,t=this._nodes,i=t.length,n=l;for(e=0;e<i;e++)n=t[e],o.a.freeNode(n);this._nodes=null,this.downstreamNodes=null,this.upstreamNodes=null,this.__s._$2Uw$dispose.call(this)},observe:function(){var e;if(Object(r.O)(arguments[0]))e=s(26).Observer.create(this,arguments[0]);else{var t=Object(r.j)(arguments);t.unshift(this),t.push(!0),e=s(26).Observer.create.apply(s(26).Observer,t)}return e.connect(),e},listen:function(){var e;if(Object(r.O)(arguments[0]))e=s(26).Listener.create(this,arguments[0]);else{var t=Object(r.j)(arguments);t.unshift(this),t.push(!1),e=s(26).Listener.create.apply(s(26).Listener,t)}return e.connect(),e},bindingFor:function(e){return a.a.create(e,this)},propertyChanged:function(e){var t=this.downstreamNodes[e];"number"!=typeof t&&Object(r.y)("propertyChanged must be called with the key of an observable property (key: "+e+", object: "+this+").",{object:this,key:e}),o.a.setNodeToDirtyFromParent(t)},bind:function(e,t){var i=this.getMetadataByType(s(18).ObservableProperty);if(i){var n=i[e];n||Object(r.y)("Bind must be called on an observable property",e),n.bind(this,t)}return this},unbind:function(e){var t=this.getMetadataByType(s(18).ObservableProperty);if(t){var i=t[e];i||Object(r.y)("Unbind must be called on an observable property",e),i.unbind(this)}return this},beginBatchSet:function(){return n.a.begin(this)},__superMap:{_$TP$initializeInstance:"initializeInstance",_$2Uw$dispose:"dispose"}},d=c({staticMembers:c({},u)},u,{mixinDependencies:[i.MetadataSupport,i.PropertySupport]})},function(e,He,Ke){"use strict";(function(e){Ke.d(He,"a",function(){return ze});var d=Ke(2),t=e.Array,i=e.Int16Array||t,n=e.Int32Array||t,h=3,r=~h,u=4,p=8,f=16,_=32,m=64,g=128,v=256,y=512,b=2048,I=8192,S=16384,w=0,C=1,E=2,T=3,A=-1,O=0,D=1,F=0,M=1,a=1024,s=2048,o=256,N=new i(a),c=1,l=a,L=new Array(a),x=new n(s),P=s,R=new n(s),k=new n(s),j=0,V=2,U=s,B=A,$=new Array(a),W=new Array(a),G=new Array(a),z=new n(a),H=s,K=new n(256),Q=0,q=256,Y=new n(256),J=0,X=256,Z=[],ee=-1;function te(){var e;return-1===ee?e=new n(o):(e=Z[ee],ee--),e[0]=1,e}var ie=te(),ne=new n(o),re=0,ae=o,se=!e.Int16Array,oe=se?d.e:function(){H*=2;var e=new i(l*=2);e.set(N);var t=new n(H);t.set(z),N=e,z=t},ce=se?d.e:function(){var e=new n(P*=2);e.set(x),x=e;var t=new n(P);t.set(R),R=t},le=se?d.e:function(){var e=new n(U*=2);e.set(k),k=e},ue=se?d.e:function(){X*=2;var e=new n(q*=2);e.set(K),K=e;var t=new n(X);t.set(Y),Y=t},de=se?d.e:function(){var e=new n(ae*=2);e.set(ne),ne=e},he=se?d.e:function(){var e=2*ie.length,t=new n(e);t.set(ie),ie=t},pe=0,fe=0;function _e(e){return e&m&&!(e&u)}function me(e,t){_e(N[e])&&L[e].didRemoveParentFromNode($[e],e,t,R[(e<<1)+O])}function ge(e,t){_e(N[e])&&L[e].didRemoveChildFromNode($[e],e,t,R[(e<<1)+D])}function ve(e,t){N[e]&m&&L[e].willRemoveChildFromNode($[e],e,t,R[(e<<1)+D])}function ye(e,t){_e(N[e])&&L[e].willRemoveParentFromNode($[e],e,t,R[(e<<1)+O])}function be(){if(!(0<pe||0<fe)){var e=0,t=J;for(e=0;e<t;e++)Ie(Y[e]),Y[e]=A;J=0}}function Ie(e){q<=Q&&ue(),K[Q++]=e}function Se(e,t){var i=x[t],n=A;B!==A?(n=0|B,B=k[B+M]):(n=0|j,U<(j+=V)&&le()),k[n+F]=e,k[n+M]=i,x[t]=n,R[t]++}function we(e,t){for(var i=x[t],n=A;i!==A;){if(k[i+F]===e){n!==A?k[n+M]=k[i+M]:x[t]=k[i+M],k[i+M]=B,B=i,R[t]--;break}i=k[(n=i)+M]}}function Ce(e,t,i){pe++;for(var n=(e<<1)+t,r=x[n],a=t===O?D:O,s=r;s!==A;){var o=k[s];t===O?(i&&ye(e,o),ve(o,e)):(i&&ve(e,o),ye(o,e)),s=k[s+M]}if(s=r,x[n]=A,R[n]=0,s!==A)for(;;){var c=k[s];N[c]&u||we(e,(c<<1)+a),t===O?(i&&me(e,c),ge(c,e)):(i&&ge(e,c),me(c,e));var l=k[s+M];if(l===A){k[s+M]=B,B=r;break}s=l}pe--,be()}function Ee(e){return $[e]}function Te(e,t){var i=N[e];N[e]=i&r|t}function Ae(e,t){var i=N[e];return N[e]=i|t,N[e]}function Oe(e,t){var i=N[e];return N[e]=i&~t,N[e]}function De(e,t){Me(e,t,e,E)}function Fe(e,t){Me(e,void 0,t,T)}function Me(e,t,i,n,r){Ge(e)||Object(d.y)("Tried to dirty an undefined node");var a=N[e],s=a&h;s!==C||a&S||Object(d.y)("Cycle found in dataflow graph");var o,c,l=a&v,u=l&&s===E?je(e):void 0;Te(e,C),Ve(t,e),Ue(i,e),l&&(n===T?L[e].wasDirtiedByParent(Ee(e),e,t,u):n===E&&L[e].wasDirtiedBySelf(Ee(e),e,t,u)),r||(Ne(e),((c=N[o=e])&f||c&_||c&b)&&!(c&I)&&(ie.length<=ie[0]&&he(),ie[ie[0]]=o,ie[0]++,Ae(o,I))),Te(e,n)}function Ne(e,t){var i,n=N[e];if(!t&&n&g)N[i=e]&S||(ae<=re&&de(),ne[re]=i,re++,Ae(i,S));else for(var r=(e<<1)+D,a=R[r],s=x[r],o=a-1;s!==A;)t&&!t[o]||Fe(k[s+F],e),o--,s=k[s+M]}function Le(){for(var e,t=0;t<re;t++)Ne(e=ne[t],L[e].getActiveChildrenForNode(e));for(var i=0;i<re;i++)Oe(e=ne[i],S);re=0}function xe(){if(!(0<fe)){pe++;var e=ie,t=e[0];ie=te();var i,n,r=0,a=0;for(i=1;i<t;i++)Oe(r=e[i],I);for(i=1;i<t;i++)r=e[i],a=N[r],r===A||a&u||(a&f&&L[r].flushNode($[r],r),a&b&&Pe(r));for(i=1;i<t;i++)r=e[i],a=N[r],r===A||a&u||a&_&&L[r].notifyNode($[r],r);n=e,Z[++ee]=n,pe--,be()}}function Pe(e){Ge(e)||Object(d.y)("Tried to getValue for an undefined node");var t=N[e];if(t&u)return Re(e);var i=t&h,n=L[e],r=n.isCacheable;if(i===w&&r)return Re(e);var a=i===T||!r,s=Ee(e),o=n.calculateValueForNode(s,e,a);Te(e,w),Ve(void 0,e);var c,l=t&y;return l&&(c=Re(e)),r&&ke(o,e),l&&n.previousValueWasReplaced(s,e,c),o}function Re(e){return W[e]}function ke(e,t){W[t]=e}function je(e){return G[e]}function Ve(e,t){G[t]=e}function Ue(e,t){z[t]=e}function Be(e,n){void 0===n&&(n=0);var t,i=N[e];switch(i&h){case w:t="CLEAN";break;case C:t="DIRTYING";break;case E:t="DIRTY_SELF";break;case T:t="DIRTY_PARENT"}function r(e){for(var t,i=[];e!==A;)t=k[e+F],0<n?i.unshift(Be(t,n-1)):i.unshift(t),e=k[e+M];return i}var a=e<<1,s=r(x[a+M]),o=r(x[a+F]),c=L[e],l={id:e,wantsFlush:!!(i&f),wantsNotify:!!(i&_),wantsFreeTracking:!!(i&p),wantsRelationshipTracking:!!(i&m),wantsActiveChildren:!!(i&g),wantsDirtyTracking:!!(i&v),isFreeing:!!(i&u),status:t,children:s,parents:o,manager:c,data:W[e],context:$[e],stateData:G[e],stateID:z[e]};return c&&c.addDebugInfoForNode&&c.addDebugInfoForNode($[e],l,e),l}function $e(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length-1);for(var n=[],r=t;r<=i&&!(r>=e.length);r++)n.push(Be(e[r]));return n}function We(e,i,n){var r="";return e[i].forEach(function(e){var t=(e&&void 0!==e.id?e.id:e)+(e&&e.status?" ("+e.status+")":"")+": "+e.toString();r+=n+t+"\n",e&&e[i]&&(r+=We(e,i,n+"  "))}),r}function Ge(e){return null!=e&&e!==A}var ze={NULL_INDEX:A,dumpNode:Be,dumpChildren:function(e,t){return void 0===t&&(t=7),"Children of "+e+":\n"+We(Be(e,t),"children","")},dumpParents:function(e,t){return void 0===t&&(t=7),"Parents of "+e+":\n"+We(Be(e,t),"parents","")},dumpNodes:$e,dumpNodeNames:function(e,t,i){return $e(e,t,i).map(function(e){return(e&&void 0!==e.id?e.id:e)+":"+e.toString()})},dumpNodesWithData:function(i){var n=[];return W.forEach(function(e,t){e===i&&n.push(t)}),n},dumpNodesWithStateData:function(i){var n=[];return G.forEach(function(e,t){e===i&&n.push(t)}),n},debugNextCycle:function(){},dumpStack:function(){return{stack:[],nodes:{}}},setNodeBit:Ae,removeNodeBit:Oe,addChildToNode:function(e,t,i){var n,r,a,s,o=(e<<1)+O;Se(e,(t<<1)+D),Se(t,o),r=e,_e(N[n=t])&&L[n].didAddChildToNode($[n],n,r,R[(n<<1)+D]),s=t,_e(N[a=e])&&L[a].didAddParentToNode($[a],a,s,R[(a<<1)+O]),i&&Fe(e,t)},removeChildFromNode:function(e,t,i){ve(t,e),ye(e,t),we(e,(t<<1)+D),we(t,(e<<1)+O),ge(t,e),me(e,t),i&&Fe(e,t)},setValueForNode:function(e,t){De(t,e),Le(),xe()},setValuesForNodes:function(){arguments.length%2!=0&&Object(d.y)("Invalid number of arguments on setValuesForNodes, arguments should be a paired list of nodeIDs and values.",arguments);for(var e=0;e<arguments.length;e+=2)De(arguments[e+1],arguments[e]);Le(),xe()},setNodeToDirtyFromParent:function(e){Fe(e,A),Le(),xe()},passValueToNode:function(e,t){Me(t,e,t,E,!0)},getValueForNode:Pe,getDataForNode:Re,setDataForNode:ke,getStateDataForNode:je,setStateDataForNode:Ve,getStateIDForNode:function(e){return z[e]},setStateIDForNode:Ue,getContextForNode:Ee,setContextForNode:function(e,t){$[t]=e},getManagerForNode:function(e){return L[e]},setManagerForNode:function(e,t){L[t]=e},getParentIDs:function(e,t,i){for(var n=i||0,r=(e<<1)+O,a=R[r],s=x[r],o=a-1+n,c=o+1;c<t.length;c++)t[c]=A;for(;s!==A;){var l=k[s+F];t[o]=l,o--,s=k[s+M]}return t},getChildrenIDs:function(e,t,i){for(var n=i||0,r=(e<<1)+D,a=R[r],s=x[r],o=a-1+n,c=o+1;c<t.length;c++)t[c]=A;for(;s!==A;){var l=k[s+F];t[o]=l,o--,s=k[s+M]}return t},getChildIndex:function(e,t){for(var i=(t<<1)+D,n=x[i],r=R[i]-1;n!==A;){if(k[n+F]===e)return r;n=k[n+M],r--}return A},getParentIndex:function(e,t){for(var i=(e<<1)+O,n=x[i],r=R[i]-1;n!==A;){if(k[n+F]===t)return r;n=k[n+M],r--}return A},FLUSH:f,NOTIFY:_,RELATIONSHIPS:m,FREE:p,ACTIVE_CHILDREN:g,DIRTY_TRACKING:v,PREVIOUS_VALUE_TRACKING:y,PULL_ON_FLUSH:b,PULL_ON_FREE:1024,allocNode:function(e,t,i){var n=0,r=A;n|=i|=0,0<Q?r=K[--Q]:(r=c++,l<c&&(oe(),ce())),N[r]=n;var a=r<<1+O,s=a+D;return x[a]=A,x[s]=A,R[a]=0,R[s]=0,L[r]=e,$[r]=t,W[r]=void 0,G[r]=void 0,z[r]=A,r},freeNode:function(e){var t=N[e];if(1024&t){var i=t&h;i!==E&&i!==T||Pe(e)}Ae(e,u),Ce(e,O,!1),Ce(e,D,!1),t&p&&L[e].nodeWillFree($[e],e),L[e]=W[e]=$[e]=G[e]=void 0,z[e]=A,0<pe||0<fe?(X<=J&&ue(),Y[J++]=e):Ie(e)},disconnectParentsFromNode:function(e){Ce(e,O,!0)},disconnectChildrenFromNode:function(e){Ce(e,D,!0)},pullDataFromParents:function(e,t){for(var i=(e<<1)+O,n=R[i],r=x[i],a=n-1,s=a+1;s<t.length;s++)t[s]=void 0;for(;r!==A;){var o=k[r+F];t[a]=Pe(o),a--,r=k[r+M]}return t},triggerFlush:xe,pause:function(){fe++},resume:function(){0==--fe&&xe()},_sanitizeNodeID:function(e){return null==e&&(e=A),0|e},nodeIsDirty:function(e){var t=N[e]&h;return t&E||t&T},nodeIsFreeing:function(e){return N[e]&u}}}).call(He,Ke(5))},function(e,t,i){var n=i(13),r=i(406),a=i(120),s=Object.defineProperty;t.f=i(31)?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),r)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){"use strict";t.a=r,i.d(t,"b",function(){return a});var n=i(250);function r(e,t){var i;return e instanceof Error?i=e:(e&&(e=Object(n.a)(e,t)),i=new Error(e)),i.context=t,i}var a=function(e,t){throw new r(e,t)}},function(e,t,i){var n=i(76),r=Math.min;e.exports=function(e){return 0<e?r(n(e),9007199254740991):0}},function(e,o,c){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(t){c.d(o,"CorePromise",function(){return s});var r=c(2),e=c(40),i=c(455),n=c(261),a=Object(n.createEnumGroup)("PROMISE_STATES",function(e){e("PENDING"),e("RESOLVED",function(e){e("FULFILLED"),e("REJECTED")})}),s=e.a.extend(a.toStaticMixin(),i.a,{staticMembers:{wrap:function(e){return e instanceof t.Promise?this.wrapPromise(e):Object(r.R)(e)?this.resolve(e):Object(r.N)(e)?this.wrapFunction(e):void Object(r.y)("CW.Promise.wrap can only be used with functions or thenables",e)},wrapPromise:function(e){return this.create({internalPromise:e})},wrapFunction:function(n){Object(r.N)(n)||Object(r.y)("CW.Promise.wrapFunction can only be used with a function.",n);var e=this;return function(){var t=e.create(),i=arguments;return Object(r._8)(function(){try{var e=n.apply(this,i);t.resolve(e)}catch(e){t.rejectWithExceptionHandling(e)}}.bind(this),0),t}},invokeFunction:function(e,t){var i=this.wrapFunction(e);return i.call(i,t)},createEmpty:function(){return this.create({internalPromise:null})},waterfall:function(e,t){var i=void 0!==t,n=i?this.invokeFunction(u(t)):void 0;if(0===e.length)return n||this.resolve();var r,a=0,s=e.length;for(i||(a=1,n=this.invokeFunction(u(e[0])));a<s;a++)r=u(e[a]),n=n.then(this.wrapFunction(r));return n},sequence:function(e){var t=[];if(0===e.length)return this.resolve(t);for(var i,n=function(e){t.push(e)},r=1,a=e.length,s=this.invokeFunction(u(e[0])).then(n);r<a;r++)i=u(e[r]),s=s.then(this.wrapFunction(i)).then(n);return s.then(u(t))},concurrent:function(e,r){if(r=r||1,0===e.length)return this.resolve([]);if(e.length<=r)return this.all(e);var a=this,s=this.create(),o=[],c=[],l=e;return function t(){for(var e,i,n;c.length<r&&0<l.length;)e=u(l.shift()),i=a.invokeFunction(e).then(function(e){o.push(e),n=c.indexOf(this),c.splice(n,1),t()}).catch(s.reject.bind(s)),c.push(i);c.length||l.length||s.resolve(o)}(),s},all:function(){return this.resolve(t.Promise.all.apply(t.Promise,arguments))},race:function(){return this.resolve(t.Promise.race.apply(t.Promise,arguments))},resolve:function(){var e=this.create();return e.resolve.apply(e,arguments),e},reject:function(){var e=this.create();return e.reject.apply(e,arguments),e},__QUALIFIED_CLASS_NAME__:"CorePromise"}});function u(e){return Object(r.N)(e)?e:function(){return e}}}.call(o,c(5))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ObserverNodeManager",function(){return h}),i.d(t,"ObserverMetadata",function(){return _}),i.d(t,"Observer",function(){return g}),i.d(t,"Listener",function(){return v}),i.d(t,"observer",function(){return y}),i.d(t,"listener",function(){return b});var n=i(1),c=i(2),l=i(102),u=i(21),r=i(130),d=i(272),a=i(20),s=i(18),o=u.a.NULL_INDEX,h=r.a.extend({_onlyFireIfChanged:!0,_debug_dependencyNames:null,_debug_key:null,_observedTypes:null,_observesSignals:!0,init:function(e,t,i){this.__s._$i0$init.call(this),void 0===i&&(i=!0),Object(c.N)(t)||Object(c.y)("Cannot create CW.ObserverNodeManager without an observer function to call when there is a change."),this.observer=t,this._inputCount=e,this._inputCollectorPool=[],this._observedTypes=new Array(e),i||(this._onlyFireIfChanged=i,this.invokeObserverCallback=this._actuallyInvokeObserverCallback)},calculateValueForNode:function(e,t,i){i||Object(c.y)("Observers should not be set directly, they must pull from their parents.",t);var n=this._getInputCollectorFromPool();u.a.pullDataFromParents(t,n);var r=u.a.getDataForNode(t);if(r||!f(t)){var a=r;return r._fireState!==d.a.SKIP_FIRE?a=this.invokeObserverCallback(e,n,r,t):(r._fireState=d.a.DEFAULT,p(n,r)),this._returnInputCollectorToPool(n),a}},invokeObserverCallback:function(e,t,i,n){return i._fireState===d.a.FORCE_FIRE||this._didObservedValuesChange(t,i.previousValues)?this._actuallyInvokeObserverCallback(e,t,i,n):(i.didFire=!1,i)},_actuallyInvokeObserverCallback:function(e,t,i,n){i._fireState=d.a.DEFAULT,p(t,i);var r=s.ObservableProperty.isInsideSetter;return s.ObservableProperty.isInsideSetter=!1,this._substituteSignalInputsIfNeccessary(t),this.observer.apply(e,t),s.ObservableProperty.isInsideSetter=r,function(e,t){var i=u.a.getDataForNode(e);if(i||!f(e)){var n=d.b.create({previousValues:i.previousValues,_fireState:d.a.DEFAULT,didFire:!0});return n.retain(),i.previousValues=null,i.release(),n}}(n)},_substituteSignalInputsIfNeccessary:function(e){if(this._observesSignals){for(var t,i,n=!1,r=this._observedTypes,a=0;a<e.length;a++)void 0===(t=r[a])&&void 0!==(t=this._getValueType(e[a]))&&(r[a]=t),1===t?((i=e[a])&&!i.didFire&&(e[a]=void 0),n=!0):void 0===t&&(n=!0);this._observesSignals=n}},_didObservedValuesChange:function(e,t){var i=e,n=t;if(i.length!==n.length)return!0;for(var r,a,s=this._observedTypes,o=i.length,c=0;c<o;c++)if(r=s[c],a=i[c],void 0===r&&(r=s[c]=this._getValueType(a)),1===r){if(a&&a.didFire)return!0}else if(a!==n[c])return!0;return!1},_getValueType:function(e){return void 0===e?void 0:Object(c.G)(e,d.b)?1:2},addDebugInfoForNode:function(e,t,i){t.type="Observer",t.object=e,t.key=this._debug_key||"(Anonymous)",t.dependencyNames=this._debug_dependencyNames,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},_getInputCollectorFromPool:function(){var e=this._inputCollectorPool;return 0<e.length?e.pop():new Array(this._inputCount)},_returnInputCollectorToPool:function(e){for(var t=e.length,i=0;i<t;i++)e[i]=void 0;this._inputCollectorPool.push(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObserverNodeManager"},__superMap:{_$i0$init:"init"}});function p(e,t){for(var i=t.previousValues,n=e.length,r=0;r<n;r++)i[r]=e[r]}function f(e){if(u.a.nodeIsFreeing(e))return!0;Object(c.y)("An observer with node %{nodeID} was corrupted (node data was lost)",{nodeID:e})}var _=n.Metadata.extend({init:function(e){var t,i,n,r=this.notifyOnCreate;if(Object(c.O)(e))t=e.inputs,i=e.callback,void 0!==e.notifyOnCreate&&(r=e.notifyOnCreate),void 0!==e.onlyFireIfChanged&&(n=e.onlyFireIfChanged);else{var a=(t=Object(c.j)(arguments)).pop();Object(c.N)(a)||(void 0!==a&&(r=a),a=t.pop()),i=a}this.inputs=t,this.callback=i,this.bindings=l.a.createForPaths(t),this.manager=this.managerClass.create(t.length,i,n),this.manager._debug_inputNames=t,this.notifyOnCreate=r,this.__s._$4DC$init.call(this)},wasRegistered:function(e,t){var i=arguments;this.__s._$4Fj$wasRegistered.apply(this,i),this.manager._debug_key=t},getValue:function(e,i){return function(){var e=this.downstreamNodes[i],t=u.a.getDataForNode(e);!t&&f(e)||(t._fireState=d.a.FORCE_FIRE,u.a.setNodeToDirtyFromParent(e))}},notifyOnCreate:!0,manager:null,managerClass:h,requiresSupport:a.a,bindings:null,inputs:null,callback:null,allowAtCreate:!0,connect:function(e,t){for(var i,n=this.bindings,r=this.notifyOnCreate,a=0,s=n.length;a<s;a++)i=n[a],l.a.hookUpDownstreamNode(e,i,t,!0)||Object(c.y)("Observer could not hook up to one of its observed properties.",{object:e,observer:this,binding:i,bindingPath:i.path});var o=d.b.create({previousValues:[],_fireState:r?d.a.FORCE_FIRE:d.a.SKIP_FIRE});o.retain(),u.a.setDataForNode(o,t),e.isConnected&&u.a.triggerFlush()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObserverMetadata"},__superMap:{_$4DC$init:"init",_$4Fj$wasRegistered:"wasRegistered"}}),m=_.extend({notifyOnCreate:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"ListenerMetadata"}}),g=_.extend({node:o,init:function(e,t){if(e&&e.hasMixin&&e.hasMixin(a.a)||Object(c.y)("A CW.Observer must be defined on an observable object.",{owningObject:e,inputs:t}),this.owningObject=e,Object(c.O)(t))this.__s._$6vy$init.call(this,t);else{var i=Object(c.j)(arguments);i.shift(),this.__s._$6vy$init.apply(this,i)}this.node=e.allocNode(this.manager,u.a.PULL_ON_FLUSH)},connect:function(){return this.__s._$72c$connect.call(this,this.owningObject,this.node)},disconnect:function(){u.a.disconnectParentsFromNode(this.node)},staticMembers:{__QUALIFIED_CLASS_NAME__:"Observer"},__superMap:{_$6vy$init:"init",_$72c$connect:"connect"}}),v=g.extend({notifyOnCreate:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"Listener"}}),y=function(){return _.define.apply(_,arguments)},b=function(){return m.define.apply(m,arguments)}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(689),a=n.v.extend({service:n._107({readOnly:!0,get:function(){return this._service}}),init:function(){var e=arguments;this.__s._$5I$init.apply(this,e),this._service=r.a.create()},__superMap:{_$5I$init:"init"}}).create().service},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.TransactionType",["CreateFolder","DeleteItems","MoveItems","MoveItemsToTrash","MoveItemsFromTrash","PurgeRecentlyDeletedItems","PutItemsBackFromTrash","RenameItem","UploadItem","RetrieveSharedItemDetailsInFolders"])},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={READ_ONLY:"READ_ONLY",READ_WRITE:"READ_WRITE",NONE:"NONE",MIXED:"MIXED"};Object.freeze(n)},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.Alert.UpgradeInstructions":"Upgrade Instructions","DriveUI.Alert.LockedItem.ListContents.Single.Message":"%{name} cannot be opened.","DriveUI.Alert.LockedItem.ListContents.Single.Description":"This folder is locked and its contents cannot be viewed in iCloud.com.","DriveUI.Alert.CannotRenameItem.WithExtension.Message":"The name %{name} with extension %{extension} is already taken.","DriveUI.Alert.CannotRenameItem.NoExtension.Message":"The name %{name} is already taken.","DriveUI.Alert.CannotRenameItem.Description":"Please choose a different name.","DriveUI.Alert.CannotRenameItem.Group.Message":"%{count} items could not be renamed because their names are already taken.","DriveUI.Alert.CannotRenameItem.Group.Description":"Please choose different names.","DriveUI.Alert.InvalidName.File.Message":"The name %{fileNameWithExtension} cant be used.","DriveUI.Alert.InvalidName.Folder.Message":"The name %{name} cant be used.","DriveUI.Alert.InvalidName.Description":"Try using a name with fewer characters, or with no punctuation marks.","DriveUI.Alert.WhitespaceName.File.Message":"The name %{fileNameWithExtension} is invalid.","DriveUI.Alert.WhitespaceName.Folder.Message":"The name %{name} is invalid.","DriveUI.Alert.WhitespaceName.Description":"Please choose a different name.","DriveUI.Alert.HiddenName.File.Message":"The name of your file shouldnt begin with a . (dot).","DriveUI.Alert.HiddenName.Folder.Message":"The name of your folder shouldnt begin with a . (dot).","DriveUI.Alert.HiddenName.Description":"Please choose a different name.","DriveUI.Alert.TransactionError.CreateFolder.Message":"There was a problem creating folder %{name}.","DriveUI.Alert.TransactionError.CreateFolder.Description":"Try creating the folder again later.","DriveUI.Alert.TransactionError.RenameItem.File.Message":"There was a problem renaming file %{name}.","DriveUI.Alert.TransactionError.RenameItem.File.Description":"Try renaming the file again later.","DriveUI.Alert.TransactionError.RenameItem.Folder.Message":"There was a problem renaming folder %{name}.","DriveUI.Alert.TransactionError.RenameItem.Folder.Description":"Try renaming the folder again later.","DriveUI.Alert.TransactionError.DeleteItems.Single.Message":"There was a problem deleting %{name}.","DriveUI.Alert.TransactionError.DeleteItems.Single.File.Description":"Try deleting the file again later.","DriveUI.Alert.TransactionError.DeleteItems.Single.Folder.Description":"Try deleting the folder again later.","DriveUI.Alert.TransactionError.DeleteItems.Single.AppLibrary.Description":"Try deleting the app library again later.","DriveUI.Alert.TransactionError.MovingItems.Single.Message":"There was a problem moving %{name} to %{folder}.","DriveUI.Alert.TransactionError.MovingItems.Single.File.Description":"Try moving the file again later.","DriveUI.Alert.TransactionError.MovingItems.Single.Folder.Description":"Try moving the folder again later.","DriveUI.Alert.TransactionError.RecoverItem.Message":"There was a problem recovering %{name}.","DriveUI.Alert.TransactionError.RecoverItem.File.Description":"Try recovering the file again later.","DriveUI.Alert.TransactionError.RecoverItem.Folder.Description":"Try recovering the folder again later.","DriveUI.Alert.TransactionError.RecoverItems.Message":"%{count} items could not be recovered.","DriveUI.Alert.TransactionError.RecoverItems.Description":"These items could not be recovered due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.Group.CreateFolders.Message":"%{count} folders could not be created","DriveUI.Alert.TransactionError.Group.CreateFolders.Description":"These folders could not be created due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.Group.RenameItems.Message":"%{count} items could not be renamed","DriveUI.Alert.TransactionError.Group.RenameItems.Description":"These items could not be renamed due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.Group.DeleteItems.Message":"%{count} items could not be deleted","DriveUI.Alert.TransactionError.Group.DeleteItems.Description":"These items could not be deleted due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Message":"%{count} items could not be moved","DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Description":"These items could not be moved due to an unexpected error. Try again later.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default":"Unexpected error. Please try again later.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.File":"File was deleted.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.Folder":"Folder was deleted.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.AppLibrary":"Application library was deleted.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.File":"File was moved.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.Folder":"Folder was moved.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.File":"File was modified.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.Folder":"Folder was modified.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted":"Destination folder %{folder} was deleted.","DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota":"Not enough free space.","DriveUI.Alert.Download.Single.Generic.Title":"%{fileName} couldnt be downloaded.","DriveUI.Alert.Download.Single.Generic.Subtitle":"Try downloading the file again later.","DriveUI.Alert.Download.Single.Deleted.Title":"%{fileName} couldnt be downloaded.","DriveUI.Alert.Download.Single.Deleted.Subtitle":"This file has been deleted and is no longer available.","DriveUI.Alert.Download.Multiple.Generic.Title":"%{fileCount} files couldnt be downloaded.","DriveUI.Alert.Download.Multiple.Generic.Subtitle":"Try downloading the files again later.","DriveUI.Alert.Download.Multiple.Deleted.Title":"%{fileCount} files couldnt be downloaded.","DriveUI.Alert.Download.Multiple.Deleted.Subtitle":"These files have been deleted and are no longer available.","DriveUI.Alert.Download.Multiple.Mixed.Title":"%{fileCount} files couldnt be downloaded.","DriveUI.Alert.Download.Multiple.Mixed.Subtitle":"Try downloading the files again later.","DriveUI.Alert.Download.Multiple.ItemDetails.Generic.Subtitle":"There was a problem downloading this file.\nTry again later.","DriveUI.Alert.Download.Multiple.ItemDetails.Deleted.Subtitle":"This file has been deleted and is no longer available.","DriveUI.Alert.Upload.AccessDenied.Title":"Cannot upload file.","DriveUI.Alert.Upload.AccessDenied.Message":"Make sure you have permission to read the file.","DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Title":"Cannot upload this type of file to this App Library.","DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Message":"Only files that can be opened by %{appName} can be uploaded here.","DriveUI.Alert.Upload.BrowserNotSupported.Title":"Uploading is not supported by this browser.","DriveUI.Alert.Upload.BrowserNotSupported.Description":"Update your web browser to upload files to iCloudDrive.","DriveUI.Alert.Upload.HiddenFile.Title":"There was a problem uploading %{fileName}.","DriveUI.Alert.Upload.HiddenFile.Description":"Invalid filename.","DriveUI.Alert.Upload.SizeTooBig.Title":"%{fileName} is too big to upload.","DriveUI.Alert.Upload.SizeTooBig.Description":"iCloudDrive on iCloud.com currently limits uploads to a maximum of 10 GB.","DriveUI.Alert.Upload.SizeTooBig.DetailedDescription":"This file is too big to upload.","DriveUI.Alert.Upload.Package.Title":"This type of file must be compressed before it can be uploaded.","DriveUI.Alert.Upload.Package.Description":"Compress the file on your computer and upload the resulting .zip file.","DriveUI.Alert.Upload.SelectionContainsFolder.Title":"Uploading folders to iCloudDrive is not supported.","DriveUI.Alert.Upload.SelectionContainsFolder.Description":"Only files can be uploaded using your web browser.","DriveUI.Alert.Upload.Package.Title.Pages":"Pages documents must be compressed and renamed before they can be uploaded with this browser.","DriveUI.Alert.Upload.Package.Title.Keynote":"Keynote presentations must be compressed and renamed before they can be uploaded with this browser.","DriveUI.Alert.Upload.Package.Title.Numbers":"Numbers spreadsheets must be compressed and renamed before they can be uploaded with this browser.","DriveUI.Alert.Upload.Package.Description.Pages":"To use this file with Pages, the name of the compressed file must end with .pages.zip.","DriveUI.Alert.Upload.Package.Description.Keynote":"To use this file with Keynote, the name of the compressed file must end with .%{extension}.zip.","DriveUI.Alert.Upload.Package.Description.Numbers":"To use this file with Numbers, the name of the compressed file must end with .numbers.zip","DriveUI.Alert.Upload.OutOfQuota.Title":"Not enough free space to upload %{fileName}.","DriveUI.Alert.Upload.OutOfQuota.Description":"Delete files from iCloudDrive or upgrade your storage plan.","DriveUI.Alert.Upload.Coalesced.HiddenFile.Title":"Your upload was cancelled because it contained items with invalid filenames.","DriveUI.Alert.Upload.Coalesced.HiddenFile.Description":"To upload these items, make sure the filename does not begin with a . (dot).","DriveUI.Alert.Upload.Coalesced.SizeTooBig.Title":"%{fileCount} files are too big to upload.","DriveUI.Alert.Upload.Coalesced.SizeTooBig.Description":"iCloudDrive on iCloud.com currently limits uploads to a maximum of 10 GB.","DriveUI.Alert.Upload.Coalesced.NotCompressed.Title":"%{fileCount} files were not uploaded because they must be compressed.","DriveUI.Alert.Upload.Coalesced.NotCompressed.Description":"Compress each file on your computer and upload the resulting .zip files.","DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Title":"Cannot upload %{num} files because they cant be opened by %{appName}.","DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Description":"Only files that can be opened by %{appName} can be uploaded to this app library.","DriveUI.Alert.Upload.Coalesced.OutOfQuota.Title":"%{fileCount} files cant be uploaded because there isnt enough free space.","DriveUI.Alert.Upload.Coalesced.OutOfQuota.Description":"Delete files from iCloudDrive or upgrade your storage plan.","DriveUI.Alert.Upload.Coalesced.Default.Title":"%{fileCount} files had errors and could not be uploaded.","DriveUI.Alert.Upload.Coalesced.Default.Description":"These files could not be uploaded for the reasons listed below.","DriveUI.Alert.Upload.Coalesced.Unknown.Title":"%{fileCount} files had errors and could not be uploaded.","DriveUI.Alert.Upload.Coalesced.Unknown.Description":"Try uploading the files again later.","DriveUI.Alert.Upload.Default.Title":"%{fileName} couldnt be uploaded.","DriveUI.Alert.Upload.Default.Description":"Try uploading the file again later.","DriveUI.Alert.Purge.Message.File.Single":"Are you sure you want to delete %{name}?","DriveUI.Alert.Purge.Message.File.Multiple":"Are you sure you want to delete these %{count} files?","DriveUI.Alert.Purge.Message.Folder.Single":"Are you sure you want to delete %{name}?","DriveUI.Alert.Purge.Message.Folder.Multiple":"Are you sure you want to delete these %{count} folders?","DriveUI.Alert.Purge.Message.Mix":"Are you sure you want to delete these %{count} items?","DriveUI.Alert.Purge.Description.File.Single":"This file will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Purge.Description.File.Multiple":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Purge.Description.Folder.Single":"This folder will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Purge.Description.Folder.Multiple":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Purge.Description.Mix":"They will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Delete.Message.File.Single":"Delete this shared file?","DriveUI.Alert.Delete.Message.File.Plural.Shared.Single":"One of these files is shared. Are you sure you want to delete these %{count} files?","DriveUI.Alert.Delete.Message.File.Plural.Shared.Plural":"Some of these files are shared. Are you sure you want to delete these %{count} files?","DriveUI.Alert.Delete.Message.File.Plural.Shared.All":"Delete %{count} shared files?","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Single":"One of the items in this folder is shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Plural":"Some of the items in this folder are shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.Folder.Single.Shared.Maybe":"Some items in this folder may be shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Single":"One of the items in these folders is shared. Are you sure you want to delete these %{count} folders?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Plural":"Some of the items in these folders are shared. Are you sure you want to delete these %{count} folders?","DriveUI.Alert.Delete.Message.Folder.Plural.Shared.Maybe":"Some items in these folders may be shared. Are you sure you want to delete these  %{count} folders?","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Single":"One of the items in the folder is shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Plural":"Some of the items in the folder are shared. Are you sure you want to delete %{folderName}?","DriveUI.Alert.Delete.Message.FileFolder.Single.Shared.Maybe":"Some items in the folder may be shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Single":"One of the items in the folders is shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Plural":"Some of the items in the folders are shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Plural.Shared.Maybe":"Some items in the folders may be shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.FileFolder.Any.Shared.Plural":"Some of these items are shared. Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Message.Desktop":"Delete the Desktop folder?","DriveUI.Alert.Delete.Message.Desktop.File.Single":"Delete the Desktop folder and one other file?","DriveUI.Alert.Delete.Message.Desktop.File.Plural":"Delete the Desktop folder and %{count} other files?","DriveUI.Alert.Delete.Message.Desktop.Folder.Single":"Delete the Desktop folder and one other folder?","DriveUI.Alert.Delete.Message.Desktop.Folder.Plural":"Delete the Desktop folder and %{count} other folders?","DriveUI.Alert.Delete.Message.Desktop.Mix":"Delete the Desktop folder and %{count} other items?","DriveUI.Alert.Delete.Message.Documents":"Delete the Documents folder?","DriveUI.Alert.Delete.Message.Documents.File.Single":"Delete the Documents folder and one other file?","DriveUI.Alert.Delete.Message.Documents.File.Plural":"Delete the Documents folder and %{count} other files?","DriveUI.Alert.Delete.Message.Documents.Folder.Single":"Delete the Documents folder and one other folder?","DriveUI.Alert.Delete.Message.Documents.Folder.Plural":"Delete the Documents folder and %{count} other folders?","DriveUI.Alert.Delete.Message.Documents.Mix":"Delete the Documents folder and %{count} other items?","DriveUI.Alert.Delete.Message.DesktopDocuments":"Delete the Desktop and Documents folders?","DriveUI.Alert.Delete.Message.DesktopDocuments.File.Single":"Delete the Desktop and Documents folders and one other file?","DriveUI.Alert.Delete.Message.DesktopDocuments.File.Plural":"Delete the Desktop and Documents folders and %{count} other files?","DriveUI.Alert.Delete.Message.DesktopDocuments.Folder.Single":"Delete the Desktop and Documents folders and one other folder?","DriveUI.Alert.Delete.Message.DesktopDocuments.Folder.Plural":"Delete the Desktop and Documents folders and %{count} other folders?","DriveUI.Alert.Delete.Message.DesktopDocuments.Mix":"Delete the Desktop and Documents folders and %{count} other items?","DriveUI.Alert.LockedItem.Delete.Single.Message":"%{name} cannot be deleted.","DriveUI.Alert.LockedItem.Delete.Single.Folder.Description":"This folder cannot be deleted from iCloudDrive.","DriveUI.Alert.LockedItem.Delete.Single.File.Description":"This file cannot be deleted from iCloudDrive.","DriveUI.Alert.LockedItem.Delete.Multiple.Message":"These items cannot be deleted.","DriveUI.Alert.LockedItem.Delete.Multiple.Description":"The selection contains locked files which can not be deleted from iCloudDrive.","DriveUI.Alert.Delete.Message.AppLibrary.Any.Item.Single":"Are you sure you want to delete %{appLibraryName}?","DriveUI.Alert.Delete.Message.AppLibrary.Any.Item.Plural":"Are you sure you want to delete these %{count} items?","DriveUI.Alert.Delete.Description.Desktop":"This folder may be needed by a Mac storing its Desktop folder on iCloudDrive.","DriveUI.Alert.Delete.Description.Documents":"This folder may be needed by a Mac storing its Documents folder on iCloudDrive.","DriveUI.Alert.Delete.Description.DesktopDocuments":"These folders may be needed by a Mac storing its Desktop and Documents folders on iCloudDrive.","DriveUI.Alert.Delete.Description.AppLibrary.Single":"The App Library will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Delete.Description.AppLibrary.Plural":"The App Libraries will be immediately deleted from iCloudDrive and all your iCloud devices.","DriveUI.Alert.Delete.Description.ShareByMe.Single":"Participants will no longer have access to %{fileName}.","DriveUI.Alert.Delete.Description.ShareByMe.Plural":"Participants will no longer have access to the %{count} items shared by you.","DriveUI.Alert.Delete.Description.ShareByMe.Maybe":"Participants will no longer have access to any items shared by you.","DriveUI.Alert.Delete.Description.ShareToMe.Single":"%{fileName} will be removed from all of your devices. To regain access, use the link you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.Plural":"The %{count} items shared to you will be removed from all of your devices. To regain access, use the links you were invited with.","DriveUI.Alert.Delete.Description.ShareToMe.Maybe":"Any items shared to you will be removed from all of your devices. To regain access, use the links you were invited with."})},function(e,t,i){e.exports=!i(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,i,h){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(a){h.d(i,"Store",function(){return r}),h.d(i,"StoreStatus",function(){return u});var e=h(1),t=h(3),o=h(2),s=h(180),c=h(311),l=h(62),n=h(82),r=e.CoreObject.extend(t.q,{staticMembers:{getStoreIdForPrimaryKey:function(e,t){return e||Object(o.y)("CW.Data.Store.getStoreIdForPrimaryKey: No model class provided.",{store:this}),t||Object(o.y)("CW.Data.Store.getStoreIdForPrimaryKey: No primary key provided.",{store:this,modelClass:e}),this.getPrimaryKeysToStoreIds(e)[t]||this.registerPrimaryKey(e,t)},setPrimaryKeyForStoreId:function(e,t){e||Object(o.y)("CW.Data.Store.setPrimaryKeyForStoreId: No storeId provided.",{store:this}),t||Object(o.y)("CW.Data.Store.setPrimaryKeyForStoreId: No primary key provided.",{store:this});var i=r.getModelClassForStoreId(e);i||Object(o.y)("CW.Data.Store.setPrimaryKeyForStoreId: No model class could be found for storeId: %{storeId}",{store:this,storeId:e}),this.registerPrimaryKey(i,t,e)},getModelClassForStoreId:function(e){return r.storeIdsToModelClass[e]},getPrimaryKeyForStoreId:function(e){return r.storeIdsToPrimaryKey[e]},getPrimaryKeysToStoreIds:function(e){var t=e.primaryKeysToStoreIds;if(!t){var i=this.modelClassToPrimaryKeysToStoreIds;(t=i.get(e))||(t={},i.set(e,t)),e.primaryKeysToStoreIds=t}return t},storeIdsToModelClass:{},storeIdsToPrimaryKey:{},modelClassToPrimaryKeysToStoreIds:new a.Map,resetStoreIds:function(){var e=this.storeIdsToModelClass,t=Object.values(e),i=Array.isArray(t),n=0;for(t=i?t:t[Symbol.iterator]();;){var r;if(i){if(n>=t.length)break;r=t[n++]}else{if((n=t.next()).done)break;r=n.value}r.primaryKeysToStoreIds=null}this.storeIdsToModelClass={},this.storeIdsToPrimaryKey={},this.modelClassToPrimaryKeysToStoreIds=new a.Map},registerPrimaryKey:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:++d,n=this.storeIdsToPrimaryKey,r=n[i];if(t===r)return i;var a=this.getPrimaryKeysToStoreIds(e);return a[t]=i,this.storeIdsToModelClass[i]=e,r&&delete a[r],n[i]=t,i},__QUALIFIED_CLASS_NAME__:"Store"},autocommit:!1,forkOnRead:!1,getStoreStatus:function(e,t){e||Object(o.y)("CW.Data.Store#getStoreStatus: No model class provided.",{store:this}),t||Object(o.y)("CW.Data.Store#getStoreStatus: No primary key provided.",{store:this,modelClass:e});var i=this.constructor.getStoreIdForPrimaryKey(e,t);if(this.isDataForked(i)){var n=u.DIRTY,r=this._changes,a=r&&r.getChangeForStoreId(i),s=a&&a.get("changeType");return s===l.a.WRITE.CREATE?n.CREATED:s===l.a.WRITE.UPDATE?n.UPDATED:s===l.a.WRITE.DESTROY?n.DESTROYED:n.READ}return null===this.readData(i)?u.CLEAN.DESTROYED:u.CLEAN},getModel:function(e,t){e||Object(o.y)("CW.Data.Store#getModel: No model class provided.",{store:this}),t||Object(o.y)("CW.Data.Store#getModel: No primary key provided.",{store:this,modelClass:e});var i=this.constructor.getStoreIdForPrimaryKey(e,t);if(this.hasDataFor(i))return this.materializeModel(i)},getAllModels:function(e){var t=this;e||Object(o.y)("CW.Data.Store#getAllModels: No model class provided.",{store:this});var i=Array.from(Object.values(this.constructor.getPrimaryKeysToStoreIds(e))).filter(function(e){return t.hasDataFor(e)});return n.ModelArray.createFromStoreIds(i,e,this)},materializeModel:function(e){e||Object(o.y)("CW.Data.Store#materializedModel: No store ID provided.",{store:this});var t=this._materializedModels,i=t[e];if(!i&&this.hasDataFor(e)){var n=this.constructor.getModelClassForStoreId(e);n||Object(o.y)("CW.Data.Store#materializeModel: No model class defined for store ID: `"+e+"`",{store:this,storeId:e}),this.constructor.getPrimaryKeyForStoreId(e)||Object(o.y)("CW.Data.Store#materializeModel: No primary key defined for store ID: `"+e+"`",{store:this,modelClass:n,storeId:e}),i=n.createWithStore(this,e),t[e]=i}return i&&i.isPooled&&i.constructor.reclaim(i),i},getExistingModel:function(e){return this._materializedModels[e]},hasExistingModel:function(e){return!!this.getExistingModel(e)},linkModel:function(e,t,i){var n,r;e||Object(o.y)("CW.Data.Store#linkModel: No model provided.",{store:this}),t||(r=e.constructor,null==(n=e.getPrimaryKey())&&i&&(n=i[r.getDataKeyForKey(r.primaryKey)]),t=this.constructor.getStoreIdForPrimaryKey(r,n));var a=e._cwStore;if(a){if(a===this)return;Object(o.y)("CW.Data.Store#linkModel: Model has previously been linked to a store.",{store:this,storeId:t,model:e,primaryKey:n,previousStore:a,newStore:this})}this.hasDataFor(t)||(this.writeData(t,i||e.getDataHash()),delete e.__cwDataHash);var s=(e._cwStore=this)._materializedModels;s[t]&&Object(o.y)("CW.Data.Store#linkModel: Attempting to register model that already exists.",{store:this,storeId:t,modelClass:r,primaryKey:n,previousRegisteredModel:s[t],newRegisteredModel:e}),(s[t]=e)._cwStoreId=t},unlinkModel:function(e){e||Object(o.y)("CW.Data.Store#unlinkModel: No model provided.",{store:this}),e._cwStore=null;var t=this._materializedModels;t&&delete t[e._cwStoreId],e._cwStoreId=null},deleteModels:function(e,t){var i;if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++){var a=t[n];i=this.constructor.getStoreIdForPrimaryKey(e,a),this.deleteData(i)}else i=this.constructor.getStoreIdForPrimaryKey(e,t),this.deleteData(i);this.dataDidChange()},dataDidChange:Object(t.V)(),readData:function(e){if(this.forkOnRead){this._forkIfNeeded(e);var t=this._materializedModels[e];t&&t.propertyChanged("storeStatus")}return this._dataHashes[e]},readDataForPrimaryKey:function(e,t){var i=this.constructor.getStoreIdForPrimaryKey(e,t);return this.readData(i)},readOriginalData:function(e){var t=this._originalDataHashes;if(t)return t[e]},willWriteData:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this._forkIfNeeded(e,t)},didWriteData:function(e){this.recordChangeToData(e)},writeData:function(e,t){this.willWriteData(e,!1),this._dataHashes[e]=t,this.didWriteData(e)},writeDataProperty:function(e,t,i){var n=this._dataHashes;if(this.hasDataFor(e)){var r=n[e][t];if(Object(o.s)(r,i))return}this.willWriteData(e);var a=n[e];a||(a=n[e]={}),a[t]=i,this.didWriteData(e)},updateData:function(e,t){if(this.hasDataFor(e)){this.willWriteData(e);var i=this._dataHashes[e];for(var n in t)i[n]=t[n];this.didWriteData(e)}else this.writeData(e,t)},resetData:function(e){delete this._dataHashes[e];var t=this._originalDataHashes;t&&delete t[e]},resetAllData:function(){for(var e=this._dataHashes,t=Object.keys(e),i=0,n=t.length;i<n;i++)delete e[t[i]];delete this._originalDataHashes},deleteData:function(e){return this.writeData(e,null)},hasDataFor:function(e){return!!this._dataHashes[e]},isDataForked:function(e){return this._dataHashes.hasOwnProperty(e)},_dataHashes:Object(e.instance)(Object),_materializedModels:Object(e.instance)(Object),_originalDataHashes:null,_autocommitOnChange:Object(t.U)("dataDidChange",function(){this.get("autocommit")&&this._changes&&0<this._changes.get("length")&&this.commit()}),_forkIfNeeded:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!this.isDataForked(e)){var i=this._dataHashes,n=i[e];return(this._originalDataHashes||(this._originalDataHashes={}))[e]=Object(o.r)(n),i[e]=n&&t?Object(o.r)(n):{},!0}return!1},recordChangeToData:function(e){if(!e)throw Object(o.y)("Recording changes in Store for non-existent storeId",{storeId:e});var t=this.readOriginalData(e),i=this.readData(e),n=c.a.create(e,t,i);(this._changes||(this._changes=s.a.create())).recordChange(n);var r=this._materializedModels[e];return r&&r.propertyChanged("storeStatus"),n},_changes:null}),u=Object(e.createEnumGroup)("STATUS",function(e){e("CLEAN",function(e){e("DESTROYED")}),e("DIRTY",function(e){e("READ"),e("CREATED"),e("UPDATED"),e("DESTROYED")})}),d=0}.call(i,h(5))},function(e,t,i){var n=i(22),r=i(73);e.exports=i(31)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"VALUE_SENTINEL",function(){return o}),r.d(t,"Property",function(){return c}),r.d(t,"property",function(){return d});var _=r(2),i=r(260),n=r(60),a=r(40),m=r(262),h=r(452),s=r(453),g={},o="$value",c=n.a.extend(i.a,{staticMembers:{_getForObjectString:"",_setForObjectReadWriteString:"",__QUALIFIED_CLASS_NAME__:"Property"},readOnly:!1,defaultValue:void 0,_isTemplate:!0,initializeMember:function(){var e=arguments;if(this._isTemplate){var t=this.clone();return t._isTemplate=!1,t}return this.__s._$3lr$initializeMember.apply(this,e)},clone:function(){return this.constructor.create(Object.assign({},this))},set:null,get:null,setterReturnArray:[],usesBuiltinGet:!1,usesBuiltinSet:!1,isComputedProperty:!1,type:null,typeIsPrimitive:!1,strong:!1,weak:!1,unsafe:!1,reference:"",validators:null,init:function(e){Object(_.O)(e)?(this.defaultValue=e.defaultValue,delete e.defaultValue,this.__s._$5o_$init.call(this,e)):(this.defaultValue=e,this.__s._$5o_$init.call(this));var t,i=this.validators;if(i&&i.length)for(t=0;t<i.length;++t){var n=i[t];Object(_.G)(n,r(101).Validator)||(i[t]=n.create())}},requiresSupport:m.a,allowedOnClass:!0,getValue:function(){return this.defaultValue},_ivar:null,_getParamOffset:0,_setParamOffset:0,_callsGetSuper:!1,_callsSetSuper:!1,_validateType:function(){return!0},_manageSwappingValues:function(e,t,i){var n="Strong ref for `"+this.key+"`";Object(h.f)(i,e,n),Object(h.e)(t,e,n)},_referenceId:void 0,wasRegistered:function(e,t,i){var n=arguments,r=this.get;if(r){var a=r.__CW__getter;if(a){var s=r.__superMap;for(var o in s)this.__superMap[o]="get";this.get=a}}var c=this.set;if(c){var l=c.__CW__setter;if(l){var u=c.__superMap;for(var d in u)this.__superMap[d]="set";this.set=l}}this.__s._$6_Q$wasRegistered.apply(this,n),i&&this._inheritFromSuperMap(e,i,t),this._didFirstPropertyRegister||(this.writeDependencies||!this.dependencies||this.readOnly||(this.writeDependencies=this.dependencies),i&&this.inheritFrom(i),this._setUpInternalVariables(t),this._synthesizeInternalMethods(),this._setUpReferenceFlag(e,t),this.reference===h.c&&this.defaultValue&&Object(_.y)("A weak-reference property may not provide a default value ('%{key})'.",{key:t,object:e}),this._setUpReferenceManagers(),this._didFirstPropertyRegister=!0),this._moveDefaultValuesToPrepareForNativeAccessors(e,t),e[m.a.staticMembers.defaultValuePrefix+t]=e[t],this.setUpNativeAccessors(e,t)},inheritFrom:function(e){this.get||e.usesBuiltinGet||(this.get=e.get),this.set||e.usesBuiltinSet||(this.set=e.set),e.dependencies&&(this.dependencies?this._callsGetSuper&&(this.dependencies=e.dependencies.concat(this.dependencies),this._getParamOffset=e.dependencies.length):this.dependencies=e.dependencies),e.writeDependencies&&(this.writeDependencies?this._callsGetSuper&&(this.writeDependencies=e.writeDependencies.concat(this.writeDependencies),this._setParamOffset=e.writeDependencies.length):this.writeDependencies=e.writeDependencies),e.hasOwnProperty("readOnly")&&!this.hasOwnProperty("readOnly")&&(this.readOnly=e.readOnly),e.hasOwnProperty("strong")&&!this.hasOwnProperty("strong")&&(this.strong=e.strong),e.hasOwnProperty("weak")&&!this.hasOwnProperty("weak")&&(this.weak=e.weak),e.hasOwnProperty("unsafe")&&!this.hasOwnProperty("unsafe")&&(this.unsafe=e.unsafe)},_inheritFromSuperMap:function(e,t,i){var n=e.__s,r=this.__superMap;for(var a in r){var s=r[a];if("get"===s)this._callsGetSuper=!0;else{if("set"!==s)continue;this._callsSetSuper=!0}n[a]=t[s]}},_setUpReferenceFlag:function(e,t){var i=this.strong,n=this.weak,r=this.unsafe;i?(n&&Object(_.y)("Cannot define a property as both strong and weak.",{key:t,object:e}),r&&Object(_.y)("Cannot define a property as both strong and unsafe.",{key:t,object:e}),this.reference=h.a):n?(r&&Object(_.y)("Cannot define a property as both weak and unsafe.",{key:t,object:e}),this.reference=h.c):this.reference=h.b},_setUpReferenceManagers:function(){var e=this.reference;e===h.b||this.typeIsPrimitive?this._manageSwappingValues=_.e:e===h.c&&(this._manageSwappingValues=u,this._setUpWeakRefHashIfNeeded=l)},_setUpInternalVariables:function(e){this._ivar="_"+e,this.dependencies=this._validateDependecyArray(this.dependencies),this.writeDependencies=this._validateDependecyArray(this.writeDependencies)},_moveDefaultValuesToPrepareForNativeAccessors:function(e,t){var i=m.a.staticMembers.defaultValuePrefix;e.hasOwnProperty(t)&&(e[i+t]=e[t])},_validateDependecyArray:function(e){return e},_synthesizeInternalMethods:function(){if(this._synthesizeAccessorsIfNeeded(),this._mutateAccessorsForSuperIfNeeded(),this._synthesizeInternalSet(),this._fillSetPathMap(),Object(s.a)(this),this._setUpInternalAccessors(),this.getForObject||this._synthesizeGetForObject(),!this.setForObject){var e=this.writeDependencies;e&&(this.setterReturnArray=new Array(e.length)),this._synthesizeSetForObject()}},_synthesizeAccessorsIfNeeded:function(){this.get||(this.usesBuiltinGet=!0,this.get=function(e,t,i,n){return e}),this.set||(this.usesBuiltinSet=!0,this.set=function(e,t,i,n,r){return e}),this.isComputedProperty=!this.usesBuiltinGet||!this.usesBuiltinSet},_mutateAccessorsForSuperIfNeeded:function(){var r=this.get;if(!r.generated){var a=this._getParamOffset;this.get=function(e,t,i,n){return r.call(this,e,t,a,n)},this.get.generated=!0}var s=this.set;if(!s.generated){var o=this._setParamOffset;this.set=function(e,t,i,n,r){return s.call(this,e,t,i,o,r)},this.set.generated=!0}},_fillSetPathMap:function(){var e=this.writeDependencySetPathMap;e||(e=this.writeDependencySetPathMap=[!1]);for(var t=e.length,i=0;i<t;i++)e[i]=e[i]?this.internalSetPath:this.internalSet},initForObject:function(e,t){this._setUpWeakRefHashIfNeeded(e,t)},_setUpWeakRefHashIfNeeded:_.e,setInitialValueForObject:function(e,t,i){void 0!==i&&this.setForObjectReadWrite(e,t,i)},disposeForObject:function(e,t){var i=this._ivar;this._manageSwappingValues(e,e[i]),e[i]=void 0},setUpNativeAccessors:function(e,t){var i=this,n=this.setForObject,r=this.getForObject;Object.defineProperty(e,t,{get:function(e){return r.call(i,this,t)},set:function(e){return n.call(i,this,t,e)},configurable:!0})},_setUpInternalAccessors:_.e,getForObject:null,_synthesizeGetForObject:function(){var i=this.dependencies,n=this.get,r=this,a=m.a.staticMembers.defaultValuePrefix+this.key,s=this._ivar;this.getForObject=function(e,t){return e.hasOwnProperty("propertiesAreInitialized")?n.call(e,e[s],i,0,r):e[a]}},setForObject:null,setForObjectReadWrite:null,_synthesizeSetForObject:function(){var s=this.writeDependencies,o=this.setterReturnArray,c=this.set,l=this,u=this._validateType,d=o.length,h=this.writeDependencySetPathMap;this.clearSetterReturnArray(o);var p=this._ivar,f=m.a.staticMembers.defaultValuePrefix+this.key;this.setForObjectReadWrite=function(e,t,i){if(e.hasOwnProperty("propertiesAreInitialized")){var n=e[p],r=c.call(e,i,n,o,0,l);u.call(e,r)||Object(_.y)("Type error: cannot set value `%{value}` to property `%{key}` on %{object}.",{object:e,key:t,value:r,setValue:i}),e[p]=r;for(var a=0;a<d;a++)o[a]!==g&&h[a](e,s[a],o[a]);return this._manageSwappingValues(e,n,r),this.clearSetterReturnArray(o),r}e[f]=i},this.readOnly?(f=m.a.staticMembers.defaultValuePrefix+this.key,this.setForObject=function(e,t,i){e.hasOwnProperty("propertiesAreInitialized")?Object(_.y)("Cannot set `"+t+"`: it is read-only.",{key:t,object:e,property:this,value:i}):e[f]=i}):this.setForObject=this.setForObjectReadWrite},clearSetterReturnArray:function(e){for(var t=e.length,i=0;i<t;i++)e[i]=g},internalGet:function(e,t){return e.get(t)},internalGetPath:function(e,t){return e.getPath(t)},_synthesizeInternalSet:function(){var n=o,r=this._ivar;this.internalSet=function(e,t,i){return t===n?e[r]=i:e.set(t,i)}},internalSet:null,internalSetPath:function(e,t,i){return e.setPath(t,i)},__superMap:{_$3lr$initializeMember:"initializeMember",_$5o_$init:"init",_$6_Q$wasRegistered:"wasRegistered"}});function l(e,t){var i=e._weakReferenceTokens;i||(i=e._weakReferenceTokens={}),i[t]=a.b}function u(e,t,i){var n=this.key,r=e._weakReferenceTokens,a=r[n];Object(h.h)(t,a);var s=Object(h.g)(i,e,e.weaklyReferencedObjectWasDisposed,n);r[n]=s}var d=function(e){return c.define.apply(c,arguments)}},function(e,t,i){"use strict";i.d(t,"a",function(){return l}),i(144);var c=i(0),n=i(694),r=i(44),a=i(84),s=i(65),o={NONE:0,ONE:1,ANY:1/0},l=r.a.extend({staticMembers:{isARootFolder:function(e,t){return!!t&&(this.isDriveRootFolder(e,t)||this.isTrashRootFolder(e,t))},isDriveRootFolder:function(e,t){return!!t&&e===t.config.driveRootFolderId},isTrashRootFolder:function(e,t){return!!t&&e===t.config.trashRootFolderId},__QUALIFIED_CLASS_NAME__:"Folder"},numberOfItems:c._103(),supportedExtensions:c._103(),maxDepth:c._103(),canModifyContents:c._105(!0),canListContents:c._105(!0),cascadeAccessRights:c._105(!0),fullName:c._105({readOnly:!0,dependencies:[".name"],get:function(){return this.name}}),isDriveRoot:c._105({dependencies:["id","fileSystem"],readOnly:!0,get:Object.assign(function(){return this.constructor.isDriveRootFolder(this.id,this.fileSystem)},{__CW__getter:function(e,t,i,n){return this.constructor.isDriveRootFolder(n.internalGet(this,t[0+i]),n.internalGet(this,t[1+i]))}})}),isTrashRoot:c._105({dependencies:["id","fileSystem"],readOnly:!0,get:Object.assign(function(){return this.constructor.isTrashRootFolder(this.id,this.fileSystem)},{__CW__getter:function(e,t,i,n){return this.constructor.isTrashRootFolder(n.internalGet(this,t[0+i]),n.internalGet(this,t[1+i]))}})}),isSystemFolder:c._107({readOnly:!0,get:function(){var e=this.sanitizedName,t=this.constructor,i=t.isARootFolder(this.id,this.fileSystem),n=t.isARootFolder(this.parentId,this.fileSystem)&&("Desktop"===e||"Documents"===e);return i||n}}),sanitizedName:c._103({dataKey:"name",decode:function(e){return this.isAppLibrary&&!e?function(e){var t=e.zone;if("iCloud.com.savysoda.iSpreadsheet"===t)return"iSpreadsheet";var i=e.fileSystem;i&&i.loggingService.recordStat("Detected an App Library with no name");return(t=t&&t.replace(/^iCloud\./,""))||""}(this):e}}),name:c._105({dependencies:["sanitizedName","zone"],get:Object.assign(function(){var e=c.Y.sharedInstance,t=this.sanitizedName;if(this.isSystemFolder){if(this.isDriveRoot)return c._99("DriveFS.RootFolderName");if(this.isTrashRoot)return c._99("DriveFS.Default.FolderName.RecentlyDeleted");var i="DriveFS.LocalizedItemName."+t;if(e.hasValue(i))return c._99(i)}else if(this.zone){var n="DriveFS.LocalizedAppLibraryName."+this.zone.toLowerCase();if(this.isAppLibrary&&e.hasValue(n))return c._99(n)}return u(t)},{__CW__getter:function(e,t,i,n){var r=c.Y.sharedInstance,a=n.internalGet(this,t[0+i]);if(this.isSystemFolder){if(this.isDriveRoot)return c._99("DriveFS.RootFolderName");if(this.isTrashRoot)return c._99("DriveFS.Default.FolderName.RecentlyDeleted");var s="DriveFS.LocalizedItemName."+a;if(r.hasValue(s))return c._99(s)}else if(n.internalGet(this,t[1+i])){var o="DriveFS.LocalizedAppLibraryName."+n.internalGet(this,t[1+i]).toLowerCase();if(this.isAppLibrary&&r.hasValue(o))return c._99(o)}return u(a)}}),set:Object.assign(function(e){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),this.sanitizedName=e},{__CW__setter:function(e,t,i,n,r){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),i[0+n]=e}}),writeDependencySetPathMap:["false"]}),icons:c._103(),content:c._105({strong:!0,readOnly:!0,get:function(){var e=this._folderContent;return e||(e=this._folderContent=this.loadFolderContent()),e}}),getAllDescendents:function(){return function e(t,i){for(var n=t.content,r=0;r<n.length;r++){var a=n.objectAt(r);i.add(a),(a.isFolder||a.isAppLibrary)&&e(a,i)}return i}(this,new Set)},loadFolderContent:function(){return n.a.create(this)},acceptsItems:function(e){if(-1<e.indexOf(this))return!1;if(e.some(function(e){return e.isAppLibrary}))return!1;if(this.transactionState!==s.a.Prepared)return!1;if(!1===this.canModifyContents)return!1;var t=this.getContainingAppLibrary();if(t){var i=t.maxDepth;if(e.some(function(e){if(e.isFolder&&o[i]<=this.depth)return!0},this))return!1}return!e.some(function(e){return e.isFolder||e.share===a.a.TO_ME?e.zone!==this.zone:!this.acceptsFilesWithExtension(e.extension)},this)},acceptsFilesWithExtension:function(e){var t=this.isAppLibrary?this:this.getContainingAppLibrary();if(t){var i=t.supportedExtensions,n=e?e.toLowerCase():null;if(i&&i.indexOf(n)<0)return!1}return!0},getContainingAppLibrary:function(){for(var e=this.parent;e;){if(e.isAppLibrary)return e;e=e.parent}return null},getAppLibrary:function(){if(this.isAppLibrary)return this;for(var e=this.parent;e;){if(e.isAppLibrary)return e;e=e.parent}return null},prepareForTransaction:function(e){this.content.prepareForTransaction(e)},finalizeForTransaction:function(e){this.content.finalizeForTransaction(e)}});function u(e){var t=e;return t&&(t=(t=t.replace(/:/g,"/")).replace(/(\n|\r)/g," ")),t||""}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(8).m("BRApp.IconDisplaySizes",function(e){e("LARGE"),e("MEDIUM")})},function(e,t,i){var n=i(230),r=i(77);e.exports=function(e){return n(r(e))}},function(e,t,i){var r=i(6),a=i(87),s=i(19);e.exports=function(e,t){var i=(a.Object||{})[e]||Object[e],n={};n[e]=t(i),r(r.S+r.F*s(function(){i(1)}),"Object",n)}},function(e,f,_){"use strict";(function(n){_.d(f,"b",function(){return i}),_.d(f,"a",function(){return e});var u=_(2),s="__s",i=0,e={isClass:!0,name:null,isNamed:null,mixins:[],ancestors:[],superclass:null,create:function(){var e=new this.Constructor;return e.init.apply(e,arguments),e._baseInitCalled||Object(u.y)("Base init was never invoked. Overridden init methods must always call `super()`."),e.isInitialized=!0,e},mixinWasApplied:u.e,isInitialized:!0,extend:function(){var e=n.Object.create(this),t=e.prototype=n.Object.create(e.prototype);e.isInitialized=!1,t.isInitialized=!1,e.mixins=e.mixins.slice();var i=new Function;return i.prototype=t,e.Constructor=i,(t.constructor=e).ancestors=this.ancestors.slice(),e.ancestors.push(this),e.superclass=this,d(e,arguments),e._baseInitCalled=!1,t._baseInitCalled=!1,e.init(),e._baseInitCalled||Object(u.y)("Base init was never invoked. Overridden init methods must always call `super()`."),e.isInitialized=!0,e},init:function(){this._baseInitCalled=!0},hasMixin:function(e){return 0<=this.mixins.indexOf(e)},subclassOf:function(e){return 0<=this.ancestors.indexOf(e)},kindOf:function(e){return!!e&&(this.hasMixin(e)||this.subclassOf(e)||this===e)},toString:function(){return"[Class "+Object(u.B)(this)+"]"},toJSON:function(){return this.toString()},prototype:{_cwGUID:"",init:function(e){1<arguments.length&&Object(u.y)("Default initializer supports at most one argument. If you would like to apply a mixin it should be done when calling .extend()."),p(this,e),this.trackReferences&&(this._trackRetain=r,this._trackRelease=a,this.referenceTracker={}),this._baseInitCalled=!0},_baseInitCalled:!1,_metadataKeysForCreate:null,isObject:!0,isInitialized:!0,isDisposing:!1,isDisposed:!1,_retainCount:0,retain:function(e,t){this.isDisposed&&Object(u.y)("Cannot retain an object that has already been disposed.",{object:this,type:this.constructor.name,referencer:e,description:t}),this._retainCount++,this._trackRetain(e,t);var i=this._autoreleaseForTransferToken;return isNaN(i)||(this._autoreleaseForTransferToken=NaN,Object(u.g)(this,i)),this},release:function(e,t){var i=--this._retainCount,n=this._autoreleaseForTransferToken;return isNaN(n)||(this._autoreleaseForTransferToken=NaN),this._trackRelease(e,t),i<0&&Object(u.y)("Cannot release an object more times than it has been retained.",{object:this,type:this.constructor.name,referencer:e,description:t,referenceTracker:this.referenceTracker,overreleasedReference:this.overreleasedReference}),0===i&&(this.cleanup(),this._baseCleanupCalled||Object(u.y)("Base cleanup was never invoked. Overridden cleanup methods must always call `$super()`.",this),this._baseCleanupCalled=!1,this._captureDisposingObjectForPool(),this.isPooled?(this.didEnterPool(),this._baseDidEnterPoolCalled||Object(u.y)("Base didEnterPool was never invoked. Overridden didEnterPool methods must always call `$super()`.",this),this._baseDidEnterPoolCalled=!1):(this.isDisposing=!0,this.dispose(),this._baseDisposeCalled||Object(u.y)("Base dispose was never invoked. Overridden dispose methods must always call `$super()`.",this),this.isDisposing=!1,this.isDisposed=!0)),this},autorelease:function(e,t){return Object(u.k)(this,e,t),this},_autoreleaseForTransfer:function(e,t){return this._autoreleaseForTransferToken=Object(u.k)(this,e,t),this},_autoreleaseForTransferToken:NaN,trackReferences:!1,referenceTracker:null,overreleasedReference:null,cleanup:function(){!function(e){var t=e._weakReferences;if(t){var i,n,r,a,s=t.length,o=_(258).NonObservableBatchSetter._bestBatchSetterClass.begin();for(i=0;i<s;i+=3)(r=t[i])&&(n=t[i+1],a=t[i+2],n.call(r,a,o));o.end(),t.length=0}}(this),this._baseCleanupCalled=!0},didEnterPool:function(){this._baseDidEnterPoolCalled=!0},dispose:function(){this._baseDisposeCalled=!0},_baseCleanupCalled:!1,_baseDidEnterPoolCalled:!1,_baseDisposeCalled:!1,_captureDisposingObjectForPool:u.e,registerWeakReference:function(e,t,i){var n,r=this._weakReferences;if(r){var a=this._weakReferenceAvailableIndicesLength;0<=a?(n=this._weakReferenceAvailableIndices[a],this._weakReferenceAvailableIndicesLength=a-1):n=r.length+1}else r=this._weakReferences=[],this._weakReferenceAvailableIndices=[],this._weakReferenceAvailableIndicesLength=-1,n=1;return r[n-1]=e,r[n]=t,r[n+1]=i,n},deregisterWeakReference:function(e){var t=this._weakReferences;t[e-1]||(e===i?Object(u.y)("Attempted to deregister the null weak reference token.",this):Object(u.y)("Cannot deregister a weak reference that wasn't registered or was previously deregistered.",this)),t[e-1]=t[e]=t[e+1]=null,this._weakReferenceAvailableIndices[++this._weakReferenceAvailableIndicesLength]=e},_weakReferences:null,_weakReferenceAvailableIndices:null,_weakReferenceAvailableIndicesLength:-1,_trackRetain:u.e,_trackRelease:u.e,hasMixin:function(e){return this.constructor.hasMixin(e)},instanceOf:function(e){if(!e)return!1;if(e.isClass){var t=e&&e.Constructor;return!!t&&this instanceof t}return this.hasMixin(e)}}};Object.defineProperties(e,{name:{get:function(){return Object(u.B)(this)}},isNamed:{get:function(){return this.hasOwnProperty("__QUALIFIED_CLASS_NAME__")}}});var t=new Function;function d(e,t){var i,n,r,a,s,o,c,l=t.length;for(i=0;i<l;i++)(n=t[i]).isClass&&Object(u.y)("Error: attempting to mixin class "+n.toString()+" as a mixin to "+e.toString()+". Cannot use classes as mixins.",{class:e,mixin:n}),e.hasMixin(n)||(r=e,c=o=s=void 0,(s=(a=n).mixinDependencies)&&d(r,s),r.mixins.push(a),h(r,o=a.staticMembers),p(r,o),h(c=r.prototype,a),p(c,a),r.mixinWasApplied(a));return e}function h(e,t){if(t){var i=t.__superMap,n=e[s];for(var r in n=n?Object.create(n):{},i){var a=i[r];n[r]=e[a]}e[s]=n}}t.prototype=e.prototype,e.Constructor=t,e.prototype.constructor=e;var r=function(e,t){var i=o(this.referenceTracker,e,t),n=++i.referenceCount;i.highestReferenceCount=Math.max(n,i.highestReferenceCount);var r=l();i.timestamps.push(r)},a=function(e,t){var i=o(this.referenceTracker,e,t),n=--i.referenceCount,r=0-l();i.timestamps.push(r),n<0&&(i.hasOverreleased=!0,this.overreleasedReference=i)};function o(e,t,i){var n=t?Object(u.B)(t):"Unknown referencer",r=i?i+" - "+n:n,a=e[r];return a||(a=e[r]={descriptor:r,referenceCount:0,highestReferenceCount:0,timestamps:[],hasOverreleased:!1}),a}var c,l=(c=Date.now(),function(){return(Date.now()-c)/1e3});function p(e,t){if(t){var i=Object.getOwnPropertyNames(t);i.push.apply(i,Object.getOwnPropertySymbols(t));for(var n=i.length,r=0;r<n;r++){var a=i[r];if("staticMembers"!==a&&"mixinDependencies"!==a){for(var s=t[a];s&&s.initializeMember;)s=s.initializeMember(e,a);void 0!==s&&(e[a]=s)}}}}}).call(f,_(5))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ObservableArray",function(){return _});var n=i(2),r=i(1),a=i(169),s=i(268),o=i(21),c=i(20),l=i(477),u=i(479),d=i(481),h=i(18),p=i(131),f=i(487),_=s.a.extend(c.a,u.a,f.a,{staticMembers:{INSERT:"INSERT",REMOVE:"REMOVE",shouldAutomaticallySubclass:!0,__QUALIFIED_CLASS_NAME__:"ObservableArray"},isObservable:!0,lastItem:Object(h.observableProperty)({dependencies:["length","contentsDidChangeUntracked"],writeDependencies:[],get:Object.assign(function(){return this.objectAt(this.length-1)},{__CW__getter:function(e,t,i,n){return this.objectAt(n.internalGet(this,t[0+i])-1)}})}),itemsWillChange:function(){0<this._ignoreCount||(o.a.pause(),this.changes||(this.changes=this.changesClass.acquire(this)))},itemsWereInserted:function(e,t){if(!(0<this._ignoreCount||t<=0)){var i,n,r=this.changes;if(g(this)){var a=e+(t-1);for(i=e;i<=a;i++)r.recordInsertion(i,this._array[i])}else r.lengthDelta+=t;var s,o,c=this._iterators;for(n=c.length,i=0;i<n;i++)(s=c[i]).shouldObserveChanges&&e<=(o=s.position)&&(s.position=o+t)}},itemsWillBeRemoved:function(e,t){if(!(0<this._ignoreCount||t<=0)){var i,n=this.changes,r=e+t;if(g(this))for(i=r-1;e<=i;i--)n.recordRemoval(i,this._array[i]);else n.lengthDelta-=t;var a,s,o,c=this._internalLength===t,l=this._iterators;for(i=0,a=l.length;i<a;i++)(s=l[i]).shouldObserveChanges&&(o=s.position,c?(s.position=void 0,s.wasRemoved=!0):e<=o&&(o<r?(s.position=void 0,s.wasRemoved=!0):s.position=o-t))}},itemsDidChange:function(){0<this._ignoreCount||(this.notifyIfNecessary(),o.a.resume())},notifyIfNecessary:function(){var e,t;0===this._batchCount&&(t=(e=this).changes,e.contentsDidChangeUntracked(),t&&(t.length||0!==t.lengthDelta)&&e._shouldFireLengthChange&&(0!==t.lengthDelta&&e.propertyChanged("length"),e.contentsDidChange(t)))},_shouldFireLengthChange:!0,length:Object(h.observableProperty)({writeDependencies:["contentsDidChange","contentsDidChangeUntracked"],cacheable:!1,set:Object.assign(function(){var e=arguments;if(this._shouldFireLengthChange=!1,this.__s._$2hk$set.apply(this,e),this._shouldFireLengthChange=!0,0===this._batchCount){this.contentsDidChangeUntracked=void 0;var t=this.changes;t&&(this.contentsDidChange=t)}},{__CW__setter:function(e,t,i,n,r){var a=arguments;if(this._shouldFireLengthChange=!1,this.__s._$2hk$__CW__setter.apply(this,a),this._shouldFireLengthChange=!0,0===this._batchCount){i[1+n]=void 0;var s=this.changes;s&&(i[0+n]=s)}},__superMap:{_$2hk$__CW__setter:"__CW__setter"}}),didChange:function(){},writeDependencySetPathMap:["false","false"],__superMap:{_$2hk$set:"set"}}),sort:function(){var e=arguments;this.beginBatchedChanges();var t=this.__s._$2ug$sort.apply(this,e);return this.endBatchedChanges(),t},addEach:function(){var e=arguments;this.beginBatchedChanges();var t=this.__s._$2x4$addEach.apply(this,e);return this.endBatchedChanges(),t},reverse:function(){var e=arguments;this.beginBatchedChanges();var t=this.__s._$2zT$reverse.apply(this,e);return this.endBatchedChanges(),t},changes:Object(r.property)(),changesClass:a.a,_batchCount:0,beginBatchedChanges:function(){this._batchCount++},endBatchedChanges:function(){this._batchCount--,this.notifyIfNecessary(),this._batchCount<0&&Object(n.y)("Mismatched batched changes in observable array: "+this,{array:this}),this.notifyEverythingChangedIfNecessary()},swap:function(){var e=arguments;this.beginBatchedChanges();var t=this.__s._$3Jx$swap.apply(this,e);return this.endBatchedChanges(),t},move:function(){var e=arguments;this.beginBatchedChanges();var t=this.__s._$3NS$move.apply(this,e);return this.endBatchedChanges(),t},contentsDidChange:Object(p.signal)({didPropagate:function(){if(0===this._batchCount){var e=this.changes;e&&(this.changesClass.returnToPool(e),this.changes=null)}}}),iteratorClass:l.a,serializer:Object(h.observableProperty)(),_iterators:Object(r.instance)(Array),_registerIterator:function(e){this._iterators.push(e)},_unregisterIterator:function(e){Object(n._2)(e,this._iterators)},contentsDidChangeUntracked:Object(p.signal)(),HandleProviderClass:d.a,_ignoreCount:0,beginIgnoringChanges:function(){this._ignoreCount++},endIgnoringChanges:function(){this._ignoreCount--,0===this._ignoreCount&&(this._notifyEverythingChanged=!0,this.notifyEverythingChangedIfNecessary())},notifyEverythingChangedIfNecessary:function(){0===this._batchCount&&this._notifyEverythingChanged&&(this.propertyChanged("length"),this.everythingChanged())},everythingChanged:Object(p.signal)({didPropagate:function(){this._notifyEverythingChanged=!1}}),__superMap:{_$2ug$sort:"sort",_$2x4$addEach:"addEach",_$2zT$reverse:"reverse",_$3Jx$swap:"swap",_$3NS$move:"move"}}),m=[];function g(e){var t=e.downstreamNodes.contentsDidChange,i=0<o.a.getChildrenIDs(t,m).length;return m.length=0,i}},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),t.b=o,i(292);var _=i(3),m=i(2),n=i(1),r=i(135),a="_renderedValue",s={mixinDependencies:[r.a],staticMembers:{init:function(e){this.__s._$1JE$init.call(this,e);var t,i=this.template;if(i){Object(m.O)(i)||Object(m.y)("Template must be a $template");var n=0;!this.hasOwnProperty("template")&&i.classes&&(n=i.classes.length);var r=this._templateExtensionsArray;if(r){for(var a=r.length,s=0;s<a;s++)i=g(i,r[s]);this.template=i,delete this._templateExtensionsArray,(t=r).length=0,y.push(t)}var o=i.classes;if(o)for(var c=n,l=o.length;c<l;c++)if("string"==typeof o[c]){this.className=!1;break}this.registerOutletAndSubOutlets(i);var u=this._handledOutlets,d=this.superclass._handledOutlets,h=this.prototype;for(var p in d)if(d[p]&&!u[p])if(h.getMetadata(p).outletProperty)Object(m.y)("Template error: template redefined with missing outlet: %{outletName}. If you are implementing this property in a different way, you may suppress this error by redefining the property in your subclass.",{outletName:p});else{var f="_"+p+"OutletObserver";h.registerMetadata(f,Object(_.U)(p,m.e))}}},_templateExtensionsArray:null,mixinWasApplied:function(){var e=this.templateExtensions;if(e){var t=this._templateExtensionsArray;t||(t=this._templateExtensionsArray=0<y.length?y.pop():[]),t.push(e),delete this.templateExtensions}},template:{type:"ELEMENT",tagname:"div",children:[]},templateExtensions:null,_nodeHandlers:{},_getNodeHandler:function(e){var t=e.type.toLowerCase(),i=this._nodeHandlers[t];return t&&!i&&Object(m.y)("No handler for template node type: "+t),i},registerOutletAndSubOutlets:function(e,t){if(Object(m.Q)(e))return e;var i=this._getNodeHandler(e),n=i.register;n&&(e.parent=t,n.call(i,this,e))},renderNodeAndSubNodes:function(e,t){if(Object(m.Q)(e))return e;var i=this._getNodeHandler(e),n=i.render;return n||Object(m.y)("No render handler for template node type: "+e.type),n.call(i,this,t,e)},_handledOutlets:Object(n.instance)(Object),_outletWasRegistered:function(e){this._handledOutlets[e]=!0},__superMap:{_$1JE$init:"init"}},init:function(e){var t=arguments;((this.element=this.generateElementNode()).view=this).__s._$3UC$init.apply(this,t)},_getRenderedTemplate:function(e,t){var i=e[a];return i||(i=e[a]=_.g.create()),i.get(t)},generateElementNode:function(){var e=this.constructor.template;if(e){var t=this.document,i=this._getRenderedTemplate(e,t);return i||(i=this.constructor.renderNodeAndSubNodes(e,t),e[a].set(t,i)),i.cloneNode(!0)}},__superMap:{_$3UC$init:"init"}};function g(e,t){var i=o(e);for(var n in t){var r=t[n];if(Object(m.K)(r))for(var a=r.length,s=0;s<a;s++)f(i,n,r[s]);else Object(m.O)(r)?f(i,n,r):Object(m.y)("Template extension must be a $template or an array of $templates.")}return i}function o(e){return Object(m.p)(e,d)}var c=Object(m.H)(["attribute","attributes","children","classes","data","falsevalue","index","name","namespace","property","styles","tagname","truevalue","type","unit"]),l=Object(m.H)(["styles","classes","attributes","children"]);function u(e,t){return l[t]?h:d}function d(e,t,i){return c[i]?Object(m.p)(e,u(0,i)):m.a}function h(e,t,i){return Object(m.p)(e,u(0,i))}var p="ext";function f(e,t,i){i=o(i);var n,r,a=(n=e,r=n._namesCache,r||(n._namesCache=r=function e(t,i){if(t){var n=t.name;if(n){var r=i[n];r&&t!==r?Object(m.y)("invalid node name: '"+n+"' is already used"):i[n]=t}var a=t.children;if(a)for(var s=a.length,o=0;o<s;o++)e(a[o],i);return i}}(n,{root:n})),r)[t];a||Object(m.y)("unable to find outlet with name "+t+" to extend"),i.tagname!==p&&(a.tagname=i.tagname),a.attributes=Object(m.U)(a.attributes,i.attributes),a.styles=Object(m.U)(a.styles,i.styles),a.children=v(a.children,i.children),a.classes=v(a.classes,i.classes)}function v(){for(var e,t=arguments.length,i=0;i<t;i++){var n=arguments[i];n&&(e=e?e.concat(n):n)}return e}var y=[]},function(e,t,i){"use strict";var n=i(197);i.d(t,"a",function(){return n.a}),i.d(t,"b",function(){return n.b}),i(677),i(199),i(1260),i(200),i(1261),i(198),i(357),i(679),i(676),i(680),i(1262),i(201),i(1263),i(681),i(1264),i(678)},function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return l});var n=i(0),r=i(84),a=i(692),s=i(693),o=n._67("BRApp.ItemTypeEnum",{FILE:"FILE",FOLDER:"FOLDER",APP_LIBRARY:"APP_LIBRARY"}),c=n._5.extend({url:n._103(),expires:n._103({type:Date}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailModel"}}),l=n._5.extend(s.a,a.a,{staticMembers:{validateItemIsVisible:function(e){return!/^\./.test(e.name)},validateItemNameWhitespace:function(e){return 0!==e.name.length&&0!==e.name.trim().length},validateItemNameInvalidCharacters:function(e){return!this.name.match(/[:\n\r]/g)},validateItemNameIsUnique:function(e,t,i){var n;return!(n=e.isFile?i.findFileWithNameAndExtension(t,e.extension):i.findFolderWithName(t))||n.id===e.id&&e.name===t},__QUALIFIED_CLASS_NAME__:"Item"},fileSystem:n._105(),id:n._103({isPrimaryKey:!0}),parent:n._105({readOnly:!0,dependencies:["parentId","fileSystem"],get:Object.assign(function(){var e=this.parentId,t=this.fileSystem;return e&&t?t.getFolderById(e):null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]);return r&&a?a.getFolderById(r):null}})}),path:n._105({dependencies:["parent.path"],readOnly:!0,get:Object.assign(function(){var e=this.getPath("parent.path"),t=e?e.slice():[];return t.push(this),t},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]),a=r?r.slice():[];return a.push(this),a}})}),isInTrash:n._107({readOnly:!0,get:function(){var e=this.fileSystem;if(!e)return!1;for(var t=this,i=e.config.trashRootFolderId;t;){if(t.id===i)return!0;t=t.parent}return!1}}),isFolder:n._107({readOnly:!0,get:function(){return this.type===o.FOLDER||this.type===o.APP_LIBRARY}}),isFile:n._107({readOnly:!0,get:function(){return this.type===o.FILE}}),isAppLibrary:n._107({readOnly:!0,get:function(){return this.type===o.APP_LIBRARY}}),_ckRecordHashCached:null,ckRecordHash:n._107({readOnly:!0,get:function(){var e=this._ckRecordHashCached;e||(e={},this._ckRecordHashCached=e),e.recordName="documentContent/"+this.docwsid,e.recordType="content",e.recordChangeTag=this.ckContentRecordTag,e.shortGUID=this.shortGUID;var t=this.shareID;return t?this.share===r.a.FROM_ME?e.share=t:e.share={recordName:t.shareName}:delete e.share,e}}),_zoneIDHashCached:null,zoneIDHash:n._107({readOnly:!0,get:function(){var e=this._zoneIDHashCached;if(!e){var t=this.share;e=t&&t===r.a.TO_ME?this.shareID.zoneID:{zoneName:this.zone},this._zoneIDHashCached=e}return e}}),ckContentRecordTag:n._107({get:function(){var e=null,t=this.etag.split("::");return t&&1<t.length&&(e=t[1]),e},set:function(e){var t=this.etag.split("::")[0];this.etag=t+"::"+e}}),isDeleted:n._103({decode:function(e){return!!e}}),fullName:n._105(null),parentId:n._103(),etag:n._103(),thumbnail:n._28.toOne({embedded:!0,type:c}),type:n._103({encode:function(e){return e},decode:function(e){return o.getItemForValue(e)}}),sanitizedName:n._103({dataKey:"name"}),name:n._105({dependencies:["sanitizedName"],get:Object.assign(function(){var e=this.sanitizedName;return e&&(this.isFile||this.isFolder)&&(e=e.replace(/:/g,"/")),e||""},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r&&(this.isFile||this.isFolder)&&(r=r.replace(/:/g,"/")),r||""}}),set:Object.assign(function(e){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),this.sanitizedName=e},{__CW__setter:function(e,t,i,n,r){return(this.isFile||this.isFolder)&&(e=e.replace(/\//g,":")),i[0+n]=e}}),writeDependencySetPathMap:["false"]}),size:n._103(),zone:n._103(),docwsid:n._103(),clientId:n._103(),deleted:n._103(),dateExpiration:n._103({type:Date}),getDateExpiration:function(){for(var e=this;e;){var t=e.dateExpiration;if(t)return t;e=e.parent}return null},dateModified:n._103({type:Date}),restorePath:n._103(),sharingToken:n._103(),share:n._103({encode:function(e){return e},decode:function(e){return r.a.getItemForValue(e)}}),shareID:n._103(),shortGUID:n._103(),owner:n._103({firstName:null,lastName:null,appleId:null}),depth:n._107({readOnly:!0,get:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}}),isUploading:n._105(!1),uploadProgress:n._105(null),canDelete:n._105(!0),canEdit:n._105(!0),validateItemIsVisible:function(){return this.constructor.validateItemIsVisible(this)},validateItemNameWhitespace:function(){return this.constructor.validateItemNameWhitespace(this)},validateItemNameInvalidCharacters:function(){return this.constructor.validateItemNameInvalidCharacters(this)},validateItemNameIsUnique:function(e,t){return this.constructor.validateItemNameIsUnique(this,e,t)}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(110),a=n.v.extend({infoItems:n._107({readOnly:!0,get:function(){return this._infoItems}}),committedInfoItems:n._107({readOnly:!0,get:function(){return this._committedInfoItems}}),uncommittedInfoItems:n._107({readOnly:!0,get:function(){return this._uncommittedInfoItems}}),commitedItemIDs:n._107({readOnly:!0,get:function(){return this._getIDsFromStatusItems(this._committedInfoItems)}}),uncommittedItemIDs:n._107({readOnly:!0,get:function(){return this._getIDsFromStatusItems(this._uncommittedInfoItems)}}),isFullyCommitted:n._107({readOnly:!0,get:function(){return this.hasCommittedItems&&!this.hasUncommittedItems}}),isPartiallyCommitted:n._107({readOnly:!0,get:function(){return this.hasCommittedItems&&this.hasUncommittedItems}}),hasCommittedItems:n._107({readOnly:!0,get:function(){return 0<this._committedInfoItems.length}}),hasUncommittedItems:n._107({readOnly:!0,get:function(){return 0<this._uncommittedInfoItems.length}}),hasFatalError:n._107({readOnly:!0,get:function(){return!!this._fatalError}}),fatalError:n._107({readOnly:!0,get:function(){return this._fatalError}}),cancelled:n._107({readOnly:!0,get:function(){return this._cancelled}}),hasItemsForStatus:function(e){return!!this._statusToInfoItemMap[e]},getItemsForStatus:function(e){return this._statusToInfoItemMap[e]||null},getStatusKeys:function(){return this._statusToInfoItemMap.keys()},init:function(e){var t=arguments;this.__s._$lb$init.apply(this,t),this._fatalError=e?e.fatalError:null,this._cancelled=!!e&&e.cancelled,this._infoItems=[],this._committedInfoItems=[],this._uncommittedInfoItems=[],this._statusToInfoItemMap={}},addInfoItem:function(e){var t=e.status;if(this._infoItems.push(e),e.status===r.a.OK)this._committedInfoItems.push(e);else{this._uncommittedInfoItems.push(e);var i=this._statusToInfoItemMap[t];i||(i=this._statusToInfoItemMap[t]=[]),i.push(e)}},_getIDsFromStatusItems:function(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=e[n].itemID;return i},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionCommitInfo"},__superMap:{_$lb$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(110),a=function(e){this.itemID=e.itemID,e.status===r.a.ItemModified&&!0===e.details.isDeleted?this.status=r.a.ItemDeleted:this.status=e.status,this.clientID=e.clientID||null,this.details=e.details||null,this.fileSystem=e.fileSystem||null};a.create=function(e){var t=new a(e);return t.fileSystem=n.e.application.fileSystem,Object.freeze(t),t},a.prototype.hasConflict=function(){switch(this.status){case r.a.DestinationDeleted:case r.a.ItemDeleted:case r.a.ItemModified:return!0;default:return!1}},a.prototype.hasTransactionItemMoved=function(){var e=this.fileSystem.getItemById(this.itemID);return!!e&&e.parentId!==this.details.parentId},a.prototype.getTransactionItem=function(){var e=this.fileSystem,t=this.clientID,i=e.getItemById(this.itemID);return!i&&t&&(i=e.getItemById(t)),i||null},a.Status=r.a},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={PUBLIC:"PUBLIC",PRIVATE:"PRIVATE"};Object.freeze(n)},function(e,t,i){var a=i(75);e.exports=function(n,r,e){if(a(n),void 0===r)return n;switch(e){case 1:return function(e){return n.call(r,e)};case 2:return function(e,t){return n.call(r,e,t)};case 3:return function(e,t,i){return n.call(r,e,t,i)}}return function(){return n.apply(r,arguments)}}},function(e,t,i){var n=i(77);e.exports=function(e){return Object(n(e))}},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(i(31)){var g=i(88),v=i(11),y=i(19),b=i(6),I=i(155),r=i(229),h=i(48),S=i(90),a=i(73),w=i(33),s=i(89),o=i(76),C=i(24),E=i(407),c=i(92),l=i(120),u=i(34),T=i(237),A=i(9),p=i(49),f=i(238),O=i(122),D=i(95),F=i(121).f,_=i(239),d=i(74),m=i(17),M=i(123),N=i(231),L=i(236),x=i(240),P=i(94),R=i(157),k=i(156),j=i(235),V=i(413),U=i(22),B=i(51),$=U.f,W=B.f,G=v.RangeError,z=v.TypeError,H=v.Uint8Array,K="ArrayBuffer",Q="Shared"+K,q="BYTES_PER_ELEMENT",Y="prototype",J=Array[Y],X=r.ArrayBuffer,Z=r.DataView,ee=M(0),te=M(2),ie=M(3),ne=M(4),re=M(5),ae=M(6),se=N(!0),oe=N(!1),ce=x.values,le=x.keys,ue=x.entries,de=J.lastIndexOf,he=J.reduce,pe=J.reduceRight,fe=J.join,_e=J.sort,me=J.slice,ge=J.toString,ve=J.toLocaleString,ye=m("iterator"),be=m("toStringTag"),Ie=d("typed_constructor"),Se=d("def_constructor"),we=I.CONSTR,Ce=I.TYPED,Ee=I.VIEW,Te="Wrong length!",Ae=M(1,function(e,t){return Ne(L(e,e[Se]),t)}),Oe=y(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),De=!!H&&!!H[Y].set&&y(function(){new H(1).set({})}),Fe=function(e,t){var i=o(e);if(i<0||i%t)throw G("Wrong offset!");return i},Me=function(e){if(A(e)&&Ce in e)return e;throw z(e+" is not a typed array!")},Ne=function(e,t){if(!(A(e)&&Ie in e))throw z("It is not a typed array constructor!");return new e(t)},Le=function(e,t){return xe(L(e,e[Se]),t)},xe=function(e,t){for(var i=0,n=t.length,r=Ne(e,n);i<n;)r[i]=t[i++];return r},Pe=function(e,t,i){$(e,t,{get:function(){return this._d[i]}})},Re=function(e){var t,i,n,r,a,s,o=p(e),c=arguments.length,l=1<c?arguments[1]:void 0,u=void 0!==l,d=_(o);if(null!=d&&!f(d)){for(s=d.call(o),n=[],t=0;!(a=s.next()).done;t++)n.push(a.value);o=n}for(u&&2<c&&(l=h(l,arguments[2],2)),t=0,i=C(o.length),r=Ne(this,i);t<i;t++)r[t]=u?l(o[t],t):o[t];return r},ke=function(){for(var e=0,t=arguments.length,i=Ne(this,t);e<t;)i[e]=arguments[e++];return i},je=!!H&&y(function(){ve.call(new H(1))}),Ve=function(){return ve.apply(je?me.call(Me(this)):Me(this),arguments)},Ue={copyWithin:function(e,t){return V.call(Me(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return ne(Me(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return j.apply(Me(this),arguments)},filter:function(e){return Le(this,te(Me(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return re(Me(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ae(Me(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){ee(Me(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return oe(Me(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return se(Me(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return fe.apply(Me(this),arguments)},lastIndexOf:function(e){return de.apply(Me(this),arguments)},map:function(e){return Ae(Me(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return he.apply(Me(this),arguments)},reduceRight:function(e){return pe.apply(Me(this),arguments)},reverse:function(){for(var e,t=this,i=Me(t).length,n=Math.floor(i/2),r=0;r<n;)e=t[r],t[r++]=t[--i],t[i]=e;return t},some:function(e){return ie(Me(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return _e.call(Me(this),e)},subarray:function(e,t){var i=Me(this),n=i.length,r=c(e,n);return new(L(i,i[Se]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,C((void 0===t?n:c(t,n))-r))}},Be=function(e,t){return Le(this,me.call(Me(this),e,t))},$e=function(e){Me(this);var t=Fe(arguments[1],1),i=this.length,n=p(e),r=C(n.length),a=0;if(i<r+t)throw G(Te);for(;a<r;)this[t+a]=n[a++]},We={entries:function(){return ue.call(Me(this))},keys:function(){return le.call(Me(this))},values:function(){return ce.call(Me(this))}},Ge=function(e,t){return A(e)&&e[Ce]&&"symbol"!=(void 0===t?"undefined":n(t))&&t in e&&String(+t)==String(t)},ze=function(e,t){return Ge(e,t=l(t,!0))?a(2,e[t]):W(e,t)},He=function(e,t,i){return!(Ge(e,t=l(t,!0))&&A(i)&&u(i,"value"))||u(i,"get")||u(i,"set")||i.configurable||u(i,"writable")&&!i.writable||u(i,"enumerable")&&!i.enumerable?$(e,t,i):(e[t]=i.value,e)};we||(B.f=ze,U.f=He),b(b.S+b.F*!we,"Object",{getOwnPropertyDescriptor:ze,defineProperty:He}),y(function(){ge.call({})})&&(ge=ve=function(){return fe.call(this)});var Ke=s({},Ue);s(Ke,We),w(Ke,ye,We.values),s(Ke,{slice:Be,set:$e,constructor:function(){},toString:ge,toLocaleString:Ve}),Pe(Ke,"buffer","b"),Pe(Ke,"byteOffset","o"),Pe(Ke,"byteLength","l"),Pe(Ke,"length","e"),$(Ke,be,{get:function(){return this[Ce]}}),e.exports=function(e,d,t,a){var h=e+((a=!!a)?"Clamped":"")+"Array",i="get"+e,s="set"+e,p=v[h],o=p||{},n=p&&D(p),r=!p||!I.ABV,c={},l=p&&p[Y],f=function(e,r){$(e,r,{get:function(){return e=r,(t=this._d).v[i](e*d+t.o,Oe);var e,t},set:function(e){return t=r,i=e,n=this._d,a&&(i=(i=Math.round(i))<0?0:255<i?255:255&i),void n.v[s](t*d+n.o,i,Oe);var t,i,n},enumerable:!0})};r?(p=t(function(e,t,i,n){S(e,p,h,"_d");var r,a,s,o,c=0,l=0;if(A(t)){if(!(t instanceof X||(o=T(t))==K||o==Q))return Ce in t?xe(p,t):Re.call(p,t);r=t,l=Fe(i,d);var u=t.byteLength;if(void 0===n){if(u%d)throw G(Te);if((a=u-l)<0)throw G(Te)}else if(u<(a=C(n)*d)+l)throw G(Te);s=a/d}else s=E(t),r=new X(a=s*d);for(w(e,"_d",{b:r,o:l,l:a,e:s,v:new Z(r)});c<s;)f(e,c++)}),l=p[Y]=O(Ke),w(l,"constructor",p)):y(function(){p(1)})&&y(function(){new p(-1)})&&R(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=t(function(e,t,i,n){var r;return S(e,p,h),A(t)?t instanceof X||(r=T(t))==K||r==Q?void 0!==n?new o(t,Fe(i,d),n):void 0!==i?new o(t,Fe(i,d)):new o(t):Ce in t?xe(p,t):Re.call(p,t):new o(E(t))}),ee(n!==Function.prototype?F(o).concat(F(n)):F(o),function(e){e in p||w(p,e,o[e])}),p[Y]=l,g||(l.constructor=p));var u=l[ye],_=!!u&&("values"==u.name||null==u.name),m=We.values;w(p,Ie,!0),w(l,Ce,h),w(l,Ee,!0),w(l,Se,p),(a?new p(1)[be]==h:be in l)||$(l,be,{get:function(){return h}}),c[h]=p,b(b.G+b.W+b.F*(p!=o),c),b(b.S,h,{BYTES_PER_ELEMENT:d}),b(b.S+b.F*y(function(){o.of.call(p,1)}),h,{from:Re,of:ke}),q in l||w(l,q,d),b(b.P,h,Ue),k(h),b(b.P+b.F*De,h,{set:$e}),b(b.P+b.F*!_,h,We),g||l.toString==ge||(l.toString=ge),b(b.P+b.F*y(function(){new p(1).slice()}),h,{slice:Be}),b(b.P+b.F*(y(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!y(function(){l.toLocaleString.call([1,2])})),h,{toLocaleString:Ve}),P[h]=_?u:m,g||_||w(l,ye,m)}}else e.exports=function(){}},function(e,t,i){var n=i(124),r=i(73),a=i(38),s=i(120),o=i(34),c=i(406),l=Object.getOwnPropertyDescriptor;t.f=i(31)?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(o(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(2),a=n.Class.extend({nodeType:"",generateLookupFunction:function(t,i){return function(e){return e=e.childNodes[t.index],i(e)}},initializeMember:function(e,t){var i=this.nodeType.toLowerCase();e._nodeHandlers[i]=this},render:r.e,register:r.e,staticMembers:{__QUALIFIED_CLASS_NAME__:"TemplateHandler"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(4),a=n.v.extend({scheduler:n._107({get:function(){return this._scheduler}}),init:function(e){var t=arguments;this.__s._$4g$init.apply(this,t),this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){return r._3.create({trace:!1,traceId:"file system",allowedMaximumRunningTasks:1})},__superMap:{_$4g$init:"init"}}).create().get("scheduler")},function(e,t,i){"use strict";i.d(t,"a",function(){return I});var n=i(0),s=(i(4),i(65)),c=i(45),l=i(46),u=i(110),r=i(714),a=n._67("BRApp.TransactionStateEnum",function(e){e("Init"),e("Prepared"),e("Staging"),e("Staged"),e("Commit",function(e){e("Prepared"),e("Running")}),e("Completed",function(e){e("Success"),e("Fail")}),e("Cancelled"),e("Finalizing"),e("Finalized")}),o=a.Init,d=a.Prepared,h=a.Staging,p=a.Staged,f=a.Commit.Prepared,_=a.Commit.Running,m=a.Completed.Success,g=a.Completed.Fail,v=a.Cancelled,y=a.Finalizing,b=a.Finalized,I=n.v.extend(n._8,{staticMembers:{stateEnum:n._107({readOnly:!0,get:function(){return a}}),__QUALIFIED_CLASS_NAME__:"Transaction"},type:null,delegate:null,fileSystem:n._107(),isCancelled:n._107({readOnly:!0,get:function(){var e=this.commitInfo;return!!e&&e.cancelled}}),isCancellable:n._107({readOnly:!0,get:function(){switch(this.state){case d:case p:break;case f:case _:if(!this.shouldAllowCancelDuringCommit())return!1;break;default:return!1}var e=this.delegate,t=e?e.transactionShouldAllowCancel:null;return!(t&&!t.call(e,this))}}),state:n._105({readOnly:!0,get:function(){return this._state}}),_commitPromise:n._107(),commitInfo:n._107({readOnly:!0,get:function(){return this._commitInfo}}),transactionItems:n._107({readOnly:!0,get:function(){return this._transactionItems}}),finalized:n._118(),init:function(e,t,i){this.fileSystem=e,this.delegate=t,this.__s._$17l$init.call(this,i),this._setState(o),this._transactionItems=[]},prepare:function(){this._throwFatalErrorIfNotInState(o,"Cannot prepare"),this.didStartPreparing(),this._setState(d)},stage:function(){this._throwFatalErrorIfNotInState(d,"Cannot stage"),this._setState(h),this.didStartStaging(),this._changeTransactionItemsState(s.a.Staged),this._setState(p);var t=this.fileSystem;this._transactionItems.forEach(function(e){t.registerItemAsStaged(e)})},commit:function(){this._state===d&&this.stage(),this._throwFatalErrorIfNotInState(p,"Cannot commit"),this._setState(f),this._changeTransactionItemsState(s.a.Committing),this.run();var e=this._commitPromise=n.w.create();return this.retain(this,"Transaction - Self reference from commit promise"),e},cancel:function(){this.isCancellable||n._75("Cannot cancel. Now allowed",{transaction:this});var e=null;switch(this._state){case d:e=c.a.create({cancelled:!0});break;case p:case f:case _:e=this._createTransactionCommitInfoForFullRevert({cancelled:!0})}this._commitInfo=e,this._setState(v),this.didCancel(),this._finalize()},run:function(){this._throwFatalErrorIfNotInState(f,"Cannot run"),this._setState(_)},addTransactionItem:function(e){this._transactionItems.push(e)},addTransactionItems:function(e){var t=this._transactionItems;e.forEach(function(e){t.push(e)})},getTransactionItemsForFullRevert:function(){return[]},shouldAllowCancelDuringCommit:function(){return!1},didStartPreparing:function(){},didStartStaging:function(){},didCancel:function(){},didBeginTransactionItemsStateChange:function(){},didEndTransactionItemsStateChange:function(){},didChangeTransactionStateForItem:function(e,t){},completeCommitWithSuccess:function(e){this._throwFatalErrorIfNotInState(_,"Cannot finalize commit with success"),this._setState(m),this._commitInfo=e,this._finalize(),this._commitPromise.resolve(this),this.release(this,"Transaction - Self reference from commit promise")},completeCommitWithFailure:function(e){this._throwFatalErrorIfNotInState(_,"Cannot finalize commit with failure"),this._setState(g);var t=this._createTransactionCommitInfoForFullRevert({fatalError:e});this._commitInfo=t,this._finalize();var i=Object(r.a)(this);this._commitPromise.reject(i[0]),this.release(this,"Transaction - Self reference from commit promise")},_finalize:function(){switch(this._state){case o:case h:case b:case y:this._throwFatalInvalidStateError("Cannot finalize")}this._setState(y),this.delegate.transactionDidBeginFinalizing(this),this._completeFinalizing()},_completeFinalizing:function(){var e=this._commitInfo.infoItems,t=this.delegate;this.willBeginFinalizingItems();for(var i=0,n=e.length;i<n;i++){var r=e[i];switch(r.status){case u.a.OK:this.applyChangeForCommitInfoItem(r);break;case u.a.Cancelled:this.revertChangeForCommitInfoItem(r);break;default:t.transactionResolveConflictForItem(this,r)}}this.didEndFinalizingItems(),this._changeTransactionItemsState(s.a.Prepared);var a=this.fileSystem;this._transactionItems.forEach(function(e){a.unregisterItemAsStaged(e)}),this._setState(b),this.didFinalize(),t.transactionDidFinalize(this),this.finalized(this)},didFinalize:function(){},willBeginFinalizingItems:function(){},didEndFinalizingItems:function(){},applyChangeForCommitInfoItem:function(e){},revertChangeForCommitInfoItem:function(e){},_setState:function(e){this._state=e,this.propertyChanged("state")},_changeTransactionItemsState:function(e){var t=this._transactionItems;this.didBeginTransactionItemsStateChange();for(var i=0,n=t.length;i<n;i++){var r=t[i];r.transactionState=e,this.didChangeTransactionStateForItem(r,e)}this.didEndTransactionItemsStateChange()},_createTransactionCommitInfoForFullRevert:function(e){var t=c.a.create(e),i=u.a.OK;t.cancelled?i=u.a.Cancelled:t.hasFatalError&&(i=u.a.FatalError);for(var n=this.getTransactionItemsForFullRevert(),r=0,a=n.length;r<a;r++){var s=n[r],o=l.a.create({itemID:s.id,status:i});t.addInfoItem(o)}return t},_throwFatalErrorIfNotInState:function(e,t){this._state!==e&&this._throwFatalInvalidStateError(t)},_throwFatalErrorIfInState:function(e,t){this._state===e&&this._throwFatalInvalidStateError(t)},_throwFatalInvalidStateError:function(e){n._75(e+". Invalid state",{transaction:this})},__superMap:{_$17l$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("TransactionCommitErrorItemType",["MoveItemError","MoveItemToAppLibraryError","DeleteItemError","CreateFolderError","RenameItemError","UploadItemError","PutItemBackFromTrashError"])},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.Common.Cancel":"Cancel","DriveUI.Common.Confirm":"OK","DriveUI.Common.Application.Title":"iCloudDrive","DriveUI.Common.Button.OK":"OK","DriveUI.Common.Progress.Waiting":"Waiting"})},function(e,t,i){var a=i(11),s=i(33),o=i(34),c=i(74)("src"),n="toString",r=Function[n],l=(""+r).split(n);i(87).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,i,n){var r="function"==typeof i;r&&(o(i,"name")||s(i,"name",t)),e[t]!==i&&(r&&(o(i,c)||s(i,c,e[t]?""+e[t]:l.join(String(t)))),e===a?e[t]=i:n?e[t]?e[t]=i:s(e,t,i):(delete e[t],s(e,t,i)))})(Function.prototype,n,function(){return"function"==typeof this&&this[c]||r.call(this)})},function(e,t,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(74)("meta"),a=i(9),s=i(34),o=i(22).f,c=0,l=Object.isExtensible||function(){return!0},u=!i(19)(function(){return l(Object.preventExtensions({}))}),d=function(e){o(e,r,{value:{i:"O"+ ++c,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==(void 0===e?"undefined":n(e))?e:("string"==typeof e?"S":"P")+e;if(!s(e,r)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[r].i},getWeak:function(e,t){if(!s(e,r)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[r].w},onFreeze:function(e){return u&&h.NEED&&l(e)&&!s(e,r)&&d(e),e}}},function(e,t,s){"use strict";s.d(t,"a",function(){return r});var i=s(1),n={mixinDependencies:[i.Protocol],action:i.RequiredMethod.create()},r=i.CoreObject.extend(n,{dependencies:Object(i.instance)([]),run:function(t){var e=this,i=t.initializerPromises,n=this.constructor,r=i.get(n);if(r)return r;var a=this.dependencies.map(function(e){return e.create().run(t)});return r=s(1).CorePromise.all(a).then(function(){return e.action(t)}),i.set(n,r),r},staticMembers:{__QUALIFIED_CLASS_NAME__:"AppInitializer"}})},function(e,t,i){"use strict";t.b=function(e){var t=Object(n.j)(arguments,0,1);return e.define.apply(e,t)},i.d(t,"a",function(){return r});var n=i(2),r=i(40).a.extend({staticMembers:{define:function(){return this.create.apply(this,arguments)},__QUALIFIED_CLASS_NAME__:"Metadata"},value:void 0,initializeMember:function(e,t){return e.hasMixin(i(99).MetadataSupport)||Object(n.y)("cannot add metadata to a class without CW.MetadataSupport"),e.registerMetadata(t,this,!0),this.getValue(e,t)},wasRegistered:n.e,getValue:function(e,t){return this.value},requiresSupport:null,allowedOnClass:!1,allowedOnInstance:!0,allowAtExtend:!0,allowAtRuntime:!1,allowAtCreate:!1,isOnlyMetadataForKey:!0})},function(e,t,i){"use strict";t.c=function(e,t,i,n){var a,s,r,o=t.name,c=e.prototype,l="_"+o+"OutletObserver",u=c.getMetadataByType(g.v);if(u.hasOwnProperty(l))r=u[l],a=r.transforms,s=r.paths;else{a=[],s=[];var d="_render"+o+"Outlet";c[d]=function(e){for(var n=s.length,t=this.element,r=[],i=0;i<n;i++)r[i]=y(t,s[i]);(this[d]=function(e){for(var t=0;t<n;t++){var i=a[t].call(this,r[t],e);i&&(r[t]=i)}}).call(this,e)};var h=Object(m.Y)(o)[0];Object(m.G)(c.getMetadata(h),g.t)||(n||(n={}),n.outletProperty=!0,c.registerMetadata(h,g.t.define(n)));var p=function(e){this[d](e)};p.displayName=o+" template outlet observer",(r=Object(g.U)({inputs:[o],callback:p})).transforms=a,r.paths=s,c.registerMetadata(l,r),e._outletWasRegistered(h)}var f=t.attributes;if(f){var _=f.signal;_&&c.registerMetadata(_,Object(g.U)(l,m.e))}a.push(i),s.push(v(e,t))},t.a=function(e){if(e.hasOwnProperty("validvalues")){var t=Object(m.H)(e.validvalues);return function(e){if(t[e])return e}}if(e.hasOwnProperty("truevalue")){var i=e.truevalue;if(e.hasOwnProperty("falsevalue")){var n=e.falsevalue;return function(e){return e?i:n}}return function(e){if(e)return i}}return r},t.b=function(e,t,i){var r=v(e,i);e.prototype.registerMetadata(t,Object(g.T)({readOnly:!0,dependencies:["element"],get:Object.assign(function(){return y(this.element,r)},{__CW__getter:function(e,t,i,n){return y(n.internalGet(this,t[0+i]),r)}})}))};var m=i(2),g=i(3);function v(e,t){for(var i=m.c;t.parent;)i=e._getNodeHandler(t).generateLookupFunction(t,i),t=t.parent;return i}function y(e,t){return t(e)}var r=function(e){return e}},function(e,t,i){"use strict";i.d(t,"a",function(){return o}),t.c=function(){return u},t.b=function(e){if(void 0===d[e])for(var t=0,i=u.length;t<i;t++){var n=u[t],r=Object(a.B)(n);if(r===e){d[r]=n;break}}return d[e]};var n=i(1),a=i(2),r=Object(n.createEnumGroup)("STATUS",function(e){e("LOADED",function(e){e("RELOADING",function(e){e("QUEUED"),e("ACTIVE")})}),e("NOT_LOADED",function(e){e("LOADING",function(e){e("QUEUED"),e("ACTIVE")}),e("ERRORED"),e("MIXED_STATE")})}),s=(r.LOADED,r.NOT_LOADED),o=(s.LOADING,s.ERRORED,s.MIXED_STATE,Object(n.createEnumGroup)("ACTIONS",function(e){e("READ",function(e){e("LOAD"),e("LIST")}),e("WRITE",function(e){e("CREATE"),e("UPDATE"),e("DESTROY"),e("BULK")})})),c=o.READ,l=(c.LOAD,c.LIST,o.WRITE),u=(l.CREATE,l.UPDATE,l.DESTROY,l.BULK,[]),d={}},function(e,t,i){"use strict";t.b=function(){return n},t.a=function(e){return n=e};var n=void 0},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{timeoutCompleted:n._118(),setTimeout:function(e,t){var i=function(){e(),this.timeoutCompleted()}.bind(this);return n._116(i,t||0)},clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){clearTimeout(e)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseTimerUtils"}}).create()},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.ItemTransactionStateEnum",function(e){e("Prepared"),e("Staged"),e("Committing")})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({run:function(){},staticMembers:{__QUALIFIED_CLASS_NAME__:"Query"}})},function(e,t,i){"use strict";t.a=function(e,i){var n=[];return e.forEach(function(e){var t=Object(r.a)(e,i);t&&n.push(t)}),n};var r=i(146)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(203).a.extend({errorItemType:null,errorGroupType:null,allowsAggregationForErrorItem:function(e){return this.errorItemIsValid(e)},errorItemIsValid:function(e){return!!e&&e.type===this.errorItemType},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("TransactionErrorGroupType",["DeletedItemErrors","MovedItemErrors","MovedItemToAppLibraryErrors","CreateFolderErrors","RenameItemErrors","UploadItemErrors","PutItemsBackFromTrashErrors"])},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),c=i(370),f=i(769),r=n._5.extend({staticMembers:{currentUserRecordName:n._105(),isCurrentUserUnauthenticated:n._105(),createFromString:function(e){return this.create(S(e))},isValidEmailAddress:y,splitAddressString:function e(t){if(t=(t||"").trim(),/[\r\n]+/.test(t)){for(var i=t.split(/\s*[\r\n]+\s*/),n=[],r=i&&i.length||0,a=0;a<r;++a){var s=i[a];s&&(n=n.concat(e(s)))}return n}if(!/[,;]+/.test(t))return[t];t=I(t,g);for(var o=v.build(t),c=[],l="",u=o.length,d=0;d<u;++d){var h=f.a.valueForNode(o[d]);if(/^[\s,;]+$/.test(h)){var p=S(l).lookupInfo;!p||p.phoneNumber||p.emailAddress?(c.push(l.trim()),l=""):l+=h}else l+=h}return c.push(l.trim()),c},__QUALIFIED_CLASS_NAME__:"UserIdentity"},userRecordName:n._103(),lookupInfo:n._103(),nameComponents:n._103(),givenName:n._105({dependencies:["nameComponents"],readOnly:!0,get:Object.assign(function(){var e=this.nameComponents;return e?e.givenName:null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.givenName:null}})}),familyName:n._105({dependencies:["nameComponents"],readOnly:!0,get:Object.assign(function(){var e=this.nameComponents;return e?e.familyName:null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.familyName:null}})}),emailAddress:n._105({dependencies:["lookupInfo"],readOnly:!0,get:Object.assign(function(){var e=this.lookupInfo;return e?e.emailAddress:null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.emailAddress:null}})}),phoneNumber:n._105({dependencies:["lookupInfo"],readOnly:!0,get:Object.assign(function(){var e=this.lookupInfo;return e?e.phoneNumber:null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.phoneNumber:null}})}),formattedPhoneNumber:n._105({dependencies:["phoneNumber"],readOnly:!0,get:Object.assign(function(){var t=this.phoneNumber;if(!t)return"";var e=t;/^\s*\+/.test(e)||(e="+"+e);var i=this._phoneNumberFormatterResults;if(i&&i.input===e)return i.output;var n=this;return c.b.sharedInstance.format(e).then(function(e){n._phoneNumberFormatterResults=e,n.propertyChanged("formattedPhoneNumber")}).catch(function(e){return n._phoneNumberFormatterResults=null,t}),t},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(!r)return"";var a=r;/^\s*\+/.test(a)||(a="+"+a);var s=this._phoneNumberFormatterResults;if(s&&s.input===a)return s.output;var o=this;return c.b.sharedInstance.format(a).then(function(e){o._phoneNumberFormatterResults=e,o.propertyChanged("formattedPhoneNumber")}).catch(function(e){return o._phoneNumberFormatterResults=null,r}),r}})})});r.prototype.registerMetadata("isCurrentlyLoggedInUser",n._105({allowAtCreate:!0,readOnly:!0,dependencies:["userRecordName",r.bindingFor("currentUserRecordName")],get:Object.assign(function(){var e=r.currentUserRecordName;return!!e&&this.userRecordName===e},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[1+i]);return!!r&&n.internalGet(this,t[0+i])===r}})}));var a=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,30}/gi,u=/[a-z\u007E-\uFFFF0-9._%+-]+@[a-z\u007E-\uFFFF0-9.-]+\.[a-z\u007E-\uFFFF]{2,30}/gi,d=/([a-z\u007E-\uFFFF0-9._%+-]+@[a-z\u007E-\uFFFF0-9.-]+\.[a-z\u007E-\uFFFF]{2,30}\s*){2,}/gi,h="0-9\\uff10-\\uff19\\u0660-\\u0669\\u06F0-\\u06F9\\u0966-\\u096F\\u09E6-\\u09FF\\u0E50-\\u0E59",s="\\(\\)\\s\\-\\+\\.\\,",p=new RegExp("([+\\(])?((["+h+"]+)(["+s+"]{1,3}|x|ext))+(["+h+"]+)","gi"),_=new RegExp("([+\\(])?(["+h+"]+)((["+s+"]{1,3}|x|ext)(["+h+"a-z]+))+","gi"),m=new RegExp("\\+?(["+h+"]+)","gi"),g={"<":">","(":")","{":"}","'":"'",'"':'"'},v=f.a.create();function y(e){a.lastIndex=0;var t=a.exec(e);return!(!t||1!==t.length||t[0]!==e)}function b(e,t,i,n,r,a){t.lastIndex=0;var s=t.exec(e),o=s&&s[0].trim();if(r&&o&&(o=r(o)),!o)return e;n[i]=o;var c=e.indexOf(o),l=c+o.length,u=e.substr(0,c).trim(),d=e.substr(l).trim();if(a)for(;d.charAt(0)===a[u.charAt(u.length-1)]&&d.charAt(0);)u=u.substr(0,u.length-1),d=d.substr(1);return u+d}function I(e,t){for(e=e.trim();e.charAt(e.length-1)===t[e.charAt(0)];)e=e.substr(1,e.length-2);return e}function S(e){var t,i,n,r,a,s,o,c,l={nameComponents:{},lookupInfo:{}};return e=e.replace(/[\u00A0\u1680\u180e\u2000-\u2009\u200a\u200b\u202f\u205f\u3000]/g," "),d.lastIndex=0,d.test(e)||(n=b(t=e,u,"emailAddress",i=l.lookupInfo,null,g),e=y(i.emailAddress)?n:(delete i.emailAddress,t),l.lookupInfo.emailAddress||(e=function(e,t){function i(e){return 5<=e.replace(new RegExp("[^"+h+"]","g"),"").length?e:null}return e=b(e,p,"phoneNumber",t,i,g),t.phoneNumber?e:(e=b(e,_,"phoneNumber",t,function(e){return 5<=e.replace(new RegExp("[^"+h+"]","g"),"").length+e.replace(/[^A-Za-z]/g,"").length?e:null},g),t.phoneNumber?e:e=b(e,m,"phoneNumber",t,i,g))}(e,l.lookupInfo))),a=l.nameComponents,s=r=(r=(r=I(r=e,g)).replace(/^[,;\s]*(.*)[,;\s]*$/,"$1")).replace(/,\s*[A-Z]+$/i,""),o="",(c=/^(.*)\s(\S+)\s*$/.exec(r))&&3===c.length&&(s=c[2],o=c[1]),a.familyName=s.trim(),a.givenName=o.trim(),l}},function(e,t,i){"use strict";i(780);var n=i(1358);i.d(t,"j",function(){return n.a}),i(796);var r=i(797);i.d(t,"a",function(){return r.a});var a=i(784);i.d(t,"d",function(){return a.b}),i.d(t,"e",function(){return a.c}),i.d(t,"c",function(){return a.a});var s=i(781);i.d(t,"i",function(){return s.a}),i(783),i(782);var o=i(795);i.d(t,"h",function(){return o.a});var c=i(794);i.d(t,"f",function(){return c.a});var l=i(1370);i.d(t,"b",function(){return l.a}),i(798);var u=i(1371);i.d(t,"g",function(){return u.a})},function(e,t,i){"use strict";i.d(t,"a",function(){return l}),i(30);var n=i(8),r=i(0),a=i(16),s=i(220),o=i(222),c=i(223),l=s.a.extend({shouldPresentDetailsForErrorGroup:function(e){return 1<e.get("items").length},getMessageForErrorGroup:function(e){var t=e.get("items"),i=t.length;return 1<i?this.getMainMessageForErrorGroup(e,n.p.getNumberFormatter().format(i)):this.getMainMessageForErrorItem(t[0])},getDescriptionForErrorGroup:function(e){var t=e.get("items"),i=t.length;return 1<i?this.getMainDescriptionForErrorGroup(e,n.p.getNumberFormatter().format(i)):this.getDescriptionForErrorItem(t[0],!0)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,i){var n=t.get("details");return c.a.create(n.name,{description:this.getDescriptionForErrorItem(t,!1),iconView:this.getIconViewForErrorItem(t)})},getMainMessageForErrorGroup:function(e){return null},getMainDescriptionForErrorGroup:function(e){return null},getMainMessageForErrorItem:function(e){return null},getDescriptionForErrorItem:function(e,t){var i,n=e.get("details");switch(n.conflictType){case a.K.DestinationDeleted:return i="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.DestinationDeleted",r._99(i,{folder:n.destinationFolder});case a.K.ItemDeleted:return i="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemDeleted.",i+=this._getLocItemTypeForErrorItem(e),r._99(i);case a.K.ItemMoved:return i="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemMoved.",i+=this._getLocItemTypeForErrorItem(e),r._99(i);case a.K.ItemModified:return i="DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.ItemModified.",i+=this._getLocItemTypeForErrorItem(e),r._99(i);case a.K.OutOfQuota:return r._99("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.OutOfQuota");case a.K.Unknown:return t?this.getVerboseDefaultUnknownConflictDescriptionForErrorItem(e):this.getShortDefaultUnknownConflictDescriptionForErrorItem(e)}},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e,t){return r._99("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default")},getShortDefaultUnknownConflictDescriptionForErrorItem:function(e){return r._99("DriveUI.Alert.TransactionError.ItemDetails.Conflict.Description.Default")},_getLocItemTypeForErrorItem:function(e){switch(e.get("details").type){case a.s.FOLDER:return"Folder";case a.s.APP_LIBRARY:return"AppLibrary";default:return"File"}},shouldPresentItemDescriptionsForErrorGroup:function(e){return o.a.shouldPresentItemDescriptionsForErrorGroup(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionErrorItemPresentationInfoGenerator"}})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:i)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(408),r=i(234);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var i=r(2),n=r(448),a=r(99),s={mixinDependencies:[n.a,a.MetadataSupport],initializeClass:function(){var e=o(this),t=this.constructor;t.isAbstract=!!e,t.missingRequires=e,this.__s._$uK$initializeClass.call(this)},staticMembers:{initializeClass:function(){var e=o(this);this.isAbstract=this.isAbstract||!!e,this.missingRequires+=e,this.__s._$12T$initializeClass.call(this)},__superMap:{_$12T$initializeClass:"initializeClass"}},init:function(e){this.constructor.isAbstract?Object(i.y)(this+" cannot be instantiated because it is abstract. Missing keys: "+this.constructor.missingRequires):this.__s._$18s$init.call(this,e)},__superMap:{_$uK$initializeClass:"initializeClass",_$18s$init:"init"}};function o(e){var t=e.getMetadataByType(r(166).Required),i="";for(var n in t)t[n].validate(e,n)||(i+="\n    "+n);return i}},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return c});var n=i(1),r=i(285),a=Object(n.createEnumGroup)("GestureRecognizerState",function(e){e("Possible"),e("Failed"),e("Ended"),e("Began"),e("Changed"),e("Cancelled")}),s=a.Possible,o=a.Failed,c=n.CoreObject.extend(n.Protocol,n._Poolable,{delegate:r.a,event:"",shouldPreventDefault:!0,location:null,ignore:function(e){this.sequence.gestureRecognizerIgnoredPointerId(this,e.pointerId)},isEnabled:!0,state:Object(n.property)({type:a,defaultValue:s,set:function(e){if(this._isDone&&e!==o)throw new Error("GestureRecognizer: cannot set `state`. The state machine has already finished.");var t=this._stateMachine.next(e),i=t.value;i&&(e=i),t.done&&!this._isDone&&(this._isDone=!0),this._state=e;var n=this.sequence;return n&&n.gestureRecognizerStateChanged(this,e),this._state}}),view:null,pointerDown:n.RequiredMethod.define(),pointerMove:n.RequiredMethod.define(),pointerUp:n.RequiredMethod.define(),pointerCancel:n.RequiredMethod.define(),reset:function(){this._isDone=!1,this.sequence=null,this._initializeStateMachine()},shouldBegin:function(){return this.delegate.gestureRecognizerShouldBegin(this)},shouldReceive:function(e){return this.delegate.gestureRecognizerShouldReceive(this,e)},shouldRecognizeSimultaneouslyWith:function(e){return this.delegate.gestureRecognizerShouldRecognizeSimultaneouslyWith(this,e)},shouldRequireFailureOf:function(e){return this.delegate.gestureRecognizerShouldRequireFailureOf(this,e)},shouldBeRequiredToFailBy:function(e){return this.delegate.gestureRecognizerShouldBeRequiredToFailBy(this,e)},gestureWasRecognized:function(){var e=this.event;if(!e)throw new Error("GestureRecognizer: event may not be empty");this.view.sendEvent(e,this)},stateGenerator:null,_initializeStateMachine:function(){this._stateMachine=this.stateGenerator(this),this._stateMachine.next(),this.state=s},init:function(){var e=arguments;this._stateMachine=this.stateGenerator(this),this._stateMachine.next(),this.__s._$5EZ$init.apply(this,e)},initFromPool:function(){var e=arguments;this._initializeStateMachine(),this.__s._$5Fw$initFromPool.apply(this,e)},didEnterPool:function(){this.reset();var e=this.constructor.prototype;this.isEnabled=e.isEnabled,this.shouldPreventDefault=e.shouldPreventDefault,this.__s._$5Li$didEnterPool.call(this)},dispose:function(){this._isDone=!1,this.__s._$5O3$dispose.call(this)},_stateMachine:null,_isDone:!1,sequence:Object(n.property)({strong:!0}),staticMembers:{__QUALIFIED_CLASS_NAME__:"GestureRecognizer"},__superMap:{_$5EZ$init:"init",_$5Fw$initFromPool:"initFromPool",_$5Li$didEnterPool:"didEnterPool",_$5O3$dispose:"dispose"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"a",function(){return o});var y=i(2),n=i(135),r=i(52),a=i(42),f=i(61),b=i(136),s=r.a.extend({nodeType:"ELEMENT",register:function(e,t,i){if(!i){var n=t.name;n&&Object(f.b)(e,n,t)}var r,a,s=t.classes;if(s){var o=s.length;for(a=0;a<o;a++)e.registerOutletAndSubOutlets(s[a],t)}var c=t.styles;if(c)for(r in c)e.registerOutletAndSubOutlets(c[r],t);var l=t.attributes;if(l)for(r in l){var u=l[r];e.registerOutletAndSubOutlets(u,t)}var d=t.children;if(d){var h=d.length;for(a=0;a<h;a++){var p=d[a];p.index=a,e.registerOutletAndSubOutlets(p,t)}}},render:function(e,t,i){var n,r,a=i.namespace,s=i.tagname,o=a?t.createElementNS(a,s):t.createElement(s),c=i.classes;if(c){var l=o.classList,u=c.length;for(r=0;r<u;r++){var d=e.renderNodeAndSubNodes(c[r],t);d&&l.add(d)}}var h=i.styles;if(h)for(n in h)Object(b.a)(o,n,e.renderNodeAndSubNodes(h[n],t));var p=i.attributes;if(p)for(n in p){var f,_=p[n];(f=Object(y.O)(_)?_.namespace:null)?o.setAttributeNS(f,n,e.renderNodeAndSubNodes(_,t)):o.setAttribute(n,e.renderNodeAndSubNodes(_,t))}var m=i.children;if(m){var g=m.length;for(r=0;r<g;r++){var v=m[r];v.index=r,o.appendChild(e.renderNodeAndSubNodes(v,t))}}return o},staticMembers:{__QUALIFIED_CLASS_NAME__:"_ElementHandler"}}),o={mixinDependencies:[a.a,n.a],staticMembers:{handler:s.create()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ModelArray",function(){return o});var n=i(1),r=i(3),p=i(2),a=i(568),s=i(63),o=r.r.extend(n.CloneableProtocol,{store:Object(n.property)(),modelClass:Object(n.property)(),loadObjectAt:function(e){var t=this.objectAt(e);return t?t.load():n.CorePromise.reject("No object at index: "+e)},loadAll:function(){for(var e=[],t=0,i=this.length;t<i;t++)e.push(this.primaryKeyForObjectAt(t));return this.modelClass.load(e)},storeIdForObjectAt:function(e){return this._array[e]},modelClassForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.constructor.getModelClassForStoreId(t)},primaryKeyForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.constructor.getPrimaryKeyForStoreId(t)},storeDataForObjectAt:function(e){var t=this.storeIdForObjectAt(e);return this.store.readData(t)},isObjectAtIndexMaterialized:function(e){var t=this.storeIdForObjectAt(e);return this.store.hasExistingModel(t)},storeIds:Object(r.T)({dependencies:["length"],readOnly:!0,get:function(){return Object(p.p)(this._array)}}),spliceStoreIds:function(e,t){for(var i=arguments.length,n=Array(2<i?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return this._array.splice.apply(this._array,arguments)},addEach:function(e){var t=arguments;if(!e||e.constructor!==o)return this.__s._$1Yl$addEach.apply(this,t);if(this.constructor!==o)return this.__s._$1Yl$addEach.apply(this,t);var i=e._array,n=this.length,r=i.length;this.itemsWillChange(),this.itemsWillBeInserted(n,r);var a=this._array;a.length+=r;for(var s=0;s<r;s++)a[s+n]=i[s];this.itemsWereInserted(n,r),this.itemsDidChange()},filter:function(e,t){e||Object(p.y)("CW.Data.ModelArray#filter: No filter function provided: %{modelArray}",{modelArray:this});var i=this.store;i||Object(p.y)("CW.Data.ModelArray#filter: Model arrays must be store backed to be filtered: %{modelArray}",{filterFunction:e,modelArray:this});var n,r=this.modelClass;r||Object(p.y)("CW.Data.ModelArray#filter: No model class defined on model array: %{modelArray}",{filterFunction:e,modelArray:this,store:i});for(var a=i.constructor,s=[],o=0,c=this.length;o<c;o++){var l=this.storeIdForObjectAt(o),u=this.store.getExistingModel(l);if(!u){var d=this.storeDataForObjectAt(o);n||(n=r.create().retain(this,"filter: tempModel")),n.replaceData(d)}if(e.call(t,u||n,o,this)){var h=a.getPrimaryKeyForStoreId(l);s.push(h)}}return n&&n.release(this,"filter: tempModel"),this.constructor.create(s,r,i)},clone:function(){return this.constructor.createFromStoreIds(this._array,this.modelClass,this.store)},serializer:Object(r.T)(function(){return a.a.create({store:this.store,modelClass:this.modelClass})}),staticMembers:{createFromStoreIds:function(e,t,i){var n=this.create(void 0,t,i);return n._array=e,n},createFromIterable:function(e){var a=void 0,s=void 0,o=void 0,t=e.map(function(e,t){var i=e._cwStore,n=e.constructor;s=s||i,a=a||n,o=o||s.constructor,s!==i&&Object(p.y)("CW.Data.ModelArray.createFromIterable: Expected a model in "+s+" but found a model in "+i+" at index "+t),n!==a&&Object(p.y)("CW.Data.ModelArray.createFromIterable: Expected a "+a+" but found a "+n+" at index "+t);var r=e.getPrimaryKey();return o.getStoreIdForPrimaryKey(a,r)});return Object(p.M)(t)&&Object(p.y)("CW.Data.ModelArray.createFromIterable: Cannot create from an empty iterable"),this.createFromStoreIds(t,a,s)},__QUALIFIED_CLASS_NAME__:"ModelArray"},init:function(e,t,i){this.modelClass=t,this.store=i||Object(s.b)(),this.__s._$3ks$init.call(this,e)},constructNewInstance:function(){return this.constructor.create([],this.modelClass,this.store)},indexOf:function(e){var t=this._array;return t&&Object(p.G)(e,this.modelClass)?t.indexOf(e._cwStoreId):-1},__superMap:{_$1Yl$addEach:"addEach",_$3ks$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(44).a.extend({fullName:n._105({readOnly:!0,dependencies:[".name",".extension"],get:function(){var e=this.extension;return e?this.name+"."+e:this.name}}),extension:n._103({decode:function(e){return e||""}}),nativeFileData:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"File"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.ItemShareState",{TO_ME:"TO_ME",FROM_ME:"FROM_ME"})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={EMAIL:"EMAIL",COPY_LINK:"COPY_LINK"};Object.freeze(n)},function(e,t,i){"use strict";var n=i(841);i.d(t,"b",function(){return n.a}),i(843);var r=i(117);i.d(t,"c",function(){return r.a}),i(844),i(847),i(397),i(1424);var a=i(223);i.d(t,"i",function(){return a.a});var s=i(220);i.d(t,"j",function(){return s.a}),i(222),i(848),i(849),i(850),i(854);var o=i(1425);i.d(t,"u",function(){return o.a}),i(851),i(72),i(852),i(853);var c=i(1426);i.d(t,"e",function(){return c.a}),i(224),i(855),i(856);var l=i(1430);i.d(t,"f",function(){return l.a}),i(858),i(859),i(860),i(861);var u=i(1432);i.d(t,"l",function(){return u.a}),i(862),i(863),i(865),i(402),i(866),i(401),i(867),i(868);var d=i(1437);i.d(t,"n",function(){return d.a}),i(869);var h=i(1439);i.d(t,"g",function(){return h.a});var p=i(1442);i.d(t,"h",function(){return p.a});var f=i(1444);i.d(t,"o",function(){return f.a});var _=i(1446);i.d(t,"s",function(){return _.a});var m=i(1448);i.d(t,"w",function(){return m.a}),i(870);var g=i(1450);i.d(t,"E",function(){return g.a}),i(871);var v=i(1453);i.d(t,"G",function(){return v.a});var y=i(857);i.d(t,"K",function(){return y.a});var b=i(37);i.d(t,"q",function(){return b.a});var I=i(400);i.d(t,"r",function(){return I.a}),i(226),i(846),i(872),i(873);var S=i(225);i.d(t,"J",function(){return S.b}),i(864),i(874),i(875),i(876),i(877),i(878);var w=i(1461);i.d(t,"t",function(){return w.a}),i(879);var C=i(1462);i.d(t,"v",function(){return C.a}),i(880),i(399);var E=i(116);i.d(t,"k",function(){return E.a}),i(398),i(221);var T=i(1466);i.d(t,"x",function(){return T.a}),i(881),i(882);var A=i(1468);i.d(t,"y",function(){return A.a}),i(883);var O=i(1470);i.d(t,"z",function(){return O.a}),i(885);var D=i(1471);i.d(t,"A",function(){return D.a}),i(403);var F=i(1472);i.d(t,"B",function(){return F.a});var M=i(1474);i.d(t,"C",function(){return M.a}),i(886);var N=i(1475);i.d(t,"a",function(){return N.a});var L=i(1477);i.d(t,"d",function(){return L.a});var x=i(1479);i.d(t,"m",function(){return x.a});var P=i(1481);i.d(t,"p",function(){return P.a}),i(887);var R=i(1484);i.d(t,"D",function(){return R.a}),i(888);var k=i(1486);i.d(t,"F",function(){return k.a}),i(889),i(891);var j=i(1489);i.d(t,"H",function(){return j.a});var V=i(1490);i.d(t,"I",function(){return V.a})},function(e,t){var i=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=i)},function(e,t){e.exports=!1},function(e,t,i){var r=i(57);e.exports=function(e,t,i){for(var n in t)r(e,n,t[n],i);return e}},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(76),r=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):a(e,t)}},function(e,t,i){var n=i(22).f,r=i(34),a=i(17)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,i){var n=i(34),r=i(49),a=i(232)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,i){var n=i(17)("unscopables"),r=Array.prototype;null==r[n]&&i(33)(r,n,{}),e.exports=function(e){r[n][e]=!0}},function(e,t,i){var n=i(9);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(437),s=[],n=function(r){var e=r._exceptionHandling_wrappedFunction;return e?!0===e?r:e:((e=function(){var e=arguments.length;s.length=e+0-0;for(var t=0,i=0;t<e;t++,i++)s[i]=arguments[t];var n=s;return Object(a.b)(r,n,this)})._exceptionHandling_wrappedFunction=!0,(e._exceptionHandling_inputFunction=r)._exceptionHandling_wrappedFunction=e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"MetadataSupport",function(){return r});var b=i(2),I=i(60),n={initializeMember:function(){return{}}},r={staticMembers:{init:function(e){var t=this.prototype;S(this),S(t),this.__s._$T5$init.call(this,e),t.initializeClass(),this.initializeClass(),this.initializeInstance()},_metadataByType:n,_metadataByKey:n,registerMetadata:a,getMetadataByType:o,getMetadata:c,initializeClass:b.e,initializeInstance:b.e,initializeRuntime:b.e,__superMap:{_$T5$init:"init"}},init:function(e){this.__s._$1B9$init.call(this,e),this.initializeInstance()},_metadataByType:n,_metadataByKey:n,registerMetadata:a,getMetadataByType:o,getMetadata:c,initializeClass:b.e,initializeInstance:b.e,initializeRuntime:b.e,__superMap:{_$1B9$init:"init"}};function S(e){if(!e.hasOwnProperty("_metadataByType")){for(var t=e._metadataByType,i={},n=Object.keys(t),r=n.length,a=0;a<r;a++){var s=n[a];i[s]=Object.create(t[s])}e._metadataByType=i;var o=e._metadataByKey;e._metadataByKey=Object.create(o)}}function a(e,t,i){e||Object(b.y)("'key' is required"),t||Object(b.y)("'metadata' is required"),Object(b.G)(t,I.a)||Object(b.y)("Metadata must inherit from CW.Metadata");var n=t.key;n&&n!==e&&Object(b.y)("metadata cannot be registered on key '"+e+"'; it is already registered for a different key '"+n);var r=this.isClass,a=this.constructor,s=t.requiresSupport;s&&!(r?this:a).kindOf(s)&&Object(b.y)("This class does not mix in the required support for metadata of type "+Object(b.B)(t)+".",{metadata:t,requiresSupport:s});var o=this.isInitialized,c=t.allowAtExtend,l=t.allowAtCreate;if(r)t.allowedOnClass||Object(b.y)("This metadata cannot be added to a class because `allowedOnClass` is false (key: '"+e+"', class: "+this+", metadata: "+t.constructor+").",{key:e,onClass:this,metadata:t}),o||c||l||Object(b.y)("New static metadata may not be added at extend time when `allowAtExtend` and `allowAtCreate` are false (key: '"+e+"', class: "+this+", metadata: "+t.constructor+").",{key:e,onClass:this,metadata:t});else{t.allowedOnInstance||Object(b.y)("This metadata cannot be added to an instance because `allowedOnInstance` is false (key: '"+e+"', instance of: "+a+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t});var u=a.isInitialized;u||o||c||Object(b.y)("New metadata may not be added in extend when `allowAtExtend` is false (key: '"+e+"', instance of: "+a+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t}),!u||o||l||Object(b.y)("New metadata may not be added in create when `allowAtCreate` is false (key: '"+e+"', instance of: "+a+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t})}o&&(t.allowAtRuntime?this.initializeRuntime():Object(b.y)("New metadata may not be added at runtime when `allowAtRuntime` is false (key: '"+e+"', instance: "+this+", metadata: "+t.constructor+").",{key:e,instance:this,metadata:t}));var d=t.constructor,h=this._metadataByKey[e],p=d.ancestors;h&&h.isOnlyMetadataForKey&&t.isOnlyMetadataForKey&&!t.instanceOf(h.constructor)&&Object(b.y)("isOnlyMetadataForKey metadata may only be overridden if the new value is the same type or a subclass (key: '"+e+"', target: "+this+", metadata: "+t.constructor+").",{key:e,target:this,metadata:t}),S(this);var f=this._metadataByKey,_=this._metadataByType;t.isOnlyMetadataForKey||(h=null);for(var m=p.length;d&&d!==I.a;){var g=Object(b.D)(d),v=_[g];v||(_[g]=v={}),h||(h=v[e]),v[e]=t,d=p[--m]}t.isOnlyMetadataForKey&&(f[e]=t),t.key=e;var y=t.getValue(this,e);i||void 0===y||(this[e]=y),t.wasRegistered(this,e,h)}var s={};function o(e){return this._metadataByType[Object(b.D)(e)]||s}function c(e){return this._metadataByKey[e]}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var s=i(2),r=i(166).Required.extend({requiredKey:null,validate:function(e,t){if(this._validating)return this._validating=!1;this._validating=!0;var i,n=e[t];if(Object(s.N)(n)&&n!==this.default)return!(this._validating=!1);if(t=this.requiredKey||t,Array.isArray(t)){i=!0;for(var r=t.length,a=0;a<r;a++)i=i&&this._validate(e,t[a])}else i=this._validate(e,t);return this._validating=!1,i},_validating:!1,_validate:function(e,t){var i=e.getMetadataByType(r)[t],n=e[t];return i?i.validate(e,t):Object(s.N)(n)},getValue:function(){return this.default},default:void 0,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredMethod"}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"Validator",function(){return n});var n=i(125).a.extend({message:"",validate:function(e,t,i){return!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"Validator"}})},function(e,n,r){"use strict";(function(a){r.d(n,"b",function(){return m}),r.d(n,"a",function(){return i}),n.c=function(e){return i.create(e)};var e=r(1),d=r(2),h=r(469),p=r(21),f=p.a._sanitizeNodeID,_={upstreamNode:0,downstreamNode:0,clear:function(){this.upstreamNode=0,this.downstreamNode=0}},t=Object(e.createEnumGroup)("BindingConnection",function(e){e("CONNECT"),e("DONT_CONNECT"),e("OPTIONAL")}),m=Symbol("CW.OWNER"),i=e.Class.extend(t.toStaticMixin(),{staticMembers:{createForPaths:function(e){var t,i,n=e?e.length:0,r=new Array(n);if(!e)return r;for(t=0;t<n;t++)(i=e[t]).instanceOf&&i.instanceOf(this)||(i=this.create(i)),r[t]=i;return r},hookUpBinding:function(e,t,i,n,r,a,s){t&&Object(d.Q)(t)&&(t=this.create(t)),i&&Object(d.Q)(i)&&(i=this.create(i)),void 0===a&&(a=this.OPTIONAL),void 0===s&&(s=this.CONNECT),_.clear(),g(e,t,n,!0,_);var o=_.upstreamNode,c=_.downstreamNode;_.clear(),g(e,i,n,!1,_);var l=_.upstreamNode,u=_.downstreamNode;if(s!==this.DONT_CONNECT)if(0<c&&0<u)p.a.addChildToNode(u,c,r);else if(s===this.CONNECT)return!1;if(a!==this.DONT_CONNECT)if(0<o&&0<l)p.a.addChildToNode(o,l,n);else if(a===this.CONNECT)return!1;return!0},hookUpDownstreamNode:function(e,t,i,n){_.clear(),g(e,t,!1,!0,_);var r=_.downstreamNode;return!(r<=0||(p.a.addChildToNode(i,r,n),0))},__QUALIFIED_CLASS_NAME__:"Binding"},rootObject:null,path:"",components:null,init:function(e,t){this.__s._$3Vt$init.call(this),e||Object(d.y)("Cannot create CW.Binding with no path.",{path:e});var i=!1;"."===e[0]&&(i=!0,e=e.substring(1));var n=Object(d.Y)(e),r=n[0];i||("global"===r||""===r?(t=a,n.shift()):"(owner)"===r&&(t&&Object(d.y)("Cannot create a CW.Binding relative to (owner): %{path}. It already has a root object.",{rootObject:t,path:e}),t=m,n.shift())),t!==m&&0===n.length&&Object(d.y)("Cannot create CW.Binding with an invalid path ('%{path}').",{path:e,rootObject:t}),this.components=n,this.path=n.join("."),t&&(this.rootObject=t)},__superMap:{_$3Vt$init:"init"}});function g(e,t,i,n,r){var a,s=t.components,o=s.length,c=0,l=t.rootObject||e;for(l===m&&Object(d.y)("CW.Binding cannot resolve path %{path}. (owner) was specified, but a value was not provided.",{path:t.path}),a=s[c];l&&(!l.downstreamNodes||!l.downstreamNodes.hasOwnProperty(a));)l=l[a],a=s[++c];if(!l||c===o){var u=s.join(".");Object(d.y)("No observable properties found along binding path ("+u+").",{object:e,path:u})}return c===o-1?function(e,t,i){var n=e.upstreamNodes[t];0<(n=f(n))&&(i.upstreamNode=n);var r=e.downstreamNodes[t];return 0<(r=f(r))&&(i.downstreamNode=r),i}(l,a,r):function(e,t,i,n,r,a,s){var o,c,l=i.length,u=i[n],d=u;for(o=h.b.instanceFor(u).setUpForObject(e,t),n++;n<l-1;n++)d+="."+(u=i[n]),o=h.a.instanceFor(u,d).setUpForObject(e,t,o);return d+="."+(u=i[n]),(c=a?h.c.instanceFor(u,d):h.d.instanceFor(u,d)).setUpForObject(e,t,o,r),s.downstreamNode=c.getDownstreamProxyNode(t),s.upstreamNode=c.getUpstreamProxyNode(t),s}(e,l,s,c,i,n,r)}}).call(n,r(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var l=i(1),u=i(2),d=i(21),n=i(130),h=d.a.NULL_INDEX,r=n.a.extend({debugType:"Base",property:null,key:null,init:function(e){this.property=e,this.key=e.key,this.get=e.get,this.internalGet=e.internalGet,void 0!==e.cacheable&&(this.isCacheable=e.cacheable),this.dependencyCount=e.dependencies?e.dependencies.length:0,this.readOnly=e.readOnly,this.reference=e.reference,this.collectors=[],this.collectorsCount=0,this.validateType=e._validateType,e.isDependentComputedProperty&&(this._validateNewParent=u.e,this.isDependentComputedProperty=!0),this.__s._$np$init.call(this)},isDependentComputedProperty:!1,readOnly:!1,validateType:null,get:null,internalGet:null,setUpNode:u.e,calculateValueForNode:function(e,t,i){var n=d.a.getDataForNode(t),r=this.getCollector();d.a.getParentIDs(t,r);for(var a=d.a.getValueForNode(r[0]),s=1;s<r.length;s++)r[s-1]=r[s];r[r.length-1]=h;var o=this.get.call(e,a,r,0,this.property);if(this.releaseCollector(r),!this.validateType(o)){var c=this.property.type;Object(u.G)(o,l.Class)?Object(u.y)('Type error: cannot return %{value} (an instance of %{constructor}) from observable property "%{key}" of %{object} which expected a %{type}. Value passed type check at `set` time, but was transformed inappropriately by an upstream propertys getter or setter.',{object:e,key:this.key,value:o,constructor:o.constructor,type:c}):Object(u.y)('Type error: cannot return value %{value} from observable property "%{key}" of %{object} which expected a %{type}. Value passed type check at `set` time, but was transformed inappropriately by an upstream propertys getter or setter.',{object:e,key:this.key,value:o,type:c})}return this._manageForCalculateValueForNode(e,n,o),o},_manageForCalculateValueForNode:u.e,didAddParentToNode:function(e,t,i){this._validateNewParent(t,i)},_validateNewParent:function(e,t){d.a.getManagerForNode(t).validateDescendantDownstreamNodeManager(this,e,t)},validateDescendantDownstreamNodeManager:u.e,_throwValidationError:function(e,t,i){Object(u.y)(i,{reference:e.reference,parentReference:this.reference,key:e.key,object:d.a.getContextForNode(t),parentKey:this.key,property:e.property})},dependencyCount:null,collectors:null,collectorsCount:0,getCollector:function(){return 0<this.collectorsCount?this.collectors[--this.collectorsCount]:new Array(this.dependencyCount)},releaseCollector:function(e){var t,i=this.dependencyCount;for(t=0;t<i;t++)e[t]=null;this.collectors[this.collectorsCount++]=e},addDebugInfoForNode:function(e,t,i){t.type=this.debugType+" Downstream Node",t.object=e,t.key=this.key,t.toString=function(){return e+"."+this.key+" (Downstream)"},t.name=t.toString()},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamNodeManager"},__superMap:{_$np$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return h}),i.d(t,"b",function(){return r});var l=i(1),u=i(2),d=i(21),n=i(130),h={},r=n.a.extend({debugType:"Base",key:null,init:function(e){e&&(this.property=e,this.key=e.key,this.set=e.set,this.internalGet=e.internalGet,this.validateType=e._validateType,this._valueOffsetCount=1,this.setterReturnArray=new Array(e.writeDependencies?e.writeDependencies.length:e.dependencies?e.dependencies.length:0),this.clearReturnArray(this.setterReturnArray)),this.dependencyCollector=[],this.__s._$dl$init.call(this)},property:null,isCacheable:!0,validateType:null,reference:null,set:null,internalGet:null,_valueOffsetCount:0,setUpNode:u.e,validateDescendantDownstreamNodeManager:function(e,t,i){e.property!==this.property&&Object(u.y)("A propertys upstream node may only connect to the downstream node for the same property (key: %{key}, downstream property key: {%downstreamKey}). If you get this error, please contact the CoreWeb team, as youve discovered a unicorn.",{key:this.key,downstreamKey:e.key})},willRemoveChildFromNode:function(e,t,i){d.a.getValueForNode(t)},wasDirtiedByParent:function(e,t,i,n){this._manageForWasDirtiedByParent(n,e)},_manageForWasDirtiedByParent:u.e,wasDirtiedBySelf:function(e,t,i,n){this._manageForWasDirtiedBySelf(i,n,e)},_manageForWasDirtiedBySelf:u.e,calculateValueForNode:function(e,t,i){var n,r=d.a.getDataForNode(t);if(i){var a=d.a.getStateIDForNode(t);if((n=this.pullDataFromParent(t,a))===h)return r}else n=d.a.getStateDataForNode(t),d.a.setStateDataForNode(void 0,t);var s=this.setterReturnArray,o=this.set.call(e,n,r,s,0,this.property);if(!this.validateType(o)){var c=this.property.type;Object(u.G)(o,l.Class)?Object(u.y)('Type error: cannot set value `%{value}` (an instance of %{constructor}) to observable property "%{key}" of %{object} which expected a %{type}. (Note that `set` may have been called on a downstream property.)',{object:e,key:this.key,value:o,constructor:o.constructor,setValue:n,type:c}):Object(u.y)('Type error: cannot set value `%{value}` to observable property "%{key}" of %{object} which expected a %{type}. (Note that `set` may have been called on a downstream property.)',{object:e,key:this.key,value:o,setValue:n,type:c})}return this.passValuesToChildren(t,s,o),this.clearReturnArray(s),this._manageForCalculateValueForNode(o,n,e),o},_manageForCalculateValueForNode:u.e,pullDataFromParent:function(e,t){if(d.a.getStateDataForNode(e)===h){var i=d.a.getManagerForNode(t).property,n=i.key;i.dependencies!==i.writeDependencies?Object(u.y)("Infinite loop detected in the %{property} observable property. This is likely because you are attempting to get the write dependency '%{key}' inside your setter.",{key:this.key,property:n}):Object(u.y)("Infinite loop detected in the %{property} observable property. Try adding a writeDependencies array that contains only the dependencies you actually write to (not %{key}).",{key:this.key,property:n})}return d.a.setStateDataForNode(h,e),t<0&&Object(u.y)("Couldn't tell which parent set the upstream node (%{node})",{node:e}),d.a.getValueForNode(t),d.a.getStateDataForNode(e)},clearReturnArray:function(e){for(var t=e.length,i=0;i<t;i++)e[i]=h},passValuesToChildren:function(e,t,i){var n=this.dependencyCollector;d.a.getChildrenIDs(e,n);for(var r=this._valueOffsetCount,a=t.length,s=0;s<a;s++){var o=n[s+r];t[s]!==h&&0<=o&&d.a.getStateIDForNode(o)===e&&d.a.passValueToNode(t[s],o)}d.a.passValueToNode(i,n[0])},dependencyCollector:null,setterReturnArray:null,addDebugInfoForNode:function(e,t,i){t.type=this.debugType+" Upstream Node",t.object=e,t.key=this.key,t.toString=function(){return e+"."+this.key+" (Upstream)"},t.name=t.toString()},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamNodeManager"},__superMap:{_$dl$init:"init"}})},function(e,t,h){"use strict";h.d(t,"a",function(){return n});var d=h(3),p=h(1),f=h(2),_=h(62),i=h(567),m=h(63),n=p.CoreObject.extend(d.q,d.Q,i.a,{staticMembers:{getStoreIdForPrimaryKey:function(e){return h(32).Store.getStoreIdForPrimaryKey(this,e)},setPrimaryKeyForStoreId:function(e,t){return h(32).Store.setPrimaryKeyForStoreId(e,t)},replacePrimaryKeyInStore:function(e,t){var i=this.getStoreIdForPrimaryKey(e);return this.setPrimaryKeyForStoreId(i,t)},primaryKeysToStoreIds:null,find:function(e,t){return e||Object(f.y)("CW.Data.Model.find: No primary key provided.",{modelClass:this}),(t=t||Object(m.b)())||Object(f.y)("CW.Data.Model.find: No store provided and no Data Manager has been created.",{modelClass:this,primaryKey:e}),t.getModel(this,e)},findAll:function(e){return(e=e||Object(m.b)())||Object(f.y)("CW.Data.Model.findAll: No store provided and no Data Manager has been created.",{modelClass:this}),e.getAllModels(this)},findByPrimaryKeys:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object(m.b)(),n=i.constructor,r=e.map(function(e){return n.getStoreIdForPrimaryKey(t,e)});return h(82).ModelArray.createFromStoreIds(r,this,i)},findOrCreatePlaceholder:function(e,t){e||Object(f.y)("CW.Data.Model.findOrCreatePlaceholder: No primary key provided.",{modelClass:this});var i=this.find(e,t);return i||(i=this.createPlaceholder(e,t)),i},createFromDataHash:function(e,t,i){if(!e)return this.createWithStore(t,i);var n=Object(f.r)(e);return n[u]=!0,this.create(n,t,i)},createWithStore:function(e,t){return this.create(null,e,t)},createPlaceholder:function(e,t){var i;e||Object(f.y)("CW.Data.Model.createPlaceholder: No primary key provided.",{modelClass:this});var n=Object(m.b)();n||Object(f.y)("CW.Data.Model.createPlaceholder: No Data Manager has been created.",{modelClass:this,primaryKey:e});var r=((i={})[this.getDataKeyForKey(this.primaryKey)]=e,i);return n.loadData(this,r,!0),this.find(e,t||n)},createEmbedded:function(e,t,i){d.i.pause();var n=this.create();return n._cwParent=e,n._cwParentKey=t,n._cwParentIndex=i,n.retain(),d.i.resume(),n},hasMaterializedInstance:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object(m.b)(),i=this.getStoreIdForPrimaryKey(e);return t.hasExistingModel(i)},performOperation:function(e,t){e||Object(f.y)("CW.Data.Model.performOperation: No operation name provided.",{modelClass:this,operationType:this,operationContext:t});var i=Object(m.b)();return i||Object(f.y)("CW.Data.Model.performOperation: No Data Manager has been created.",{modelClass:this,operationType:this,operationName:e,operationContext:t}),i.performOperation({type:this,operation:{type:e,context:t||{}}})},load:function(e,t){e||Object(f.y)("CW.Data.Model.load: No primary key(s) provided.",{modelClass:this});var i,n,r=Object(m.b)();if(r||Object(f.y)("CW.Data.Model.load: No Data Manager has been created.",{modelClass:this,primaryKey:e}),t)return this.performOperation(_.a.READ.LOAD,{primaryKeys:e});if(Array.isArray(e)){for(var a,s,o=h(82).ModelArray.create(e,this),c=0,l=e.length;c<l;c++){var u=e[c];r.getNetworkStatus(this,u)!==h(181).NetworkStatus.IDLE&&(a=a||[],(n=r.getActiveTransactions(this,u))&&0<n.length)?a.push.apply(a,n):r.getLoadStatus(this,u)!==h(313).LoadStatus.LOADED&&(s=s||[]).push(u)}if(s){var d=this.performOperation(_.a.READ.LOAD,{primaryKeys:s});(a=a||[]).push(d)}return i=p.CorePromise.create(),a?p.CorePromise.all(a).then(function(){i.resolve(o)},function(e){i.reject(e)}):(i.resolve(o),i)}return r.getNetworkStatus(this,e)!==h(181).NetworkStatus.IDLE&&(i=p.CorePromise.create(),(n=r.getActiveTransactions(this,e))&&0<n.length)?p.CorePromise.all(n).then(function(){i.resolve(this.find(e))}.bind(this),function(e){i.reject(e)}):r.getLoadStatus(this,e)===h(313).LoadStatus.LOADED?p.CorePromise.resolve(this.find(e)):this.performOperation(_.a.READ.LOAD,{primaryKeys:e})},loadAll:function(){return this.performOperation(_.a.READ.LIST)},destroy:function(e,t){e||Object(f.y)("CW.Data.Model.destroy: No primary key(s) provided.",{modelClass:this}),(t=t||Object(m.b)())||Object(f.y)("CW.Data.Model.destroy: No store provided and no Data Manager has been created.",{modelClass:this,primaryKeys:e}),t.deleteModels(this,e)},getKeyForDataKey:function(e){e||Object(f.y)("CW.Data.Model.getKeyForDataKey: No data key provided.",{modelClass:this});var t=this.__cwDataKeyMap;return t&&t[e]||e},getDataKeyForKey:function(e){e||Object(f.y)("CW.Data.Model.getDataKeyForKey: No key provided.",{modelClass:this});var t=this.prototype.getMetadata(e);return t&&t.dataKey||e},primaryKey:null,init:function(){var e=arguments;this.__s._$5o0$init.apply(this,e),this.primaryKeysToStoreIds=null,Object(_.c)().push(this)},_setKeyForDataKey:function(e,t){var i=this.__cwDataKeyMap;(i?this.hasOwnProperty("__cwDataKeyMap")?i:this.__cwDataKeyMap=Object.create(i):this.__cwDataKeyMap={})[t]=e},__QUALIFIED_CLASS_NAME__:"Model",__superMap:{_$5o0$init:"init"}},networkStatus:Object(d.T)({get:function(){var e=this.getPrimaryKey();e||Object(f.y)("CW.Data.Model#networkStatus: No primary key.",{modelClass:this.constructor,model:this});var t=Object(m.b)();return t||Object(f.y)("CW.Data.Model#networkStatus: No Data Manager has been created.",{modelClass:this.constructor,model:this,primaryKey:e}),t.getNetworkStatus(this.constructor,e)}}),loadStatus:Object(d.T)({get:function(){var e=this.getPrimaryKey();e||Object(f.y)("CW.Data.Model#loadStatus: No primary key.",{modelClass:this.constructor,model:this});var t=Object(m.b)();return t||Object(f.y)("CW.Data.Model#loadStatus: No Data Manager has been created.",{modelClass:this.constructor,model:this,primaryKey:e}),t.getLoadStatus(this.constructor,e)}}),storeStatus:Object(d.T)({cacheable:!1,get:function(){var e=this.getPrimaryKey();e||Object(f.y)("CW.Data.Model#storeStatus: No primary key.",{modelClass:this.constructor,model:this});var t=this._cwStore;return t||Object(f.y)("CW.Data.Model#storeStatus: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:e}),t.getStoreStatus(this.constructor,e)}}),isStoreModel:Object(p.property)({readOnly:!0,get:function(){return!!this._cwStore}}),parentModel:Object(p.property)({readOnly:!0,get:function(){return this._cwParent}}),isEmbeddedModel:Object(p.property)({readOnly:!0,get:function(){return!!this.parentModel}}),embeddedKeyPathArray:Object(p.property)({readOnly:!0,get:function(){if(this.isEmbeddedModel){for(var e=[],t=this;t.isEmbeddedModel;)e=[t._cwParentKey],void 0!==t._cwParentIndex&&e.push(t._cwParentIndex),t=t._cwParent;return e}}}),embeddedKeyPath:Object(p.property)({readOnly:!0,get:function(){return this.embeddedKeyPathArray.join(".")}}),embeddedRoot:Object(p.property)({readOnly:!0,get:function(){for(var e=this;e.isEmbeddedModel;)e=e._cwParent;return e}}),hasDataForKey:function(e){var t=this.getDataHash();return t&&void 0!==t[e]},load:function(){var e=this.getPrimaryKey();return e||Object(f.y)("CW.Data.Model#load: No primary key.",{modelClass:this.constructor,model:this}),this.constructor.load(e)},reload:function(){var e=this.getPrimaryKey();return e||Object(f.y)("CW.Data.Model#reload: No primary key.",{modelClass:this.constructor,model:this}),this.constructor.load(e,!0)},save:function(){var e=this._cwStore;return e||Object(f.y)("CW.Data.Model#save: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:this.getPrimaryKey()}),e.commit()},saveWithoutRelated:function(){var e=this._cwStore;return e||Object(f.y)("CW.Data.Model#save: No store linked to model.",{modelClass:this.constructor,model:this,primaryKey:this.getPrimaryKey()}),e.commitStoreIds(this._cwStoreId)},reset:function(){this.isStoreModel||Object(f.y)("CW.Data.Model.reset: Cannot reset a non-store model.",{modelClass:this.constructor,model:this}),this._cwStore.resetData(this._cwStoreId)},destroy:function(){var e=this.getPrimaryKey();e||Object(f.y)("CW.Data.Model#destroy: No primary key.",{modelClass:this.constructor,model:this}),this.constructor.destroy(e,this._cwStore)},replaceData:function(e){var t=this.getDataHash(),i=this._cwStore;i?i.writeData(this._cwStoreId,e):this.__cwDataHash=e;var n=this.getDataHash(),r=Object(f.t)(t,n);if(r){var a={diff:Object(f.t)(t,e),originalData:t,updatedData:this.getDataHash()},s=Object(f.i)([],r.added,r.removed,r.updated);this._notifyOnDataAction(s,a)}},updateData:function(e){var t=Object(f.r)(this.getDataHash()),i=this._cwStore;if(i)i.updateData(this._cwStoreId,e);else{var n=this.getDataHash();for(var r in e)n[r]=e[r]}var a=this.getDataHash(),s={diff:Object(f.t)(t,a),originalData:t,updatedData:a};this._notifyOnDataAction(Object.keys(e),s)},_notifyOnDataAction:function(e,t){d.i.pause();for(var i=this.constructor,n=0,r=e.length;n<r;n++){var a=i.getKeyForDataKey(e[n]),s=this.getMetadata(a);if(s)if(Object(f.G)(s,h(317).ToManyRelationshipProperty)){var o=this[a];o.contentsDidChangeUntracked();var c=t.originalData[a]||[],l=t.updatedData[a]||[],u=d.a.fromArrays(c,l,o);o.contentsDidChange(u)}else this.propertyChanged(a)}d.i.resume()},toJSON:function(){return Object(f.r)(this.getDataHash())},_cwStore:null,_cwStoreId:null,_cwParent:null,_cwParentKey:null,getDataHash:function(){var e=this._cwParent;if(e){var t=this._cwParentKey,i=this._cwParentIndex,n=e.getDataHash();if(!n)return;return(n=n[t])&&void 0!==i&&(n=n[i]),n}var r=this._cwStore;return r?r.readData(this._cwStoreId):this.__cwDataHash||(this.__cwDataHash={})},getPrimaryKey:function(){var e=this.constructor.primaryKey;return e||Object(f.y)("CW.Data.Model#getPrimaryKey: No primary key property defined.",{modelClass:this.constructor,model:this}),this.get(e)},init:function(e,t,i){var n=void 0,r=void 0;if(e)if(e[u])delete e[u],n=e;else{var a=this.getMetadataByType(h(138).ModelProperty);for(var s in n={},r=Object(f.r)(e),a){var o=a[s],c=o.dataKey||s,l=r[s];void 0!==l&&(n[c]=o._encodeValue(this,c,l),delete r[s])}}t?this.__cwStore||t.linkModel(this,i,n):this.__cwDataHash=n,this.__s._$BJ1$init.call(this,r)},dispose:function(){var e=arguments,t=this._cwStore;t&&t.unlinkModel(this),this.__s._$BN0$dispose.apply(this,e)},notifyOfDataChange:function(){var e;this.dataDidChange.apply(this,arguments),this.isEmbeddedModel&&(e=this._cwParent).notifyOfDataChange.apply(e,arguments)},propertyChanged:function(e){var t=this.getMetadata(e);if(t){var i=t.clearCachedValueForObject;i&&i.call(t,this,e),this.__s._$BYz$propertyChanged.call(this,e)}},dataDidLoad:Object(d.V)(),dataDidChange:Object(d.V)(),_dataDidChangeDidFire:Object(d.S)("dataDidChange",function(){var e=this._cwStore;e&&e.dataDidChange()}),__superMap:{_$BJ1$init:"init",_$BN0$dispose:"dispose",_$BYz$propertyChanged:"propertyChanged"}}),u=Symbol("PURE_MODEL_DATA")},function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r});var n={WILLSEND:"willSend",SENT:"didSend",SUCCEEDED:"didSucceed",FAILED:"didFail",COMPLETED:"didComplete",ABORTED:"didAbort",FINALIZED:"didFinalize",UNSENT:"unsent",SENDING:"sending",TIMEDOUT:"timedout",PROGRESS:"didProgress"},r={GET:"GET",PATCH:"PATCH",POST:"POST",PUT:"PUT",DELETE:"DELETE"}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e,t){this.x=e,this.y=t};n.prototype.toString=function(){return"[BRKit.Geometry.Point: <x: "+this.x+", y: "+this.y+">]"},n.create=function(e,t){var i=new n(e,t);return Object.freeze(i),i}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e,t){this.width=e,this.height=t};n.prototype.toString=function(){return"[BRKit.Geometry.Size: <width: "+this.width+", height: "+this.height+">]"},n.create=function(e,t){var i=new n(e,t);return Object.freeze(i),i}},function(e,t,i){"use strict";i(1258);var n=i(675);i.d(t,"f",function(){return n.f}),i.d(t,"b",function(){return n.b}),i.d(t,"a",function(){return n.a}),i.d(t,"c",function(){return n.c}),i.d(t,"e",function(){return n.e}),i.d(t,"g",function(){return n.g}),i.d(t,"h",function(){return n.h}),i.d(t,"d",function(){return n.d}),i(1259)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.TransactionCommitInfoItemStatus",{OK:"OK",DestinationInvalid:"DESTINATION_ID_INVALID",DestinationDeleted:"DESTINATION_ID_DELETED",ItemDeleted:"ID_DELETED",ItemInvalid:"ID_INVALID",ItemModified:"ETAG_CONFLICT",Unknown:"UNKNOWN",FatalError:"FATAL_ERROR",Forbidden:"FORBIDDEN",Cancelled:"CANCELLED"})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.NativeFileUploadErrorType",["Unknown","OutOfQuota","FatalError"])},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("UploadValidationErrorItemType",["AccessDenied","IEFolderDropZeroFileCount","BadAppLibraryType","NotCompressed","HiddenFile","BrowserNotSupported","SizeTooBig","Unknown"])},function(e,t,i){"use strict";i(744),i(745),i(746);var n=i(747);i.d(t,"d",function(){return n.a}),i(748),i(749),i(750),i(751);var r=i(1340);i.d(t,"c",function(){return r.a});var a=i(753);i.d(t,"f",function(){return a.a}),i.d(t,"g",function(){return a.b});var s=i(1341);i.d(t,"b",function(){return s.a}),i(757),i(756);var o=i(1342);i.d(t,"e",function(){return o.a}),i(758),i(755),i(752);var c=i(754);i.d(t,"a",function(){return c.a})},function(e,t,i){"use strict";t.a=function(e){return(e=(e=(e||"").toLowerCase()).replace(/./g,function(e){return n[e]||e}))&&e.replace(/[^0-9+]/g,"")};var n={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",a:"2",b:"2",c:"2",d:"3",e:"3",f:"3",g:"4",h:"4",i:"4",j:"5",k:"5",l:"5",m:"6",n:"6",o:"6",p:"7",q:"7",r:"7",s:"7",t:"8",u:"8",v:"8",w:"9",x:"9",y:"9",z:"9"}},function(e,t,i){"use strict";t.a=function(c,l,u){return function(e){if(!e.isCKError)throw e;var t=void 0,i={locNamespace:"CKSharing.ErrorDialog"},n=Object(d.a)(e),r=CloudKit.CKError,a=c.operationType,s=e.ckErrorCode;if("POLL_SHARE"!==a){switch(n){case r.ACCESS_DENIED:case"MANAGED_APPLE_ID_RESTRICTED":t=r.ACCESS_DENIED,i.descriptionLocSuffix="Description."+c.appName;break;case r.AUTHENTICATION_FAILED:case r.AUTHENTICATION_REQUIRED:throw e;case r.CONFLICT:case"OP_LOCK_FAILURE":case r.NOT_FOUND:"INVITE_TO_PUBLIC"!==(t=a)&&"SEND_LINK"!==a||(i.messageLocSuffix="Message."+c.appName),i.descriptionKey=r.CONFLICT;break;case r.ZONE_NOT_FOUND:t=c.operationType,i.descriptionKey=r.NOT_FOUND,i.descriptionLocSuffix="Description."+c.appName;break;default:var o;if(t=c.operationType,"INVITE_TO_PUBLIC"!==a&&"SEND_LINK"!==a||(i.messageLocSuffix="Message."+c.appName),i.descriptionKey=r.UNKNOWN_ERROR,u)o={name:e.name,message:e.message,ckErrorCode:s,operationType:c.operationType},u.recordStat("CloudKit Sharing Framework: Unhandled "+s+" response from the server.",o)}l&&l.error(t,i)}}};var d=i(390)},function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(845),r=(i.n(n),i(1395)),a=(i.n(r),i(43)),u=i(4),s=i(0),o=i(37),c=i(221),d=s._67("FileShowcaseViewTypes",function(e){e("DEFAULT_ICON"),e("EXTENSION"),e("EXTENSION_FADE_IN"),e("THUMBNAIL_IMMEDIATE"),e("THUMBNAIL_FADE_IN"),e("ICON_CANVAS_VIEW"),e("EMPTY_FILE_ICON")}),l={key:null,keynote:null,"key-tef":null,"keynote-tef":null,kth:null,pages:null,"pages-tef":null,template:null,numbers:null,"numbers-tef":null,nmbtemplate:null},h=c.a.extend({showcaseViewPool:s._107(null),iconService:s._107(null),thumbnailCanvasFactory:s._107(null),thumbnailStatsReporterService:s._107(null),staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[]},__QUALIFIED_CLASS_NAME__:"FileShowcaseView"},additionalClassNames:s._60(["x-showcase","x-file"]),extSize:"size-default",content:s._105({defaultValue:null}),fileType:s._105({defaultValue:"",render:!0}),fileExtension:s._105({defaultValue:"",render:!0}),filePreviewImageSrc:s._105(u.F.EMPTY_SRC),filePreviewImageView:null,pauseLoadingThumbnail:s._105({defaultValue:!1}),showThumbnailsWhenAvailable:!0,init:function(e,t,i,n,r){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=i,this.thumbnailStatsReporterService=n,this.__s._$nh$init.call(this,r),this._currentRequestId=0},displaySize:s._107(o.a.LARGE),suspendThumbnailLoading:function(){this._pauseLoadingThumbnail=!0},resumeThumbnailLoading:function(){this._pauseLoadingThumbnail=!1,this.content&&!0===this._thumbnailLoadingWasPaused&&(this._loadThumbnail(),this._thumbnailLoadingWasPaused=!1)},loadSubviews:function(){var e=this.filePreviewImageView=u.H.create({additionalClassNames:s._60(["file-preview"]),src:u._10({root:this,path:"filePreviewImageSrc"})}),t=this;e.observe("image.state",function(){t.setNeedsRender()}),this.addSubview(e)},willMoveToWindow:function(e){this.__s._$1Ch$willMoveToWindow.call(this,e),e&&(this._pauseLoadingThumbnail=!1,this._thumbnailLoadingWasPaused=!1)},prepareForReuse:function(){this.__s._$1Fo$prepareForReuse.call(this),this._currentRequestId++,this._thumbnailShowcaseViewUpdateListener&&(this._thumbnailShowcaseViewUpdateListener.disconnect(),this._thumbnailShowcaseViewUpdateListener=null),this._thumbnailShowcaseViewErrorListener&&(this._thumbnailShowcaseViewErrorListener.disconnect(),this._thumbnailShowcaseViewErrorListener=null);var e=this._genericFileShowcaseView,t=this._currentlyDisplayedShowcaseView;this._currentlyDisplayedShowcaseView=null;var i=this._queuedForDisplayShowcaseView;this._queuedForDisplayShowcaseView=null,e&&(e.parent&&this.removeSubview(e),e.isAnimating&&e.resetAnimation("fadeOpacity"),e.set("fadeOpacity",0),e.set("content",null)),t&&(t.isAnimating&&t.resetAnimation("fadeOpacity"),t.set("fadeOpacity",0),this._returnShowcaseViewToPool(t)),i&&(i.isAnimating&&i.resetAnimation("fadeOpacity"),i.set("fadeOpacity",0),this._returnShowcaseViewToPool(i))},_contentDidChange:s._106("content",function(e){var t=e?e.get("extension"):"NO_EXTENSION";this.set("fileExtension",t),this.set("fileType",t),this.thumbnailStatsReporterService.registerFile(e),this._showcaseViewDisplayStrategy=f.create({file:e,hasFilePreviewImageView:!!this.filePreviewImageView,iconService:this.iconService,thumbnailCanvasFactory:this.thumbnailCanvasFactory})}),render:function(){this.__s._$1z6$render.call(this);var e=this.get("content");if(e){var t,i=e.get("id"),n=this._showcaseViewDisplayStrategy.canProvideThumbnailCanvasForFile();if(this.showThumbnailsWhenAvailable){var r=this.showcaseViewPool.createThumbnailShowcaseViewUniqueIdentifier(e,this.displaySize);if(this.showcaseViewPool.isShowcaseViewAvailableForIdentifier(r)){var a=this.showcaseViewPool.getShowcaseViewFromCacheWithReuseIdentifier(r);if(a){if(a.isReadyForDisplay())return void this._displayThumbnailShowcaseViewWithImmediately(a);this.showcaseViewPool.releaseShowcaseView(a)}}}if(this._showcaseViewDisplayStrategy.shouldShowFilePreviewImage())return this.filePreviewImageView.imageView.image.state===u.F.STATE_LOADED;if(!this._showcaseViewDisplayStrategy.shouldShowFileIcon()||(this._renderImmediatelyForKey(d.DEFAULT_ICON),!1!==n)){var s=this._getFileTypeforIconCanvasView(),o={fileType:s,isIWorkFile:this.isIWorkFile(s),displaySize:this.displaySize,fileID:i},c=this._getFileDetails(o);if(t=this.showcaseViewPool.getShowcaseViewFromCache(c))this._queuedForDisplayShowcaseView=t,this._renderImmediatelyForKey(d.ICON_CANVAS_VIEW);else if(this.showcaseViewPool.shouldAcquireIconCanvasViewSync(c)){var l=this.showcaseViewPool.getAppIconShowcaseView(c);this._queuedForDisplayShowcaseView=l,this._renderImmediatelyForKey(d.ICON_CANVAS_VIEW)}else if(this._showcaseViewDisplayStrategy.shouldShowFileExtension()&&(this._renderImmediatelyForKey(d.EXTENSION),!1===n))return;n&&this._loadThumbnail()}}},_renderImmediatelyForKey:function(e){switch(e){case d.EXTENSION:case d.DEFAULT_ICON:this._removeGenericFileShowcaseViewAndPrepareForReuse(),this._renderGenericFileShowcaseView(e);break;case d.ICON_CANVAS_VIEW:this._removeGenericFileShowcaseViewAndPrepareForReuse(),this._renderGenericFileShowcaseView(d.EMPTY_FILE_ICON),this._renderAppIconShowcaseView()}},_removeGenericFileShowcaseViewAndPrepareForReuse:function(){var e=this._genericFileShowcaseView;e&&(e.parent&&this.removeSubview(e),e.set("fadeOpacity",0))},_removeShowcaseViewAndPrepareForReuse:function(){var e=this._currentlyDisplayedShowcaseView;this._currentlyDisplayedShowcaseView=null,this._returnShowcaseViewToPool(e)},_returnShowcaseViewToPool:function(e){e&&(e.parent&&this.removeSubview(e),e.prepareForReuse(),this.showcaseViewPool.releaseShowcaseView(e))},_renderGenericFileShowcaseView:function(e){var t=this._genericFileShowcaseView;t||(t=p.create({iconService:this.iconService}),this._genericFileShowcaseView=t),t.setContentAndViewType(this.get("content"),e),t.set("fadeOpacity",1),this.addSubview(t)},_renderGenericFileShowcaseViewWithFadeIn:function(e){var t=this._genericFileShowcaseView;t||(t=p.create({iconService:this.iconService}),this._genericFileShowcaseView=t),t.set("content",this.get("content")),t.set("viewType",e),t.set("fadeOpacity",0),this.addSubview(t),t.animate("fadeOpacity",1,500)},_renderNewThumbnailShowcaseViewImmediately:function(){var e=this._queuedForDisplayShowcaseView;e&&(this._removeGenericFileShowcaseViewAndPrepareForReuse(),this._removeShowcaseViewAndPrepareForReuse(),e.set("fadeOpacity",1),this.addSubview(e),this._currentlyDisplayedShowcaseView=e,this._queuedForDisplayShowcaseView=null)},_renderNewThumbnailShowcaseViewWithFadeIn:function(){var e=this._queuedForDisplayShowcaseView;if(e){var t=this._genericFileShowcaseView;t||(t=this._currentlyDisplayedShowcaseView);var i=this,n=this._currentRequestId;e.set("fadeOpacity",0),this.addSubview(e),t&&t.animate("fadeOpacity",0,500),e.animate("fadeOpacity",1,500,function(){n===i._currentRequestId&&(i._removeShowcaseViewAndPrepareForReuse(),i._currentlyDisplayedShowcaseView=e,i._queuedForDisplayShowcaseView=null,i._removeGenericFileShowcaseViewAndPrepareForReuse())}),t||(this._removeGenericFileShowcaseViewAndPrepareForReuse(),this._removeShowcaseViewAndPrepareForReuse(),this._currentlyDisplayedShowcaseView=e,this._queuedForDisplayShowcaseView=null)}},_renderAppIconShowcaseView:function(){var e=this._queuedForDisplayShowcaseView;this._queuedForDisplayShowcaseView=null,e&&(e.set("fadeOpacity",1),this.addSubview(e),this._currentlyDisplayedShowcaseView=e)},_getFileTypeforIconCanvasView:function(){var e=this.get("fileType");return e?e.toLowerCase():"UNK"},isIWorkFile:function(e){return e in l},_loadThumbnail:function(){if(this.content&&this.showThumbnailsWhenAvailable)if(this._pauseLoadingThumbnail)this._thumbnailLoadingWasPaused=!0;else{var t=this,e=this.get("content"),i=this.showcaseViewPool.createThumbnailShowcaseViewUniqueIdentifier(e,this.displaySize),n=this.showcaseViewPool.getShowcaseViewFromCacheWithReuseIdentifier(i);if(!n){var r=this.thumbnailCanvasFactory.createThumbnailShowcaseViewForFile(e,this.displaySize,i);if(!r.success)return void("PAUSED"===r.reason&&(this._thumbnailLoadingWasPaused=!0));n=r.thumbnailShowcaseView}if(n.isReadyForDisplay())this._displayThumbnailShowcaseViewWithImmediately(n);else{var a=this._currentRequestId;this._thumbnailShowcaseViewUpdateListener&&(this._thumbnailShowcaseViewUpdateListener.disconnect(),this._thumbnailShowcaseViewUpdateListener=null),this._thumbnailShowcaseViewErrorListener&&(this._thumbnailShowcaseViewErrorListener.disconnect(),this._thumbnailShowcaseViewErrorListener=null),this._thumbnailShowcaseViewUpdateListener=n.listen("updated",function(e){e&&t._currentRequestId===a&&t._displayThumbnailShowcaseViewWithFadeIn(n)}),this._thumbnailShowcaseViewErrorListener=n.listen("error",function(e){}),n.startLoading()}}},_displayThumbnailShowcaseViewWithFadeIn:function(e){this._queuedForDisplayShowcaseView=e,this._renderNewThumbnailShowcaseViewWithFadeIn(e)},_displayThumbnailShowcaseViewWithImmediately:function(e){this._queuedForDisplayShowcaseView=e,this._renderNewThumbnailShowcaseViewImmediately()},_getFileDetails:function(e){if(e.fileType)return e.isIWorkFile?this._createFileDetailsBundleForIWorkFileType(e):this._createFileDetailsBundleForDefaultFileType(e)},_createFileDetailsBundleForDefaultFileType:function(e){return{fileType:e.fileType,canvasClassName:"app-icon",iconPrerendered:!1,isIWorkFile:!1,displaySize:e.displaySize}},_createFileDetailsBundleForIWorkFileType:function(e){var t=e.fileType,i="iwork-icon";return"pages"===this.iconService._getContainerTypeForAppLibrary(t)&&(i="iwork-icon-pages"),{fileType:t,canvasClassName:i,iconPrerendered:!0,isIWorkFile:!0,displaySize:e.displaySize}},__superMap:{_$nh$init:"init",_$1Ch$willMoveToWindow:"willMoveToWindow",_$1Fo$prepareForReuse:"prepareForReuse",_$1z6$render:"render"}}),p=u._7.extend(a.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["file-icon"]},{type:"ELEMENT",tagname:"div",children:[],classes:["file-extension",{type:"CLASSNAMEOUTLET",bindingtype:"ENUMBINDING",name:"extSize",validvalues:["size-default","size-4","size-5","size-long"],attributes:{}}]}],classes:["file-icon-container"],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"fadeOpacity",attributes:{},unit:null,property:"opacity"}}}]},__QUALIFIED_CLASS_NAME__:"GenericFileShowcaseView"},viewType:s._105(),fadeOpacity:a.b(0),additionalClassNames:s._60(["x-showcase","x-file"]),extSize:"size-default",content:s._105({defaultValue:null}),fileType:s._105({defaultValue:"",render:!0}),fileExtension:s._105({defaultValue:"",render:!0}),filePreviewImageSrc:s._105(u.F.EMPTY_SRC),filePreviewImageView:null,iconService:s._107(null),_contentDidChange:s._106("content",function(e){if(e){var t=e?e.get("extension"):"NO_EXTENSION";this.set("fileExtension",t),this.set("fileType",t)}}),prepareForReuse:function(){this._resetFileShowcaseView()},setContentAndViewType:function(e,t){this.set("viewType",t),this.set("content",e)},render:function(){this.__s._$5ra$render.call(this);var e=this.get("viewType");this._resetFileShowcaseView(),this._renderFileIconContainer(),e===d.DEFAULT_ICON?this._renderFileIcon():e===d.EXTENSION&&this._renderFileExtension()},_resetFileShowcaseView:function(){var e=this.get("filePreviewImageView");e&&e.set("visible",!1),this.$(".file-extension").style("display","none"),this.$(".file-icon-container").style("display","none");var t=this.$(".file-icon"),i=this._currentIconClassName;this._currentIconClassName="blank",i&&t.removeClass(i),t.addClass("blank")},_renderFileIconContainer:function(){this.$(".file-icon-container").style("display","")},_renderFileIcon:function(){var e=this.$(".file-icon"),t=this.get("fileType"),i=_(t,this.iconService)||"blank",n=this._currentIconClassName;t||(i="blank"),n&&e.removeClass(n),i&&e.addClass(i),this._currentIconClassName=i},_renderFileExtension:function(){var e=this.$(".file-extension"),t=this.get("fileExtension");if(t){var i=t.length;7<i?e.text(""):(i<4?this.set("extSize","size-default"):4===i?this.set("extSize","size-4"):5===i?this.set("extSize","size-5"):5<i&&i<8&&this.set("extSize","size-long"),this.get("viewType")===d.EXTENSION?(e.style("display","block"),e.text(this.get("fileExtension"))):e.text(""))}else e.text("")},__superMap:{_$5ra$render:"render"}}),f=s.v.extend({file:null,hasFilePreviewImageView:!1,iconService:s._107(null),thumbnailCanvasFactory:s._107(null),init:function(e){var t=arguments;this.__s._$6dy$init.apply(this,t),this._fileType=this.file?this.file.get("extension"):"NO_EXTENSION"},shouldShowFilePreviewImage:function(){if(!this.hasFilePreviewImageView)return!1},shouldShowFileIconContainer:function(){return!this.shouldShowFilePreviewImage()},shouldShowFileIcon:function(){return!!this.shouldShowFileIconContainer()&&!!_(this._fileType,this.iconService)},shouldShowFileExtension:function(){return!this.shouldShowFileIcon()},canProvideThumbnailCanvasForFile:function(){return this.thumbnailCanvasFactory.canProvideThumbnailCanvasForFile(this.file)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ShowcaseViewDisplayStrategy"},__superMap:{_$6dy$init:"init"}});function _(e,t){if(!e)return"";var i=e.toLowerCase();return t.getGlyphClassNameForFileType(i)||null}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(842),r=(i.n(n),i(0)),a=i(4).e.extend({additionalClassNames:r._60(["brx","drive-ui"]),iconNames:"iclouddrive",staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertView"}})},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.FilesGrid.Default.Delete":"Delete","DriveUI.FilesGrid.Default.FolderName.NotNumbered":"Untitled Folder","DriveUI.FilesGrid.Default.FolderName.Numbered":"Untitled Folder %{number}","DriveUI.FilesGrid.Panel.FileInfo.Label.SharedBy":"Shared by:","DriveUI.FilesGrid.Panel.FileInfo.Label.Kind":"Kind:","DriveUI.FilesGrid.Panel.FileInfo.Label.Size":"Size:","DriveUI.FilesGrid.Panel.FileInfo.Label.Where":"Where:","DriveUI.FilesGrid.Panel.FileInfo.Label.Created":"Created:","DriveUI.FilesGrid.Panel.FileInfo.Label.Modified":"Modified:","DriveUI.FilesGrid.Item.Shared.Me":"Me","DriveUI.FilesGrid.Item.Shared.Label.SharedByMe":"Shared by Me","DriveUI.FilesGrid.Item.Shared.Label.SharedToMe":"Shared by %{name}","DriveUI.FilesGrid.Item.TimeRemaining.Minute.Zero":"0 minutes","DriveUI.FilesGrid.Item.TimeRemaining.Minute.One":"1 minute","DriveUI.FilesGrid.Item.TimeRemaining.Minute.Plural":"%{count} minutes","DriveUI.FilesGrid.Item.TimeRemaining.Hour.One":"1 hour","DriveUI.FilesGrid.Item.TimeRemaining.Hour.Plural":"%{count} hours","DriveUI.FilesGrid.Item.TimeRemaining.Day.One":"1 day","DriveUI.FilesGrid.Item.TimeRemaining.Day.Plural":"%{count} days","DriveUI.FilesGrid.Item.Kind.ApplicationLibrary":"Application Library","DriveUI.FilesGrid.Item.Kind.Folder":"Folder","DriveUI.FilesGrid.Item.Kind.File":"File","DriveUI.FilesGrid.Item.Kind.FileWithExtension":"%{ext} File","DriveUI.FilesGrid.Item.Info.DateTime.Format":"%{date:M}/%{date:d}/%{date:yyyy}, %{date:h}:%{date:mm} %{date:a}","DriveUI.FilesGrid.Cell.Info.LastModified":"Last modified %{date}","DriveUI.FilesGrid.Cell.Info.Tooltip":"Get Info","DriveUI.FilesGrid.Cell.Cancel.Tooltip":"Cancel upload","DriveUI.FilesGrid.Cell.Upload.Progress.Uploading":"Uploading","DriveUI.FilesGrid.EmptyDrive.Title":"Your iCloudDrive is empty.","DriveUI.FilesGrid.EmptyDrive.Subtitle":"You can upload files by dragging them here\nor by using an iCloudDrive enabled app.","DriveUI.FilesGrid.EmptyFolder.Title":"This folder is empty","DriveUI.FilesGrid.EmptyFolder.Subtitle":"You can upload files by dragging them here.","DriveUI.FilesGrid.EmptyTrash.Title":"No items","DriveUI.FilesGrid.File.Type.3ds":"3DS Max File","DriveUI.FilesGrid.File.Type.aac":"AAC audio","DriveUI.FilesGrid.File.Type.abbu":"Contacts Archive File","DriveUI.FilesGrid.File.Type.ai":"Adobe Illustrator Document","DriveUI.FilesGrid.File.Type.aiff":"AIFF-C Audio","DriveUI.FilesGrid.File.Type.apk":"Android Application","DriveUI.FilesGrid.File.Type.app":"Application","DriveUI.FilesGrid.File.Type.avi":"AVI movie","DriveUI.FilesGrid.File.Type.band":"Garageband Project","DriveUI.FilesGrid.File.Type.bat":"Batch File","DriveUI.FilesGrid.File.Type.bin":"MacBinary archive","DriveUI.FilesGrid.File.Type.blend":"Blend File","DriveUI.FilesGrid.File.Type.bmp":"Windows bitmap image","DriveUI.FilesGrid.File.Type.c":"C source code","DriveUI.FilesGrid.File.Type.c4d":"Cinema 4D File","DriveUI.FilesGrid.File.Type.class":"Java class","DriveUI.FilesGrid.File.Type.cpp":"C++ source code","DriveUI.FilesGrid.File.Type.css":"Cascading Style Sheet","DriveUI.FilesGrid.File.Type.cer":"Certificate","DriveUI.FilesGrid.File.Type.csv":"comma-separated values","DriveUI.FilesGrid.File.Type.dae":"Collada ","DriveUI.FilesGrid.File.Type.dmg":"Disk Image","DriveUI.FilesGrid.File.Type.dng":"Adobe raw image","DriveUI.FilesGrid.File.Type.doc":"Microsoft Word 97-2004 document","DriveUI.FilesGrid.File.Type.docx":"Office Open XML word processing document","DriveUI.FilesGrid.File.Type.dxf":"AutoCAD DXF File","DriveUI.FilesGrid.File.Type.eps":"Encapsulated PostScript","DriveUI.FilesGrid.File.Type.exe":"Microsoft Windows application","DriveUI.FilesGrid.File.Type.fbx":"Filmbox File","DriveUI.FilesGrid.File.Type.gif":"Graphics Interchange Format","DriveUI.FilesGrid.File.Type.gz":"GZip archive","DriveUI.FilesGrid.File.Type.h":"C header code","DriveUI.FilesGrid.File.Type.hqx":"BinHex archive","DriveUI.FilesGrid.File.Type.htm":"HTML text","DriveUI.FilesGrid.File.Type.epub":"Electronic Publication (EPUB)","DriveUI.FilesGrid.File.Type.ibooks":"Electronic Publication (iBooks)","DriveUI.FilesGrid.File.Type.icns":"Apple icon image","DriveUI.FilesGrid.File.Type.ico":"Windows icon image","DriveUI.FilesGrid.File.Type.ics":"ICS File","DriveUI.FilesGrid.File.Type.indd":"Adobe InDesign Document","DriveUI.FilesGrid.File.Type.ipa":"iOS App","DriveUI.FilesGrid.File.Type.iso":"ISO Disk Image","DriveUI.FilesGrid.File.Type.java":"Java source code","DriveUI.FilesGrid.File.Type.jpg":"JPEG image","DriveUI.FilesGrid.File.Type.js":"JavaScript","DriveUI.FilesGrid.File.Type.key":"Keynote Presentation","DriveUI.FilesGrid.File.Type.keychain":"keychain","DriveUI.FilesGrid.File.Type.log":"Log File","DriveUI.FilesGrid.File.Type.m":"Objective-C source code","DriveUI.FilesGrid.File.Type.m3u":"M3U Playlist","DriveUI.FilesGrid.File.Type.m4a":"Apple MPEG-4 audio","DriveUI.FilesGrid.File.Type.m4p":"protected MPEG-4 audo","DriveUI.FilesGrid.File.Type.m4r":"Ringtone","DriveUI.FilesGrid.File.Type.m4v":"Apple MPEG-4 movie","DriveUI.FilesGrid.File.Type.mid":"Midi audio","DriveUI.FilesGrid.File.Type.qt":"QuickTime movie","DriveUI.FilesGrid.File.Type.mp3":"MP3 Audio","DriveUI.FilesGrid.File.Type.mp4":"MPEG-4 movie","DriveUI.FilesGrid.File.Type.mpeg":"MPEG movie","DriveUI.FilesGrid.File.Type.numbers":"Numbers Spreadsheet","DriveUI.FilesGrid.File.Type.obj":"Wavefront 3D Object File","DriveUI.FilesGrid.File.Type.otf":"PostScript OpenType font","DriveUI.FilesGrid.File.Type.pages":"Pages Publication","DriveUI.FilesGrid.File.Type.pdf":"Portable Document Format (PDF)","DriveUI.FilesGrid.File.Type.perl":"Perl script","DriveUI.FilesGrid.File.Type.pkg":"Installer package archive ","DriveUI.FilesGrid.File.Type.png":"PNG image","DriveUI.FilesGrid.File.Type.pps":"Microsoft Powerpoint 97-2004 presentation","DriveUI.FilesGrid.File.Type.ppsx":"Office Open XML slide show","DriveUI.FilesGrid.File.Type.ppt":"Microsoft Powerpoint 97-2004 document","DriveUI.FilesGrid.File.Type.pptx":"Office Open XML presentation","DriveUI.FilesGrid.File.Type.ps":"PostScript","DriveUI.FilesGrid.File.Type.psd":"Adobe Photoshop document","DriveUI.FilesGrid.File.Type.py":"Python script","DriveUI.FilesGrid.File.Type.rar":"RAR archive","DriveUI.FilesGrid.File.Type.rtf":"Rich Text File","DriveUI.FilesGrid.File.Type.safariextz":"Safari extension","DriveUI.FilesGrid.File.Type.scpt":"Script","DriveUI.FilesGrid.File.Type.sh":"shell script","DriveUI.FilesGrid.File.Type.stl":"Stereolithography File","DriveUI.FilesGrid.File.Type.svg":"scalable vector graphics (SVG)","DriveUI.FilesGrid.File.Type.swift":"Swift File","DriveUI.FilesGrid.File.Type.tar":"tar archive","DriveUI.FilesGrid.File.Type.tiff":"TIFF image","DriveUI.FilesGrid.File.Type.ttf":"TrueType OpenType font","DriveUI.FilesGrid.File.Type.txt":"Text","DriveUI.FilesGrid.File.Type.vcf":"Electronic business card","DriveUI.FilesGrid.File.Type.wave":"Waveform audio","DriveUI.FilesGrid.File.Type.wma":"Windows media audio","DriveUI.FilesGrid.File.Type.wmv":"Windows media","DriveUI.FilesGrid.File.Type.xcodeproj":"Xcode Project","DriveUI.FilesGrid.File.Type.xhtml":"XHTML","DriveUI.FilesGrid.File.Type.xlam":"Microsoft Excel add-in","DriveUI.FilesGrid.File.Type.xls":"Microsoft Excel 97-2004 worksheet","DriveUI.FilesGrid.File.Type.xlsx":"Office Open XML spreadsheet","DriveUI.FilesGrid.File.Type.xml":"XML text","DriveUI.FilesGrid.File.Type.zip":"ZIP archive","DriveUI.FilesGrid.Error.Loading.FolderContent.Title":"There was a problem loading\nthe content of this folder.","DriveUI.FilesGrid.Error.Loading.FolderContent.Subtitle":"Try opening the folder again later.","DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Title":"%{fileName} cant be emailed.","DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Subtitle":"This file exceeds the maximum allowed size for attachments (%{maxFileSizeInMB} MB).","DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Title":"Your selection cant be emailed.","DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Subtitle":"Your selection exceeds the maximum allowed total size for attachments (%{maxFileSizeInMB} MB)","DriveUI.FilesGrid.Error.ShareFile.Generic.Message":"Could not share %{filename}.","DriveUI.FilesGrid.Error.ShareFile.Generic.Description":"There was an error sharing this file. Please try again later.","DriveUI.FilesGrid.Error.ShareFile.UnsharedToMe.Message":"%{filename} is no longer available.","DriveUI.FilesGrid.Error.ShareFile.UnsharedToMe.Description":"The owner stopped sharing, or you no longer have permission to continue viewing.","DriveUI.FilesGrid.Error.OpenFile.Title":"%{fileName} couldnt be opened.","DriveUI.FilesGrid.Error.OpenFile.Subtitle":"Try opening the file again later.","DriveUI.FilesGrid.Error.OpenFile.Deleted.Title":"%{fileName} couldnt be opened.","DriveUI.FilesGrid.Error.OpenFile.Deleted.Subtitle":"This file has been deleted and is no longer available.","DriveUI.FilesGrid.Error.OpenFile.Unshared.Title":"%{fileName} is no longer available.","DriveUI.FilesGrid.Error.OpenFile.Unshared.Subtitle":"The owner stopped sharing, or you no longer have permission to continue viewing.","DriveUI.FilesGrid.Error.Attachment.Title":"%{fileName} couldnt be emailed.","DriveUI.FilesGrid.Error.Attachment.Subtitle":"Try emailing the file again later.","DriveUI.FilesGrid.DragDrop.Status.MoveItems":"Move to %{destinationName}","DriveUI.FilesGrid.DragDrop.Status.MoveItems.ToRootContainer":"Move to iCloudDrive","DriveUI.FilesGrid.DragDrop.Status.UploadItems":"Upload to %{destinationName}","DriveUI.FilesGrid.DragDrop.Status.UploadItems.ToRootContainer":"Upload to iCloudDrive"})},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.FolderToolbar.Button.Delete.Tooltip":"Delete","DriveUI.FolderToolbar.Button.Download.Tooltip":"Download","DriveUI.FolderToolbar.Button.Email.Tooltip":"Email","DriveUI.FolderToolbar.Button.NewFolder.Tooltip":"New Folder","DriveUI.FolderToolbar.Button.Sharing.NotShared.Tooltip":"Add People","DriveUI.FolderToolbar.Button.Sharing.Shared.Tooltip":"Show People","DriveUI.FolderToolbar.Button.Upload.Tooltip.Disabled":"Uploading Not Available","DriveUI.FolderToolbar.Button.Upload.Tooltip.Enabled":"Upload"})},function(e,t,i){var r=i(9);e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){var n=i(408),r=i(234).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,n){var r=n(13),a=n(900),s=n(234),o=n(232)("IE_PROTO"),c=function(){},l="prototype",u=function(){var e,t=n(228)("iframe"),i=s.length;for(t.style.display="none",n(409).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;i--;)delete u[l][s[i]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(c[l]=r(e),i=new c,c[l]=null,i[o]=e):i=u(),void 0===t?i:a(i,t)}},function(e,t,i){var y=i(48),b=i(230),I=i(49),S=i(24),n=i(901);e.exports=function(d,e){var h=1==d,p=2==d,f=3==d,_=4==d,m=6==d,g=5==d||m,v=e||n;return function(e,t,i){for(var n,r,a=I(e),s=b(a),o=y(t,i,3),c=S(s.length),l=0,u=h?v(e,c):p?v(e,0):void 0;l<c;l++)if((g||l in s)&&(r=o(n=s[l],l,a),d))if(h)u[l]=r;else if(r)switch(d){case 3:return!0;case 5:return n;case 6:return l;case 2:u.push(n)}else if(_)return!1;return m?-1:f||_?_:u}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(2),r=i(40),a=i(262),s=r.a.extend(a.a,{toString:function(){return"[Object "+Object(n.B)(this)+":"+Object(n.D)(this)+"]"},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreObject"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),o=i(2),r=i(269),a={mixinDependencies:[n.Protocol,r.a],length:n.RequiredProperty.define(),toArray:function(){for(var e=this.createIterator().retain(),t=[],i=0;e.get("isValid");){var n=e.get("value");t[i++]=n,e.moveToNext()}return e.release(),t},encodedToArray:function(){for(var e=this.createIterator().retain(),t=[],i=0;e.isValid;){var n=e.encodedValue;t[i++]=n,e.moveToNext()}return e.release(),t},reduce:function(e,t,i){var n,r,a=this.createIterator().retain();for(2<=arguments.length?(n=t,r=0):a.isValid?(n=a.value,a.moveToNext(),r=1):Object(o.y)("reduce of empty array with no initial value");a.isValid;){var s=a.value;n=e.call(i,n,s,r++,this),a.moveToNext()}return a.release(),n},find:function(e,t){for(var i=this.createIterator().retain(),n=0;i.get("isValid");){var r=i.get("value");if(e.call(t,r,n++,this))return i.release(),r;i.moveToNext()}i.release()},every:function(e,t){for(var i=this.createIterator().retain(),n=0;i.get("isValid");){var r=i.get("value");if(!e.call(t,r,n++,this))return i.release(),!1;i.moveToNext()}return i.release(),!0},some:function(e,t){for(var i=this.createIterator().retain(),n=0;i.get("isValid");){var r=i.get("value");if(e.call(t,r,n++,this))return i.release(),!0;i.moveToNext()}return i.release(),!1},forEach:function(e,t){for(var i=this.createIterator().retain(),n=0;i.get("isValid");){var r=i.get("value");e.call(t,r,n++,this),i.moveToNext()}i.release()},contains:function(e){return this.encodedContains(this.encode(e))},encodedContains:function(e){for(var t=this.createIterator().retain();t.isValid;){if(t.encodedValue===e)return t.release(),!0;t.moveToNext()}return t.release(),!1},_isCwCollection:!0}},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var o=i(2),n=i(1),r=i(167),a=i(168),s=i(464),c={mixinDependencies:[n.Protocol,r.a,s.a],lastItem:Object(n.property)({get:function(){return this.objectAt(this.length-1)},set:function(e){return this.setIndex(this.length-1,e),e}}),firstItem:Object(n.property)({get:function(){return this.objectAt(0)},set:function(e){return this.setIndex(0,e),e}}),push:function(){for(var e=this.length,t=this.serializer,i=e,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(t&&t.encode)for(var s=0,o=r.length;s<o;s++)r[s]=t.encode(r[s],s+i);return this.encodedPush.apply(this,r)},encodedPush:function(){for(var e=this.length,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.encodedRawSplice.apply(this,[e,0].concat(i)),e+i.length},pop:function(){var e=this.length-1;return this.decode(this.encodedPop(),e)},encodedPop:function(){var e=this.length-1;return this.encodedRawSplice(e,1)[0]},unshift:function(){for(var e=this.serializer,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];if(e&&e.encode)for(var r=0,a=i.length;r<a;r++)i[r]=e.encode(i[r],r);return this.encodedUnshift.apply(this,i)},encodedUnshift:function(){for(var e=this.length,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.encodedRawSplice.apply(this,[0,0].concat(i)),e+i.length},shift:function(){return this.decode(this.encodedShift(),0)},encodedShift:function(){return this.encodedRawSplice(0,1)[0]},insertAt:function(e){for(var t=this.serializer,i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if(t&&t.encode)for(var a=0,s=n.length;a<s;a++)n[a]=t.encode(n[a],a+e);return this.encodedInsertAt.apply(this,[e].concat(n))},encodedInsertAt:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this.encodedSplice.apply(this,[e,0].concat(i)),this},removeAt:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.encodedSplice(e,t),this},add:function(e){return this.push(e),!0},encodedAdd:function(e){return this.encodedPush(e),!0},remove:function(e){return this.encodedRemove(this.encode(e))},encodedRemove:function(e){var t=this.encodedIndexOf(e);return-1!==t&&(this.removeAt(t,1),!0)},slice:function(e,t){var i=this.get("length");if(0===i)return[];e=void 0===e?0:u(e,i);for(var n=(t=void 0===t||i<t?i:u(t,i))-e,r=new Array(n),a=0;a<n;a++)r[a]=this.objectAt(a+e);return r},indexOf:function(e,t){return this.encodedIndexOf(this.encode(e),t)},encodedIndexOf:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=this.length,n=t=u(t,i);n<i;n++)if(this.encodedObjectAt(n)===e)return n;return-1},contains:d,encodedContains:h,includes:d,encodedIncludes:h,lastIndexOf:function(e,t){return this.encodedLastIndexOf(this.encode(e),t)},encodedLastIndexOf:function(e,t){for(var i=this.length,n=t=void 0===t?i-1:u(t,i);0<=n;n--)if(this.encodedObjectAt(n)===e)return n;return-1},splice:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this._validateSpliceArguments.apply(this,[this.rawSplice].concat(t))},encodedSplice:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this._validateSpliceArguments.apply(this,[this.encodedRawSplice].concat(t))},_validateSpliceArguments:function(e,t,i){for(var n=arguments.length,r=Array(3<n?n-3:0),a=3;a<n;a++)r[a-3]=arguments[a];var s=this._internalLength;t<0?(t=s+t)<0&&(t=0):s<t&&(t=s);var o=arguments.length;return(2===o||s<i+t)&&(i=s-t),3===o&&0===i?[]:e.call.apply(e,[this,t,i].concat(r))},itemsWillBeInserted:o.e,itemsWereInserted:o.e,itemsWillBeRemoved:o.e,itemsWereRemoved:o.e,itemsWillChange:o.e,itemsDidChange:o.e,rawSplice:function(e,t){for(var i,n=this.serializer,r=arguments.length,a=Array(2<r?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(n&&(i=n.encode))for(var o=a.length,c=0;c<o;c++)a[c]=i.call(n,a[c],e+c);var l=this.encodedRawSplice.apply(this,[e,t].concat(a)),u=void 0;if(n&&(u=n.decode))for(var d=l.length,h=0;h<d;h++)l[h]=u.call(n,l[h],e+h);return l},encodedRawSplice:Object(n.define)(n.RequiredMethod),objectAt:function(e){return this.decode(this.encodedObjectAt(e),e)},encodedObjectAt:Object(n.define)(n.RequiredMethod),iteratorClass:Object(n.property)({readOnly:!0,defaultValue:a.a}),createIteratorAt:function(e){return this.get("iteratorClass").create(this,e)},join:function(e){void 0===e&&(e=",");for(var t=this.get("length"),i="",n=0;n<t;n++){var r=this.objectAt(n);0!==n&&(i+=e),Object(o.x)(r)&&(i+=r.toString())}return i},toString:function(){return this.join(", ")},reverse:function(){for(var e=this.get("length")-1,t=0;t<e;t++,e--)this.swap(t,e);return this},setIndex:function(e,t){return this.encodedSetIndex(e,this.encode(t,e))},encodedSetIndex:function(e,t){return e>this.length&&(this.length=e+1),this.encodedSplice(e,1,t),this},swap:function(e,t){var i=this.encodedObjectAt(t);return this.encodedSetIndex(t,this.encodedObjectAt(e)),this.encodedSetIndex(e,i),this},move:function(e,t){var i=this.encodedRawSplice(e,1)[0];return this.encodedRawSplice(t,0,i),this},sort:function(e){return e||(e=l),function e(t,i,n,r){if(!(r-n+1<=1)){var a=Math.floor((n+r)/2);e(t,i,n,(a=function(e,t,i,n,r){var a=e.objectAt(r);for(e.swap(r,n),r=n;i<n;){t(e.objectAt(i),a)<=0?i++:e.swap(i,--n)}return e.swap(r,n),n}(t,i,n,r,a))-1),e(t,i,a+1,r)}}(this,e,0,this.get("length")-1),this},reduce:function(e,t,i){var n,r=0,a=this.length;2<=arguments.length?n=t:0<a?(n=this.objectAt(0),r=1):Object(o.y)("reduce of empty array with no initial value");for(var s=r;s<a;s++)n=e.call(i,n,this.objectAt(s),s,this);return n},find:function(e,t){for(var i=this.get("length"),n=0;n<i;n++){var r=this.objectAt(n);if(e.call(t,r,n,this))return r}},findLast:function(e,t){for(var i=this.get("length")-1;0<=i;i--){var n=this.objectAt(i);if(e.call(t,n,i,this))return n}},findIndex:function(e,t){for(var i=this.get("length"),n=0;n<i;n++){var r=this.objectAt(n);if(e.call(t,r,n,this))return n}return-1},binarySearch:function(e){for(var t=this,i=o.f,n=arguments.length,r=Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return i.apply(void 0,[0,this.length-1,function(e){return t.objectAt(e)},e].concat(r))},clear:function(){return this.encodedRawSplice(0,this.length),this},map:function(e,t){for(var i=this.constructNewInstance(),n=0,r=this.get("length");n<r;n++){var a=e.call(t,this.objectAt(n),n,this);i.setIndex(n,a)}return i},_internalLength:n.RequiredProperty.define()};function l(e,t){return void 0===t?void 0===e?0:-1:void 0===e?1:(e=String(e))<(t=String(t))?-1:t<e?1:0}function u(e,t){e<0&&(e=t+e);var i=t-1;return i<e?e=i:e<0&&(e=0),e}function d(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.encodedContains(this.encode(e),t)}function h(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return-1!==this.encodedIndexOf(e,t)}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[i(129).a],value:Object(n.define)(n.RequiredProperty),remove:Object(n.define)(n.RequiredMethod),add:Object(n.define)(n.RequiredMethod)}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r={done:!1,value:null},a={mixinDependencies:[n.Protocol,n.CloneableProtocol],next:function(){return r.value=this.value,r.done=!this.isValid,this.moveToNext(),r},moveToNext:Object(n.define)(n.RequiredMethod),isValid:Object(n.define)(n.RequiredProperty),value:Object(n.property)({get:function(){return this.source.decode(this.encodedValue)},set:function(e){return this.encodedValue=this.source.encode(e),e}}),encodedValue:Object(n.define)(n.RequiredProperty),source:Object(n.property)()};a[Symbol.iterator]=function(){return this}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(2),a=n.Class.extend({debugType:"Base",isCacheable:!0,calculateValueForNode:null,previousValueWasReplaced:r.e,flushNode:r.e,notifyNode:r.e,didAddParentToNode:r.e,didRemoveParentFromNode:r.e,didAddChildToNode:r.e,didRemoveChildFromNode:r.e,willRemoveChildFromNode:r.e,willRemoveParentFromNode:r.e,validateDescendantDownstreamNodeManager:r.e,wasDirtiedByParent:r.e,wasDirtiedBySelf:r.e,nodeWillFree:r.e,addDebugInfoForNode:r.e,staticMembers:{__QUALIFIED_CLASS_NAME__:"NodeManager"}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"SignalMetadata",function(){return u}),i.d(t,"signal",function(){return h});var n=i(1),r=i(2),a=i(21),s=i(20),o=i(18),c=i(272),l={key:"Signal Not Set Sentinel"},u=n.Metadata.extend({requiresSupport:s.a,isCacheable:!0,notifyNode:function(e,t){var i=a.a.getDataForNode(t);i.context=null,i.didFire=!1,this.didPropagate.call(e)},calculateValueForNode:function(e,t,i){var n=a.a.getStateDataForNode(t);if(i){a.a.setStateDataForNode(l,t);var r=a.a.getStateIDForNode(t);a.a.getValueForNode(r),n=a.a.getStateDataForNode(t)}return n=n===l?a.a.getDataForNode(t):d(t,this._debug_key,n),this.willPropagate.call(e,n),n},validateDescendantDownstreamNodeManager:r.e,getValue:function(e,n){return function(e){var t=this.downstreamNodes[n];if(void 0!==t){var i=e;o.ObservableProperty.isInsideSetter&&a.a.nodeIsDirty(t)?a.a.passValueToNode(i,t):a.a.setValueForNode(i,t)}}},didPropagate:r.e,willPropagate:r.e,wasRegistered:function(e,t){var i=arguments;this.__s._$18s$wasRegistered.apply(this,i),this._debug_key=t},addDebugInfoForNode:function(e,t,i){t.type="Signal",t.object=e,t.key=this._debug_key,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},initializeEvent:function(e){var t=d(e,this._debug_key,null);t.didFire=!1,a.a.setDataForNode(t,e),a.a.setStateDataForNode(l,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"SignalMetadata"},__superMap:{_$18s$wasRegistered:"wasRegistered"}}),d=function(e,t,i){var n=a.a.getDataForNode(e),r=c.b.create({type:t,context:i,didFire:!0});return r.retain(),n&&n.release(),r},h=function(){return u.create.apply(u,arguments)}},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return s});var n=i(1),r=i(277),a={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},s=r.a.extend({staticMembers:{nativePropertiesToCopy:Object(n.accumulator)(["pointerId","width","height","pressure","tiltX","tiltY","pointerType","isPrimary"]),eventPropertiesToCopy:Object(n.accumulator)(["pointerId","width","height","pressure","tiltX","tiltY","pointerType","isPrimary"]),__QUALIFIED_CLASS_NAME__:"PointerEvent"},pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",isPrimary:!1})},function(e,r,a){"use strict";(function(g){a.d(r,"a",function(){return n});var e=a(1),t=a(3),v=a(2),i=a(508),n=e.CoreObject.extend(e.SharedInstance,t.q,{init:function(e){var t=e&&e.userAgent;t?delete e.userAgent:t=g.navigator.userAgent,t=t.toLowerCase();var i,n,r,a,s,o=/\sedge\//.test(t),c=!o&&/chrome/.test(t),l=!o&&!c&&/safari/.test(t),u=!o&&!c&&!l&&/firefox/.test(t),d=!o&&!c&&!l&&!u&&/trident|msie/.test(t),h=o,p=!h&&/applewebkit/.test(t)&&!/edge/.test(t),f=!h&&!p&&/trident/.test(t),_=!h&&!p&&!f&&/gecko/.test(t);o?(i=t.match(/(?:edge).(\d+)\.(\d+)/),a=t.match(/(?:edge).(\d+)/)):(i=t.match(/(?:chrome|version|firefox|msie|rv).(\d+)\.(\d+)/),a=t.match(/(?:applewebkit|gecko|trident).(\d+)/));var m=o||d;i&&(n=parseInt(i[1],10),r=parseInt(i[2],10)),a&&(s=parseInt(a[1])),this.__s._$mx$init.call(this,{isChrome:c,isSafari:l,isFirefox:u,isEdge:o,isIE:d,isEdgeOrIE:m,isIE9OrLower:d&&n<10,isIE8OrLower:d&&n<9,majorVersion:n,minorVersion:r,isEdgeHTML:h,isWebKit:p,isGecko:_,isTrident:f,engineMajorVersion:s}),Object(v.h)(g,"online",this.updateNetworkConnectionStatus.bind(this)),Object(v.h)(g,"offline",this.updateNetworkConnectionStatus.bind(this)),this.updateNetworkConnectionStatus()},updateNetworkConnectionStatus:function(){this.isOffline=!g.navigator.onLine},isOffline:Object(t.T)(),isChrome:void 0,isFirefox:void 0,isEdge:void 0,isIE:void 0,isEdgeOrIE:void 0,isIE9OrLower:void 0,isIE8OrLower:void 0,isSafari:void 0,majorVersion:void 0,minorVersion:void 0,isEdgeHTML:void 0,isWebKit:void 0,isGecko:void 0,isTrident:void 0,engineMajorVersion:void 0,window:Object(t.T)({strong:!0,defaultValue:Object(e.instance)(i.a)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"Browser"},__superMap:{_$mx$init:"init"}})}).call(r,a(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=n.CoreObject.extend(n.SharedInstance,{generate:function(e,t,i){for(var n in i=i||this.createEventHandler,t){var r=t[n];e[r]=i(n,r)}return e},createEventHandler:function(t,i){return function(e){try{e.cwType=t}catch(e){throw new Error("error handling event of type "+t+" registered to "+i)}this.dispatchEvent(e)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"HandlerGenerator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c}),i(292);var n=i(3),r=i(2),a=i(1),s=i(531),o=i(136),c={mixinDependencies:[n.q],staticMembers:{className:Object(a.property)({get:function(e){if(Object(r.x)(e)&&this.hasOwnProperty("_className"))return e;if(!this.superclass.kindOf(c))return!1;if(!this.isNamed)return!1;var t=Object(r.F)(this.name.replace(/\$[0-9]+$/,"")).replace(/\./g,"-");return this._className=t}}),shouldInheritClassNames:!0,_classNamesFromJSClassHierarchyCache:null,_getClassNamesFromJSClassHierarchy:function(){if(this.hasOwnProperty("_classNamesFromJSClassHierarchyCache")&&this._classNamesFromJSClassHierarchyCache)return this._classNamesFromJSClassHierarchyCache;var e;if(this.kindOf(c)){if(!1!==this.className&&(e=[this.className]),this.shouldInheritClassNames){var t=this._getClassNamesFromJSClassHierarchy.call(this.superclass);e=e?e.concat(t):t}}else e=[];return this._classNamesFromJSClassHierarchyCache=e}},document:document,element:Object(n.T)(),style:Object(n.T)({readOnly:!0,dependencies:["element"],get:Object.assign(function(){return Object(o.a)(this.element)},{__CW__getter:function(e,t,i,n){return Object(o.a)(n.internalGet(this,t[0+i]))}})}),rect:Object(a.property)({readOnly:!0,get:function(){var e=this.element;return Object(s.a)(e)}}),origin:Object(a.property)({readOnly:!0,get:function(){var e=this.rect;return e?{x:e.left,y:e.top}:null}}),additionalClassNames:Object(n.T)({readOnly:!0}),_suppressApplicationOfClassNamesToElement:!0,_applyClassNamesToElement:Object(n.U)("element","additionalClassNames",function(e,t){if(e&&!this._suppressApplicationOfClassNamesToElement){var i=this.element.classList;t&&i.add.apply(i,t);var n=this.constructor._getClassNamesFromJSClassHierarchy();n.length&&i.add.apply(i,n)}}),init:function(){var e=arguments;this.__s._$1tC$init.apply(this,e),this._suppressApplicationOfClassNamesToElement=!1,this._applyClassNamesToElement()},__superMap:{_$1tC$init:"init"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return M});var n,r,a=i(1),s=i(10),o=i(2),c={"animation-duration":"s","animation-delay":"s","animation-iteration-count":"","column-count":"",columns:"","font-size-adjust":"","font-weight":"",opacity:"",order:"",orphans:"","tab-size":"","transition-delay":"s","transition-duration":"s",widows:"","z-index":"","flex-grow":"","flex-shrink":""},u={translate:{subkeys:"translateX translateY translateZ".split(" "),defaultUnit:"px",processArgs:function(){C<2&&Object(o.y)("When adding a `translate` transform, at least two arguments (for X and Y) are required.")}},translateDevicePixels:{transform:"translate",subkeys:"translateX translateY translateZ".split(" "),defaultUnit:"px",processArgs:function(){C<2&&Object(o.y)("When adding a `translate` transform, at least two arguments (for X and Y) are required.");for(var e=s.b.getPath("sharedInstance.devicePixelRatio"),t=0;t<C;t++){var i=w[t];i=Math.ceil(i*e)/e,w[t]=i}}},scale:{subkeys:"scaleX scaleY scaleZ".split(" "),defaultUnit:"",processArgs:function(){1===C&&(C=2,w[1]=w[0])}},rotate:{subkeys:"rotateX rotateY rotateZ".split(" "),defaultUnit:"deg",processArgs:function(){2===C&&Object(o.y)("When adding a `rotate` transform, either one or three arguments (for Z-only or X, Y, Z) are required."),1===C&&(C=3,w[2]=w[0],w[0]=w[1]=void 0)}},skew:{subkeys:"skewX skewY".split(" "),defaultUnit:"deg",processArgs:function(){}},matrix:{subkeys:[],_name:"matrix",_requiredArgs:6,processArgs:function(){u.matrix3d.processArgs.call(this)}},matrix3d:{subkeys:[],_name:"matrix3d",_requiredArgs:16,processArgs:function(){var e,t,i=1===C&&w[0];if(i&&Array.isArray(i))for(C=i.length,e=0;e<C;e++)w[e]=i[e];for(C!==this._requiredArgs&&Object(o.y)("When adding a `"+this._name+"` transform, exactly "+this._requiredArgs+" arguments are required."),e=0;e<C;e++)t=w[e],isNaN(t)&&Object(o.y)("All arguments to `"+this._name+"` must be numbers."),w[e]=(+t).toFixed(15)}}},d=function(){var e,t,i,n,r,a,s={};for(e in u)for(i=(t=u[e]).defaultUnit,a=(n=t.subkeys).length,r=0;r<a;r++)s[n[r]]=i;return s}(),l=a.Class.extend(a.AccessorProtocol,{element:null,_unflushedStyles:null,_unflushedStyleKeys:null,_unflushedStyleKeysLen:0,_pauseCount:0,init:function(e){this.element=e,this._unflushedStyles={},this._unflushedStyleKeys=[],this.__s._$21s$init.call(this)},set:function(e,t){if(Object(o.O)(e))return this._setWithHash(e);t=function(e,t){if(0!==t&&!t)return"";if(!isNaN(t)){var i=c[e];return void 0===i&&(i="px"),t+i}return t}(e,t),e=f(e);var i=this._unflushedStyles;return i[e]||(this._unflushedStyleKeys[this._unflushedStyleKeysLen++]=e),i[e]=t,this._flushStylesToElement(),this},get:function(e){return e=S(e)+e,function(e,t){var i;(i=e._computedStyle)||(i=e._computedStyle=document.defaultView.getComputedStyle(e,null));var n=i.getPropertyValue(t);return!n&&v[t]&&(n=v[t](i)||n),n}(this.element,e)},getInline:function(e){return e=f(e),this.element.style[e]},clear:function(e){return e?this.set(e,void 0):this._clearAll()},transform:function(e){if(!arguments.length)return this._partialTransformString=null,this.set("transform","");var t,i,n,r,a,s,o=u[e],c=this._partialTransformString||"";if(this._partialTransformString=null,o){var l=o.transform||e;for(t=o.subkeys,i=o.defaultUnit,a=arguments.length,C=a-1,r=1;r<a;r++)w[r-1]=arguments[r];if(o.processArgs(),t.length>=C)for(r=0;r<C;r++)void 0!==(n=w[r])&&(isNaN(n)||(n+=i),s=t[r],T[s]&&("rotateZ"!==s||T.rotateX||T.rotateY||(s="rotate"),c+=(r?" ":"")+s+"("+n+")"));else for(c+=l+"(",r=0;r<C;r++)c+=(n=w[r])+(r<C-1?", ":")")}else void 0!==(n=arguments[1])&&T[e]&&(isNaN(n)||(n+=d[e]),"rotateZ"!==e||T.rotateX||T.rotateY||(e="rotate"),c+=e+"("+n+")");return this.set("transform",c),p.styleInstance=this,p._partialTransformString=c+" ",p},layerBack:function(){return this.translateZ(0)},forceRedraw:function(){var e=this.element,t=e.parentNode;if(t){var i=e.nextSibling;t.removeChild(e),t.insertBefore(e,i)}return this},layerBackIf:function(e){return this.translateZ(e?0:void 0)},pause:function(){return this._pauseCount++,this},resume:function(){return--this._pauseCount<=0&&(this._pauseCount=0),this._hasUnflushedStyles&&this._flushStylesToElement(),this},_setWithHash:function(e){for(var t in this.pause(!0),e)e.hasOwnProperty(t)&&this.set(t,e[t]);return this.resume(!0),this},_clearAll:function(){return this.element.style.cssText="",this},_flushStylesToElement:function(){if(this._pauseCount)this._hasUnflushedStyles=!0;else{var e,t,i=this.element.style,n=this._unflushedStyles,r=this._unflushedStyleKeys,a=this._unflushedStyleKeysLen;for(e=0;e<a;e++)t=r[e],r[e]=void 0,i[t]=n[t],n[t]=void 0;this._unflushedStyleKeysLen=0}},staticMembers:{__QUALIFIED_CLASS_NAME__:"Style"},__superMap:{_$21s$init:"init"}}),h=(n={transform:!0,layerBack:!0,layerBackIf:!0},r=function(e){n[e]=!0},Object.keys(u).forEach(r),Object.keys(d).forEach(r),n);!function(){var e=l.prototype,i=[],t=function(t){return function(){for(var e=(i.length=arguments.length+1)-1;1<=e;e--)i[e]=arguments[e-1];return i[0]=t,this.transform.apply(this,i)}};for(var n in u)e[n]=t(n);for(var r in d)e[r]=t(r)}();var p=function(){var e={styleInstance:null,_partialTransformString:null},t=l.prototype,i=function(t){return h[t]?function(){var e=this.styleInstance;return e._partialTransformString=this._partialTransformString,e[t].apply(e,arguments)}:function(){var e=this.styleInstance;return e[t].apply(e,arguments)}};for(var n in t)t.hasOwnProperty(n)&&t[n]instanceof Function&&"_"!==n[0]&&"constructor"!==n&&!e[n]&&(e[n]=i(n));return e}();function f(e){return m(e=S(e)+e)}var _={};function m(e){var t=_[e];if(t)return t;if(!e)return"";0!==e.indexOf("-ms-")&&0!==e.indexOf("-webkit-")||(e=e.substring(1));var i,n=e,r=n.length;for(i=0;i<r;i++)"-"===n[i]&&i<r-1&&(n=n.substring(0,i)+n[i+1].toUpperCase()+n.substring(i+2),r--);return _[e]=n}var g=["style","variant","weight","size","family"],v={font:function(e){for(var t="",i=0,n=g.length;i<n;i++){var r=g[i],a=e.getPropertyValue("font-"+r);if(a&&(t&&(t+=" "),t+=a,"size"===r)){var s=e.getPropertyValue("line-height");s&&(t+="/"+s)}}return t}},y=["","-ms-","-moz-","-webkit-","-o-"],b={},I=document.createElement("div");function S(e){var t=b[e];if(void 0!==t)return t;e.match(E)&&Object(o.y)('Attempting to set style "'+e+"\". Use the dashed form of the style's name instead.");var i,n,r=y.length,a=!1;for(i=0;i<r;i++)if(n=y[i],"string"==typeof I.style[m(n+e)]){a=!0,n&&2<y.length&&(y=["",n]);break}return a?b[e]=n:o.T.warn("Using unsupported style "+e+"."),a?n:""}var w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=0,E=/[A-Z]/,T={};!function(){var e;for(e in d)d.hasOwnProperty(e)&&(T[e]=!0);var t=l.create(document.createElement("div"));for(e in T)if(T.hasOwnProperty(e)){var i=t.transform(e,1).getInline("transform");i&&"none"!==i||(T[e]=!1),t.transform()}}();var A,O,D,F=(A=l.create(),O=A.pause,D=A.resume,A.pause=function(e){if(e)return O.call(this);Object(o.y)("Cannot `pause` the shared CW.UI.Style instance.")},A.resume=function(e){if(e)return D.call(this);Object(o.y)("Cannot `resume` the shared CW.UI.Style instance.")},A),M=function(e,t,i){if(e){var n=arguments.length;if(1<n){var r=e._cwStyleProxy;if(r||((r=F).element=e),3===n)return r.set(t,i);if(2===n)return r.set(t)}return e._cwStyleProxy||(e._cwStyleProxy=l.create(e))}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(3),a=n.CoreObject.extend(n._Poolable,{itemsChanges:Object(n.property)({strong:!0}),invalidateItemAt:function(e){var t=this.invalidItems;t||(t=this.invalidItems=r.h.create()),t.add(e)},invalidItems:Object(n.property)({strong:!0}),sectionsChanges:Object(n.property)({strong:!0}),invalidateSectionAt:function(e){var t=this.invalidSections;t||(t=this.invalidSections=r.h.create()),t.add(e)},invalidSections:Object(n.property)({strong:!0}),movedBy:Object(n.property)({strong:!0}),sizeChangedBy:Object(n.property)({strong:!0}),itemShown:Object(n.property)({strong:!0}),itemShownAt:Object(n.property)({strong:!0}),everythingChanged:!1,layoutMetricsChanged:Object(n.property)({strong:!0}),collectionChanged:!1,didEnterPool:function(){var e=arguments;this.itemsChanges=null,this.invalidItems=null,this.sectionsChanges=null,this.invalidSections=null,this.movedBy=null,this.sizeChangedBy=null,this.itemShown=null,this.itemShownAt=null,this.everythingChanged=!1,this.layoutMetricsChanged=null,this.collectionChanged=!1,this.__s._$ao$didEnterPool.apply(this,e)},toString:function(){var e=arguments,t="["+this.__s._$bw$toString.apply(this,e)+" ";return this.itemsChanges&&(t+="itemsChanges("+this.itemsChanges.lengthDelta+") "),this.invalidItems&&(t+="invalidItems("+this.invalidItems.size+") "),this.sectionsChanges&&(t+="sectionsChanges("+this.sectionsChanges.lengthDelta+") "),this.invalidSections&&(t+="invalidSections("+this.invalidSections.size+") "),this.movedBy&&(t+="movedBy("+this.movedBy.toString()+") "),this.sizeChangedBy&&(t+="sizeChangedBy("+this.sizeChangedBy.toString()+") "),this.everythingChanged&&(t+="everythingChanged "),this.layoutMetricsChanged&&(t+="layoutMetricsChanged("+this.layoutMetricsChanged.toArray().join(", ")+") "),this.collectionChanged&&(t+="collectionChanged "),this.itemShown&&(t+="itemShown "),this.itemShownAt&&(t+="itemShownAt("+this.itemShownAt.toString()+") "),t+"]"},staticMembers:{__QUALIFIED_CLASS_NAME__:"InvalidationContext"},__superMap:{_$ao$didEnterPool:"didEnterPool",_$bw$toString:"toString"}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ModelProperty",function(){return r}),i.d(t,"modelProperty",function(){return a});var d=i(3),h=i(1),p=i(2),l=i(105),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=d.t.extend({requiresSupport:l.a,type:null,isPrimaryKey:!1,dataKey:null,encode:null,decode:null,setInitialValueForObject:function(e,t,i){var n=arguments;void 0!==i&&Object(p.y)("Initial values are not supported on ModelProperties: "+e+"#"+t,{object:e,key:t,initialValue:i}),this.__s._$UD$setInitialValueForObject.apply(this,n)},downstreamNodeManagerClass:d.j.extend({calculateValueForNode:function(e,t,i){if(i){var n=d.i.getStateIDForNode(t);0<d.i._sanitizeNodeID(n)&&d.i.getValueForNode(n)}var r=this.key,a=this.property.getRawValueForObject(e,r);return this.property._materializeValue(e,r,a)},isCacheable:!1}),upstreamNodeManagerClass:d.P.extend({calculateValueForNode:function(e,t,i){var n;if(i){var r=d.i.getStateIDForNode(t);(n=this.pullDataFromParent(t,r))===d.o&&(n=d.i.getDataForNode(t))}else n=d.i.getStateDataForNode(t);var a=this.property,s=this.key;return n!==a._getCachedValueForObject(e,s)&&(a.clearCachedValueForObject(e,s),n=a._encodeValue(e,s,n),a.setRawValueForObject(e,s,n)),n},notifyNode:function(e,t){var i=this.key,n=d.i.getDataForNode(t);e.dataDidChange(i,n)}}),init:function(e){var t=arguments;e&&void 0!==e.defaultValue&&(this._hadDefaultValue=!0,delete e.defaultValue),this.__s._$14N$init.apply(this,t)},initializeNodeFlags:function(){var e=arguments;this.__s._$15N$initializeNodeFlags.apply(this,e),this.upstreamNodeFlags|=d.i.PULL_ON_FLUSH|d.i.NOTIFY},setRawValueForObject:function(e,t,i){if(t=this.dataKey||t,e.isStoreModel)e._cwStore.writeDataProperty(e._cwStoreId,t,i);else if(e.isEmbeddedModel){for(var n=e._cwParent,r=n;r.isEmbeddedModel;)r=r._cwParent;var a=r._cwStore,s=r._cwStoreId;a&&a.willWriteData(s);var o=e.getDataHash();o||Object(p.y)("Can't write value for key to undefined data hash",{key:t,value:i,object:e,type:e.constructor}),o[t]=i,a&&a.didWriteData(s),n.notifyOfDataChange()}else{var c=e.getDataHash();c||Object(p.y)("Can't write value for key to undefined data hash",{key:t,value:i,object:e,type:e.constructor}),c[t]=i}return i},getRawValueForObject:function(e,t){var i,n=this.dataKey||t,r=e.getDataHash();return r&&(i=r[n]),void 0===i?null:i},_encodeValue:function(e,t,i){var n,r,a,s=e.__cwMaterializedValues,o=s&&s[t],c=Object(p.G)(i,l.a);return o&&c&&(function(e){var t=e._cwParent;t||Object(p.y)("CW.Data.Model#detachFromParent: Model is not attached to a parent.",{embeddedModel:e});var i=t.getDataHash(),n=e._cwParentKey;e.__cwDataHash=i[n],i[n]=null,e._cwParent=null,e._cwParentKey=null,e.release()}(o),this.clearCachedValueForObject(e,t)),c?(r=i,a=t,(n=e)||Object(p.y)("CW.Data.ModelProperty#attachToParent: No parent model provided.",{embeddedModel:r,parentKey:a}),r||Object(p.y)("CW.Data.ModelProperty#attachToParent: No embedded model provided.",{parentModel:n,parentKey:a}),a||Object(p.y)("CW.Data.ModelProperty#attachToParent: No parent key provided.",{parentModel:n,embeddedModel:r}),n.getDataHash()[a]=r.getDataHash(),r._cwParent=n,r._cwParentKey=a,delete r.__cwDataHash,r.retain(),this._setCachedValueForObject(e,t,i),i=i.getDataHash()):Object(p.G)(i,h.EnumItem)&&(i=i.value),Object(p.N)(this.encode)&&(i=this.encode.call(e,i)),i&&i.toJSON?i.toJSON():i},_materializeValue:function(i,n,e){var t=this._getCachedValueForObject(i,n);if(void 0!==t)return t;var r,a,s,o=this.type,c=(Object(p.N)(this.decode)?this.decode:(r=o,a=e,s=String(r).toLowerCase(),r===Boolean||"boolean"===s?f:r===String||"string"===s?_:r===Array||"array"===s||r===d.r||"cw.observablearray"===s||a instanceof Array?m:r===Date||"date"===s?g:Object(p.G)(r,h.EnumGroup)?v:p.c)).call(i,e,o),l=c!==e;if(Object(p.G)(c,d.r)){var u=this.dataKey||n;c.listen("contentsDidChange",function(e){var t=i.getDataHash()[u];t||(t=i.getDataHash()[u]=[]),e.context.forEach(function(e){e.operation===d.r.INSERT?t.splice(e.index,0,e.item):t.splice(e.index,1)}),i.notifyOfDataChange(n,c)})}return l&&(this._setCachedValueForObject(i,n,c),c&&c.retain&&c.retain()),c},clearCachedValueForObject:function(e,t){var i=this._getCachedValueForObject(e,t);i&&i.release&&i.release(),e.__cwMaterializedValues&&delete e.__cwMaterializedValues[t]},_getCachedValueForObject:function(e,t){var i=e.__cwMaterializedValues;return i&&i[t]},_setCachedValueForObject:function(e,t,i){var n=e.__cwMaterializedValues;return n||(n=e.__cwMaterializedValues={}),n[t]=i},wasRegistered:function(e,t){var i=arguments,n=this.type;n&&(this.type=null),this.__s._$3L9$wasRegistered.apply(this,i),n&&(this.type=n);var r=e.constructor,a=this.dataKey;if(a&&a!==t&&r._setKeyForDataKey(t,a),this.isPrimaryKey){var s=r.primaryKey;s&&Object(p.y)("CW.Data.ModelProperty#wasRegistered: Models cannot define multiple primary keys.",{existingPrimaryKey:s,newPrimaryKey:t,modelClass:r}),r.primaryKey=t}this._hadDefaultValue&&Object(p.y)("Default values are not supported on ModelProperties: "+e+"#"+t,{object:e,key:t})},_hadDefaultValue:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"ModelProperty"},__superMap:{_$UD$setInitialValueForObject:"setInitialValueForObject",_$14N$init:"init",_$15N$initializeNodeFlags:"initializeNodeFlags",_$3L9$wasRegistered:"wasRegistered"}});function f(e){return!!e}function _(e){return null===e?null:void 0!==e?String(e):void 0}function m(e){return d.r.create(e)}function g(e){return"string"==typeof e&&(e=Date.parse(e)),e?new Date(e):null}function v(e,t){return t.getItemForValue(e)}var a=function(e){return"object"!==(void 0===e?"undefined":n(e))&&(e={defaultValue:e}),r.create(e)}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var c=i(0),a=i(64),l=c._67("PromiseMapErrorCauseType",["Fatal","Normal"]),o=c._67("BRKit.PromiseStateEnum",function(e){e("Prepared"),e("Resolved"),e("Rejected"),e("Cancelled")}),s=c.v.extend({state:c._107({readOnly:!0,get:function(){return this._state}}),init:function(e){var t=arguments;this.__s._$H7$init.apply(this,t),this._state=o.Prepared,this._callbacks=[]},then:function(e,t,i){if(this._state!==o.Prepared&&c._75("Cannot prepare. Invalid state",{promise:this}),1===arguments.length&&c._93(e)){var n=e;e=n.success,t=n.failure||null,i=n.cancel||null}var r=s.create();return this._callbacks.push({successCallback:e?c._126(e):null,failureCallback:t?c._126(t):null,cancelCallback:i?c._126(i):null,binding:r}),r},catch:function(e){this._state!==o.Prepared&&c._75("Cannot catch. Invalid state",{promise:this});var t=s.create();return this._callbacks.push({failureCallback:c._126(e),binding:t}),t},cancelled:function(e){this._state!==o.Prepared&&c._75("Cannot handle cancel. Invalid state",{promise:this});var t=s.create();return this._callbacks.push({cancelCallback:c._126(e),binding:t}),t},resolve:function(e){this._state!==o.Prepared&&c._75("Cannot resolve. Invalid state",{promise:this}),this._state=o.Resolved;for(var t=this._callbacks,i=0,n=t.length;i<n;i++){var r=t[i],a=r.successCallback,s=r.binding;a?this._handleCallback(a,s,e):s&&s.resolve(e)}},reject:function(e){this._state!==o.Prepared&&c._75("Cannot reject. Invalid state",{promise:this}),this._state=o.Rejected;for(var t=this._callbacks,i=0,n=t.length;i<n;i++){var r=t[i],a=r.failureCallback,s=r.binding;a?this._handleCallback(a,s,e):s&&s.reject(e)}},cancel:function(e){this._state!==o.Prepared&&c._75("Cannot cancel. Invalid state",{promise:this}),this._state=o.Cancelled;for(var t=this._callbacks,i=0,n=t.length;i<n;i++){var r=t[i],a=r.cancelCallback,s=r.binding;a?this._handleCallback(a,s,e):s&&s.cancel(e)}},_handleCallback:function(t,i,e){try{var n=t(e);r=n,(c._93(r)||c._90(r))&&c._92(n.then)?n.then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.cancel(e)}):i.resolve(n)}catch(e){c._100.error("[BRKit.Promise] caught exception: "+e.message,{callback:t,error:e}),i.reject(e)}var r},staticMembers:{createAndResolve:function(e){var t=s.create();return a.a.setTimeout(function(){t.resolve(e)}),t},createAndReject:function(e){var t=s.create();return a.a.setTimeout(function(){t.reject(e)}),t},cancel:function(e){var t=s.create();return a.a.setTimeout(function(){t.cancel(e)}),t},waitAndResolve:function(e,t){var i=s.create();return a.a.setTimeout(function(){i.resolve(t)},e||0),i},bind:function(i){return function(e){var t=s.create();return a.a.setTimeout(function(){i(t,e)}),t}},promisify:function(r){return function(){var i=s.create(),n=Array.prototype.slice.call(arguments);return a.a.setTimeout(function(){try{var e=r.apply(null,n);i.resolve(e)}catch(e){var t=new Error("BRKit.Promise: Caught thrown error");t.parentError=e,t.func=r,t.args=n,i.reject(t)}}),i}},reject:function(e){var t=e||s.create();return function(e){return a.a.setTimeout(function(){t.reject(e)}),t}},map:function(e,t){var i=s.create(),n=new Array(e.length);return a.a.setTimeout(function(){u(e,t,0,n,i)}),i},forEach:function(e,t){var i=s.create();return a.a.setTimeout(function(){u(e,t,0,null,i)}),i},__QUALIFIED_CLASS_NAME__:"BRKitPromise"},__superMap:{_$H7$init:"init"}});function u(t,i,n,r,a){if(n<t.length){var e,s=t[n];try{e=i(s)}catch(e){var o=new Error("BRKit.Promise#map: Caught error at index "+n);return o.item=s,o.index=n,o.cause=e,o.type=l.Fatal,void a.reject(o)}c._96(e)?e.then(function(e){r&&(r[n]=e),u(t,i,n+1,r,a)}).catch(function(e){var t=new Error("BRKit.Promise#map: Caught thenable error at index "+n);t.item=s,t.index=n,t.cause=e,t.type=l.Normal,a.reject(t)}):(r&&(r[n]=e),u(t,i,n+1,r,a))}else a.resolve(r)}s.resolve=s.createAndResolve,s.reject=s.createAndReject},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=i(337),o=i(339),c=r.a.extend({start:0,end:0,size:0,isPoint:!1,maxValue:0,minValue:0,init:function(e,t){this.__s._$4t$init.call(this),this.start=e,this.end=t;var i=this.minValue=e<=t?e:t,n=this.maxValue=e<=t?t:e;this.isPoint=e===t,this.size=n-i+1},collectItemsFromList:function(e){for(var t=[],i=this.start;i<=this.end;i++)t.push(e[i]);return t},increment:function(e){return e||(e=1),c.create(this.start+e,this.end+e)},decrement:function(e){return e||(e=1),c.create(this.start-e,this.end-e)},expand:function(e){return e||(e=1),c.create(this.start,this.end+e)},contract:function(e){e||(e=1);var t=this.start,i=this.end-e;return i<t&&(i=t),c.create(t,i)},intersectsRange:function(e){return e!==o.a&&(this.containsValue(e.start)||this.containsValue(e.end)||this.subsetOfRange(e))},subsetOfRange:function(e){return e!==o.a&&this.minValue>=e.minValue&&this.maxValue<=e.maxValue},supersetOfRange:function(e){return e!==o.a&&this.minValue<=e.minValue&&this.maxValue>=e.maxValue},equals:function(e){return e!==o.a&&this.minValue===e.minValue&&this.maxValue===e.maxValue},containsValue:function(e){return e>=this.minValue&&e<=this.maxValue},intersectWithRange:function(e){if(!this.intersectsRange(e))return o.a;if(this.subsetOfRange(e))return this;if(e.subsetOfRange(this))return e;var t,i,n=this.minValue,r=this.maxValue,a=e.minValue,s=e.maxValue;return a<=r?(t=a,i=r):(t=n,i=s),c.create(t,i)},unionWithRange:function(e){if(!this.intersectsRange(e))return o.a;var t=this.minValue,i=this.maxValue,n=e.minValue,r=e.maxValue,a=t<=n?t:n,s=r<=i?i:r;return c.create(a,s)},mergeWithRange:function(e){var t=this.minValue,i=this.maxValue;return e.minValue<t&&(t=e.minValue),e.maxValue>i&&(i=e.maxValue),c.create(t,i)},minValueAdjacentToRange:function(e){return e.maxValue+1===this.minValue},maxValueAdjacentToRange:function(e){return this.maxValue+1===e.minValue},betweenRanges:function(e,t){var i=this.minValue,n=this.maxValue;return e!==o.a&&t!==o.a&&(e.maxValue<i&&n<t.minValue||t.maxValue<i&&n<e.minValue)},subtractRange:function(e){if(!this.intersectsRange(e))return[this];if(this.subsetOfRange(e))return[o.a];var t=this.minValue,i=this.maxValue,n=e.minValue,r=e.maxValue;return t<n&&r<i?[c.create(t,n-1),c.create(r+1,i)]:e.containsValue(t)?[c.create(r+1,i)]:[c.create(t,n-1)]},forEach:function(e){for(var t=this.minValue,i=this.maxValue,n=t;n<=i;n++)e(n)},toString:function(){var e=this.start,t=this.end,i="[Range: <";return this.isPoint?i+=e:i+=e+", "+t,i+">]"},staticMembers:{__QUALIFIED_CLASS_NAME__:"Range"},__superMap:{_$4t$init:"init"}});c.EMPTY=o.a,c.createAsPoint=function(e){return c.create(e,e)},c.extend=function(){n._75("Cannot extend range")}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={trace:!1,logTrace:function(e){(this.trace||window.TRACE_ALL)&&n._100.debug(this+" "+e)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var s=i(0),o=i(347),c=i(15),n={windowCount:0,windowApplications:{},openWindowApplication:function(e,t,i){var n=this._getNextWindowId();e=this._addInstanceIdToURL(e,n);var r=window.open(e,t,i);return this.windowApplications[n]={window:r},n},_addInstanceIdToURL:function(e,t){var i="&";return-1===e.indexOf("#")&&(i="#"),e+i+"instanceId="+t},_getNextWindowId:function(){return"generating a new id",s._100.debug("WindowApplication: generating a new id"),"window_"+this.windowCount++},windowApplicationIsRegistered:function(e){return!!this.windowApplications[e]},passWindowApplicationMessage:function(t,e){var i=this.windowApplications[t];if(i){var n=s._63(arguments);if(n=n.slice(2,n.length),i.didInitialize){var r={isCloudOSMessage:!0,methodName:e,args:n,isWindowApplicationMessage:!0};try{var a=i.window.CK.currentApplication;a?a._windowMessageWasReceived(s._68(r)):o.a.create({window:i.window,origin:c.a.getPath("cloudOSApplication.driver").getIOChannelOrigin()}).sendMessage(r)}catch(e){s._100.warn("postMessage: CK.WindowApplication "+t+" not properly loaded?")}}else this._registerWindowApplicationMessage(t,e,n)}else s._100.warn("Could not find a COSK.Utils.windowApplications with instanceId "+t)},windowApplicationDidInitialize:function(e){var t=this.windowApplications[e];t?t.didInitialize=!0:s._100.warn("There is no windowApplication for "+e)},passPendingWindowApplicationMessages:function(e){var t,i,n,r,a=this.windowApplications[e];if(a&&(t=a.messages))for(i=0,n=t.length;i<n;i++){var s=[e,(r=t[i]).method];this.passWindowApplicationMessage.apply(this,s.concat(r.args))}},_registerWindowApplicationMessage:function(e,t,i){var n,r=this.windowApplications[e];r&&((n=r.messages)||(n=[],r.messages=n),n.push({method:t,args:i}))},resolveInstanceIfNeeded:function(e){var t=this.windowApplications;if(!t[e])for(var i in t)if(t[i].window===e)return i;return e}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.ErrorType",["Unknown","Server","Client","AccountNotMigrated","PCSMissing","PCSInvalid","QuotaExceeded"]);n.Unknown},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveFS.RootFolderName":"iCloudDrive","DriveFS.Default.FolderName.RecentlyDeleted":"Recently Deleted","DriveFS.LocalizedItemName.Desktop":"Desktop","DriveFS.LocalizedItemName.Documents":"Documents","DriveFS.LocalizedAppLibraryName.com.apple.keynote":"Keynote","DriveFS.LocalizedAppLibraryName.com.apple.pages":"Pages","DriveFS.LocalizedAppLibraryName.com.apple.numbers":"Numbers"})},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i(144);var l=i(0),n=i(4),r=i(66),a=i(27),u=i(67),d=i(36),s=r.a.extend({folderID:null,partialData:!1,includeHierarchy:!1,init:function(e,t,i){this.fileSystem=e,this.folderID=t,this.__s._$Jw$init.call(this,i)},run:function(){var t=this,e=[{drivewsid:this.folderID,partialData:this.partialData,includeHierarchy:this.includeHierarchy}];return this.post("/retrieveItemDetailsInFolders",e).then(function(e){return t._requestDidSucceed(e)}).catch(function(e){return n.g.reject(e)})},post:function(e,t){return a.a.post(e,t)},_requestDidSucceed:function(e){var t=e.body[0],i=t.items,n=t.hierarchy?t.hierarchy:[];t.id=t.drivewsid,delete t.items,delete t.hierarchy,n=n.map(function(e){return e.id=e.drivewsid,delete e.drivewsid,e});var r=void 0;if(this.partialData)r=i.map(function(e){return{id:e.drivewsid,etag:e.etag}});else{var a=this.fileSystem;d.a.isDriveRootFolder(t.id,a)&&(t.name=l._99("DriveFS.RootFolderName"));for(var s=i.length,o=0;o<s;o++)i[o].parentId=t.id;var c=Object(u.a)(i,a.loggingService);r=a.getItemsByIds(c)}return this.willFinishProcessingSuccessfulResponse(t,i),{items:r,folderInfo:t,hierarchy:n&&0!==n.length?n:null}},willFinishProcessingSuccessfulResponse:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderContentQuery"},__superMap:{_$Jw$init:"init"}})},function(e,t,i){"use strict";t.a=function(e,t){var i=o._79(),n=void 0,r=e.drivewsid,a=void 0;switch(c.b.getItemForValue(e.type)){case c.b.FILE:n=l.a;var s=e.extension;e.extension=s?s.toLowerCase():s;break;case c.b.FOLDER:case c.b.APP_LIBRARY:n=u.a;break;default:o._100.error('Invalid item type: "'+e.type+'".  Skipping item "'+r+'" in directory.')}return n?(a=e.id=r,delete e.drivewsid,e.parentId||(e.parentId=null),i.loadData(n,e)):t.recordStat("unsupportedItemTypeReceived",{type:e.type}),a};var o=i(0),c=i(44),l=i(83),u=i(36)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(4),r=i(66),a=i(27),s=i(67),o=r.a.extend({itemIDs:null,init:function(e,t,i){this.fileSystem=e,this.itemIDs=t,this.__s._$D5$init.call(this,i)},run:function(){var t=this,e=this.itemIDs,i=[];return e.forEach(function(e){i.push({drivewsid:e})}),a.a.post("/retrieveItemDetails",{items:i}).then(function(e){return t._requestDidSucceed(e)}).catch(function(e){return n.g.reject(e)})},_requestDidSucceed:function(e){var t=e.body.items,i=this.fileSystem;return Object(s.a)(t,i.loggingService).map(function(e){return i.getItemById(e)})},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemDetailsQuery"},__superMap:{_$D5$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({type:null,status:null,nativeFile:null,message:"",staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadError"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var s=i(0),n=i(113),r=i(47),a=i(208),o=i(29),c=i(85),l=a.a.DESKTOP_STYLE,u=[o.a.READ_WRITE,o.a.READ_ONLY],d=[r.a.PRIVATE,r.a.PUBLIC],h=[c.a.COPY_LINK],p={keynote:"Keynote",notes:"Notes",numbers:"Numbers",pages:"Pages",iclouddrive:"Drive",share:"CloudKit"},f=s.v.extend(s._8,{staticMembers:{fromJSON:function(e){return function(t){var i=this.create();return s._93(t)&&(_.forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),m.forEach(function(e){s._95(t[e])&&(i[e]=t[e])})),i}.call(this,e)},__QUALIFIED_CLASS_NAME__:"Settings"},appName:s._105(),addParticipantsPaneTitle:s._105({defaultValue:s._99("CKSharing.AddParticipants.Title.AddPeople")}),initiateSharePaneTitle:s._105({defaultValue:s._99("CKSharing.InitiateShare.Title")}),manageSharePaneTitle:s._105({defaultValue:s._99("CKSharing.ManageShare.Title")}),recordHasShare:s._105(!1),sendLinkPaneTitle:s._105({defaultValue:s._99("CKSharing.AddParticipants.Title.SendLink")}),shareUrlNamespace:s._105("share"),shareItemType:s._105({readOnly:!0,dependencies:["shareUrlNamespace"],get:Object.assign(function(){var e=this.shareUrlNamespace,t=p[e];return void 0===t&&s._75("Unknown shareUrlNamespace %{type}",{type:e}),t},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=p[r];return void 0===a&&s._75("Unknown shareUrlNamespace %{type}",{type:r}),a}})}),CustomLoadMembershipInfoHandlerClass:s._105(),CustomAutocompleteDataSourceClass:s._105(),additionalButtonTitle:s._105(),additionalButtonWasPressed:null,canonicalizePhoneNumberRequestGenerationFunction:null,contactsService:s._105(n.b.sharedInstance),defaultAccess:s._105({readOnly:!0,dependencies:["supportedAccess"],get:Object.assign(function(e){return e||this.supportedAccess[0]},{__CW__getter:function(e,t,i,n){return e||n.internalGet(this,t[0+i])[0]}})}),defaultPermission:s._105({readOnly:!0,dependencies:["supportedPermissions"],get:Object.assign(function(e){return e||this.supportedPermissions[0]},{__CW__getter:function(e,t,i,n){return e||n.internalGet(this,t[0+i])[0]}})}),logService:s._105(),loggedInUserIdentity:s._105(),notificationService:s._105(),didUpdateRootRecord:null,provideRootRecordForUpdate:null,provideLatestRootRecordAfterUpdateConflict:null,shareRecordFields:s._105(s._85(Object)),shareThumbnail:s._105({didChange:function(e){e&&(this.shareRecordFields["cloudkit.thumbnailImageData"]={value:e})}}),maxNumberOfInvitees:s._105(100),shareTitle:s._105({get:function(e){return e},set:function(e){if(e){var t={Pages:"pages",Numbers:"numbers",Keynote:"key"}[this.shareItemType];if(t){var i=RegExp("\\."+t+"$","g");e=e.replace(i,""),this.shareType=t}return e}},didChange:function(e){e&&(this.shareRecordFields["cloudkit.title"]={value:e})}}),shareType:s._105({didChange:function(e){e&&(this.shareRecordFields["cloudkit.type"]={value:e})}}),shareUrl:s._105(),shareUrlDescription:s._105(),sharingUIIsReady:null,supportedAccess:s._105({defaultValue:s._85(d)}),supportedPermissions:s._105({defaultValue:s._85(u)}),supportedTransports:s._105({defaultValue:s._85(h)}),isAuthenticated:s._105(!0),willUpdateShareRecord:null,didUpdateShareRecord:null,displayMode:s._105(l),supportsAccess:function(e){return this.supportedAccess&&-1!==this.supportedAccess.indexOf(e)},supportsPermission:function(e){return this.supportedPermissions&&-1!==this.supportedPermissions.indexOf(e)},supportsTransport:function(e){return this.supportedTransports&&-1!==this.supportedTransports.indexOf(e)}}),_=["supportedAccess","supportedPermissions","sharingUIIsReady","additionalButtonWasPressed","recordHasShare","shareRecordFields","provideRootRecordForUpdate","provideLatestRootRecordAfterUpdateConflict","didUpdateRootRecord","willUpdateShareRecord","didUpdateShareRecord"],m=["appName","additionalButtonTitle","shareUrl","shareUrlNamespace","shareUrlDescription","displayMode","shareTitle","shareType","shareThumbnail"]},function(e,t,i){"use strict";t.a=function(e){return(e||"").trim().toLowerCase()}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{body:n._107({dependencies:["recordDataHash"],readOnly:!0,get:Object.assign(function(){return this.recordDataHash},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),originalRecordDataHash:null,recordDataHash:n._105(),type:null,init:function(e,t,i){this.__s._$JG$init.call(this,i),this.recordDataHash=e,this.originalRecordDataHash=t},staticMembers:{__QUALIFIED_CLASS_NAME__:"CKRecordOperation"},__superMap:{_$JG$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={staticMembers:{measurementInstance:n._105({readOnly:!0,get:function(){var e=this.create(),t=e.element;return t.style.visibility="hidden",document.body.appendChild(t),e}})},naturalSize:n._105({cacheable:!1,readOnly:!0,get:function(){return n._101(this.element)}})}},function(e,t,i){"use strict";i.d(t,"d",function(){return u}),i.d(t,"c",function(){return d}),i.d(t,"b",function(){return h}),i.d(t,"a",function(){return p});var l=i(0),n=i(149),r=i(808),a=i(389),c=i(115),s=i(150),o=i(114),u=l._67("ShareState",{NONE:0,NEW:1,NEW_SAVING:2,LOADING:3,LOADED:4,LOADED_DIRTY:5,LOADED_SAVING:6,DESTROYING:7,DESTROYED:8}),d=l._67("OperationType",{INITIATE_SHARE:"CREATE",ADD_PARTICIPANTS:"ADD_PEOPLE_TO",MANAGE_SHARE:"UPDATE"}),h={mixinDependencies:[l._26],ioService:l._105({strong:!0}),isLoading:l._105({dependencies:["state"],readOnly:!0,get:Object.assign(function(){return this.state===u.LOADING},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===u.LOADING}})}),isSaving:l._105({dependencies:["state"],readOnly:!0,get:Object.assign(function(){return this.state===u.NEW_SAVING||this.state===u.LOADED_SAVING},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===u.NEW_SAVING||n.internalGet(this,t[0+i])===u.LOADED_SAVING}})}),record:l._105(),setUp:l._31.define(),settings:l._105({type:n.a}),share:l._105(null),state:l._105({dependencies:["_state"],readOnly:!0,get:Object.assign(function(){return this._state},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),_state:l._105({defaultValue:u.NONE}),permissionValueForAddingParticipants:l._105(),summaryTextWOption:l._105({readOnly:!0,dependencies:["permissionValueForAddingParticipants","settings.defaultPermission","share","share.loggedInUserCanEditShare","share.isPublic","share.effectivePermission","share.owner","share.owner.displayName"],get:Object.assign(function(){return Object(r.a)(this.share,"WOption",this._computePermissionForSummaryText())},{__CW__getter:function(e,t,i,n){return Object(r.a)(n.internalGet(this,t[2+i]),"WOption",this._computePermissionForSummaryText())}})}),summaryTextNoOption:l._105({readOnly:!0,dependencies:["permissionValueForAddingParticipants","settings.defaultPermission","share","share.loggedInUserCanEditShare","share.isPublic","share.effectivePermission","share.owner","share.owner.displayName"],get:Object.assign(function(){return Object(r.a)(this.share,"NoOption",this._computePermissionForSummaryText())},{__CW__getter:function(e,t,i,n){return Object(r.a)(n.internalGet(this,t[2+i]),"NoOption",this._computePermissionForSummaryText())}})}),_computePermissionForSummaryText:function(){var e=this.permissionValueForAddingParticipants,t=this.share,i=t&&t.effectivePermission;e&&"MIXED"!==i||(e=i);var n=this.settings;return e||n&&n.defaultPermission}},p=l._58.extend(h,{operationType:l._107(),transport:l._105(),cancelOnUnrecoverableError:function(e){var t=e.error;this.sendEvent("cancel",t)},createShare:function(e){var t=this,i=this.share,n=this.settings,r={didUpdateRootRecord:n.didUpdateRootRecord,provideRootRecordForUpdate:n.provideRootRecordForUpdate,provideLatestRootRecordAfterUpdateConflict:n.provideLatestRootRecordAfterUpdateConflict,didUpdateShareRecord:n.didUpdateShareRecord},a=void 0;a=null==i.shortGUID?this.ioService.createShortGUID(this.record,r):l.w.resolve(this.record),this._state=u.NEW_SAVING;var s=a.then(function(e){return i.forRecord=e,t.record=e,t.ioService.createShare(r).then(function(e){return t._state=u.LOADED,t.share=e})});if(e)return s;var o={operationType:"INVITE_TO_"+(i.isPublic?"PUBLIC":"PRIVATE.VIA_UNKNOWN"),appName:n.shareItemType};return s.catch(Object(c.a)(o,n.notificationService,n.logService))},validateInviteesToAddToShare:function(e,t){if(this.checkAndDisplayErrorForInvalidInvitees(e,t))return!1;if(this.checkIfAllInviteesAreCurrentUser(e)){var i=void 0;return t&&(i="ADDED_ONLY_YOURSELF_EMAIL"),this.settings.notificationService.error("ADDED_ONLY_YOURSELF",{locNamespace:"CKSharing.ErrorDialog",descriptionKey:i}),!1}return!this.checkIfTooManyInvitees(this.share,e)||(this.settings.notificationService.error("TOO_MANY_INVITEES",{locNamespace:"CKSharing.ErrorDialog"}),!1)},checkIfTooManyInvitees:function(e,t){if(!e||e.isPublic)return!1;var i=e.participants,n=(i.length||0)-1;n+=t&&t.length||0;var r={};i.forEach(function(e){var t=e.userIdentity;r[t.emailAddress||t.phoneNumber]=!0});var a=0;return t&&t.forEach(function(e){var t=e.userIdentity;r[t.emailAddress||t.phoneNumber]?++a:r[t.emailAddress||t.phoneNumber]=!0}),this.settings.maxNumberOfInvitees<n-a},checkAndDisplayErrorForInvalidInvitees:function(e,i){var n,t=e.length,r=0;return e&&e.forEach(function(e){var t=e.userIdentity;(!t||!t.emailAddress&&i||!t.emailAddress&&!t.phoneNumber)&&(++r,n||(n=e.displayName))}),this.displayInvalidInviteesAlert(r,t,n,i)},displayInvalidInviteesAlert:function(e,t,i,n){if(!e)return!1;var r="ALL_INVALID_TOKENS",a={locNamespace:"CKSharing.ErrorDialog.ValidateTokens"+(n?".Email":"")};if(1===e){if(r="ONE_INVALID_TOKEN",69<i.length){var s=i.length,o=i.substr(0,34),c=i.substr(s-34,34);i=o+l._99("CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.OVER_SIZE.Ellipsis")+c}a.messageFormatValues={value:i}}else e!==t&&(r="SOME_INVALID_TOKENS");return this.settings.notificationService.error(r,a),!0},checkIfAllInviteesAreCurrentUser:function(e){if(!e||!e.length||!e.every)return!1;var n=this.settings.loggedInUserIdentity.appleId;return e.every(function(e){var t=Object(s.a)(e.userIdentity.emailAddress),i=Object(o.a)(e.userIdentity.phoneNumber);return t&&t===n||i&&i===n})},saveShare:function(e){var t,i=this.share,n=this.operationType;if(n&&(n===d.INITIATE_SHARE?t="InitiatingNewShare":n===d.ADD_PARTICIPANTS&&(t="AddingParticipantsToShare"),t)){var r=this.settings,a=this.transport;a.value&&(a=a.value),r.logService.recordStat(t,{appName:r.appName,transport:a})}return null==i.recordName?this.createShare(e):this.updateShare(e)},setUp:function(){var i=this,n=this.settings,e=this.share;if(e){this._state=u.LOADED;var t=n.shareRecordFields;return t&&e.assignFieldUpdates(t),this.permissionValueForAddingParticipants||(this.permissionValueForAddingParticipants=Object(a.a)(e.effectivePermission,n.supportedPermissions)),this.sendEvent("sharingUIIsReady"),l.w.resolve()}this._state=u.LOADING;var r=this.record;return(r.share&&r.share.recordName?l.w.resolve(r):this.ioService.fetchDataRecord(r.recordName).then(function(e){return i.record=e})).then(function(e){if(!e.share||!e.share.recordName)throw new Error("Record does not contain share information.");return i.ioService.fetchShareRecord(e.share.recordName).then(function(e){i._state=u.LOADED;var t=n.shareRecordFields;t&&e.assignFieldUpdates(t),i.share=e,i.permissionValueForAddingParticipants=Object(a.a)(i.share.effectivePermission,n.supportedPermissions),i.sendEvent("sharingUIIsReady")})}).catch(function(e){i.sendEvent("cancel",e)})},updateShare:function(e){var t=this,i=this.settings,n={didUpdateRootRecord:i.didUpdateRootRecord,willUpdateShareRecord:i.willUpdateShareRecord,didUpdateShareRecord:i.didUpdateShareRecord};t._state=u.LOADED_SAVING;var r=t.ioService.updateShare(n).then(function(e){t.sendEvent("shareWasUpdated",e,!0),t._state=u.LOADED});if(e)return r;var a={operationType:"UPDATE",appName:i.shareItemType};return r.catch(Object(c.a)(a,i.notificationService,i.logService))},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseShareViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("DRApp.TransactionItemStatus",{OK:"OK",InvalidID:"ID_INVALID",AlreadyDeleted:"ID_DELETED",NotDeleted:"ID_NOT_DELETED",Forbidden:"FORBIDDEN",Unknown:"UNKNOWN",FatalError:"FATAL"})},function(e,t,i){for(var n,r=i(11),a=i(33),s=i(74),o=s("typed_array"),c=s("view"),l=!(!r.ArrayBuffer||!r.DataView),u=l,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=r[h[d++]])?(a(n.prototype,o,!0),a(n.prototype,c,!0)):u=!1;e.exports={ABV:l,CONSTR:u,TYPED:o,VIEW:c}},function(e,t,i){"use strict";var n=i(11),r=i(22),a=i(31),s=i(17)("species");e.exports=function(e){var t=n[e];a&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,i){var a=i(17)("iterator"),s=!1;try{var n=[7][a]();n.return=function(){s=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var i=!1;try{var n=[7],r=n[a]();r.next=function(){return{done:i=!0}},n[a]=function(){return r},e(n)}catch(e){}return i}},function(e,t,i){var h=i(48),p=i(415),f=i(238),_=i(13),m=i(24),g=i(239),v={},y={};(t=e.exports=function(e,t,i,n,r){var a,s,o,c,l=r?function(){return e}:g(e),u=h(i,n,t?2:1),d=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(f(l)){for(a=m(e.length);d<a;d++)if((c=t?u(_(s=e[d])[0],s[1]):u(e[d]))===v||c===y)return c}else for(o=l.call(e);!(s=o.next()).done;)if((c=p(o,u,s.value,t))===v||c===y)return c}).BREAK=v,t.RETURN=y},function(e,t,i){"use strict";var g=i(11),v=i(6),y=i(57),b=i(89),I=i(58),S=i(158),w=i(90),C=i(9),E=i(19),T=i(157),A=i(93),O=i(913);e.exports=function(n,e,t,i,r,a){var s=g[n],o=s,c=r?"set":"add",l=o&&o.prototype,u={},d=function(e){var i=l[e];y(l,e,"delete"==e?function(e){return!(a&&!C(e))&&i.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!C(e))&&i.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!C(e)?void 0:i.call(this,0===e?0:e)}:"add"==e?function(e){return i.call(this,0===e?0:e),this}:function(e,t){return i.call(this,0===e?0:e,t),this})};if("function"==typeof o&&(a||l.forEach&&!E(function(){(new o).entries().next()}))){var h=new o,p=h[c](a?{}:-0,1)!=h,f=E(function(){h.has(1)}),_=T(function(e){new o(e)}),m=!a&&E(function(){for(var e=new o,t=5;t--;)e[c](t,t);return!e.has(-0)});_||(((o=e(function(e,t){w(e,o,n);var i=O(new s,e,o);return null!=t&&S(t,r,i[c],i),i})).prototype=l).constructor=o),(f||m)&&(d("delete"),d("has"),r&&d("get")),(m||p)&&d(c),a&&l.clear&&delete l.clear}else o=i.getConstructor(e,n,r,c),b(o.prototype,t),I.NEED=!0;return A(o,n),u[n]=o,v(v.G+v.W+v.F*(o!=s),u),a||i.setStrong(o,n,r),o}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){"use strict";var o=i(33),c=i(57),l=i(19),u=i(77),d=i(17);e.exports=function(t,e,i){var n=d(t),r=i(u,n,""[t]),a=r[0],s=r[1];l(function(){var e={};return e[n]=function(){return 7},7!=""[t](e)})&&(c(String.prototype,t,a),o(RegExp.prototype,n,2==e?function(e,t){return s.call(e,this,t)}:function(e){return s.call(e,this)}))}},function(e,t,i){"use strict";t.a=function(e){return!!Array.isArray(e)||!!e&&"[object Arguments]"===Object.prototype.toString.call(e)}},function(e,t,i){"use strict";t.a=function(e){return"string"==typeof e}},function(e,t,i){"use strict";t.a=function(e){return null===e||"object"!==(void 0===e?"undefined":n(e))&&"function"!=typeof e};var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,i){"use strict";(function(n){i.d(t,"a",function(){return e});var r=i(23),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=0,e=function(e){if(null===e)return"_null";if(void 0===e)return"_undefined";if(e.hasOwnProperty("_cwGUID"))return e._cwGUID;var t=void 0===e?"undefined":a(e);switch(t){case"number":Object.is(e,-0)&&(e="-0");case"string":case"boolean":return t+e;case"object":case"function":var i=t+ ++s;return o.value=i,n.Object.defineProperty(e,"_cwGUID",o),i;default:Object(r.b)("unrecognized object type",{object:e,type:t})}},o={value:"",enumerable:!1,writable:!1,configurable:!1}}).call(t,i(5))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"Required",function(){return a});var n=i(60),r=i(79),a=n.a.extend({validate:function(e,t){return t in e},requiresSupport:r.a,isOnlyMetadataForKey:!1,allowedOnClass:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"Required"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),a=i(2),s=i(126),r={mixinDependencies:[n.Protocol,s.a],init:function(e){var t,i,n=this,r=arguments;if(1!==arguments.length)for(n.__s._$IP$init.call(n),t=0,i=arguments.length;t<i;t++)this.add(arguments[t]);else if(!Object(a.x)(e)||Object(a.O)(e))n.__s._$IP$init.apply(n,r);else if(Object(a.P)(e))for(n.__s._$IP$init.call(n),t=0,i=e;t<i;t++)this.add(void 0);else if(Object(a.K)(e))for(n.__s._$IP$init.call(n),t=0,i=e.length;t<i;t++)this.add(e[t]);else Object(a.G)(e,s.a)?(n.__s._$IP$init.call(n),this.addEach(e)):(n.__s._$IP$init.call(n),this.add(e))},add:function(e){return this.encodedAdd(this.encode(e))},encodedAdd:Object(n.define)(n.RequiredMethod),addEach:function(e){e.forEach(this.add,this)},remove:function(e){return this.encodedRemove(this.encode(e))},encodedRemove:Object(n.define)(n.RequiredMethod),delete:function(){return this.remove.apply(this,arguments)},removeEach:function(e){e.forEach(this.remove,this)},constructNewInstance:function(){return this.constructor.create()},filter:function(e,t){for(var i=this.constructNewInstance(),n=this.createIterator().retain(),r=0;n.isValid;){r++;var a=n.value;!0===e.call(t,a,r,this)&&i.add(a),n.moveToNext()}return n.release(),i},__superMap:{_$IP$init:"init"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(128),a=i(462),s=n.CoreObject.extend(a.a,r.a,n._Poolable,{initFromPool:function(e,t){this.__s._$Cx$initFromPool.call(this),this.set("source",e),this.set("position",t||0)},didEnterPool:function(){this.set("source",null),this.set("position",NaN),this.__s._$GH$didEnterPool.call(this)},source:Object(n.property)(),value:Object(n.property)({get:function(){return this.source.decode(this.encodedValue,this.position)},set:function(e){return this.encodedValue=this.source.encode(e,this.position),e}}),encodedValue:Object(n.property)({get:function(){return this.source.encodedObjectAt(this.position)},set:function(e){return this.source.encodedSetIndex(this.position,e),e}}),isValid:Object(n.property)({readOnly:!0,get:function(){var e=this.get("position");return 0<=e&&e<this.get("length")}}),length:Object(n.property)({readOnly:!0,get:function(){return this.getPath("source.length")}}),clone:function(){return this.constructor.create(this.get("source"),this.get("position"))},remove:function(){return!!this.isValid&&(this.get("source").removeAt(this.get("position")),!0)},add:function(e){var t=this.get("source"),i=t.get("length"),n=this.get("position")+1;t.insertAt(n,e);var r=t.get("length")!==i;return r&&this.set("position",Math.min(n,i)),r},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListIterator"},__superMap:{_$Cx$initFromPool:"initFromPool",_$GH$didEnterPool:"didEnterPool"}})},function(e,t,a){"use strict";t.a=_,a.d(t,"b",function(){return i});var f=a(2),r=a(1);function _(e){this.owner=e}_.fromArrays=function(e,t,i){var n=new _(i),r=i&&i.encode||f.c;if(!e||0===e.length){for(var a=0,s=t.length;a<s;a++)n.recordInsertion(a,r.call(i,t[a],a));return n}if(!t||0===t.length){for(var o=0,c=e.length;o<c;o++)n.recordRemoval(o,r.call(i,e[o],o));return n}for(var l=Math.min(e.length,t.length),u=0;u<l;u++)Object(f.s)(e[u],t[u])||(n.recordRemoval(u,r.call(i,e[u],u)),n.recordInsertion(u,r.call(i,t[u],u)));var d=t.length-e.length;if(0<d)for(var h=l;h<t.length;h++)n.recordInsertion(h,r.call(i,t[h],h));else if(d<0)for(var p=l;p<e.length;p++)n.recordRemoval(p,r.call(i,e[p],p));return n},(_.prototype=Object.create(Array.prototype)).lengthDelta=0,_.prototype.recordInsertion=function(e,t){this.push(n(this.owner,e,t,a(41).ObservableArray.INSERT)),this.lengthDelta++},_.prototype.recordRemoval=function(e,t){this.push(n(this.owner,e,t,a(41).ObservableArray.REMOVE)),this.lengthDelta--},_.prototype.applyChanges=function(e){var t=this.length,i=Object(f.G)(e,a(41).ObservableArray);i&&e.beginBatchedChanges();for(var n=0;n<t;n++){var r=this[n];r.operation===a(41).ObservableArray.REMOVE?e.splice(r.index,1):e.splice(r.index,0,r.item)}return i&&e.endBatchedChanges(),e},_.prototype.reverseChanges=function(e){for(var t=this.length;t--;){var i=this[t];i.operation===a(41).ObservableArray.REMOVE?e.splice(i.index,0,i.item):e.splice(i.index,1)}return e},_.prototype.clear=function(){for(var e=this.length;e--;){var t=this[e];delete this[e],t.reset(),c.length<l&&c.push(t)}this.length=0,this.lengthDelta=0},_.prototype.toString=function(){return"[ArrayChangeList("+this.length+"): "+this.join(", ")+"]"},_.prototype.get=function(e){return this[e]},_.prototype.set=function(e,t){return this[e]=t},_.prototype.objectAt=function(e){return this[e]};var s="StrongArrayChangeList: strong referencing change item",i=function(i){function n(){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i),n.prototype.recordInsertion=function(e,t){Object(r.retainValueIfNeeded)(t,this,s),i.prototype.recordInsertion.call(this,e,t)},n.prototype.recordRemoval=function(e,t){Object(r.retainValueIfNeeded)(t,this,s),i.prototype.recordRemoval.call(this,e,t)},n.prototype.clear=function(){for(var e=this.length;e--;){var t=this[e];Object(r.releaseValueIfNeeded)(t.item,this,s)}i.prototype.clear.call(this)},n}(_);function o(e,t,i,n){this._sourceArray=e,this.index=t,this.encodedItem=i,this.operation=n}function n(e,t,i,n){if(0<c.length){var r=c.pop();return r._sourceArray=e,r.index=t,r.encodedItem=i,r.operation=n,r}return new o(e,t,i,n)}o.prototype.reset=function(){this._sourceArray=null,this.encodedItem=null,this.index=null,this.operation=null},o.prototype.toString=function(){return"["+this.operation+"@"+this.index+":"+this.item+"]"},Object.defineProperty(o.prototype,"item",{get:function(){var e=this.encodedItem,t=this.index,i=this._sourceArray;return i&&i.decode&&(e=i.decode(e,t)),e},set:f.e}),Object.defineProperty(o.prototype,"object",{get:function(){return this.item},set:f.e});var c=[],l=100;_.pool=[],i.pool=[],_.acquire=function(e){if(this.pool.length){var t=this.pool.pop();return t.owner=e,t}return new this(e)},_.returnToPool=function(e){e.clear(),this.pool.push(e)}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(18),a=n.RequiredMetadata.extend({metadataType:r.ObservableProperty,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredObservableProperty"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(489).a.extend({_iterator:null,clone:function(){return this.constructor.create(this._map,this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseMapIterator"}})},function(e,t,i){"use strict";var n=i(1102);i.d(t,"a",function(){return n.a});var r=i(287);i.d(t,"b",function(){return r.a}),i.d(t,"c",function(){return r.b}),i.d(t,"e",function(){return r.d}),i.d(t,"d",function(){return r.c})},function(e,t,i){"use strict";i.d(t,"a",function(){return g});var n=i(1),r=i(2),a=i(14),s=i(3),o=i(532),c=i(533),l=i(534),u=i(135),d=i(81),h=i(535),p=i(536),f=i(537),_=i(538),m=i(539),g=n.CoreObject.extend(a.s,a.p,d.a,o.a,c.a,l.a,h.a,p.a,f.a,_.a,m.a,u.a,{init:function(e){var t=arguments;(e&&e.isRootView||this.isRootView)&&(this._isAttached=!1),this.__s._$yY$init.apply(this,t)},staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaRole",attributes:{},attribute:"role"},"aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},"aria-labelledby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledBy",attributes:{},attribute:"aria-labelledby"},"aria-describedby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedBy",attributes:{},attribute:"aria-describedby"},"aria-disabled":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDisabled",attributes:{},attribute:"aria-disabled"},"aria-hidden":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaHidden",attributes:{},attribute:"aria-hidden"},"aria-controls":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaControls",attributes:{},attribute:"aria-controls"}}}},__QUALIFIED_CLASS_NAME__:"View"},nextResponder:Object(n.property)({get:function(e){return e||this.parent}}),isRootView:!1,isAttached:Object(s.T)({dependencies:["parent.isAttached"],get:Object.assign(function(e){return Object(r.L)(e)?e:Boolean(this.getPath("parent.isAttached"))},{__CW__getter:function(e,t,i,n){return Object(r.L)(e)?e:Boolean(n.internalGetPath(this,t[0+i]))}}),set:r.c}),parent:Object(s.T)(),parentKey:Object(s.T)(),ariaRole:Object(s.T)(),ariaLabel:Object(s.T)(),ariaLabelledBy:Object(s.T)(),ariaDescribedBy:Object(s.T)(),ariaDisabled:Object(s.T)(),ariaHidden:Object(s.T)(),ariaControls:Object(s.T)(),__superMap:{_$yY$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(2),r=i(59).a.extend({action:function(e){e.rootElement||Object(n.y)("Must provide a `rootElement`")},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootElementInitializer"}})},function(e,a,o){"use strict";(function(t){o.d(a,"a",function(){return r});var i=o(14),s=o(2),e=o(59),n=o(174),r=e.a.extend({dependencies:[n.a],action:function(e){if(!e.rootElement)return Object(s.y)("Application has no rootElement defined");var n=e.rootElement;n===t.document.body&&(n=t.document);var r=n.addEventListener,a=e.rootResponder=i.q.create({application:e,element:n,events:i.x});return n.addEventListener=function(e,t,i){return void 0!==t._exceptionHandling_wrappedFunction?r(e,t,i):a.prependEventListenerToElement(n,e,t,i)},e},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootResponderInitializer"}})}).call(a,o(5))},function(e,t,i){"use strict";var n=i(544);i.d(t,"b",function(){return n.a});var r=i(545);i.d(t,"c",function(){return r.a}),i(297),i(548),i(549),i(137);var a=i(177);i.d(t,"g",function(){return a.a}),i(546),i(547),i(298),i(299);var s=i(300);i.d(t,"a",function(){return s.a}),i(550),i(551),i(1124);var o=i(302);i.d(t,"d",function(){return o.a});var c=i(178);i.d(t,"i",function(){return c.b});var l=i(552);i.d(t,"k",function(){return l.a}),i(553);var u=i(1126);i.d(t,"j",function(){return u.a}),i(557),i(558);var d=i(179);i.d(t,"h",function(){return d.a}),i(1129),i(1130),i(559),i(560),i(561),i(1131),i(1132),i(565),i(566),i(562),i(564),i(563),i(307),i(301),i(308),i(309),i(1133),i(1134),i(303),i(1135);var h=i(554);i.d(t,"e",function(){return h.a});var p=i(555);i.d(t,"f",function(){return p.a}),i(306);var f=i(305);i.d(t,"l",function(){return f.a}),i(304);var _=i(556);i.d(t,"m",function(){return _.a})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(297).a.extend({value:Object(n.property)({get:function(){return this.key.value}}),key:Object(n.property)({strong:!0}),handle:Object(n.property)({get:function(){return this.key}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemCell"}})},function(e,o,c){"use strict";(function(e){c.d(o,"c",function(){return b}),c.d(o,"b",function(){return a}),c.d(o,"a",function(){return s});var t=c(1),_=c(10),u=c(2),i=c(3),n=c(298),r=c(299),b=Object(t.createEnumGroup)("ListPosition",function(e){e("Top"),e("Bottom")}),a=r.a.extend({rowHeight:Object(i.T)(30),rowSpacing:Object(i.T)(0),topPadding:Object(i.T)(0),bottomPadding:Object(i.T)(0),initialPosition:Object(i.T)({defaultValue:b.Top,type:b}),minimumSizePosition:Object(i.T)({defaultValue:b.Top,type:b}),shouldStickAtTop:Object(i.T)(!1),shouldStickAtBottom:Object(i.T)(!1),topInset:Object(i.T)(0),hideableTopHeight:Object(i.T)(0),hideableBottomHeight:Object(i.T)(0),shouldStartHidden:Object(i.T)(!0),staticMembers:{__QUALIFIED_CLASS_NAME__:"ListLayoutMetrics"}}),d=i.z.create().retain(e,"initial retain"),h=i.C.create().retain(e,"initial retain"),s=t.CoreObject.extend(n.a,i.q,{staticMembers:{LayoutMetricsClass:a,__QUALIFIED_CLASS_NAME__:"ListLayoutDelegate"},isAtEnd:null,_distancePastEnd:0,setUpInitialCell:function(e,t,i){var n=e.layoutMetrics.initialPosition;return n===b.Top?this.setUpFirstCell(e,t,i):n===b.Bottom?this.setUpLastCell(e,t,i):void 0},setUpFirstCell:function(e,t,i){if(!t)return null;var n=t.startHandle.retain(this,"setUpFirstCell");if(!n.isValid)return n.release(this,"setUpFirstCell"),null;var r=this.cellForHandle(n).retain(this,"setUpFirstCell");n.release(this,"setUpFirstCell");var a=this.topForCell(e,r),s=e.layoutMetrics;s.shouldStartHidden||(a+=s.hideableTopHeight);var o=r.isLaidOut;return this.layOutCellInDirection(e,r,1,a,1,this.leftForCell(e,r)),i&&(r.isLaidOut=o),r.autorelease(this,"setUpFirstCell")},setUpLastCell:function(e,t,i){if(!t)return null;var n=t.handleProvider.endHandle.retain(this,"setUpLastCell");if(!n.isValid)return n.release(this,"setUpLastCell"),null;var r=this.cellForHandle(n).retain(this,"setUpLastCell");n.release(this,"setUpLastCell");var a=e.viewportHeight-this.spaceBelowCell(e,r),s=e.layoutMetrics;s.shouldStartHidden||(a-=s.hideableBottomHeight);var o=r.isLaidOut;return this.layOutCellInDirection(e,r,-1,a,1,this.leftForCell(e,r)),i&&(r.isLaidOut=o),r.autorelease(this,"setUpLastCell")},_findCellForItemInDirection:function(e,t,i,n){for(i=i.next;i.isValid;){if(i.value===t)return this.cellForHandle(i).retain().autorelease();i=i.atDistance(n)}return null},_findCellForItem:function(e,t,i,n){var r=i.find(function(e){return e.handle.value===n});return r||((r=this._findCellForItemInDirection(e,n,i.objectAt(0).handle,-1))?r:r=this._findCellForItemInDirection(e,n,i.lastItem.handle,1))},getCellForItem:function(e,t,i,n){var r=this._findCellForItem(e,t,i,n);if(!r)return null;if(r.retain(),i.contains(r))return r;var a=i.objectAt(0),s=this.topForCell(e,a)-a.y;return this.layOutCellInDirection(e,r,1,this.topForCell(e,r)-s,1,this.leftForCell(e,r)),r.autorelease()},layOutCellsInDirection:function(e,t,i,n,r){for(var a=i,s=e.viewportBounds,o=0<n,c=!1;;){var l=a;if(a=this.positionNextCell(e,l,n),!Object(u.x)(a))return r;if(a.retain(this,"layOutCellsInDirection"),this.cellIsVisible(e,s,a))c=!0,this.isCellAnchorable(a)&&(r=!0);else if(c&&r||0<l.y*n)return a.release(this,"layOutCellsInDirection"),a.isLaidOut=!1,r;o?t.push(a):t.unshift(a),a.release(this,"layOutCellsInDirection")}},cellIsVisible:function(e,t,i){return i.intersects(t)},_visibleCells:Object(t.instance)(i.H),_previousVisibleCells:Object(t.instance)(i.H),acquireVisibleCells:function(e,t,i){var n=this._visibleCells,r=this._previousVisibleCells;return this._visibleCells=r,(this._previousVisibleCells=n).length=0,n},reusePreviousVisibleCells:function(e,t,i,n,r){for(var a=e.viewportBounds,s=n.length,o=0;o<s;o++){var c=n.objectAt(o);c.isReusable||c.invalidate()}var l=r.movedBy;l&&this.handleMovedBy(l.x,l.y,e,t,i,n);var u=r.itemShown;if(u){var d=r.itemShownAt,h=d.x,p=d.y;this.handleShowItem(u,h,p,e,t,i,n)}var f=r.sizeChangedBy;f&&this.handleSizeChangedBy(f.width,f.height,e,t,i,n),r.everythingChanged&&this.handleEverythingChanged(e,t,i,n,r),r.collectionChanged&&this.invalidateOtherCells(n);var _=r.itemsChanges;_&&this.handleItemsChanges(_,e,t,i,n,r);var m=r.invalidItems;m&&this.handleInvalidItems(m,e,t,i,n,r);var g=r.layoutMetricsChanged;g&&this.handleLayoutMetricsChanged(g,e,t,i,n,r);for(var v=!1,y=!1,b=0;b<s;b++){var I=n.objectAt(b);!y&&I.isReusable&&I.isLaidOut&&this.cellIsVisible(e,a,I)?(I.retain(this,"reusePreviousVisibleCells: retaining reused cells"),i.push(I),I.release(this,"reusePreviousVisibleCells: retaining reused cells"),v=!0):(v&&(y=!0),I.isLaidOut=!1)}},handleLayoutMetricsChanged:function(e,t,i,n,r,a){var s=t.layoutMetrics;if(e.contains("rowHeight")){this.invalidateOtherCells(r);var o=this.topMostItem(t,r);this.recoverLayoutFromCell(t,o)}else if(e.contains("rowSpacing")){var c=this.topMostItem(t,r);this.invalidateOtherCells(r,c)}else if(e.contains("hideableTopHeight")){if(s.shouldStartHidden&&this.isAtEnd===b.Top&&s.initialPosition===b.Top){var l=this.setUpFirstCell(t,i,!0);this.invalidateOtherCells(r,l)}}else if(e.contains("hideableBottomHeight")){if(s.shouldStartHidden&&this.isAtEnd===b.Bottom&&s.initialPosition===b.Bottom){var u=this.setUpLastCell(t,i,!0);this.invalidateOtherCells(r,u)}}else this.handleEverythingChanged(t,i,n,r,a)},recoverLayoutFromCell:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,n=t.handle;n.wasRemoved||n.isValid&&this.layOutCellInDirection(e,t,1,i.y,1,i.x)},handleEverythingChanged:function(e,t,i,n,r){if(this.invalidateOtherCells(n),!this.isAtEnd){var a=this.topMostValidItem(e,n);if(!a)return;a.retain(this,"handleEverythingChanged: first valid cell"),this.recoverLayoutFromCell(e,a),a.release(this,"handleEverythingChanged: first valid cell")}},handleInvalidItems:function(e,t,i,n,r,a){e.forEach(function(e){var t=this.cellForHandle(e).retain(this,"handleInvalidItems: invalid cell");t.invalidate(),t.release(this,"handleInvalidItems: invalid cell")},this);for(var s=r.length,o=0;o<s;o++){var c=r.objectAt(o);e.contains(c.handle)&&c.invalidate()}},invalidateOtherCells:function(e,t){for(var i=e.length,n=0;n<i;n++){var r=e.objectAt(n);r!==t&&r.invalidate()}},handleItemsChanges:function(e,t,i,n,r,a){this.handleEverythingChanged(t,i,n,r,a)},handleCollectionChanged:function(e,t,i,n,r){var a=this.setUpInitialCell(e,t);a&&(a.retain(this,"handleCollectionChanged"),i.push(a),a.release(this,"handleCollectionChanged"),this.isAtEnd=e.layoutMetrics.initialPosition,this._distancePastEnd=0)},endOffset:function(e,t,i){var n=this.isAtEnd,r=this._distancePastEnd,a=0,s=e.layoutMetrics;if(n===b.Top){var o=s.hideableTopHeight;r=Math.min(r,o);var c=this.topMostLaidOutItem(e,i);0<(a=-this._distancePastTop(e,c))&&!s.shouldStickAtTop?a=0:a+=r}else if(n===b.Bottom){var l=s.hideableBottomHeight;r=Math.min(r,l);var u=this.bottomMostLaidOutItem(e,i);(a=this._distancePastBottom(e,u))<0&&!s.shouldStickAtBottom?a=0:a-=r}return a},moveCellsBy:function(e,t,i,n){for(var r=0,a=n.length;r<a;r++){var s=n.objectAt(r);s.isLaidOut&&s.moveBy(e,t,i)}},handleMovedBy:function(e,t,i,n,r,a){this.moveCellsBy(i,e,t,a)},handleShowItem:function(e,t,i,n,r,a,s){s.forEach(function(e){return e.invalidate()})},handleSizeChangedBy:function(e,t,i,n,r,a){0!==e&&a.forEach(function(e){e.width=i.viewportWidth,e.size=null})},initializeVisibleCells:function(e,t,i,n,r){if(r.collectionChanged)this.handleCollectionChanged(e,t,i,n,r);else{if(0<n.length&&t.startHandle.isValid)if(r.itemsChanges||r.everythingChanged){var a=this.handleNoPreviouslyValidCells(e,t,i,n,r);a.retain(this,"initializeVisibleCells: newCell"),i.push(a),a.release(this,"initializeVisibleCells: newCell")}else if(r.itemShown)this.initializeItemShown(e,t,i,r);else{var s=this.topMostItem(e,n);if(s){s.retain(this,"initializeVisibleCells: previous topMostItem");var o=e.viewportBounds,c=o.x-s.x,l=o.y-s.y,u=this.setUpCellAtDistance(e,t,s,c,l).retain(this,"initializeVisibleCells: setUpCellAtDistance");s.release(this,"initializeVisibleCells: previous topMostItem"),i.push(u),u.release(this,"initializeVisibleCells: setUpCellAtDistance")}}if(0===i.length){var d=this.setUpInitialCell(e,t);if(d){var h=this.isAtEnd=e.layoutMetrics.initialPosition,p=this._distancePastEnd;h===b.Top?d.y+=p:h===b.Bottom&&(d.y-=p),d.retain(this,"initializeVisibleCells: setUpInitialCell"),i.push(d),d.release(this,"initializeVisibleCells: setUpInitialCell")}}}},initializeItemShown:function(e,t,i,n){var r=n.itemShown,a=this.cellForHandle(r);if(a){a.retain(this,"initializeVisibleCells: cell");var s=n.itemShownAt.y;this.layOutCellInDirection(e,a,1,s||0,1,this.leftForCell(e,a)),i.push(a),a.release(this,"initializeVisibleCells: cell")}},handleNoPreviouslyValidCells:function(e,t,i,n,r){var a,s=this.topMostItem(e,n);if(!s){var o=this.setUpInitialCell(e,t);return this.isAtEnd=e.layoutMetrics.initialPosition,this._distancePastEnd=0,o}if(e.layoutMetrics.initialPosition===b.Top){var c=this.topForCell(e,s)-s.y,l=this.setUpFirstCell(e,t,!0);l.y-=c,a=this.setUpCellAtDistance(e,t,l,0,c)}else{var u=this.spaceBelowCell(e,s)-(s.bottom-e.viewportHeight),d=this.setUpLastCell(e,t,!0);d.y-=u,a=this.setUpCellAtDistance(e,t,d,0,u)}return a},_distancePastBottom:function(e,t){return _.b.sharedInstance.floorToDevicePixelRatio(e.viewportHeight)-_.b.sharedInstance.floorToDevicePixelRatio(t.bottom+this.spaceBelowCell(e,t))},_distancePastTop:function(e,t){return _.b.sharedInstance.floorToDevicePixelRatio(t.y-this.topForCell(e,t))},checkForMinimumSize:function(e,t){var i=this.topMostLaidOutItem(e,t),n=this._distancePastTop(e,i),r=0<=n,a=this.bottomMostLaidOutItem(e,t),s=this._distancePastBottom(e,a);if(r&&0<=s){var o=e.layoutMetrics;o.minimumSizePosition===b.Top?(this.isAtEnd=b.Top,this._distancePastEnd=n):o.minimumSizePosition===b.Bottom&&(this.isAtEnd=b.Bottom,this._distancePastEnd=s)}},completeVisibleCells:function(e,t,i,n){var r=this.layOutCellsInDirection(e,i,i.objectAt(0),-1,!1);if(this.layOutCellsInDirection(e,i,i.lastItem,1,r),n.movedBy||n.itemShown){var a=e.layoutMetrics,s=null,o=0,c=this.topMostItem(e,i),l=this._distancePastTop(e,c),u=0<=l,d=this.bottomMostItem(e,i),h=this._distancePastBottom(e,d),p=0<=h;p&&u&&(a.minimumSizePosition===b.Top?p=!1:a.minimumSizePosition===b.Bottom&&(u=!1)),p?(s=b.Bottom,o=h):u&&(s=b.Top,o=l),this.isAtEnd=s,this._distancePastEnd=o}else{var f;for(this.checkForMinimumSize(e,i);0<Math.abs(_.b.sharedInstance.floorToDevicePixelRatio(f=this.endOffset(e,t,i)));)this.moveCellsBy(e,0,f,i),0<f?this.layOutCellsInDirection(e,i,i.objectAt(0),-1,!0):this.layOutCellsInDirection(e,i,i.lastItem,1,!0)}},verticalScan:1/0,horizontalScan:1/0,setUpCellAtDistance:function(e,t,i,n,r){var a=this.horizontalScan,s=this.verticalScan;if(Math.abs(n)>a||Math.abs(r)>s)return this.estimateCellAtDistance(e,t,i,n,r);var o,c=isFinite(a)||isFinite(s),l=0;if(0<r)l=1;else if(r<0)l=-1;else if(0<n)l=1;else{if(!(n<0))return i.isLaidOut||this.recoverLayoutFromCell(e,i),i;l=-1}if(d.x=i.x+n,d.y=i.y+r,c){var u=e.viewportBounds;h.x=u.x-a,h.y=u.y-s,h.width=u.width+2*a,h.height=u.height+2*s}for(i.retain();null!==(o=this.positionNextCell(e,i,l));){if(o.retain(),o.containsPoint(d)||l<0&&o.y<=d.y||0<l&&o.y>=d.y||c&&!o.intersects(h))return i.release(),o.autorelease();i.release(),o.isLaidOut=!1,i=o}return 0<l?this.setUpLastCell(e,t):this.setUpFirstCell(e,t)},estimateCellAtDistance:u.e,verticalSpacingForCellTypes:function(e,t,i){return"item"===t&&"item"===i?e.layoutMetrics.rowSpacing:0},positionNextCell:function(e,t,i){var n=t.handle.atDistance(i).retain();if(!n.isValid)return n.release(),null;var r,a=this.cellForHandle(n).retain();return n.release(),r=0<i?this.verticalSpacingForCellTypes(e,t.cellType,a.cellType):this.verticalSpacingForCellTypes(e,a.cellType,t.cellType),this.positionAdjacentCell(e,t,a,i,r).autorelease()},positionAdjacentCell:function(e,t,i,n,r){var a;return t.retain(),i.retain(),a=0<n?t.bottom+r:t.y-r,t.release(),this.layOutCellInDirection(e,i,n,a,1,this.leftForCell(e,i)),i.autorelease()},layOutCellInDirection:function(e,t,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,s=this.sizeForCell(e,t),o=t.height=s.height;0<i?t.y=n:i<0&&(t.y=n-o);var c=t.width=s.width;return 0<r?t.x=a:r<0&&(t.x=a-c),t.isLaidOut=!0,t},sizeForCell:function(e,t){var i=t.size;return i||(i=t.size=this[this.sizeKeyByCellType[t.cellType]](e,t)),i},estimatedSizeForCell:function(e,t){var i=this.estimatedSizeKeyByCellType;if(!i){i={};var n=this.sizeKeyByCellType;for(var r in n)i[r]="estimated"+Object(u.o)(n[r])}var a=t.size;return a||(a=t.size=this[i[t.cellType]](e,t)),a},sizeKeyByCellType:{item:"sizeForItem"},estimatedSizeKeyByCellType:null,sizeForItem:function(e,t){return i.G.create({height:e.layoutMetrics.rowHeight,width:e.viewportWidth})},leftForCell:function(e,t){return 0},topForCell:function(e,t){for(var i=e.layoutMetrics,n=t.handle,r=-1;n.isValid;)n=n.previous,r++;return(r=Math.max(r,0))*(i.rowHeight+i.rowSpacing)+i.topPadding+i.topInset-i.hideableTopHeight},spaceBelowCell:function(e,t){for(var i=e.layoutMetrics,n=t.handle,r=-1;n.isValid;)n=n.next,r++;return(r=Math.max(r,0))*(i.rowHeight+i.rowSpacing)+i.bottomPadding-i.hideableBottomHeight},topMostItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusable)},topMostLaidOutItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusableAndLaidOut)},topMostValidItem:function(e,t){return this.topMostAnchor(e,t,this._isCellReusableAndValid)},bottomMostItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusable)},bottomMostLaidOutItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusableAndLaidOut)},bottomMostValidItem:function(e,t){return this.bottomMostAnchor(e,t,this._isCellReusableAndValid)},topMostAnchor:function(e,t,i){var n=this,r=t.find(function(e){return n.isCellPreferredAnchor(e)&&i.call(n,e)});return r||(r=t.find(function(e){return n.isCellAnchorable(e)&&i.call(n,e)})),r},bottomMostAnchor:function(e,t,i){var n=this,r=t.findLast(function(e){return n.isCellPreferredAnchor(e)&&i.call(n,e)});return r||(r=t.findLast(function(e){return n.isCellAnchorable(e)&&i.call(n,e)})),r},_isCellReusable:function(e){return e.isReusable},_isCellReusableAndLaidOut:function(e){return e.isReusable&&e.isLaidOut},_isCellReusableAndValid:function(e){var t=e.handle;return t.isValid&&!t.wasRemoved},isCellAnchorable:function(e){return"item"===e.cellType},isCellPreferredAnchor:function(e){return this.isCellAnchorable(e)},computeSpaceAroundViewport:function(e){var t=e.spaceAroundViewport,i=e.visibleCells,n=0,r=0,a=e.layoutMetrics,s=e.viewportHeight,o=a.hideableTopHeight,c=a.hideableBottomHeight,l=this.topMostItem(e,i),u=0,d=0;l&&(d=this.topForCell(e,l),u=l.y);var h=this.bottomMostItem(e,i),p=0,f=0;h&&(f=this.spaceBelowCell(e,h),p=h.bottom);var _=Math.min(s,d+f+p-u),m=void 0,g=void 0;_<s&&a.minimumSizePosition===b.Bottom?(m=s-_,g=s):(m=0,g=_),n=d-u+m,r=f-(g-p);var v=_+o<=s;a.minimumSizePosition===b.Bottom&&v||(n+=o);var y=_+c<=s;return a.minimumSizePosition===b.Top&&y||(r+=c),t.beginBatchSet().set("left",0).set("right",0).set("top",n).set("bottom",r).end(),t}})}).call(o,c(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1125),r=(i.n(n),i(7)),a=i(3),s=r.m.extend({additionalClassNames:["cw-list-item-view"],content:Object(a.T)(),layout:Object(a.T)(),layoutMetrics:Object(a.T)(),staticMembers:{className:"cw-ui-collections-list-item-view",__QUALIFIED_CLASS_NAME__:"ListItemView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(3),r=i(1),a=i(62),s=i(82),o=i(63),c=n.f.extend({storeIds:Object(r.property)({readOnly:!0,get:function(){var e=this._storeIdsArray;if(!e){if(0===this.length)return;e=this._storeIdsArray=this.toArray().map(function(e){return e.storeId})}return e}}),models:Object(r.property)({readOnly:!0,get:function(){var e=this._modelArray;return e||(e=this._modelArray=s.ModelArray.createFromStoreIds(this.storeIds,null,Object(o.b)())),e}}),operation:Object(r.property)({readOnly:!0,get:function(){var e=this.get("length");if(1===e)return this.objectAt(0).get("operation");if(1<e){var t=this._bulkOperation;return t||(t=this._bulkOperation={type:a.a.WRITE.BULK,context:{changes:this}}),t}}}),merge:function(e){for(var t,i=e.createIterator().retain();t=i.get("value");)this.recordChange(t),i.moveToNext();return i.release(),this},recordChange:function(e){var t=e.storeId,i=this._changesByStoreId||(this._changesByStoreId={}),n=i[t];if(0<=n){var r=this.objectAt(n);this.setIndex(n,r.merge(e))}else this.push(e),i[t]=this.get("length")-1,this._invalidateCaches();return e},getChangeForStoreId:function(e){var t=(this._changesByStoreId||(this._changesByStoreId={}))[e];if(0<=t)return this.objectAt(t)},removeChangeForStoreId:function(e){var t=this._changesByStoreId;if(t){var i=t[e];if(0<=i){var n=this.objectAt(i);for(var r in this.splice(i,1),delete t[e],this._invalidateCaches(),t){var a=t[r];i<a&&(t[r]=a-1)}return n}}},_modelArray:Object(r.property)({type:s.ModelArray}),_storeIdsArray:Object(r.property)({type:Array}),_invalidateCaches:function(){this._modelArray=null,this._storeIdsArray=null},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChangeSet"}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"TransactionProcessor",function(){return h}),i.d(t,"NetworkStatus",function(){return p});var a,o=i(1),c=i(2),l=i(180),n=i(62),s=i(32),u=i(312),r=i(569),d=i(63),h=o.CoreObject.extend({process:Object(o.define)(o.RequiredMethod),addTransaction:function(e){return!this.supportsBulkTransactions&&this.isBulkTransaction(e)?this.addTransactions(this.splitTransaction(e)):(this._pendingTransactions.add(e),this._process(),e)},addTransactions:function(e){for(var t=0,i=e.length;t<i;t++)this._pendingTransactions.add(e[t]);return this._process(),e},sendTransaction:function(e){var t=Object(d.b)();return t||Object(c.y)("No DataManager to receive transaction."),e.finally(this._transactionDidFinish.bind(this,e)).catch(c.e),t.sendTransaction(e),this._transactionsSentDuringProcess.push(e),e},removeTransaction:function(e){return this._transactionsRemovedDuringProcess.push(e),e},cancelTransaction:function(e){return e.cancel(),this._transactionsRemovedDuringProcess.push(e),e},canSendTransaction:function(e){var t=Object(c.D)(e),i=this._transactionDependencies[t];if(i)for(var n=0,r=i.length;n<r;n++)if(i[n].get("status")!==u.a.COMPLETED)return!1;return!0},linkTransactions:function(e,t){var i=this._transactionDependencies,n=Object(c.D)(t),r=i[n];r||(r=i[n]=a&&a.pop()||[]),r.push(e)},splitTransaction:function(t){t.get("status")===u.a.ACTIVE&&Object(c.y)("CW.Data.TransactionProcessor#splitTransaction: Can not split a transaction that is already active.",{transaction:t});for(var e=t.get("changes"),i=[],n=0,r=e.get("length");n<r;n++){var a=l.a.create();a.recordChange(e.objectAt(n));var s=u.a.create({changes:a,operation:a.get("operation")});i[n]=s}return o.CorePromise.all(i).then(function(e){t.complete(e)},function(e){t.fail(e)}),this._transactionsRemovedDuringProcess.push(t),i},splitTransactions:function(e){var t,i=e.length;if(1===i)t=this.splitTransaction(e[0]);else{t=[];for(var n=0;n<i;n++){var r=this.splitTransaction(e[n]);Object(c.i)(t,r)}}return t||null},supportsBulkTransactions:Object(o.property)(!0),isBulkTransaction:function(e){var t=e.operation;return t&&t.type===n.a.WRITE.BULK},getNetworkStatus:function(e,t){e||Object(c.y)("CW.Data.TransactionProcessor#getNetworkStatus: No model class provided.",{dataManager:this}),t||Object(c.y)("CW.Data.TransactionProcessor#getNetworkStatus: No primary key provided.",{dataManager:this,modelClass:e});var i=s.Store.getStoreIdForPrimaryKey(e,t);return this._activeTransactions.containsStoreId(i)?p.ACTIVE.TRANSMITTING:this._pendingTransactions.containsStoreId(i)?p.ACTIVE.QUEUED:p.IDLE},getActiveTransactions:function(e,t){e||Object(c.y)("CW.Data.TransactionProcessor#getActiveTransactions: No model class provided.",{dataManager:this}),t||Object(c.y)("CW.Data.TransactionProcessor#getActiveTransactions: No primary key provided.",{dataManager:this,modelClass:e});var i,n=s.Store.getStoreIdForPrimaryKey(e,t),r=this._activeTransactions;r.containsStoreId(n)&&(i=r.getTransactionsForStoreId(n).slice(0));var a=this._pendingTransactions;return a.containsStoreId(n)&&(i=i||[]).push.apply(i,a.getTransactionsForStoreId(n)),i},_pendingTransactions:Object(o.instance)(r.a),_activeTransactions:Object(o.instance)(r.a),_transactionsSentDuringProcess:Object(o.instance)(Array),_transactionsRemovedDuringProcess:Object(o.instance)(Array),_transactionDependencies:Object(o.instance)(Object),_process:function(){if(!this._isProcessing){this._isProcessing=!0;var e=this._pendingTransactions,t=this._activeTransactions;this.process(e.transactions,t.transactions),this._isProcessing=!1;var i=this._transactionsSentDuringProcess,n=i.length;if(0<n){for(var r=0;r<n;r++){var a=i[r];e.remove(a),t.add(a)}i.length=0}var s=this._transactionsRemovedDuringProcess,o=s.length;if(0<o){for(var c=0;c<o;c++){var l=s[c];e.remove(l),t.remove(l)}s.length=0}}},_transactionDidFinish:function(e){var t,i,n,r;this._activeTransactions.remove(e),t=this._transactionDependencies,i=e,n=Object(c.D)(i),r=t[n],Array.isArray(r)&&(r.length=0,(a||(a=[])).push(r)),delete t[n],0!==this._pendingTransactions.length&&this._process()},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionProcessor"}}),p=Object(o.createEnumGroup)("STATUS",function(e){e("ACTIVE",function(e){e("QUEUED"),e("TRANSMITTING")}),e("IDLE")})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=Object(n.createEnumGroup)("Direction",{EAST:0,NORTHEAST:45,NORTH:90,NORTHWEST:135,WEST:180,SOUTHWEST:225,SOUTH:270,SOUTHEAST:315})},function(e,t,i){"use strict";i.d(t,"a",function(){return g}),i.d(t,"b",function(){return o});var n=i(1161),r=(i.n(n),i(1)),a=i(3),m=i(7),s=i(595),g=Object(r.createEnumGroup)("ArrowPopoverAlignment",function(e){e("TargetMiddle"),e("Follow"),e("None")}),o=s.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],name:"arrow",classes:["cw-popover-arrow",{type:"CLASSNAMEOUTLET",bindingtype:"ENUMBINDING",name:"arrowDirectionClass",validvalues:["cw-up-arrow","cw-left-arrow","cw-right-arrow","cw-down-arrow","cw-no-arrow"],attributes:{}}],styles:{transform:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"arrowTransformStyle",attributes:{},unit:null,property:"transform"}}}]}},className:"cw-ui-arrow-popover-view",__QUALIFIED_CLASS_NAME__:"ArrowPopoverView"},anchorLayout:Object(a.T)(),arrowLength:Object(a.T)(10),arrowWidth:Object(a.T)(10),arrowAlignment:Object(a.T)({defaultValue:g.TargetMiddle,type:g}),arrowLeft:Object(a.T)({readOnly:!0,dependencies:["arrowDirection","arrowLength","arrowWidth","horizontalAlignment","arrowAlignment","layout.x","layout.width","anchorLayout.x","anchorLayout.width"],get:Object.assign(function(){var e=this.arrowDirection,t=this.arrowLength,i=this.layout;if(!i)return 0;var n=i.width;if("left"===e)return-t;if("right"===e)return n;var r=this.arrowWidth/2,a=i.x,s=a+r,o=a+n-r,c=void 0;if(this.arrowAlignment===g.Follow)switch(this.horizontalAlignment){case m.f.Left:c=s;break;case m.f.Right:c=o;break;case m.f.Middle:default:c=a+n/2}else{var l=this.anchorLayout;if(!l)return 0;var u=l.width,d=l.x;c=(d+(d+u))/2}return c=Math.max(Math.min(c,o),s),(c-=a)-r},{__CW__getter:function(e,t,i,n){var r=this.arrowDirection,a=this.arrowLength,s=this.layout;if(!s)return 0;var o=s.width;if("left"===r)return-a;if("right"===r)return o;var c=n.internalGet(this,t[2+i])/2,l=s.x,u=l+c,d=l+o-c,h=void 0;if(n.internalGet(this,t[4+i])===g.Follow)switch(n.internalGet(this,t[3+i])){case m.f.Left:h=u;break;case m.f.Right:h=d;break;case m.f.Middle:default:h=l+o/2}else{var p=this.anchorLayout;if(!p)return 0;var f=p.width,_=p.x;h=(_+(_+f))/2}return h=Math.max(Math.min(h,d),u),(h-=l)-c}})}),arrowTop:Object(a.T)({readOnly:!0,dependencies:["arrowDirection","arrowLength","arrowWidth","verticalAlignment","arrowAlignment","layout.y","layout.height","anchorLayout.y","anchorLayout.height"],get:Object.assign(function(){var e=this.arrowDirection,t=this.arrowLength,i=this.layout;if(!i)return 0;var n=i.height;if("up"===e)return-t;if("down"===e)return n;var r=this.arrowWidth/2,a=i.y,s=a+r,o=a+n-r,c=void 0;if(this.arrowAlignment===g.Follow)switch(this.verticalAlignment){case m.l.Bottom:c=s;break;case m.l.Top:c=o;break;case m.l.Middle:default:c=a+n/2}else{var l=this.anchorLayout;if(!l)return 0;var u=l.height,d=l.y;c=(d+(d+u))/2}return c=Math.max(Math.min(c,o),s),(c-=a)-r},{__CW__getter:function(e,t,i,n){var r=this.arrowDirection,a=this.arrowLength,s=this.layout;if(!s)return 0;var o=s.height;if("up"===r)return-a;if("down"===r)return o;var c=n.internalGet(this,t[2+i])/2,l=s.y,u=l+c,d=l+o-c,h=void 0;if(n.internalGet(this,t[4+i])===g.Follow)switch(n.internalGet(this,t[3+i])){case m.l.Bottom:h=u;break;case m.l.Top:h=d;break;case m.l.Middle:default:h=l+o/2}else{var p=this.anchorLayout;if(!p)return 0;var f=p.height,_=p.y;h=(_+(_+f))/2}return h=Math.max(Math.min(h,d),u),(h-=l)-c}})}),arrowTransformStyle:Object(a.T)({dependencies:["arrowLeft","arrowTop"],readOnly:!0,get:Object.assign(function(){return"translate("+this.arrowLeft+"px, "+this.arrowTop+"px)"},{__CW__getter:function(e,t,i,n){return"translate("+n.internalGet(this,t[0+i])+"px, "+n.internalGet(this,t[1+i])+"px)"}})}),arrowDirection:Object(a.T)({readOnly:!0,dependencies:["layout.x","layout.width","layout.y","layout.height","anchorLayout.x","anchorLayout.width","anchorLayout.y","anchorLayout.height","arrowAlignment"],get:Object.assign(function(){var e=this.getPath("anchorLayout.height"),t=this.getPath("anchorLayout.y"),i=this.getPath("anchorLayout.width"),n=this.getPath("anchorLayout.x"),r=this.getPath("layout.height"),a=this.getPath("layout.y"),s=this.getPath("layout.width"),o=this.getPath("layout.x");return this.getPath("arrowAlignment")===g.None?"no":n+i<o?"left":o+s<n?"right":t+e<a?"up":a+r<t?"down":"left"},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[7+i]),a=n.internalGetPath(this,t[6+i]),s=n.internalGetPath(this,t[5+i]),o=n.internalGetPath(this,t[4+i]),c=n.internalGetPath(this,t[3+i]),l=n.internalGetPath(this,t[2+i]),u=n.internalGetPath(this,t[1+i]),d=n.internalGetPath(this,t[0+i]);return n.internalGet(this,t[8+i])===g.None?"no":o+s<d?"left":d+u<o?"right":a+r<l?"up":l+c<a?"down":"left"}})}),arrowDirectionClass:Object(a.T)({readOnly:!0,dependencies:["arrowDirection"],get:Object.assign(function(){return"cw-"+this.arrowDirection+"-arrow"},{__CW__getter:function(e,t,i,n){return"cw-"+n.internalGet(this,t[0+i])+"-arrow"}})})})},function(e,t,i){"use strict";i.d(t,"c",function(){return _}),i.d(t,"b",function(){return m}),i.d(t,"d",function(){return g}),i.d(t,"a",function(){return v});var D=i(3),n=i(7),r=i(597).a.extend({arrowLength:Object(D.T)(Object(D.R)("config.arrowLength")),_layoutRectangle:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"OnSideLayout"}}),a={left:"x",right:"width",top:"y",bottom:"height"},s={left:"vertical",right:"vertical",top:"horizontal",bottom:"horizontal"},o={left:"width",right:"x",top:"height",bottom:"y",width:"height",height:"width"},c={left:-1,right:1,top:-1,bottom:1},l={left:"width",right:"width",top:"height",bottom:"height"},u={left:"y",right:"y",top:"x",bottom:"x"},d={left:"height",right:"height",top:"width",bottom:"width"},F={x:0,y:0,height:0,width:0},h={vertical:n.l.Top,horizontal:n.f.Left},p={vertical:n.l.Bottom,horizontal:n.f.Right};function f(e){var S=a[e],w=c[e],C=o[e],E=u[e],T=d[e],t=l[e],i=s[e],A=h[i],O=p[i];return{fit:Object(D.T)({readOnly:!0,dependencies:["layout.height","layout.width","layout."+E,"layout."+T,"anchorLayout."+E,"anchorLayout."+T,"config.isAlignmentRequired","config."+i+"Alignment"],get:Object.assign(function(){var e,t=arguments,i=this.__s._$qF$get.apply(this,t),n=$property.internalGet(this,$getArray[2+$offset]),r=$property.internalGet(this,$getArray[3+$offset]),a=$property.internalGet(this,$getArray[4+$offset]),s=$property.internalGet(this,$getArray[5+$offset]),o=$property.internalGet(this,$getArray[6+$offset]),c=$property.internalGet(this,$getArray[7+$offset]);return e=c===A?a-n:c===O?s-r:n+r/2-(a+s/2),o?0!==e&&(i=0):i-=Math.abs(e),i},{__CW__getter:function(e,t,i,n){var r,a=arguments,s=this.__s._$qF$__CW__getter.apply(this,a),o=n.internalGet(this,t[2+i]),c=n.internalGet(this,t[3+i]),l=n.internalGet(this,t[4+i]),u=n.internalGet(this,t[5+i]),d=n.internalGet(this,t[6+i]),h=n.internalGet(this,t[7+i]);return r=h===A?l-o:h===O?u-c:o+c/2-(l+u/2),d?0!==r&&(s=0):s-=Math.abs(r),s},__superMap:{_$qF$__CW__getter:"__CW__getter"}}),__superMap:{_$qF$get:"get"}}),layoutCalculator:Object(D.U)("arrowLength","desiredSize."+t,"desiredSize."+o[t],"anchorLayout."+S,"anchorLayout."+C,"anchorLayout."+E,"anchorLayout."+T,"spaceLayout."+S,"spaceLayout."+C,"spaceLayout."+E,"spaceLayout."+T,"config.spaceInset","config."+i+"Alignment",function(e,t,i,n,r,a,s,o,c,l,u,d,h){"height"===S||"width"===S?(n+=r,o+=c,o-=d):"height"!==C&&"width"!==C||(r+=n,c+=o,o+=d),u+=l,s+=a;var p,f,_=n+e*w,m=_+t*w;if((o<m&&0<w||m<o&&w<0)&&(m=o),h===A)f=(p=a)+i;else if(h===O)p=(f=s)-i;else{var g=(a+s)/2,v=i/2;p=g-v,f=g+v}var y=(l+=d)-p;0<y&&(p+=y,f+=y);var b=(u-=d)-f;b<0&&(p+=b,f+=b),p<l&&(p=l),F[S]=m,F[C]=_,F[E]=p,F[T]=f,F.width-=F.x,F.height-=F.y;var I=this._layoutRectangle;I?I.beginBatchSet().set("x",F.x).set("y",F.y).set("height",F.height).set("width",F.width).end():this._layoutRectangle=I=D.C.create(F),this.layout=I})}}var _=r.extend(f("right"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnRightLayout"}}),m=r.extend(f("left"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnLeftLayout"}}),g=r.extend(f("top"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnTopLayout"}}),v=r.extend(f("bottom"),{staticMembers:{__QUALIFIED_CLASS_NAME__:"OnBottomLayout"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(3),a=Object(n.createEnumGroup)("SPLIT_LAYOUT_STYLES",function(e){e("FIXED_STYLE"),e("MANUAL_STYLE"),e("AUTO_STYLE")}),s=n.CoreObject.extend(r.q,a.toStaticMixin(),{splitView:Object(r.T)(null),managedView:Object(r.T)(null),constraintStyle:Object(r.T)(a.MANUAL_STYLE),minimumSize:Object(r.T)(0),maximumSize:Object(r.T)(0),preferredSize:Object(r.T)(0),size:Object(r.T)(0),_constraintsDidChange:Object(r.U)("splitView","constraintStyle","minimumSize","maximumSize","preferredSize",function(e){e&&e.constraintsDidChange()}),_updateSize:Object(r.U)("managedView","size","splitView.isVertical",function(e,t,i){e&&(i?(e.set("width",t),e.set("height","100%")):(e.set("width","100%"),e.set("height",t)))}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SplitLayout"}});s.AUTO=s.extend({constraintStyle:a.AUTO_STYLE})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1167),r=(i.n(n),i(7)),a=i(3),s=r.m.extend(r.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}],classes:["title"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasLeftIcon",truevalue:"cw-has-left-icon",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasRightIcon",truevalue:"cw-has-right-icon",attributes:{}}],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}}},className:"cw-button",__QUALIFIED_CLASS_NAME__:"Button"},title:Object(a.T)(""),tooltip:Object(a.T)(""),hasLeftIcon:Object(a.T)(!1),hasRightIcon:Object(a.T)(!1)})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{frameCompleted:n._118(),requestAnimationFrame:function(t){var i=this;n._111(function(e){t(e),i.frameCompleted()})},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseAnimationUtils"}}).create()},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={setElementText:function(e,t){e&&(n.j.get("sharedInstance").get("isFirefox")?e.textContent=t:e.innerText=t)},addClass:function(e,t){e&&e.classList.add(t)},removeClass:function(e,t){e&&e.classList.remove(t)},toggleClass:function(e,t,i){if(e){var n=e.classList;void 0===i?n.contains(t)?n.remove(t):n.add(t):!0===i?n.add(t):!1===i&&n.remove(t)}},elementContainsElement:function(e,t){for(var i=t;i&&i!==document.body;){if(i===e)return!0;i=i.parentElement}return!1}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({delegate:null,init:function(e){this.__s._$2K$init.call(this,e),this._cache={}},queueItemForKeyIdentifier:function(e,t){var i=this._cache[t];i||(i=this._cache[t]=[]),i.push(e)},dequeueItemForKeyIdentifier:function(e){var t=this._cache[e];return t?t.pop():null},clearAllItems:function(){this._cache={}},poolContainsItemsForKeyIdentifier:function(e){var t=this._cache[e];return t&&0<t.length},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemPool"},__superMap:{_$2K$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(188),a={active:n._105(),pressed:n._105(),enabled:n._105(!0),target:null,action:null,shortcut:null,allowRightClick:n._107(!1),pointerDown:function(e){if(2===e.button&&!this.get("allowRightClick"))return!1;if(!this.get("enabled"))return!0;var t=this._capturedPointerId=e.pointerId;return this.setPointerCapture(t),this._tracking=!0,this._updateAppearance(!0),this.didBeginTracking(),!0},pointerUp:function(e){if(!this._tracking)return!1;this._tracking=!1,this.getPointerCapture(this._capturedPointerId)===this&&(this.releasePointerCapture(this._capturedPointerId),this._capturedPointerId=null);var t=r.a.elementContainsElement(this.element,this._adjustEventTargetForIpad(e).target);return this._updateAppearance(t),t?(this.didEndTracking(),this.performTargetAction()):this.didCancelTracking(),!0},pointerOut:function(e){this.get("enabled")&&this._updateAppearance(!1)},pointerOver:function(e){this.get("enabled")&&this._updateAppearance(!0)},_adjustEventTargetForIpad:function(e){return e.nativeEvent&&e.nativeEvent.target&&(e.target=e.nativeEvent.target),e},_updateAppearance:function(e){if(this.get("enabled")){var t=this._tracking;this.set("pressed",e&&t),this.set("active",e&&!t)}},performTargetAction:function(){if(this.get("enabled")){var e=this.get("target"),t=this.get("action");if(e&&t){var i=t;n._95(t)&&(i=e[t]),n._92(i)||n._75("Cannot perform action. Action must be a function on target "+e),i.call(e,this)}}},_brkit_bs_enabledDidChange:n._106("enabled",function(e){if(!0!==e){this.set("pressed",!1),this.set("active",!1);var t=this._tracking;this._tracking=!1,this._capturedPointerId&&(this.releasePointerCapture(this._capturedPointerId),this._capturedPointerId=null),t&&this.didCancelTracking()}}),handleKeyDown:function(e){var t=this.shortcut;return!(!t||e.which!==t||(this.performTargetAction(),0))},didBeginTracking:function(){},didEndTracking:function(){},didCancelTracking:function(){}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(0),n=function(e){var t=0,i=0,n=0,r=0;switch(arguments.length){case 0:break;case 1:r=e.left||0,n=e.right||0,t=e.top||0,i=e.bottom||0;break;case 4:r=e,n=arguments[1],t=arguments[2],i=arguments[3];break;default:a._75("[BRKit.EdgeInsets] Cannot create. Invalid number of arguments")}this.left=r,this.right=n,this.bottom=i,this.top=t};n.prototype.toString=function(){return"[BRKit.EdgeInsets: <left: "+this.left+", right: "+this.right+", top: "+this.top+", bottom: "+this.bottom+">]"},n.create=function(){var e,t=arguments;switch(t.length){case 0:e=new n;break;case 1:e=new n(t[0]);break;case 4:e=new n(t[0],t[1],t[2],t[3]);break;default:a._75("Cannot create edge insets. Invalid number of arguments")}return Object.freeze(e),e},n.ZERO=n.create()},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n=r.v.extend({staticMembers:{STATE_POSSIBLE:0,STATE_BEGAN:1,STATE_CHANGED:2,STATE_ENDED:3,STATE_FAILED:4,STATE_RECOGNIZED:5,__QUALIFIED_CLASS_NAME__:"GestureRecognizer"},view:null,state:r._107({defaultValue:0}),target:null,action:null,event:null,init:function(e){this.__s._$E9$init.call(this,e),this._capturedPointerId=null},reset:function(){this.event=null,this._state=0;var e=this._capturedPointerId;null!==e&&(this.get("view").releasePointerCapture(e),this._capturedPointerId=null)},setPointerCapture:function(e){this._capturedPointerId=e,this.get("view").setPointerCapture(e)},releasePointerCapture:function(e){this.get("view").releasePointerCapture(e),this._capturedPointerId=null},pointerDown:function(e){this.event=this._adjustEventTargetForIpad(e)},pointerUp:function(e){this.event=this._adjustEventTargetForIpad(e)},pointerMove:function(e){this.event=this._adjustEventTargetForIpad(e)},_adjustEventTargetForIpad:function(e){return e.nativeEvent&&e.nativeEvent.target&&(e.target=e.nativeEvent.target),e},performTargetAction:function(){var e=this.get("target"),t=this.get("action");e&&t||r._75("Cannot perform target-action pair. requires target and action");var i=r._95(t)?e[t]:t;i||r._75("Target cannot receive action '"+t+"'");var n=i.call(e,this);return this._resetStateIfNeeded(),n},_resetStateIfNeeded:function(){switch(this._state){case 5:case 4:this.reset()}},__superMap:{_$E9$init:"init"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return d});var n=i(0),r=i(621),a=n._67("BRKit.ImageStateEnum",function(e){e("Prepared"),e("Loading"),e("Cancel"),e("Loaded"),e("Error")}),s="brkit.image",o="loading_image",c="loaded_image",l="loading_image_error",u="loading_image_cancelled",d=n.v.extend(n._8,{staticMembers:{TRACE_GROUP:s,TRACE_STATUS_LOADING_IMAGE:o,TRACE_STATUS_LOADED_IMAGE:c,TRACE_STATUS_LOADING_IMAGE_ERROR:l,TRACE_STATUS_LOADING_IMAGE_CANCELLED:u,__QUALIFIED_CLASS_NAME__:"Image"},owner:n._105(null),src:n._105(""),state:n._105({readOnly:!0,defaultValue:a.Prepared,get:function(){return this._state}}),element:n._107({readOnly:!0,get:function(){return this._imageElement}}),width:n._107({readOnly:!0,get:function(){return this._state===a.Loaded?this._imageElement.width:0}}),height:n._107({readOnly:!0,get:function(){return this._state===a.Loaded?this._imageElement.height:0}}),init:function(e){var t=this._imageElement=document.createElement("img");n._61(t,"load",this._imgElementDidLoad.bind(this)),n._61(t,"error",this._imgElementDidError.bind(this)),this.__s._$WD$init.call(this,e)},reset:function(){this._src="",this._updateStateForSrc("")},_srcDidChange:n._106("src",function(e){this._updateStateForSrc(e)}),_updateStateForSrc:function(e){this._state===a.Loading&&(this._trace(u),this._transitionToState(a.Cancel)),""===e||null==e?this._transitionToState(a.Prepared):(this._loadStartTime=Date.now(),this._trace(o),this._transitionToState(a.Loading)),e&&(this._imageElement.src=e)},_transitionToState:function(e){this._state!==e&&(this._state=e,this.propertyChanged("state"))},_imgElementDidLoad:function(){if(this.get("state")===a.Loading){var e=Date.now()-this._loadStartTime;this._trace(c,{duration:e}),this._transitionToState(a.Loaded)}},_imgElementDidError:function(){this.get("state")===a.Loading&&(this._trace(l),this._transitionToState(a.Error))},_trace:function(e,t){var i=t||{};i.src=this.get("src"),i.id=n._82(this),i.status=e,i.timestamp=Date.now(),Object(r.b)(s,i)},__superMap:{_$WD$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var l=i(0),n={mixinDependencies:[i(141).a],registerStateEnumGroup:function(e,t,i){var n=this._segs_registeredGroups;n||(n=this._segs_registeredGroups={}),n[e.id]||(n[e.id]={stateEnumGroup:e,currentState:t,fatalErrorState:i})},fatalErrorIfNotInState:function(e){var t=this._segs_registeredGroups[e.group.id];t||l._75("No state enum group registered for "+e);var i,n=t.currentState,r=t.fatalErrorState||null,a=arguments.length;for(i=0;i<a;i++)if(arguments[i].contains(n))return;r&&this.setState(r);var s=1==a?" ":" either ",o=[];for(i=0;i<a;i++)o.push(arguments[i].fullName);var c=" Cannot perform operation. Expected state to"+s+"be: "+o.join(", ");l._75(c,{source:this})},setState:function(e){var t=this._segs_registeredGroups[e.group.id];t||l._75("No state enum group registered for "+e);var i=t.currentState;t.currentState=e,this.logTrace("changed state from <"+i.fullName+"> to <"+e.fullName+">")},getCurrentStateForStateEnumGroup:function(e){var t=this._segs_registeredGroups[e.id];return t||l._75("No state enum group registered for "+e.name),t.currentState},transitionFromStateToState:function(e,t){this.fatalErrorIfNotInState(e),this.setState(t)}}},function(e,t,i){"use strict";t.a=function(e,t){var i=new s(e);t(function r(a,s){var o=1;return function(e,t){var i,n=(i=s?s.createSubstate(e):new c.a(e,o,null,0,a)).fullName.replace(".","");(a.items.push(i),a[n]=i,s&&(s[e]=i),o+=1,t)&&t(r(a,i))}}(i,null));for(var n=i.items,r=n.length,a=0;a<r;a++)Object.freeze(n[a]);return Object.freeze(i),i};var c=i(634),n=1,s=function(e){this.items=[],this.name=e,this.id=n,n++}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i(0),n=i(353),r=a._29.extend(n.a,{useCredentialsIfCrossOrigin:!0,willSend:function(){this.url.isCOSKUrl&&this.url.setCOSQueryParameters()},copyKeys:a._85(Array),copy:function(){for(var e=this.copyKeys,t=this.constructor.create(),i=0,n=e.length;i<n;i++){var r=e[i];t[r]=this[r]}return t._statusEventListeners?a._100.warn("New request has event handlers, old handlers not copied."):t._statusEventListeners=this._statusEventListeners,t},staticMembers:{__QUALIFIED_CLASS_NAME__:"Request"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return o});var u=i(0),s=i(198),r=i(676),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=void 0,a={mixinDependencies:[u._8],isAnimating:u._105({readOnly:!0,dependencies:["animationsInProgress"],get:Object.assign(function(){return 0<this.animationsInProgress},{__CW__getter:function(e,t,i,n){return 0<n.internalGet(this,t[0+i])}})}),animationsInProgress:u._105(0),_animatedVariables:u._85(Array),dispose:function(){for(var e=arguments,t=this._animatedVariables,i=0,n=t.length;i<n;i++)s.a.freeVariable(t[i]);this.__s._$D1$dispose.apply(this,e)},animate:function(e,t,i,n){return this.animateWithAnimator(e,r.a,t,i,n)},animateWithAnimator:function(e,t,i){var n=u._63(arguments,0,2),r=i,a=null,s=n[n.length-1],o=void 0===s?"undefined":d(s);"function"!==o&&"undefined"!==o&&null!==s||(a=n.pop());var c=this.getAdaptedCurrentValueForTarget(e,r);n.push(c),r=this.processTargetValue(e,r),n[0]=r;var l=t.createAnimation.apply(t,n);return this.animateWithAnimation(e,l,a),l},animateWithAnimation:function(e,t,i){var n=u.A.getContextForNode(this.downstreamNodes[e]);return i&&s.a.addCallbackToAnimation(t,i),this.set("animationsInProgress",this.get("animationsInProgress")+1),s.a.addCallbackToAnimation(t,function(){this.set("animationsInProgress",this.get("animationsInProgress")-1)}.bind(this)),s.a.setAnimationForVariable(n,t),t},getAdaptedCurrentValueForTarget:function(e,t){var i=this._properties[e].adaptStartingLocationForTarget,n=u.A.getContextForNode(this.downstreamNodes[e]),r=s.a.getValueForVariable(n);return i&&(r=i(this,e,r,t)),r},processTargetValue:function(e,t){var i=t,n=this._properties[e].set;return n&&(i=n(this,e,i)),i},resetAnimation:function(e){var t=this._properties[e],i=t.get,n=t.set,r=u.A.getContextForNode(this.downstreamNodes[e]);if(i||n){var a=s.a.getValueForVariable(r);i&&(a=i.call(this,this,e,a)),n&&(a=n.call(this,this,e,a)),s.a.setValueForVariable(r,a)}else s.a.stopAnimatingVariable(r)},getFinalValue:function(e){var t=u.A.getContextForNode(this.downstreamNodes[e]),i=s.a.getFinalValueForVariable(t),n=this._properties[e].get;return n&&(i=n.call(this,this,e,i)),i},rebaseCurrentValue:function(e,t){var i=u.A.getContextForNode(this.downstreamNodes[e]);s.a.rebaseCurrentValueForVariable(i,t)},rebaseFinalValue:function(e,t){var i=u.A.getContextForNode(this.downstreamNodes[e]);s.a.rebaseFinalValueForVariable(i,t)},__superMap:{_$D1$dispose:"dispose"}};n=u._10.extend({init:function(e,t){this.defaultValue=e,this.priority=t,this.get||(this.usesBuiltinGet=!0),this.set||(this.usesBuiltinSet=!0),this.__s._$2Hi$init.call(this,e)},initForObject:function(e,t){var i=s.a.allocVariable(),n=s.a.getDataFlowNodeForVariable(i);s.a.setValueForVariable(i,this.defaultValue),e.downstreamNodes[t]=n,e._animatedVariables.push(i)},setInitialValueForObject:function(){},wasRegistered:function(e){this.finalGetForObject=this.usesBuiltinGet?this.getForObject:this.getForObjectWithGetter,this.finalSetForObject=this.usesBuiltinSet?this.setForObject:this.setForObjectWithSetter,this.setUpNativeAccessors(e)},getForObjectWithGetter:function(e,t){var i=u.A.getContextForNode(e.downstreamNodes[t]);return this.get(e,t,s.a.getValueForVariable(i))},setForObjectWithSetter:function(e,t,i){var n=u.A.getContextForNode(e.downstreamNodes[t]);s.a.set(n,this.set(e,t,i))},getForObject:function(e,t){var i=e.downstreamNodes;if(i){var n=u.A.getContextForNode(i[t]);return s.a.getValueForVariable(n)}},setForObject:function(e,t,i){var n=e.downstreamNodes;if(n){var r=u.A.getContextForNode(n[t]);s.a.setValueForVariable(r,i)}},setUpNativeAccessors:function(e){var t=this,i=this.key;Object.defineProperty(e,i,{get:function(){return t.getForObject(this,i)},set:function(e){return t.setForObject(this,i,e)},configurable:!0})},requiresSupport:a,__superMap:{_$2Hi$init:"init"}});var o=function(e){return n.create(e)}},function(e,t,i){"use strict";i.d(t,"a",function(){return L});var u=i(0),r=i(109),d=i(199),h=i(200),p=i(201),c=-1,l=Date.now(),f=!1,_=-1,m=-1,n=[],a=-1,g=[],v=!1,y=!1;function b(){if(v)y=!0;else{f=!(v=!0);var e,t=-1,i=Date.now(),n=Math.max(i-l,1);for(g.length=0,t=_;0<t;)N(e=h.Callback.getMethod(t),i),t=h.Callback.getNextCallback(e);for(var r=c,a=-1;0<r;)g.push(r),p.a.setIsScheduled(r,!1),p.a.setIsInFrame(r,!0),a=p.a.getNextScheduledVariable(r),p.a.setPreviousScheduledVariable(r,-1),p.a.setNextScheduledVariable(r,-1),r=a;c=-1;var s=0,o=g.length;for(s=0;s<o;s++)r=g[s],p.a.getWantsFreed(r)||I(r,n);for(u.A.pause(),s=0;s<o;s++)r=g[s],p.a.setIsInFrame(r,!1),p.a.getWantsFreed(r)?A(r):u.A.setNodeToDirtyFromParent(p.a.getDataFlowNode(r));for(u.A.resume(),t=m;0<t;)N(e=h.Callback.getMethod(t),i),t=h.Callback.getNextCallback(e);v=!1,y&&(y=!1,b())}}function s(){f||(l=Date.now(),f=!0,u._111(function(){b()}))}function o(e){if(p.a.getIsScheduled(e)){var t=p.a.getPreviousScheduledVariable(e),i=p.a.getNextScheduledVariable(e);0<t?p.a.setNextScheduledVariable(t,i):c=i,0<i&&p.a.setPreviousScheduledVariable(i,t),p.a.setIsScheduled(e,!1)}}function I(e,t){var i=p.a.getAnimation(e);if(!(i<1)){var n=d.Animation.getAnimator(i);n<1&&u._75("No animator in animation"),d.Animation.getAnimatorType(i).tick(n,e,t)}}var S=[],w=0;function C(e,t){var i=p.a.getAnimation(e);if(i!==t){var n,r=0<w?S[--w]:[],a=0;if(0<i&&i!==p.a.getBaseAnimation(e)){var s=d.Animation.getAnimator(i);s<1&&u._75("No animator in the old animation"),d.Animation.getAnimatorType(i).stop(s,e);for(var o=d.Animation.getFirstCallback(i);0<o;)a=h.Callback.getMethod(o),r.push(a),o=h.Callback.getNextCallback(o);d.Animation.setFirstCallback(i,-1)}if(p.a.setValue(e,T(e)),p.a.setOffset(e,0),0<t){var c=d.Animation.getAnimator(t);c<1&&u._75("No animator in the new animation"),d.Animation.getAnimatorType(t).start(c,e)}p.a.setAnimation(e,t);for(var l=0;l<r.length;l++)N(a=r[l],e),M(a);(n=r).length=0,S[w++]=n}}function E(e){p.a.setVelocity(e,0),p.a.setAcceleration(e,0),C(e,p.a.getBaseAnimation(e))}function T(e){return p.a.getValue(e)+p.a.getOffset(e)}function A(e){if(p.a.getIsInFrame(e))p.a.setWantsFreed(e,!0);else{o(e),E(e);var t=p.a.getDataFlowNode(e);u.A.freeNode(t),p.a.free(e)}}var O=u._7.extend({isCacheable:!0,calculateValueForNode:function(e,t){return p.a.getValue(e)}}).create();function D(e,t){var i=d.Animation.alloc();return d.Animation.setAnimator(i,e,t),i}function F(e){var t=a;0<=t?(a=n[t],n[t]=e):(t=n.length,n.push(e));var i=h.Callback.alloc();return h.Callback.setMethod(i,t),i}function M(e){n[e]=a,a=e}function N(e,t){n[e](t)}var L={frame:b,requestFrame:s,requestFrameForVariable:function(e){p.a.getIsScheduled(e)||(0<c&&p.a.setPreviousScheduledVariable(c,e),p.a.setNextScheduledVariable(e,c),c=e,p.a.setIsScheduled(e,!0),s())},cancelRequestedFrameForVariable:o,addPreFrameCallback:function(e){var t=F(e),i=_;return h.Callback.setNextCallback(t,i),0<i&&h.Callback.setPreviousCallback(i,t),_=t},removePreFrameCallback:function(e){var t=h.Callback.getPreviousCallback(e),i=h.Callback.takeNextCallback(e),n=h.Callback.getMethod(e);0<i&&h.Callback.setPreviousCallback(i,t),0<t?h.Callback.setNextCallback(t,i):(_=i,h.Callback.free(e)),M(n)},addPostFrameCallback:function(e){var t=F(e),i=_;return h.Callback.setNextCallback(t,i),0<i&&h.Callback.setPreviousCallback(i,t),_=t},removePostFrameCallback:function(e){var t=h.Callback.getPreviousCallback(e),i=h.Callback.takeNextCallback(e),n=h.Callback.getMethod(e);0<i&&h.Callback.setPreviousCallback(i,t),0<t?h.Callback.setNextCallback(t,i):(m=i,h.Callback.free(e)),M(n)},setAnimationForVariable:C,stopAnimatingVariable:E,getValueForVariable:T,setValueForVariable:function(e,t){E(e),p.a.setValue(e,t),p.a.setFinalValue(e,t),u.A.setNodeToDirtyFromParent(p.a.getDataFlowNode(e))},rebaseCurrentValueForVariable:function(e,t){p.a.setOffset(e,t-p.a.getValue(e))},getFinalValueForVariable:function(e){return p.a.getFinalValue(e)+p.a.getOffset(e)},rebaseFinalValueForVariable:function(e,t){p.a.setOffset(e,t-p.a.getFinalValue(e))},performFrameForVariable:I,allocVariable:function(){var e=p.a.alloc(),t=u.A.allocNode(O,e);return p.a.setDataFlowNode(e,t),e},freeVariable:A,getDataFlowNodeForVariable:function(e){return p.a.getDataFlowNode(e)},createAnimationWithAnimator:D,addCallbackToAnimation:function(e,t){"function"!=typeof t&&u._75("addCallbackToAnimation expected a callback");var i=F(t),n=d.Animation.takeFirstCallback(e);return h.Callback.setNextCallback(i,n),0<n&&h.Callback.setPreviousCallback(n,i),d.Animation.setFirstCallback(e,i),i},defineAnimator:function(t,e){e.createData||u._75("An implementation of createData must be passed to defineAnimator");var i=Object.create(t),n=++r.f.typeCount;return Object.assign(i,{typeId:n,freeData:u._6,tick:u._6,start:u._6,stop:u._6,free:function(e){this.freeData(e),t.free(e)},createAnimation:function(){return D(this.createData.apply(this,arguments),this)}},e),r.h(n,i),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Animation",function(){return c});var i=n(0),o=n(109),r=n(200),a=-1,s=++o.f.typeCount,c={memory:o.f,typeId:s,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Animation: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return 0<a?(e=a,0===(a=this.memory.INT_32[e>>2])&&i._75("Next free item is NULL; this is not right.")):(e=o.b(16,8),this.count++),this.memory.INT_32[e+0>>2]=-1,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0,this.activeCount++,e},allocArray:function(e){var t=16*e,i=o.a(t);return this.memory.INT_32[1+(i>>2)]=e,this._initArray(i),this.arrayCount++,i},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=a,a=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=a,a=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),o.c(e),this.arrayCount--)},clear:function(e){if(!(e<0)){var t,i=null;i=this.getAnimatorType(e),t=this.memory.INT_32[e+0>>2],i&&0<t&&i.free(t),this.setAnimatorType(e,null),this.memory.INT_32[e+0>>2]=-1,r.Callback.free(this.memory.INT_32[e+4>>2]),this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0}},clearShallow:function(e){e<0||(this.memory.INT_32[e+0>>2]=-1,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+16*i;this.clear(n)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+16*i;this.clearShallow(n)}},clone:function(e){var t=this.alloc();return o.e(e,t,4),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var i=-1,n=-1;n=0<(i=this.memory.INT_32[e+0>>2])?this.getAnimatorType(t).clone(i):-1,this.memory.INT_32[e+0>>2]=n,n=0<(i=this.memory.INT_32[e+4>>2])?r.Callback.clone(i):-1,this.memory.INT_32[e+4>>2]=n},dump:function(t,i){if(i||(i=[]),0<=i.indexOf(t))return"Circular reference";i.push(t);var e={animator:function(){var e=this.memory.INT_32[t+0>>2];return 0<e?this.getAnimatorType(t).dump(e,i):null}.bind(this)(),firstCallback:function(){var e=this.memory.INT_32[t+4>>2];return 0<e?r.Callback.dump(e,i):null}.bind(this)(),animatorType:this.memory.INT_32[t+8>>2]};return i.pop(),e},dumpArray:function(e,t){for(var i=this.memory.INT_32[1+(e>>2)],n=[],r=0;r<i;r++)n.push(this.dump(e+8+16*r,t));return{array:n,length:i,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var i=e.length,n=this.allocArray(i),r=0;r<i;r++){var a=e[r],s=n+8+16*r;o.e(a,s,4),t?this.freeShallow(a):this._cloneFieldsFrom(s,a)}return n},putArrayIntoJSArray:function(e,t,i){var n=this.memory.INT_32[1+(e>>2)];t.length=n;for(var r=0;r<n;r++)t[r]=e+8+16*r},itemAtIndex:function(e,t){return e+8+16*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getAnimator:function(e){return this.memory.INT_32[e+0>>2]},setAnimator:function(e,t,i){var n=this.memory.INT_32[e+0>>2];this.memory.INT_32[e+0>>2]=t;var r=this.getAnimatorType(e);r&&0<n&&n!==t&&r.free(n),this.setAnimatorType(e,i)},takeAnimator:function(e){var t=this.memory.INT_32[e+0>>2];return this.memory.INT_32[e+0>>2]=-1,t},getFirstCallback:function(e){return this.memory.INT_32[e+4>>2]},setFirstCallback:function(e,t){var i=this.memory.INT_32[e+4>>2];this.memory.INT_32[e+4>>2]=t,0<i&&n(200).Callback.free(i)},takeFirstCallback:function(e){var t=this.memory.INT_32[e+4>>2];return this.memory.INT_32[e+4>>2]=-1,t},getAnimatorType:function(e){var t=this.memory.INT_32[e+8>>2];return o.d(t)},setAnimatorType:function(e,t){t=t?t.typeId:-1,this.memory.INT_32[e+8>>2]=t}};o.g(c),o.h(c.typeId,c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Callback",function(){return s});var i=n(0),o=n(109),r=-1,a=++o.f.typeCount,s={memory:o.f,typeId:a,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Callback: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return 0<r?(e=r,0===(r=this.memory.INT_32[e>>2])&&i._75("Next free item is NULL; this is not right.")):(e=o.b(16,8),this.count++),this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,this.memory.INT_32[e+12>>2]=-1,this.activeCount++,e},allocArray:function(e){var t=16*e,i=o.a(t);return this.memory.INT_32[1+(i>>2)]=e,this._initArray(i),this.arrayCount++,i},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=r,r=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=r,r=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),o.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,s.free(this.memory.INT_32[e+12>>2]),this.memory.INT_32[e+12>>2]=-1)},clearShallow:function(e){e<0||(this.memory.INT_32[e+0>>2]=0,this.memory.INT_32[e+4>>2]=-1,this.memory.INT_32[e+8>>2]=-1,this.memory.INT_32[e+12>>2]=-1)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+16*i;this.clear(n)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+16*i;this.clearShallow(n)}},clone:function(e){var t=this.alloc();return o.e(e,t,4),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var i,n;n=0<(i=this.memory.INT_32[e+12>>2])?s.clone(i):-1,this.memory.INT_32[e+12>>2]=n},dump:function(t,i){if(i||(i=[]),0<=i.indexOf(t))return"Circular reference";i.push(t);var e={method:this.memory.INT_32[t+0>>2],owner:function(){var e=this.memory.INT_32[t+4>>2];return 0<e?n(199).Animation.dump(e,i):null}.bind(this)(),previousCallback:function(){var e=this.memory.INT_32[t+8>>2];return 0<e?s.dump(e,i):null}.bind(this)(),nextCallback:function(){var e=this.memory.INT_32[t+12>>2];return 0<e?s.dump(e,i):null}.bind(this)()};return i.pop(),e},dumpArray:function(e,t){for(var i=this.memory.INT_32[1+(e>>2)],n=[],r=0;r<i;r++)n.push(this.dump(e+8+16*r,t));return{array:n,length:i,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var i=e.length,n=this.allocArray(i),r=0;r<i;r++){var a=e[r],s=n+8+16*r;o.e(a,s,4),t?this.freeShallow(a):this._cloneFieldsFrom(s,a)}return n},putArrayIntoJSArray:function(e,t,i){var n=this.memory.INT_32[1+(e>>2)];t.length=n;for(var r=0;r<n;r++)t[r]=e+8+16*r},itemAtIndex:function(e,t){return e+8+16*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getMethod:function(e){return this.memory.INT_32[e+0>>2]},setMethod:function(e,t){this.memory.INT_32[e+0>>2]=t},getOwner:function(e){return this.memory.INT_32[e+4>>2]},setOwner:function(e,t){this.memory.INT_32[e+4>>2],this.memory.INT_32[e+4>>2]=t},takeOwner:function(e){var t=this.memory.INT_32[e+4>>2];return this.memory.INT_32[e+4>>2]=-1,t},getPreviousCallback:function(e){return this.memory.INT_32[e+8>>2]},setPreviousCallback:function(e,t){this.memory.INT_32[e+8>>2],this.memory.INT_32[e+8>>2]=t},takePreviousCallback:function(e){var t=this.memory.INT_32[e+8>>2];return this.memory.INT_32[e+8>>2]=-1,t},getNextCallback:function(e){return this.memory.INT_32[e+12>>2]},setNextCallback:function(e,t){var i=this.memory.INT_32[e+12>>2];this.memory.INT_32[e+12>>2]=t,0<i&&s.free(i)},takeNextCallback:function(e){var t=this.memory.INT_32[e+12>>2];return this.memory.INT_32[e+12>>2]=-1,t}};o.g(s),o.h(s.typeId,s)},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),o=i(109),r=i(199),a=-1,s=++o.f.typeCount,c={memory:o.f,typeId:s,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"Variable: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return 0<a?(e=a,0===(a=this.memory.INT_32[e>>2])&&n._75("Next free item is NULL; this is not right.")):(e=o.b(64,8),this.count++),this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,this.memory.INT_32[e+48>>2]=-1,this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60>>0]=0,this.activeCount++,e},allocArray:function(e){var t=64*e,i=o.a(t);return this.memory.INT_32[1+(i>>2)]=e,this._initArray(i),this.arrayCount++,i},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=a,a=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=a,a=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),o.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,r.Animation.free(this.memory.INT_32[e+48>>2]),this.memory.INT_32[e+48>>2]=-1,r.Animation.free(this.memory.INT_32[e+52>>2]),this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60>>0]=0)},clearShallow:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.INT_32[e+40>>2]=0,this.memory.INT_32[e+44>>2]=-1,this.memory.INT_32[e+48>>2]=-1,this.memory.INT_32[e+52>>2]=-1,this.memory.INT_32[e+56>>2]=-1,this.memory.UINT_8[e+60>>0]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+64*i;this.clear(n)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+64*i;this.clearShallow(n)}},clone:function(e){var t=this.alloc();return o.e(e,t,16),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){var i=-1,n=-1;n=0<(i=this.memory.INT_32[e+48>>2])?r.Animation.clone(i):-1,this.memory.INT_32[e+48>>2]=n,n=0<(i=this.memory.INT_32[e+52>>2])?r.Animation.clone(i):-1,this.memory.INT_32[e+52>>2]=n},dump:function(t,i){if(i||(i=[]),0<=i.indexOf(t))return"Circular reference";i.push(t);var e={offset:this.memory.FLOAT_64[t+0>>3],finalValue:this.memory.FLOAT_64[t+8>>3],velocity:this.memory.FLOAT_64[t+16>>3],acceleration:this.memory.FLOAT_64[t+24>>3],value:this.memory.FLOAT_64[t+32>>3],dataFlowNode:this.memory.INT_32[t+40>>2],nextScheduledVariable:function(){var e=this.memory.INT_32[t+44>>2];return 0<e?c.dump(e,i):null}.bind(this)(),baseAnimation:function(){var e=this.memory.INT_32[t+48>>2];return 0<e?r.Animation.dump(e,i):null}.bind(this)(),animation:function(){var e=this.memory.INT_32[t+52>>2];return 0<e?r.Animation.dump(e,i):null}.bind(this)(),previousScheduledVariable:function(){var e=this.memory.INT_32[t+56>>2];return 0<e?c.dump(e,i):null}.bind(this)(),flags:this.memory.UINT_8[t+60>>0]};return i.pop(),e},dumpArray:function(e,t){for(var i=this.memory.INT_32[1+(e>>2)],n=[],r=0;r<i;r++)n.push(this.dump(e+8+64*r,t));return{array:n,length:i,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var i=e.length,n=this.allocArray(i),r=0;r<i;r++){var a=e[r],s=n+8+64*r;o.e(a,s,16),t?this.freeShallow(a):this._cloneFieldsFrom(s,a)}return n},putArrayIntoJSArray:function(e,t,i){var n=this.memory.INT_32[1+(e>>2)];t.length=n;for(var r=0;r<n;r++)t[r]=e+8+64*r},itemAtIndex:function(e,t){return e+8+64*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getOffset:function(e){return this.memory.FLOAT_64[e+0>>3]},setOffset:function(e,t){this.memory.FLOAT_64[e+0>>3]=t},getFinalValue:function(e){return this.memory.FLOAT_64[e+8>>3]},setFinalValue:function(e,t){this.memory.FLOAT_64[e+8>>3]=t},getVelocity:function(e){return this.memory.FLOAT_64[e+16>>3]},setVelocity:function(e,t){this.memory.FLOAT_64[e+16>>3]=t},getAcceleration:function(e){return this.memory.FLOAT_64[e+24>>3]},setAcceleration:function(e,t){this.memory.FLOAT_64[e+24>>3]=t},getValue:function(e){return this.memory.FLOAT_64[e+32>>3]},setValue:function(e,t){this.memory.FLOAT_64[e+32>>3]=t},getDataFlowNode:function(e){return this.memory.INT_32[e+40>>2]},setDataFlowNode:function(e,t){this.memory.INT_32[e+40>>2]=t},getNextScheduledVariable:function(e){return this.memory.INT_32[e+44>>2]},setNextScheduledVariable:function(e,t){this.memory.INT_32[e+44>>2],this.memory.INT_32[e+44>>2]=t},takeNextScheduledVariable:function(e){var t=this.memory.INT_32[e+44>>2];return this.memory.INT_32[e+44>>2]=-1,t},getBaseAnimation:function(e){return this.memory.INT_32[e+48>>2]},setBaseAnimation:function(e,t){var i=this.memory.INT_32[e+48>>2];this.memory.INT_32[e+48>>2]=t,0<i&&r.Animation.free(i)},takeBaseAnimation:function(e){var t=this.memory.INT_32[e+48>>2];return this.memory.INT_32[e+48>>2]=-1,t},getAnimation:function(e){return this.memory.INT_32[e+52>>2]},setAnimation:function(e,t){var i=this.memory.INT_32[e+52>>2];this.memory.INT_32[e+52>>2]=t,0<i&&r.Animation.free(i)},takeAnimation:function(e){var t=this.memory.INT_32[e+52>>2];return this.memory.INT_32[e+52>>2]=-1,t},getPreviousScheduledVariable:function(e){return this.memory.INT_32[e+56>>2]},setPreviousScheduledVariable:function(e,t){this.memory.INT_32[e+56>>2],this.memory.INT_32[e+56>>2]=t},takePreviousScheduledVariable:function(e){var t=this.memory.INT_32[e+56>>2];return this.memory.INT_32[e+56>>2]=-1,t},getFlags:function(e){return this.memory.UINT_8[e+60>>0]},setFlags:function(e,t){this.memory.UINT_8[e+60>>0]=t},getWantsFreed:function(e){return 1&this.memory.UINT_8[e+60>>0]},setWantsFreed:function(e,t){var i=this.memory.UINT_8[e+60>>0];t?i|=1:i&=-2,this.memory.UINT_8[e+60>>0]=i},getIsScheduled:function(e){return 2&this.memory.UINT_8[e+60>>0]},setIsScheduled:function(e,t){var i=this.memory.UINT_8[e+60>>0];t?i|=2:i&=-3,this.memory.UINT_8[e+60>>0]=i},getIsInFrame:function(e){return 4&this.memory.UINT_8[e+60>>0]},setIsInFrame:function(e,t){var i=this.memory.UINT_8[e+60>>0];t?i|=4:i&=-5,this.memory.UINT_8[e+60>>0]=i}};o.g(c),o.h(c.typeId,c)},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return a});var n=i(0),r=(i(4),n.v.extend({init:function(e,t,i){this.type=e,this.details=t,this.__s._$8Z$init.call(this,i)},type:n._107({type:n.E}),details:n._107({type:a,defaultValue:null}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItem"},__superMap:{_$8Z$init:"init"}})),a=n.v.extend({init:function(e,t){this.item=e,this.__s._$Mo$init.call(this,t)},item:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorDetails"},__superMap:{_$Mo$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(0),s=i(720),n=a.v.extend({filters:[],errorItemIsValid:a._31.define(),allowsAggregationForErrorItem:function(e){},createErrorGroupForErrorItem:function(e){this.errorItemIsValid(e)||a._75("Cannot create error group. Error item is invalid",{errorGroup:this,errorItem:e});var t=s.a.create({type:this.errorGroupType,items:[e]});return this._shouldFilterErrorGroup()&&(t=this._filterErrorGroup(t)),t},aggregateErrorGroupWithErrorItem:function(e,t){var i=this.errorItemIsValid(t),n=this.errorGroupIsValid(e);i&&n||a._75("Cannot aggregate. Require a valid error group and error item",{errorAggregator:this,errorGroup:e,errorItem:t});var r=s.a.create({type:this.errorGroupType,items:e.items.concat(t)});return this._shouldFilterErrorGroup()&&(r=this._filterErrorGroup(r)),r},_shouldFilterErrorGroup:function(){return 0<this.filters.length},_filterErrorGroup:function(e){for(var t=this.filters,i=e,n=0;n<t.length;n++)i=t[n].filterErrorGroup(i);return i},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("LocalEditValidationErrorItemType",["DuplicateName","HiddenFile","WhitespaceName","InvalidName"])},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(148),a=i(111),s=n.v.extend({handleResponseError:function(e,t){null===t&&(t="Unable to upload file. Request failed.");var i=e.get("response").status,n=a.a.FatalError;switch(i){case 413:n=a.a.OutOfQuota}return r.a.create({type:n,nativeFile:this.get("nativeFile"),status:i||0,message:t})},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadResponseHandler"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),a=i(4),s=/.*(zip|compressed|octet).*/i,r=n.v.create({_roundToPlaces:function(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i},fileIsPackage:function(e){var t=e.type,i=s.test(t),n=e.name.match(a._9),r=n&&n[2]||"";return a._14(r)&&i}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{downloadFromURL:function(e){},downloadFromURLs:function(e){},completedFetchDownloadURLs:n._118(),failedFetchDownloadURLs:n._118(),busy:n._105(!1),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseDownloadService"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={IOS_STYLE:"IOS_STYLE",DESKTOP_STYLE:"DESKTOP_STYLE"};Object.freeze(n)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={UNKNOWN:"UNKNOWN",INVITED:"INVITED",PENDING:"PENDING",ACCEPTED:"ACCEPTED",REMOVED:"REMOVED"};Object.freeze(n)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var c=i(8),n=i(0),r=i(376),a=i(70),s=i(770),o=n._5.extend({type:n._103({type:String}),permission:n._103(),acceptanceStatus:n._103(),isOrgUser:n._103({dataKey:"orgUser"}),userIdentity:n._28.toOne({type:a.a,embedded:!0}),isOwner:n._105({readOnly:!0,dependencies:["type"],get:Object.assign(function(){return this.type===r.a.OWNER},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===r.a.OWNER}})}),displayName:n._105({readOnly:!0,dependencies:["addressBookContact.firstName","addressBookContact.lastName","userIdentity","userIdentity.givenName","userIdentity.familyName","userIdentity.emailAddress","userIdentity.phoneNumber","userIdentity.formattedPhoneNumber","isMe","isOwner"],get:Object.assign(function(){var e,t,i=this.addressBookContact;i&&(e=i.firstName,t=i.lastName);var n=this.userIdentity;return(!e||!t||this.isMe&&this.isOwner)&&(e=n.givenName,t=n.familyName),c.n({givenName:e,familyName:t,emailAddress:n.emailAddress,phoneNumber:n.formattedPhoneNumber})},{__CW__getter:function(e,t,i,n){var r,a,s=this.addressBookContact;s&&(r=s.firstName,a=s.lastName);var o=n.internalGet(this,t[2+i]);return(!r||!a||n.internalGet(this,t[8+i])&&n.internalGet(this,t[9+i]))&&(r=o.givenName,a=o.familyName),c.n({givenName:r,familyName:a,emailAddress:o.emailAddress,phoneNumber:o.formattedPhoneNumber})}})}),displayNameIsPhoneNumber:n._105({readOnly:!0,dependencies:["displayName","userIdentity.formattedPhoneNumber"],get:Object.assign(function(){return this.displayName===this.getPath("userIdentity.formattedPhoneNumber")},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===n.internalGetPath(this,t[1+i])}})}),displayNameInitials:n._105({readOnly:!0,dependencies:["addressBookContact.firstName","addressBookContact.lastName","userIdentity.givenName","userIdentity.familyName"],get:Object.assign(function(){var e=this.getPath("addressBookContact.firstName"),t=this.getPath("addressBookContact.lastName");return e&&t||(e=this.getPath("userIdentity.givenName"),t=this.getPath("userIdentity.familyName")),Object(s.a)(e,t)},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]),a=n.internalGetPath(this,t[1+i]);return r&&a||(r=n.internalGetPath(this,t[2+i]),a=n.internalGetPath(this,t[3+i])),Object(s.a)(r,a)}})}),isMe:n._105({readOnly:!0,dependencies:["userIdentity.isCurrentlyLoggedInUser"],get:Object.assign(function(){return this.getPath("userIdentity.isCurrentlyLoggedInUser")},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])}})}),addressBookContact:n._105(),addressBookContactDidChange:n._106("addressBookContact",function(e){e&&e.loadImageData()}),loadAddressBookContact:function(e){var t=this,i=this.isMe,n=this.getPath("userIdentity.emailAddress"),r=this.getPath("userIdentity.phoneNumber");i?this.addressBookContact=e.getMeCard():n?e.lookUpContactByEmailAddress(n).then(function(e){return t.addressBookContact=e}):r&&e.lookUpContactByPhoneNumber(r).then(function(e){return t.addressBookContact=e})},additionalParticipantInfo:n._105(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Participant"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{body:n._107({dependencies:["recordName"],readOnly:!0,get:Object.assign(function(){return this.recordName},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),recordName:n._105(),type:"FETCH",init:function(e){this.__s._$7R$init.call(this),this.recordName=e},staticMembers:{__QUALIFIED_CLASS_NAME__:"FetchRecordOperation"},__superMap:{_$7R$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var d=i(0),n=i(379),r=i(391),a=i(809),s=i(85),o=i(218),c=i(219),h=i(393),l=i(815),p=i(816),u=i(115),f=c.a.extend({addParticipantsViewController:d._105({strong:!0,get:function(){return n.a.create({ioService:this.bindingFor("ioService"),record:this.bindingFor("record"),settings:this.bindingFor("settings"),share:this.bindingFor("share"),shareByEmailIsActive:this.bindingFor("shareByEmailIsActive"),permissionValueForAddingParticipants:this.bindingFor("permissionValueForAddingParticipants")})}}),copyLinkViewController:d._105({strong:!0,get:function(){return r.a.create({settings:this.settings,share:this.share,permission:this.bindingFor("permissionValueForAddingParticipants")})}}),mailComposeViewController:d._105({strong:!0,get:function(){return a.a.create({ioService:this.bindingFor("ioService"),record:this.bindingFor("record"),settings:this.bindingFor("settings"),share:this.bindingFor("share"),permissionValueForAddingParticipants:this.bindingFor("permissionValueForAddingParticipants"),originatorSharingWorkflowVC:this})}}),shareByEmailIsActive:d._105(),start:function(){var e=s.a.COPY_LINK,t=this.settings,i=t.supportedTransports,n=1===i.length&&i[0]===e,r=this.share;return r&&r.isPublic&&n?this.showCopyLinkViewController():this.showAddUI(),t.logService.recordStat("StartedAddParticipantsWorkflow",{appName:t.appName}),this._promise},didCompleteCopyLink:function(){this.didComplete()},didCancelAddParticipant:function(){this.didComplete()},didCancelSendMessage:function(){this.shareByEmailIsActive=!1},didShareByCopyingLink:function(){this.showCopyLinkViewController(),this.sendEvent("didUpdateShareRecord",this.share,!0)},didCompleteSendMessage:function(){this.shareByEmailIsActive=!1,this.didComplete()},shareByEmail:function(){if(this.shareByEmailIsActive=!0,this.share.shortGUID)return this.showComposeMailViewController();var t=this,e=this.settings,i={provideRootRecordForUpdate:e.provideRootRecordForUpdate,provideLatestRootRecordAfterUpdateConflict:e.provideLatestRootRecordAfterUpdateConflict,didUpdateRootRecord:e.didUpdateRootRecord},n={operationType:"INVITE_TO_PUBLIC",appName:e.shareItemType};return this.ioService.createShortGUID(this.record,i).then(function(e){return t.record=e,t.share.shortGUID=e.shortGUID,t.showComposeMailViewController()}).catch(Object(u.a)(n,e.notificationService,e.logService))},createComposeWindowConfiguration:function(){var e,t=this.settings,i=t.shareTitle,n=this.share,r=(e=t,i?d._99("CKSharing.AddParticipants.Email.Subject.ShareTitle",{shareTitle:i}):d._99("CKSharing.AddParticipants.Email.Subject.AppName",{appName:e.appName})),a=t.shareItemType,s="";if("CloudKit"!==a){var o=["CKSharing.AddParticipants.Email.Bodyprefix"];o.push(n.loggedInUserCanEditShare?"OwnerAdmin":"Participant"),o.push(a),s=d._99(o.join("."))}var c=Object(h.a)(n,t),l=Object(p.a)(c,s,i,t.appName,null,t.shareUrlNamespace),u='<div dir="'+(d.Y.sharedInstance.isRTL?"rtl":"ltr")+'"><br><br></div>';return{subject:r,body:u+=l,appName:t.appName}},showAddUI:function(){var e=this.addParticipantsViewController;this.showViewController(e),e.setUp()},showComposeMailViewController:function(){var e=this.createComposeWindowConfiguration(this.share),t=this.mailComposeViewController;t.setUp(),t.composeMail(e);var i=this.previousViewController=this.activeViewController;i&&(t.operationType=i.operationType);var n=o.a.extend({viewClass:d._60({additionalClassNames:d._60(["mail-compose"])})}).create();n.showViewController(t);var r=d.e.application;r&&r.presentViewController(n)},showCopyLinkViewController:function(){var e=this.copyLinkViewController;this.showViewController(e)},canonicalizePhoneNumbers:function(e,t){t.value=Object(l.a)(e,this.settings.canonicalizePhoneNumberRequestGenerationFunction)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsWorkflowViewController"}})},function(e,t,i){"use strict";i(383);var n=i(384);i.d(t,"h",function(){return n.a}),i(785);var r=i(1360);i.d(t,"b",function(){return r.b}),i.d(t,"a",function(){return r.a}),i(214);var a=i(786);i.d(t,"d",function(){return a.a}),i(787);var s=i(1365);i.d(t,"e",function(){return s.a});var o=i(791);i.d(t,"c",function(){return o.a}),i(793),i(215);var c=i(790);i.d(t,"g",function(){return c.a}),i(1366),i(789),i(792);var l=i(152);i.d(t,"f",function(){return l.a}),i(788),i(385),i(386)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1361),r=(i.n(n),i(0)),a=i(383),s=r._57.extend(a.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:["cw-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHighlighted",truevalue:"cw-highlighted",attributes:{}}]},className:"cw-ui-item-view",__QUALIFIED_CLASS_NAME__:"ItemView"},isDisabled:r._105({type:"boolean",defaultValue:!1}),isHighlighted:r._105({type:"boolean",defaultValue:!1})})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("Direction",{EAST:0,NORTHEAST:45,NORTH:90,NORTHWEST:135,WEST:180,SOUTHWEST:225,SOUTH:270,SOUTHEAST:315})},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return s});var n=i(0),r=i(113),a=n._67("MatchType",{EMAIL:"EMAIL",PHONE:"PHONE",GROUP:"GROUP"}),s=n.v.extend(n._8,{contact:n._105({readOnly:!0,dependencies:["store","contactPrimaryKey"],get:Object.assign(function(){return this.store?this.store.getModel(r.a,this.contactPrimaryKey):null},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?n.internalGet(this,t[0+i]).getModel(r.a,n.internalGet(this,t[1+i])):null}})}),matchType:n._105(),matchValue:n._105(),contactPrimaryKey:n._105(),store:n._105(),staticMembers:{__QUALIFIED_CLASS_NAME__:"ContactMatch"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(1375),a=(i.n(r),n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"spinnerView"},{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}]}],classes:["busy-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]},className:"ck-sharing-busy-view",__QUALIFIED_CLASS_NAME__:"BusyView"},isVisible:n._105(!1),spinnerView:n._85(n._44)}))},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=i(208),a=i(812),s=i(1381),o=(i.n(s),a.a.extend({staticMembers:{templateExtensions:{contentWrapper:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisplayModeIosStyle",truevalue:"ios-style",falsevalue:"desktop-style",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"WorkflowPopupView"},additionalClassNames:n._60(["workflow-popup-view"]),isDisplayModeIosStyle:n._105({dependencies:["displayMode"],readOnly:!0,get:Object.assign(function(){return this.displayMode===r.a.IOS_STYLE},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===r.a.IOS_STYLE}})}),displayMode:n._105({readOnly:!0,defaultValue:r.a.DESKTOP_STYLE,get:function(e){return e||r.a.DESKTOP_STYLE}})})),c=n._22.extend({viewClass:o,view:n._105({downstreamBindings:{displayMode:"(owner).contentController.settings.displayMode"}}),dragOver:function(e){e.preventDefault()},defaultFocusChild:n._64("contentController"),showViewController:function(e){this.contentController=e,this._appendedContentController=e},_appendedContentControllerDidChange:n._106("_appendedContentController.isAttached",function(e){e&&this.sendEvent("contentDidResize")}),staticMembers:{__QUALIFIED_CLASS_NAME__:"WorkflowPopupViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var s=i(0),o=i(813),r=i(149),a=i(394),c=i(218),n=i(814),l=s._58.extend({permissionValueForAddingParticipants:s._105(),ioService:s._105({strong:!0}),record:s._105(),share:s._105(),settings:s._105({type:r.a}),state:s._107({readOnly:!0,get:function(){return this._promise.promiseState}}),showViewController:function(e){this.activeViewController=e},start:function(e){throw new Error("start not overriden")},complete:function(){this.didComplete()},didComplete:function(){var e=s._68(this.ioService.mostRecentShareDataHashFromServer);e&&delete e.currentUserParticipant,this._promise.resolve({share:e})},showCopyTextViewController:function(e,t,i,n){var r=o.a.create({title:e,subtitle:t,value:i,valueIsAlwaysLTR:n,viewClass:s._60({additionalClassNames:s._60(["workflow-view"])})}),a=c.a.extend({didCompleteCopyText:function(){this.hide()}}).create();a.showViewController(r),a.show()},cancel:function(e){this._promise.reject(e)},sharingUIIsReady:function(){var e=void 0,t=s.e.application;t&&(e=t.getPath("topFocusablePane.contentController.view.element"));var i=s._74(e)?[e.getBoundingClientRect()]:void 0;return u(this.settings,"sharingUIIsReady",i)},additionalButtonWasPressed:function(){return u(this.settings,"additionalButtonWasPressed",arguments)},viewClass:n.a,activeViewController:s.n.define({viewOutlet:"activeView"}),init:function(e,t,i,n){if(this.__s._$1nH$init.call(this,n),!e||!e.constructor.kindOf||!e.constructor.kindOf(a.a))throw new Error("Dependency Missing: CKSharing.WorkflowViewController.create() requires an object implementing `CKSharing.SharingIOServiceProtocol` as the first argument.");if(!t||!s._93(t)&&!s._90(t))throw new Error("Dependency Missing: CKSharing.WorkflowViewController.create() requires a record object as the second argument.");if(!i||!i.constructor.kindOf||!i.constructor.kindOf(r.a))throw new Error("Dependency missing: CKSharing.WorkflowViewController.create() requires a `CKSharing.Settings` object as the third argument.");this.ioService=e,this.record=t,this.settings=i},_promise:s._105({defaultValue:s._85(s.w)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"WorkflowViewController"},__superMap:{_$1nH$init:"init"}}),u=function(e,t,i){var n=e&&e[t];if(!s._92(n))return!1;n.apply(n,i)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var v=i(0),y=(i(4),i(16)),b=i(116),I=i(398),S=i(399),w=i(37),n=v.v.extend(v._8,{init:function(e,t,i,n,r){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=i,this.thumbnailStatsReporterService=n,this.__s._$KP$init.call(this,r)},iconService:v._105(),showcaseViewPool:v._105(),thumbnailCanvasFactory:v._105(),thumbnailStatsReporterService:v._105(),errorGroupType:null,shouldPresentContextButtonForErrorGroup:function(e){return!1},getContextButtonForErrorGroup:function(e){return null},shouldPresentDetailsForErrorGroup:function(e){return!1},getMessageForErrorGroup:function(e){return null},getDescriptionForErrorGroup:function(e){return null},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,i){return null},shouldPresentItemDescriptionsForErrorGroup:function(e){return!1},areAllItemsTheSameConflictType:function(e){var t=e[0].details.conflictType;return e.every(function(e){return e.details.conflictType===t})},getIconViewForErrorItem:function(e){var t,i,n,r,a,s,o,c,l=this.iconService,u=this.showcaseViewPool,d=this.thumbnailCanvasFactory,h=this.thumbnailStatsReporterService,p=null,f=e.context,_=e.details;if(f){var m=f.file;n=y.C.getBaseNameForNativeFile(m),t=y.C.getUncompressedExtensionForNativeFile(m),o=m.id,c=m.etag,r=m.size,a=m.zone,s=m.docwsid,m.thumbnail&&(p=m.thumbnail)}else _&&(n=_.name,t=_.extension,i=_.type,o=_.id,c=_.etag,r=_.size,a=_.zone,s=_.docwsid,_.thumbnail&&(p=_.thumbnail));var g=y.j.create();return g.name=n,g.extension=t,g.id=o,g.etag=c,g.size=r,g.zone=a,g.docwsid=s,g.thumbnail=p,t||e.get("type")!==y.Q.NotCompressed?t||i!==y.s.FOLDER?t||i!==y.s.APP_LIBRARY?b.a.create(l,u,d,h,{additionalClassNames:v._60(["medium"]),content:g,fileType:t,fileExtension:t,displaySize:w.a.MEDIUM}):S.a.create(l,{additionalClassNames:v._60(["medium"]),content:g,delegate:null,displaySize:w.a.MEDIUM}):I.a.create({additionalClassNames:v._60(["medium"])}):I.a.create({iconService:l,additionalClassNames:v._60(["medium"])})},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemPresentationInfoGenerator"},__superMap:{_$KP$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(4)._7.extend({prepareForReuse:function(){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ShowcaseView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={shouldPresentItemDescriptionsForErrorGroup:function(e){for(var t,i=e.get("items"),n=i.length,r=0;r<n;r++){var a=i[r],s=i[r].get("type"),o=a.get("details");if(o&&o.conflictType&&(s=o.conflictType.name),t&&t!==s)return!0;t=s}return!1}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=(i(4),n.v.extend({init:function(e,t){this.message=e,this.__s._$7H$init.call(this,t)},message:null,description:null,iconView:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemPresentationInfo"},__superMap:{_$7H$init:"init"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var m=i(0),g=i(4),v=(i(1427),i(56),i(117)),y="DriveUI.DragDrop.Dialog.Move.FileShared",n={mixinDependencies:[m._26],session:m._107(),allowsMove:!0,allowsUpload:!0,dragTargetHandlerPerformActionForDropInfo:function(e,t){var i=t.action,n=t.data;switch(i){case"move-items":if(this.allowsMove){var r=n.sourceFolder,a=n.destinationFolder,s=[],o=[];if(this._willMoveCrossZones(r,a)){var c=this._groupItemsByShareSetting(n.items);s=c.allOtherItems,o=c.itemsSharedByMe}else s=n.items;return 0<s.length&&this._moveItems(s,a),void(0<o.length&&this._confirmMovingSharedItems(o,n.items.length,a))}break;case"upload-files":if(this.allowsUpload)return void this.handleUploadFilesDragAndDropAction(n.items,n.destinationFolder,n.meta)}m._75("Unexpected drop action: "+i,{controller:this,dropInfo:t})},_groupItemsByShareSetting:function(e){for(var t=[],i=[],n=0;n<e.length;n++){var r=e[n];r.shareStateIsFromMe()?t.push(r):i.push(r)}return m.v.create({itemsSharedByMe:t,allOtherItems:i})},_willMoveCrossZones:function(e,t){return e.zone!==t.zone},raiseAlertService:m._33.define(),_moveItems:function(e,t){var i=this.raiseAlertService;return this.session.moveItems(e,t).catch(i.raiseAlertForErrorItem.bind(i))},_confirmMovingSharedItems:function(e,t,i){var n=this,r=e.length,a=m.e.application._paneManager,s=i.isAppLibrary?".In":".Out",o=void 0,c=void 0;if(1===r){var l=y+".Single.";o=m._99(l+"Title",{fileName:e[0].name}),c=m._99(l+"Message"+s)}else if(r===t){var u=y+".All.";o=m._99(u+"Title"),c=m._99(u+"Message"+s)}else{var d=y+".Some.";o=m._99(d+"Title"),c=m._99(d+"Message"+s,{fileCount:r,fileCountTotal:t})}var h=function(){_.animateClosed(),a.removeRootView(_)},p=g.h.create({additionalClassNames:m._60(["confirm"]),title:m._99(y+".Button.Move"),target:this,action:function(){n._moveItems(e,i),h()},shortcut:m.S.RETURN}),f=g.h.create({additionalClassNames:m._60(["cancel"]),title:m._99("DriveUI.Common.Cancel"),target:this,action:h}),_=v.a.create({message:o,description:c,buttonViews:[f,p]});a.addRootView(_),_.animateOpen()}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),t.b=function(e,t){var i,n,r=0,a=e,s=u;for(null!=t&&(s=t.multipleType||u,i=t.precision);1e3<=a&&r<5;)a/=s,r++;switch(r){case 0:n="DriveUI.NumberFormatter.Units.bytes";break;case 1:a=d(a,i||0),n=s===u?"DriveUI.NumberFormatter.Units.kB":"DriveUI.NumberFormatter.Units.KiB";break;case 2:a=d(a,i||1),n=s===u?"DriveUI.NumberFormatter.Units.MB":"DriveUI.NumberFormatter.Units.MiB";break;case 3:a=d(a,i||2),n=s===u?"DriveUI.NumberFormatter.Units.GB":"DriveUI.NumberFormatter.Units.GiB";break;case 4:a=d(a,i||2),n=s===u?"DriveUI.NumberFormatter.Units.TB":"DriveUI.NumberFormatter.Units.TiB";break;default:a=d(a,i||2),n=s===u?"DriveUI.NumberFormatter.Units.PB":"DriveUI.NumberFormatter.Units.PiB"}var o=Object(l.a)(a);return c._99("DriveUI.NumberFormatter.ItemSize",{number:o,sizeUnit:c._99(n)})};var c=i(0),l=(i(1435),i(864)),u=1e3,n=1024;function d(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(37),r={getCanvasSizeForThumbnailDisplaySize:function(e){switch(e){case n.a.LARGE:return 128;case n.a.MEDIUM:return 52;case n.a.SMALL:return 32;default:return 64}},getCanvasSizeForAppIconDisplaySize:function(e){switch(e){case n.a.LARGE:return 94;case n.a.MEDIUM:return 52;case n.a.SMALL:return 32;default:return 64}}}},function(e,t){},function(e,t,i){var n=i(9),r=i(11).document,a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,i){"use strict";var n=i(11),r=i(31),a=i(88),s=i(155),o=i(33),c=i(89),l=i(19),u=i(90),d=i(76),h=i(24),p=i(407),f=i(121).f,_=i(22).f,m=i(235),g=i(93),v="ArrayBuffer",y="DataView",b="prototype",I="Wrong index!",S=n[v],w=n[y],C=n.Math,E=n.RangeError,T=n.Infinity,A=S,O=C.abs,D=C.pow,F=C.floor,M=C.log,N=C.LN2,L="byteLength",x="byteOffset",P=r?"_b":"buffer",R=r?"_l":L,k=r?"_o":x;function j(e,t,i){var n,r,a,s=new Array(i),o=8*i-t-1,c=(1<<o)-1,l=c>>1,u=23===t?D(2,-24)-D(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for((e=O(e))!=e||e===T?(r=e!=e?1:0,n=c):(n=F(M(e)/N),e*(a=D(2,-n))<1&&(n--,a*=2),2<=(e+=1<=n+l?u/a:u*D(2,1-l))*a&&(n++,a/=2),c<=n+l?(r=0,n=c):1<=n+l?(r=(e*a-1)*D(2,t),n+=l):(r=e*D(2,l-1)*D(2,t),n=0));8<=t;s[d++]=255&r,r/=256,t-=8);for(n=n<<t|r,o+=t;0<o;s[d++]=255&n,n/=256,o-=8);return s[--d]|=128*h,s}function V(e,t,i){var n,r=8*i-t-1,a=(1<<r)-1,s=a>>1,o=r-7,c=i-1,l=e[c--],u=127&l;for(l>>=7;0<o;u=256*u+e[c],c--,o-=8);for(n=u&(1<<-o)-1,u>>=-o,o+=t;0<o;n=256*n+e[c],c--,o-=8);if(0===u)u=1-s;else{if(u===a)return n?NaN:l?-T:T;n+=D(2,t),u-=s}return(l?-1:1)*n*D(2,u-t)}function U(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function B(e){return[255&e]}function $(e){return[255&e,e>>8&255]}function W(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function G(e){return j(e,52,8)}function z(e){return j(e,23,4)}function H(e,t,i){_(e[b],t,{get:function(){return this[i]}})}function K(e,t,i,n){var r=p(+i);if(r+t>e[R])throw E(I);var a=e[P]._b,s=r+e[k],o=a.slice(s,s+t);return n?o:o.reverse()}function Q(e,t,i,n,r,a){var s=p(+i);if(s+t>e[R])throw E(I);for(var o=e[P]._b,c=s+e[k],l=n(+r),u=0;u<t;u++)o[c+u]=l[a?u:t-u-1]}if(s.ABV){if(!l(function(){S(1)})||!l(function(){new S(-1)})||l(function(){return new S,new S(1.5),new S(NaN),S.name!=v})){for(var q,Y=(S=function(e){return u(this,S),new A(p(e))})[b]=A[b],J=f(A),X=0;J.length>X;)(q=J[X++])in S||o(S,q,A[q]);a||(Y.constructor=S)}var Z=new w(new S(2)),ee=w[b].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||c(w[b],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else S=function(e){u(this,S,v);var t=p(e);this._b=m.call(new Array(t),0),this[R]=t},w=function(e,t,i){u(this,w,y),u(e,S,y);var n=e[R],r=d(t);if(r<0||n<r)throw E("Wrong offset!");if(n<r+(i=void 0===i?n-r:h(i)))throw E("Wrong length!");this[P]=e,this[k]=r,this[R]=i},r&&(H(S,L,"_l"),H(w,"buffer","_b"),H(w,L,"_l"),H(w,x,"_o")),c(w[b],{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return U(K(this,4,e,arguments[1]))},getUint32:function(e){return U(K(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return V(K(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return V(K(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Q(this,1,e,B,t)},setUint8:function(e,t){Q(this,1,e,B,t)},setInt16:function(e,t){Q(this,2,e,$,t,arguments[2])},setUint16:function(e,t){Q(this,2,e,$,t,arguments[2])},setInt32:function(e,t){Q(this,4,e,W,t,arguments[2])},setUint32:function(e,t){Q(this,4,e,W,t,arguments[2])},setFloat32:function(e,t){Q(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){Q(this,8,e,G,t,arguments[2])}});g(S,v),g(w,y),o(w[b],s.VIEW,!0),t[v]=S,t[y]=w},function(e,t,i){var n=i(91);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,i){var c=i(38),l=i(24),u=i(92);e.exports=function(o){return function(e,t,i){var n,r=c(e),a=l(r.length),s=u(i,a);if(o&&t!=t){for(;s<a;)if((n=r[s++])!=n)return!0}else for(;s<a;s++)if((o||s in r)&&r[s]===t)return o||s||0;return!o&&-1}}},function(e,t,i){var n=i(233)("keys"),r=i(74);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(11),r="__core-js_shared__",a=n[r]||(n[r]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){"use strict";var o=i(49),c=i(92),l=i(24);e.exports=function(e){for(var t=o(this),i=l(t.length),n=arguments.length,r=c(1<n?arguments[1]:void 0,i),a=2<n?arguments[2]:void 0,s=void 0===a?i:c(a,i);r<s;)t[r++]=e;return t}},function(e,t,i){var r=i(13),a=i(75),s=i(17)("species");e.exports=function(e,t){var i,n=r(e).constructor;return void 0===n||null==(i=r(n)[s])?t:a(i)}},function(e,t,i){var r=i(91),a=i(17)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?i:s?r(t):"Object"==(n=r(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,i){var n=i(94),r=i(17)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[r]===e)}},function(e,t,i){var n=i(237),r=i(17)("iterator"),a=i(94);e.exports=i(87).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||a[n(e)]}},function(e,t,i){"use strict";var n=i(96),r=i(411),a=i(94),s=i(38);e.exports=i(412)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var i=r(9),n=r(13),a=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i,n){try{(n=r(48)(Function.call,r(51).f(Object.prototype,"__proto__").set,2))(e,[]),i=!(e instanceof Array)}catch(e){i=!0}return function(e,t){return a(e,t),i?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:a}},function(e,t,i){var n,r,a,s=i(48),o=i(418),c=i(409),l=i(228),u=i(11),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,_=u.Dispatch,m=0,g={},v="onreadystatechange",y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};h&&p||(h=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return g[++m]=function(){o("function"==typeof e?e:Function(e),t)},n(m),m},p=function(e){delete g[e]},"process"==i(91)(d)?n=function(e){d.nextTick(s(y,e,1))}:_&&_.now?n=function(e){_.now(s(y,e,1))}:f?(a=(r=new f).port2,r.port1.onmessage=b,n=s(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):n=v in l("script")?function(e){c.appendChild(l("script"))[v]=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),e.exports={set:h,clear:p}},function(e,t,i){var n=i(424),r=i(77);e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(e))}},function(e,t,i){var n=i(17)("match");e.exports=function(t){var i=/./;try{"/./"[t](i)}catch(e){try{return i[n]=!1,!"/./"[t](i)}catch(e){}}return!0}},function(e,t,i){"use strict";var n=i(22),r=i(73);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var i=Math.expm1;e.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:i},function(e,t,i){var n=i(11).navigator;e.exports=n&&n.userAgent||""},function(e,t,i){"use strict";var n=i(59);i.d(t,"a",function(){return n.a});var r=i(461);i.d(t,"b",function(){return r.a});var a=i(1120);i.d(t,"c",function(){return a.a}),i(543);var s=i(1121);i.d(t,"d",function(){return s.a});var o=i(523);i.d(t,"e",function(){return o.a}),i(524);var c=i(174);i.d(t,"h",function(){return c.a}),i(175);var l=i(296);i.d(t,"i",function(){return l.a});var u=i(542);i.d(t,"j",function(){return u.a});var d=i(525);i.d(t,"f",function(){return d.a});var h=i(1122);i.d(t,"g",function(){return h.a})},function(e,t,i){"use strict";t.a=function(i,n){return i.replace(/%\{(.*?)\}/g,function(e,t){if(!n)throw new Error('Cannot use named parameters with `fmt` without a data object. String: "'+i+'"');return function(e,t,i){var n,r,a,s=(e=e.replace(o,"")).indexOf(":");if(-1<s&&(n=e.substr(s+1),e=e.substr(0,s)),r=t[e],a=t[e+"Formatter"])r=a(r,n);else if(n)throw new Error("fmt() was given a formatting string, but key '"+e+"' has no formatter for the string: \""+i+'"');return r&&r.toString?r.toString():r}(t,n,i)})};var o=/\s/g},function(e,t,i){"use strict";t.a=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=0),r.length=0,Object(n.a)(r,e,t,i)};var n=i(431),r=[]},function(e,t,i){"use strict";t.a=function(e){return"number"==typeof e}},function(e,t,i){"use strict";(function(d){i.d(t,"b",function(){return e}),i.d(t,"a",function(){return _});var h=i(162),p=i(435),f=(i(164),i(436),i(433)),e=function(e,t){var i,n=e;if(Object(h.a)(e)){if(n=Object(f.a)(e),t){for(var r=n.length,a=0,s=0;s<r;s++)(i=t.call(this,n[s],t,s))!==_&&(n[a]=i,a++);a!==r&&(n.length=a)}}else if(Object(p.a)(e)){n=d.Object.create(d.Object.getPrototypeOf(e));for(var o=Object.keys(e),c=o.length,l=0;l<c;l++){var u=o[l];t?(i=t.call(this,e[u],t,u))!==_&&(n[u]=i):n[u]=e[u]}}return n},_={}}).call(t,i(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(255),r=[];r.toJSON=function(){if(this.length<=1)return this[0];for(var e=[],t=0,i=this.length;t<i;t++)e.push("*** Context "+(t+1)+": ***\n"+Object(n.a)(this[t]));return e.join("\n")}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(164),n=function(t){var i="";try{var e=t&&t.toJSON&&t.toJSON()||t;i=Object(a.a)(e)?""+e:JSON.stringify(e)}catch(e){var n={};for(var r in t)n[r]=s(t,r);i=JSON.stringify(n)}return i};function s(e,t){var i=e[t];if(Object(a.a)(i))return i;var n="";try{var r=i&&i.toJSON&&i.toJSON()||i;n=Object(a.a)(r)?""+r:JSON.stringify(r)}catch(e){try{n=i+" (could not `JSON.stringify()`)"}catch(e){n="(cannot stringify value)"}}return n}},function(e,l,u){"use strict";(function(e){l.c=function(e,t,i){r();var n=e.apply(t,i);return a(),n},l.b=function(e,t,i){return o[c]=e,c++},l.a=function(e,t){o[t]!==e&&Object(i.b)("CW.Utils._cancelAutorelease: attempted to cancel autorelease for a different object",{object:e}),n(t)};var i=u(23);function r(){s[t++]=c}function a(){for(var e=s[t-1];e<c;)n(--c);t--}function n(e){var t=o[e];o[e]=null;t&&t.release(void 0,void 0)}var t=0,s=[],o=[],c=0;r(),e.setTimeout(function(){a()},0)}).call(l,u(5))},function(e,t,i){"use strict";t.a=function(e,t){if(e)return e[t]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"NonObservableBatchSetter",function(){return a});var c=i(2),n=i(40),r=i(259),a=n.a.extend(r.a,{staticMembers:{begin:function(){var e=this.create();return e.retain(e,s),e._isReady=!0,e},_bestBatchSetterClass:null,init:function(){var e=arguments;this.__s._$ON$init.apply(this,e),this._bestBatchSetterClass=this},__QUALIFIED_CLASS_NAME__:"NonObservableBatchSetter",__superMap:{_$ON$init:"init"}},begin:function(){Object(c.y)("BatchSetter Begin must be called on the class, reusing BatchSetter objects is not allowed.")},set:function(e,t,i){this._isReady||Object(c.y)("BatchSetter Begin must be called on the class before calling set, reusing BatchSetter objects is not allowed. (Path: %{path})",{path:t,object:e,value:i}),e&&t||Object(c.y)("BatchSetter Set requires a path and an object. (Path: %{path}, Object: %{object})",{path:t,object:e,value:i});var n={rootObject:e,path:t,value:i};return this._toSetArray.push(n),this},setIfChanged:function(e,t,i){return this._isReady||Object(c.y)("BatchSetter.begin must be called on the class before calling set, reusing BatchSetter objects is not allowed. (Path: %{path}, Object: %{object})",{path:t,object:e,value:i}),i!==this._getOldValue(e,t)&&this.set(e,t,i),this},end:function(){this._performSet(this._toSetArray),this._toSetArray.length=0,this._isReady=!1;var e=this._pointerTuple;e[0]=e[1]=null,this.release(this,s)},init:function(){var e=arguments;this.__s._$131$init.apply(this,e),this._toSetArray=[],this._pointerTuple=new Array(2)},_isReady:!1,_toSetArray:null,_pointerTuple:null,_performSet:function(e){for(var t=this._pointerTuple,i=0,n=e.length;i<n;i++){var r=e[i],a=r.value,s=this._resolvePointer(r,t);s[0][s[1]]=a}},_resolvePointer:function(e,t){for(var i=Object(c.Y)(e.path),n=e.rootObject,r=i.length,a=0;a<r-1;a++)n=n[i[a]];return t[0]=n,t[1]=i[r-1],t},_getOldValue:function(e,t){for(var i=this._toSetArray,n=i.length-1;0<=n;n--){var r=i[n],a=r.rootObject,s=r.path,o=r.value;if(a===e&&s===t)return o}return Object(c.C)(e,t)},__superMap:{_$131$init:"init"}}),s="BatchSetter: self-reference for the duration"},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(2),r={staticMembers:{_pool:null,init:function(){var e=arguments;this._pool=[],this.__s._$7N$init.apply(this,e)},maxPoolSize:200,create:function(){var e=void 0,t=this._pool;return 0<t.length?(e=t.pop()).isPooled=!1:e=this.__s._$EW$create.call(this),e.retain(this,"CW._Poolable.create"),e.initFromPool.apply(e,arguments),e._autoreleaseForTransfer(this,"CW._Poolable.create"),e},_returnInstanceToPool:function(e){var t=this._pool;t.length>=this.maxPoolSize||(t.push(e),e.isPooled=!0)},__superMap:{_$7N$init:"init",_$EW$create:"create"}},retain:function(){var e=arguments;return this.isPooled&&Object(n.y)("Attempted to retain pooled object.",this),this.__s._$Pb$retain.apply(this,e)},release:function(){var e=arguments;return this.isPooled&&Object(n.y)("Attempted to release pooled object.",this),this.__s._$Rs$release.apply(this,e)},_captureDisposingObjectForPool:function(){this.constructor._returnInstanceToPool(this)},isPooled:!1,initFromPool:function(e){for(var t in 1<arguments.length&&Object(n.y)("Default poolable initializer supports at most one argument. If you would like to apply a mixin it should be done when calling .extend()."),e)this[t]=e[t]},__superMap:{_$Pb$retain:"retain",_$Rs$release:"release"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(79),r=i(100),a=i(60),s={mixinDependencies:[n.a],clone:Object(a.b)(r.a)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"EnumGroup",function(){return d}),t.createEnumGroup=function(e,t){var i,n,r,a=d.create({name:e}),s=a.items;if(Object(l.N)(t))t(function r(a,s){var o=1;return function(e,t){var i=null;s?(i=s.createSubitem(e),s.items.push(i)):i=u.EnumItem.create({name:e,value:o,parent:null,level:0,group:a});var n=i.fullName.replace(/\./g,"");(a.items.push(i),a[n]=i,s&&(s[e]=i),o+=1,t)&&t(r(a,i));return i}}(a,null));else if(Object(l.O)(t))for(var o in t)i=u.EnumItem.create({name:o,value:t[o],group:a}),s.push(i),a[o]=i;else if(Object(l.K)(t))for(n=0,r=t.length;n<r;n++){var c=t[n];i=u.EnumItem.create({name:c,value:n,group:a}),s.push(i),a[c]=i}else Object(l.y)("Cannot create enum group. Invalid value",{name:e,obj:t});return a};var l=i(2),n=i(125),u=i(266),d=n.a.extend({items:null,name:null,id:null,init:function(e){this.__s._$Sv$init.call(this,e),this.items=[],this.id=r,r++},toStaticMixin:function(){var t={};return this.get("items").forEach(function(e){e.get("level")||(t[e.get("name")]=e)}),{staticMembers:t}},getItemForValue:function(t){return this.items.find(function(e){return e.value===t})||null},toString:function(){return"[CW.Enum.Group: "+this.name+"]"},retain:function(){return this},release:function(){return this},autorelease:function(){return this},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumGroup"},__superMap:{_$Sv$init:"init"}}),r=1},function(e,t,a){"use strict";a.d(t,"a",function(){return c});var s=a(2),i=a(429),n=a(449),o=a(450),c={mixinDependencies:[a(263).a,i.a],staticMembers:{get:h,set:p,setPath:u,getPath:d,getPropertiesAsObject:f,setPropertiesWithObject:_,getPropertiesAsArray:m,setPropertiesWithArrays:g,weaklyReferencedObjectWasDisposed:v,_weakReferenceTokens:null,initializeClass:function(){this.__s._$10L$initializeClass.call(this),r.call(this)},initializeInstance:function(){this.__s._$13n$initializeInstance.call(this),l.call(this)},defaultValuePrefix:"__CW__",propertiesAreInitialized:!1,__superMap:{_$10L$initializeClass:"initializeClass",_$13n$initializeInstance:"initializeInstance"}},initializeClass:function(){this.__s._$1CG$initializeClass.call(this),r.call(this)},initializeInstance:function(){this.__s._$1FG$initializeInstance.call(this),l.call(this)},dispose:function(){var e,t=arguments,i=this._properties;for(e in i)i[e].disposeForObject(this,e);this.__s._$1QN$dispose.apply(this,t)},get:h,set:p,setPath:u,getPath:d,getPropertiesAsObject:f,setPropertiesWithObject:_,getPropertiesAsArray:m,setPropertiesWithArrays:g,weaklyReferencedObjectWasDisposed:v,_weakReferenceTokens:null,propertiesAreInitialized:!1,beginBatchSet:function(){return n.a.begin(this)},__superMap:{_$1CG$initializeClass:"initializeClass",_$1FG$initializeInstance:"initializeInstance",_$1QN$dispose:"dispose"}};function r(){this._properties=this.getMetadataByType(a(35).Property)}function l(){var e,t,i,n=this.getMetadataByType(a(35).Property),r=c.staticMembers.defaultValuePrefix;for(e in n)(i=n[e]).initForObject&&i.initForObject(this,e);for(e in this.propertiesAreInitialized=!0,n)i=n[e],t=this[r+e],Object(s.N)(t)&&(t=t.call(this)),t===o.a&&(t=this),i.setInitialValueForObject&&i.setInitialValueForObject(this,e,t)}function u(e,t){var i=Object(s.W)(e,this);return i||Object(s.y)("cannot call set on null or undefined object",{object:this,path:e,value:t}),Object(s._4)(i,Object(s.S)(e),t),this}function d(e){return Object(s.C)(this,e)}function h(e){var t=this._properties[e];return t?t.getForObject(this,e):this[e]}function p(e,t){var i=this._properties[e];return i?i.setForObject(this,e,t):this[e]=t,this}function f(){for(var e={},t=0;t<arguments.length;t++)e[arguments[t]]=this.get(arguments[t]);return e}function _(e){for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t]);return this}function m(){return Array.prototype.map.call(arguments,this.get,this)}function g(e,t){e.length>t.length&&Object(s.y)("Not enough values to set");for(var i=0;i<e.length;i++)this.set(e[i],t[i]);return this}function v(e,t){t.set(this,e,null)}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var i={mixinDependencies:[r(99).MetadataSupport],staticMembers:{initializeInstance:function(){var e=this.getMetadataByType(r(264).Instance);for(var t in e){var i,n=e[t];i=this.hasOwnProperty(t)?this[t]:n.value,this[t]=n.instantiate(t,i,this)}this.__s._$Jx$initializeInstance.call(this)},__superMap:{_$Jx$initializeInstance:"initializeInstance"}},initializeInstance:function(){var e=this.getMetadataByType(r(264).Instance);for(var t in e){var i=e[t],n=this[t];this[t]=i.instantiate(t,n,this)}this.__s._$Qq$initializeInstance.call(this)},__superMap:{_$Qq$initializeInstance:"initializeInstance"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"Instance",function(){return o}),t.instance=d;var h=i(2),n=i(263),r=i(60),a=i(265),s=i(451),o=r.a.extend({instantiate:null,init:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=i[0];e===Array?e=r||[]:e===Object&&(e=r||{}),this.value=e,this.configs=i,this.__s._$1QR$init.call(this)},wasRegistered:function(e,t){var i=this.value;Object(a.a)(i)?this.instantiate=c:Object(h.N)(i)?this.instantiate=l:Array.isArray(i)||Object(h.O)(i)?this.instantiate=u:Object(h.y)("Error on key '%{key}': CW.instance may only instantiate CW classes, JavaScript constructors, and arrays.",{key:t,object:e,type:i})},configs:null,requiresSupport:n.a,isOnlyMetadataForKey:!1,allowedOnClass:!0,allowAtCreate:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"Instance"},__superMap:{_$1QR$init:"init"}}),c=function(e,t,i){if(!Object(h.x)(t))return t;if(Object(s.a)(t))return t;var n,r;Object(h.O)(t)||Array.isArray(t)?(n=this.value,r=[t]):(n=t,r=this.configs);var a=n.create.apply(n,r);return a.owner=a.owner||i,a},p=[],l=function(e,t,i){if(!Object(h.N)(t))return t;var n=t,r=this.configs,a=r.length,s=p[a];if(!s){var o="(function (Constructor%{comma}%{args}) {\n    return new Constructor(%{args});\n})",c=a?", ":"",l="";if(a){var u,d=[];for(u=0;u<a;u++)d.push("arg"+u);l=d.join(", ")}o=Object(h.z)(o,{comma:c,args:l}),s=p[a]=f(o)}return(r=Object(h._10)(r)).unshift(n),s.apply(null,r)};function f(e){return eval(e)}var u=function(e,t,i){return Object(h._9)(t)};function d(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return o.define.apply(o,[e].concat(i))}},function(e,t,i){"use strict";t.a=function(e){return!(!e||!e.isClass)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"EnumItem",function(){return c}),t.createEnumItem=function(e,t){return c.create({name:e,value:t,level:0})};var s=i(2),n=i(125),r=i(35),a=[4278190080,4294901760,4294967040,4294967280,4294967295],o=[24,16,8,4,0],c=n.a.extend({name:null,value:null,level:null,parent:null,group:null,fullValue:null,fullName:null,hasLevel:Object(r.property)({readOnly:!0,get:function(){return"number"==typeof this.level}}),retain:function(){return this},release:function(){return this},autorelease:function(){return this},init:function(e){this.__s._$1AM$init.call(this,e);var t=this.name,i=this.value,n=this.parent,r=this.level,a=this.get("hasLevel")?i<<o[r]:null;n&&!n.get("hasLevel")&&Object(s.y)(this+" Cannot init. parent does not have an assigned level"),this.items=[],this._flags={},this.fullValue=n?n.fullValue+a:a,this.fullName=n?n.fullName+"."+t:t,this._nextSubitemValue=0},flagAs:function(){for(var e=arguments.length,t=this._flags,i=0;i<e;i++)t[arguments[i]]=!0;return this},flagged:function(e){return!!this._flags[e]},equals:function(e){return this.group===e.group&&e.fullValue===this.fullValue},subitemOf:function(e){return this.level>e.level&&this.group===e.group&&(this.fullValue&a[e.level])===e.fullValue},superitemOf:function(e){return this.level<e.level&&this.group===e.group&&(e.fullValue&a[this.level])===this.fullValue},contains:function(e){return this.equals(e)||e.subitemOf(this)},createSubitem:function(e){return c.create({name:e,value:this._getNextSubitemValue(),parent:this,level:this.level+1,group:this.group})},toString:function(){return this._toString(!1)},toJSON:function(){return""+this},toStringFull:function(){return this._toString(!0)},_toString:function(e){var t,i,n=this.group,r=n?n.name:"CW.Enum.Item",a=e||!n?" <"+(t=this.fullValue,(i=t.toString(16).toUpperCase()).length%2!=0&&(i="0"+i),i.match(/\d\d/g).join(" "))+">":"";return"["+r+": "+this.fullName+a+"]"},_getNextSubitemValue:function(){return this._nextSubitemValue++,this._nextSubitemValue},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumItem"},__superMap:{_$1AM$init:"init"}});c.prototype.substateOf=c.prototype.subitemOf,c.prototype.superstateOf=c.prototype.superitemOf},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i(2),n=i(79),r=i(100),s=i(60),o={mixinDependencies:[n.a],staticMembers:{subclassFor:Object(s.b)(r.a),shouldAutomaticallySubclass:!0,init:function(){var e=arguments;this.__s._$NF$init.apply(this,e),this.hasOwnProperty("subclassFor")||this.hasOwnProperty("shouldAutomaticallySubclass")||(this.shouldAutomaticallySubclass=!1)},create:function(){for(var e=arguments,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];if(!this.shouldAutomaticallySubclass)return this.__s._$RU$create.apply(this,e);var r=this.subclassFor.apply(this,i);return r||Object(a.y)("SubclassFactoryProtocol: No subclass exists for the given combination of arguments",{class:this,properties:i}),r.kindOf(this)||Object(a.y)("SubclassFactoryProtocol: Subclasses returned from `subclassFor` must be subclasses of the extending class.",{class:this,subclass:r}),this.__s._$RU$create.apply(r,arguments)},extend:function(){for(var e=arguments,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];if(!this.shouldAutomaticallySubclass)return this.__s._$kB$extend.apply(this,e);var r=this.subclassFor.apply(this,i);return r?r.kindOf(this)||Object(a.y)("SubclassFactoryProtocol: Subclasses returned from `subclassFor` must be subclasses of the extending class.",{class:this,subclass:r}):r=this,this.__s._$kB$extend.apply(r,arguments)},__superMap:{_$NF$init:"init",_$RU$create:"create",_$kB$extend:"extend"}}}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(2),a=i(126),s=i(127),o=n.CoreObject.extend(s.a,n.SubclassFactoryProtocol,{weak:Object(n.subclassProperty)(!1),strong:Object(n.subclassProperty)(!1),isObservable:Object(n.subclassProperty)(!1),staticMembers:{subclassFor:function(e){if(!e)return this;var t=this.prototype;return e.isObservable||t.isObservable?e.strong||t.strong?i(466).StrongObservableArray:((e.weak||t.weak)&&Object(r.y)("CW.Array: weak arrays are not supported."),i(41).ObservableArray):e.strong||t.strong?i(488).StrongArray:((e.weak||t.weak)&&Object(r.y)("CW.Array: weak arrays are not supported."),this)},from:function(e){return this.create(e)},__QUALIFIED_CLASS_NAME__:"CoreArray"},shouldDoPostInitProcessing:Object(n.property)(!0),init:function(e){var t,i=arguments,n=!1;Object(r.K)(e)?t=Object(r._10)(e):Object(r.G)(e,a.a)?t=e.toArray():(t=[],n=!0),this._array=t,n?this.__s._$s_$init.apply(this,i):this.__s._$s_$init.call(this),this.shouldDoPostInitProcessing&&this.postInitProcessing()},postInitProcessing:function(){var e=this._array;if(e){var t=this.serializer;if(e&&t&&t.encode)for(var i=0,n=e.length;i<n;i++)e[i]=t.encode(e[i],i)}},appendArrays:function(){l.length=0,l[0]=1/0;for(var e=0,t=arguments.length;e<t;e++){var i=arguments[e];Object(r.i)(l,i)}return this.insertAt.apply(this,l),this},_array:null,encodedRawSplice:function(e,t){var i=arguments.length-2;this.itemsWillChange(),0<t&&this.itemsWillBeRemoved(e,t),0<i&&this.itemsWillBeInserted(e,i);var n=this._array.splice.apply(this._array,arguments);return 0<t&&this.itemsWereRemoved(e,t),0<i&&this.itemsWereInserted(e,i),this.itemsDidChange(),n},encodedObjectAt:function(e){return this._array[e]},length:Object(n.property)({get:c,set:function(e){e<0&&Object(r.y)("Invalid length %{length}. Must be a non-negative integer.",{length:e,object:this});var t,i=this._internalLength,n=e-i;0!==n&&(this.itemsWillChange(),0<n?this.itemsWillBeInserted(i,n):n<0&&(t=i- -1*n,this.itemsWillBeRemoved(t,-n)),this._array.length=e,0<n?this.itemsWereInserted(i,n):n<0&&this.itemsWereRemoved(t,-n),this.itemsDidChange());return e}}),_internalLength:Object(n.property)({readOnly:!0,get:c}),shallowCopy:function(){return this.constructor.create(Object(r._10)(this._array))},toJSON:function(){return Object(r.r)(this._array)},encodedPush:function(){var e,t=arguments.length,i=this.length;if(0===t)return i;this.itemsWillChange(),this.itemsWillBeInserted(i,t);var n=(e=this._array).push.apply(e,arguments);return this.itemsWereInserted(i,t),this.itemsDidChange(),n},clear:function(){var e=this.length;return this.itemsWillChange(),this.itemsWillBeRemoved(0,e),this._array.length=0,this.itemsWereRemoved(0,e),this.itemsDidChange(),this},removeAt:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=this.length;return e<0&&(e=i+e)<0&&(e=0),e<i&&0<=e&&(this.itemsWillChange(),this.itemsWillBeRemoved(e,t),this._array.splice(e,t),this.itemsWereRemoved(e,t),this.itemsDidChange()),this},encodedPop:function(){var e=this.length-1;this.itemsWillChange(),this.itemsWillBeRemoved(e,1);var t=this._array.pop();return this.itemsWereRemoved(e,1),this.itemsDidChange(),this.decode(t,e)},encodedSetIndex:function(e,t){var i=this.length;if(e<i)e<0&&(e=i+e)<0&&(e=0),this.itemsWillChange(),this.itemsWillBeRemoved(e,1),this.itemsWillBeInserted(e,1),this._array[e]=t,this.itemsWereRemoved(e,1),this.itemsWereInserted(e,1),this.itemsDidChange();else{var n=i,r=e-n+1;this.itemsWillChange(),this.itemsWillBeInserted(n,r),this._array[e]=t,this.itemsWereInserted(n,r),this.itemsDidChange()}return this},encodedShift:function(){this.itemsWillChange(),this.itemsWillBeRemoved(0,1);var e=this._array.shift();return this.itemsWereRemoved(0,1),this.itemsDidChange(),e},encodedUnshift:function(){var e,t=arguments.length;if(0===t)return this.length;this.itemsWillChange(),this.itemsWillBeInserted(0,t);var i=(e=this._array).unshift.apply(e,arguments);return this.itemsWereInserted(0,t),this.itemsDidChange(),i},__superMap:{_$s_$init:"init"}});function c(){return this._array&&this._array.length||0}var l=[]},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[n.Protocol],createIterator:function(){return this.iteratorClass.create(this)},iteratorClass:Object(n.define)(n.RequiredProperty),serializer:null,encode:function(e,t){var i=this.serializer;return i&&i.encode&&(e=i.encode(e,t)),e},decode:function(e,t){var i=this.serializer;return i&&i.decode&&(e=i.decode(e,t)),e}};r[Symbol.iterator]=function(){return this.createIterator()}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(103).a.extend({debugType:"Weak",validateDescendantDownstreamNodeManager:function(e,t,i){e.reference===n.STRONG&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a weak and a strong property together.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamWeakNodeManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(2),a=i(21),n=i(104).b.extend({debugType:"ReadOnly",flushNode:function(e,t){var i=a.a.getStateDataForNode(t),n=a.a.getStateIDForNode(t);Object(r.y)("Cannot write to read-only property: "+this.key,{object:e,value:i,parentID:n})},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamReadOnlyNodeManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return s});var n=i(1),r=i(2),a={DEFAULT:0,FORCE_FIRE:1,SKIP_FIRE:2},s=n.Class.extend(n._Poolable,{didFire:!1,_fireState:!1,previousValues:null,context:null,type:"",initFromPool:function(e){e&&Object(r.O)(e)&&(this.type=e.type||"",this.didFire=e.didFire||!1,this.forceFire=e.forceFire||!1,this.previousValues=e.previousValues||null,this.context=e.context||null,this._fireState=e._fireState||a.DEFAULT)},staticMembers:{__QUALIFIED_CLASS_NAME__:"SignalEvent"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(483).a.extend({endHandle:n.RequiredProperty.define(),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseBidirectionalHandleProvider"}})},function(e,i,n){"use strict";(function(a){n.d(i,"a",function(){return t});var e=n(1),t={mixinDependencies:[n(486).a],atDistance:function(e){for(var t=a.Math.sign(e),i=this.retain(this,"atDistance: current handle"),n=0;n!==e;n+=t){var r=0<t?i.next:i.previous;r.retain(this,"atDistance: current handle"),i.release(this,"atDistance: current handle"),i=r}return i.autorelease(this,"atDistance: current handle")},hasHandleAtDistance:e.RequiredMethod.define(),end:Object(e.property)({get:function(){return this._provider.endHandle}}),previous:e.RequiredProperty.define(),hasPrevious:e.RequiredProperty.define()}}).call(i,n(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var r=i(1);function n(e,t){for(var i=e+t,n=e;n<i;n++)Object(r.retainValueIfNeeded)(this.objectAt(n),this,"StrongArray: item retain")}function a(e,t){for(var i=e+t,n=e;n<i;n++)Object(r.autoreleaseValueIfNeeded)(this.objectAt(n),this,"StrongArray: item retain")}var s={strong:!0,init:function(){var e=arguments;this.__s._$9A$init.apply(this,e),n.call(this,0,this.length)},itemsWereInserted:function(e,t){var i=arguments;n.call(this,e,t),this.__s._$Bt$itemsWereInserted.apply(this,i)},itemsWillBeRemoved:function(e,t){var i=arguments;a.call(this,e,t),this.__s._$Dv$itemsWillBeRemoved.apply(this,i)},dispose:function(){a.call(this,0,this.length),this.__s._$Fa$dispose.call(this)},__superMap:{_$9A$init:"init",_$Bt$itemsWereInserted:"itemsWereInserted",_$Dv$itemsWillBeRemoved:"itemsWillBeRemoved",_$Fa$dispose:"dispose"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(2),a=n.CoreObject.extend({staticMembers:{nativePropertiesToCopy:["ctrlKey","shiftKey","altKey","metaKey","relatedTarget"],eventPropertiesToCopy:["bubbles","cwType","ctrlKey","shiftKey","altKey","metaKey","relatedTarget","nativeEvent"],__QUALIFIED_CLASS_NAME__:"CoreEvent"},init:function(e){var t=arguments;if(e){if(Object(r.G)(e,this.constructor))return s(this,e,this.constructor.eventPropertiesToCopy),void this.__s._$Ox$init.call(this);var i=e.nativeEvent;i&&s(this,i,this.constructor.nativePropertiesToCopy)}this.__s._$Ox$init.apply(this,t),this.cwType||(this.cwType=this.type)},bubbles:!0,cwType:null,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,relatedTarget:null,nativeEvent:null,preventDefault:function(){this.nativeEvent.preventDefault()},stopPropagation:function(){this.nativeEvent.stopPropagation()},__superMap:{_$Ox$init:"init"}});function s(e,t,i){for(var n=0,r=i.length;n<r;n++){var a=i[n],s=t[a];void 0!==s&&(e[a]=s)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(276).a.extend({staticMembers:{nativePropertiesToCopy:Object(n.accumulator)(["screenX","screenY","clientX","clientY","offsetY","offsetX","button","buttons","detail","target"]),eventPropertiesToCopy:Object(n.accumulator)(["screenX","screenY","clientX","clientY","offsetY","offsetX","button","buttons","detail","target"]),__QUALIFIED_CLASS_NAME__:"CoreMouseEvent"},init:function(e){if(this.__s._$E2$init.call(this,e),e){var t=e.nativeEvent;if(t&&!this.target){var i=t.srcElement;i&&(this.target=i)}}},screenX:0,screenY:0,clientX:0,clientY:0,offsetX:0,offsetY:0,button:0,buttons:0,detail:0,target:null,targetView:null,__superMap:{_$E2$init:"init"}})},function(e,r,a){"use strict";(function(p){a.d(r,"a",function(){return n});var e=a(1),f=a(2),t=a(3),i=a(133),s=[{name:"dppx",multiple:1},{name:"dpi",multiple:p.screen.logicalXDPI||96}],l="",u=NaN,d=!1;!function(){if(p.matchMedia)for(var e,t,i=0;e=s[i];i++){var n="(min-resolution: 1"+(t=e.name)+")",r=p.matchMedia(n),a=r?r.media:null;if(a&&-1!==a.indexOf("min-resolution"))return d=!0,l=t,u=e.multiple}}();var n=e.CoreObject.extend(t.q,e.SharedInstance,{isMac:void 0,isWindows:void 0,isiOS:void 0,osMajorVersion:void 0,osMinorVersion:void 0,isiPhone:void 0,isiPad:void 0,isiPhoneLikeDevice:void 0,isiPadLikeDevice:void 0,devicePixelRatio:Object(t.T)({get:function(){return this._devicePixelRatio||(this._devicePixelRatio=this._getDevicePixelRatio())},readOnly:!0,didChange:function(e){this.roundToDevicePixelRatio=this._roundToDevicePixel(e),this.floorToDevicePixelRatio=this._floorToDevicePixel(e),this.ceilToDevicePixelRatio=this._ceilToDevicePixel(e)}}),roundToDevicePixelRatio:f.c,_roundToDevicePixel:function(t){return function(e){return Math.round(e*t)/t}},floorToDevicePixelRatio:f.c,_floorToDevicePixel:function(t){return function(e){return Math.floor(e*t)/t}},ceilToDevicePixelRatio:f.c,_ceilToDevicePixel:function(t){return function(e){return Math.ceil(e*t)/t}},_getDevicePixelRatio:function(){return p.devicePixelRatio||p.screen.deviceXDPI/p.screen.logicalXDPI||1},_devicePixelRatio:NaN,isRetina:void 0,hardwareConcurrency:Object(e.property)({readOnly:!0,defaultValue:function(){return navigator.hardwareConcurrency||void 0}}),canvasSupportsImageSmoothingQuality:Object(e.property)({readOnly:!0,defaultValue:function(){if(this._canvasSupportsImageSmoothingQuality)return this._canvasSupportsImageSmoothingQuality;null!=document.createElement("canvas").getContext("2d").imageSmoothingQuality?this._canvasSupportsImageSmoothingQuality=!0:this._canvasSupportsImageSmoothingQuality=!1}}),init:function(e){var t=arguments,i=e&&e.userAgent;i?delete e.userAgent:i=p.navigator.userAgent,this.__s._$2oQ$init.apply(this,t),i=i.toLowerCase();var n=!!/mac/.test(i)&&!/like mac/.test(i),r=!!/windows/.test(i);this.isMac=n,this.isWindows=r;var a,s,o,c,l,u,d=i.match(/\b(iPad|iPhone|iPod)\b.*\bOS (\d+)_(\d+)/i);if(d){var h=d[1];s="ipad"===h,o=(a="iphone"===h||"ipod"===h)||s}else a=s=o=!1;this.isiPhone=a,this.isiPad=s,this.isiOS=o,n?(c=i.match(/mac os x (\d+)[ _.](\d+)/))&&(l=c[1],u=c[2]):r?(c=i.match(/windows[ a-z]+?(\d+)[ _.](\d+)/))&&(l=c[1],u=c[2]):o&&(l=d[2],u=d[3]),l&&(this.osMajorVersion=parseInt(l,10)),u&&(this.osMinorVersion=parseInt(u,10)),this.isRetina=1<p.devicePixelRatio,this._updateDevicePixelRatio(),Object(f.h)(p,"resize",this._updateDevicePixelRatio.bind(this),!1)},_updateDevicePixelRatio:function(){if(i.a.getPath("sharedInstance.isFirefox")){var e=this._forceWindowResizeNotificationCanvas;e||((e=this._forceWindowResizeNotificationCanvas=document.createElement("canvas")).width=1,e.height=1,this._forceWindowResizeNotificationCanvasContext=e.getContext("2d"),e.classList.add("ff-force-window-resize-notification"),e.style.position="absolute",e.style.left="-1000px",e.style.top="-1000px",document.body.appendChild(e));try{this._forceWindowResizeNotificationCanvasContext.measureText("Blah")}catch(e){}}var t=this._getDevicePixelRatio();t!==this._devicePixelRatio&&(this._devicePixelRatio=t,this._detectChangeAwayFromDPR(t),this.propertyChanged("devicePixelRatio"))},_detectChangeAwayFromDPR:function(e){if(p.matchMedia){var t,i=.001*Math.round(e/.001),n=i+.001,r=i-.001,a=Object(f._15)(this._updateDevicePixelRatio.bind(this)),s=this._dprQueryListCache||(this._dprQueryListCache={}),o=this._activeMediaQueryListPair,c=s[i];c||(c=s[i]={},t="(-webkit-min-device-pixel-ratio: "+r+"), (min--moz-device-pixel-ratio: "+r+")"+(d?", (min-resolution: "+r*u+l+")":""),c.lowerBound=p.matchMedia(t),t="(-webkit-max-device-pixel-ratio: "+n+"), (max--moz-device-pixel-ratio: "+n+")"+(d?", (max-resolution: "+n*u+l+")":""),c.upperBound=p.matchMedia(t)),c!==o&&(o&&(o.lowerBound.removeListener(a),o.upperBound.removeListener(a)),c.lowerBound.addListener(a),c.upperBound.addListener(a),this._activeMediaQueryListPair=c)}},_dprQueryListCache:null,_resMultiple:u,staticMembers:{__QUALIFIED_CLASS_NAME__:"Device"},__superMap:{_$2oQ$init:"init"}})}).call(r,a(5))},function(e,u,d){"use strict";(function(n){d.d(u,"a",function(){return r});var e=d(1),t=d(3),s=d(2),a=d(280),o=d(281),i=d(282),c=d(284),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={mixinDependencies:[t.q,e.MetadataSupport,i.a],init:function(){var t=this,e=arguments;this.__s._$11i$init.apply(this,e);var i=this.gestureRecognizers;i&&(i instanceof n.Set||(this.gestureRecognizers=new n.Set(i)),this.gestureRecognizers.forEach(function(e){e.retain(t,"ResponderSupport#gestureRecognizers"),e.view=t}))},handleEvent:function(e){if(this.isDisposed)return!1;for(var t=!1,i=this[e],n=arguments.length,r=Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(i&&(t=i.call.apply(i,[this].concat(r))),!t){var s=this._specialEventHandlers;if(s){var o=s[e];o&&(t=o.call.apply(o,[this].concat(r)))}}return t},handleGestureRecognition:function(e){var t=this.gestureRecognizers;if(t){for(var i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return c.GestureRecognitionEventSequence.addGestureRecognizersWithEvent.apply(c.GestureRecognitionEventSequence,[e].concat(n,[t]))}return!1},gestureRecognizers:null,addGestureRecognizer:function(e){e.retain(this,"ResponderSupport#gestureRecognizers");var t=this.gestureRecognizers;if(t||(this.gestureRecognizers=t=new n.Set),t.has(e))throw new Error("ResponderSupport: attempted to register the same gesture recognizer twice.");e.view=this,t.add(e)},removeGestureRecognizer:function(e){var t=this.gestureRecognizers;if(!t||!t.has(e))throw new Error("ResponderSupport: attempted to deregister a gesture recognizer that was never registered.");c.GestureRecognitionEventSequence.cancelGestureRecognizer(e),t.delete(e),e.release(this,"ResponderSupport#gestureRecognizers")},_registeredShortcuts:Object(e.instance)(Object),registerShortcutKeyCombo:function(e,t,i){var n=(Object(s.G)(e,o.a)?e:o.a.create(e)).toString(),r=this._registeredShortcuts;r[n]&&Object(s.y)("Shortcut already registered for `"+e+"` on "+this),t||Object(s.y)("Cannot register shortcut for `"+e+"`, because no action was provided");var a=void 0===t?"undefined":l(t);"function"!==a&&("string"===a?"function"!=typeof(t=this[t])&&Object(s.y)("Cannot register shortcut for `"+e+"`, because the action is not a function"):Object(s.y)("Cannot register shortcut for `"+e+"`, because the action is not a function")),r[n]={action:t,context:i},(this._specialEventHandlers||(this._specialEventHandlers={})).keyDown=this.triggerShortcutIfExists},triggerShortcutIfExists:function(e){var t=a.a.get("sharedInstance"),i=this._registeredShortcuts,n=t.get("activeKeySequence"),r=i[n.toString()];return!!r&&(n.clear(),r.action.call(this,r.context),!0)},pointerOver:null,pointerDown:null,pointerMove:null,pointerUp:null,pointerOut:null,pointerEnter:null,pointerLeave:null,wheel:null,__superMap:{_$11i$init:"init"}}}).call(u,d(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(3),a=i(2),s=i(281),o=n.CoreObject.extend(n.SharedInstance,r.q,{timeToKeepKeySequence:1e3,activeKeySequence:Object(n.property)({readOnly:!0,get:function(){return this._keySequence||(this._keySequence=s.a.create())}}),activeKeys:Object(r.T)({readOnly:!0,defaultValue:function(){return r.h.create()}}),_activeKeyLocations:Object(n.instance)(Object),keyDown:function(e){this._timer&&(clearTimeout(this._timer),delete this._timer);var t=this.get("activeKeySequence"),i=e.which;t.addKey(i);var n=this.get("_activeKeyLocations"),r=this.get("activeKeys").contains(i),a=1<<e.location;n[i]|=a,r||(this.get("activeKeys").add(i),this.propertyChanged("activeKeys"))},keyUp:function(e){var t=this._keySequence;if(t){this._timer&&clearTimeout(this._timer),this._timer=Object(a._8)(function(){t.clear()},this.get("timeToKeepKeySequence"));var i=e.which,n=this.get("_activeKeyLocations"),r=~(1<<e.location);(n[i]&=r)||(this.get("activeKeys").delete(i),this.propertyChanged("activeKeys"))}},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeyManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),s=i(2),r=i(511),o=Object(s.H)([r.a.SHIFT,r.a.CTRL,r.a.OPTION,r.a.CMD]),a=n.CoreObject.extend({init:function(e){var t=arguments;"string"==typeof e?(this.__s._$Gr$init.call(this),this._initFromString(e)):this.__s._$Gr$init.apply(this,t)},getKeyCode:function(e){var t=e.trim().toUpperCase();return r.a[t]||t.charCodeAt(0)},addKey:function(e){o[e]?this._addModifier(e):this._addSequencedKey(e)},clear:function(){this.modifiers&&(this.modifiers.length=0),this.keys&&(this.keys.length=0)},toString:function(){var e="";return this.modifiers&&(e+=this.modifiers.sort().join("+")+":"),this.keys&&(e+=this.keys.join(",")),e},_initFromString:function(e){var t,i,n,r;if(/\+/.test(e))for(i=0,n=(t=e.split("+")).length;i<n;i++){var a=this.getKeyCode(t[i]);o[a]?this._addModifier(a):(r&&Object(s.y)("Invalid key sequence: "+e+". Key sequences do not support pressing two (non-modifier) keys at the same time"),r=!0,this._addSequencedKey(a))}else for(i=0,n=(t=e.split(/\s/)).length;i<n;i++)this._addSequencedKey(this.getKeyCode(t[i]))},_addModifier:function(e){(this.modifiers||(this.modifiers=[])).push(e)},_addSequencedKey:function(e){(this.keys||(this.keys=[])).push(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeySequence"},__superMap:{_$Gr$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(283),a={mixinDependencies:[n.Protocol],nextResponder:Object(n.property)(),sendEvent:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return r.a.apply(void 0,[this,e].concat(i))},handleEvent:n.RequiredMethod.define(),getPointerCapture:function(e){return s[e]},setPointerCapture:function(e){s[e]=this},releasePointerCapture:function(e){s[e]===this&&delete s[e]}},s={}},function(e,t,h){"use strict";t.a=function(e,t){for(var i=arguments.length,n=Array(2<i?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];t||Object(p.y)("CW.Responder.sendEvent: Must receive an event.",{targetResponder:e,context:n});for(var a=e,s=!1,o=!1;a&&!a.isDisposed;){if(a.handleEvent){if(!o){var c,l=(c=a).handleEvent.apply(c,[t].concat(n));if(l||void 0===l){s=!0;break}}var u=a.handleGestureRecognition;if(u)u.call.apply(u,[a,t].concat(n))&&(o=!0)}a=a.nextResponder}if(o){var d=h(284).GestureRecognitionEventSequence;return d.handleEvent.apply(d,[t].concat(n)),!0}return s};var p=h(2)},function(e,_,m){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),function(e){m.d(_,"OneToManyMap",function(){return d}),m.d(_,"ManyToManyMap",function(){return h}),m.d(_,"GestureRecognitionEventSequence",function(){return p});var t=m(1),i=m(80),n=m(282),r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var C=i.b.Possible,s=i.b.Began,o=i.b.Changed,c=i.b.Ended,E=i.b.Failed,l=i.b.Cancelled,u=["pointerUp","pointerCancel"],d=function(){function e(){a(this,e),this._map=new Map}return e.prototype.get=function(){var e=this._map;return e.get.apply(e,arguments)},e.prototype.set=function(){var e=this._map;return e.set.apply(e,arguments)},e.prototype.add=function(e,t){var i=this._map,n=i.get(e);n||(n=new Set,i.set(e,n)),n.add(t)},e.prototype.has=function(e,t){var i=this._map.get(e);return!!i&&i.has(t)},e.prototype.hasAny=function(e){var t=this._map.get(e);return!!t&&0<t.size},e.prototype.delete=function(e,t){var i=this._map,n=i.get(e);n&&(n.delete(t),0===n.size&&i.delete(e))},e.prototype.deleteAll=function(e){this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},r(e,[{key:"size",get:function(){return this._map.size}}]),e}(),h=function(){function e(){a(this,e),this._map=new d,this._reverseMap=new d}return e.prototype.add=function(e,t){var i=this._map,n=this._reverseMap;i.add(e,t),n.add(t,e)},e.prototype.get=function(e){return this._map.get(e)},e.prototype.getKeys=function(e){return this._reverseMap.get(e)},e.prototype.has=function(e,t){return this._map.has(e,t)},e.prototype.hasKey=function(e){return this._map.hasAny(e)},e.prototype.hasValue=function(e){return this._reverseMap.hasAny(e)},e.prototype.delete=function(e,t){var i=this._map,n=this._reverseMap;i.delete(e,t),n.delete(t,e)},e.prototype.deleteKey=function(t){var e=this._map,i=this._reverseMap,n=e.get(t);n&&(n.forEach(function(e){return i.delete(e,t)}),e.deleteAll(t))},e.prototype.deleteValue=function(t){var i=this._map,e=this._reverseMap,n=e.get(t);n&&(n.forEach(function(e){return i.delete(e,t)}),e.deleteAll(t))},e.prototype.clear=function(){var e=this._map,t=this._reverseMap;e.clear(),t.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._reverseMap.keys()},e.prototype.entries=function(){return this._map.entries()},r(e,[{key:"sizeKeys",get:function(){return this._map.size}},{key:"sizeValues",get:function(){return this._reverseMap.size}}]),e}(),p=t.CoreObject.extend(n.a,t._Poolable,{staticMembers:{_sequences:Object(t.instance)(Set),addGestureRecognizersWithEvent:function(e,t,i){if("pointerDown"===e){var n=this._sequences,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s;o.retain(this,"GestureRecognitionEventSequence#handleEvent: existing sequence");var c=o.addGestureRecognizersWithEvent(i,t);if(o.release(this,"GestureRecognitionEventSequence#handleEvent: existing sequence"),c)return!0}var l=this.create().retain(this,"GestureRecognitionEventSequence#handleEvent: new sequence"),u=l.addGestureRecognizersWithEvent(i,t);return u&&this._sequences.add(l),l.release(this,"GestureRecognitionEventSequence#handleEvent: new sequence"),u}},handleEvent:function(e,t){if("pointerDown"!==e)return!1;var i=t.pointerId,n=this._sequences,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s;if(o.gestureRecognizersByPointerId.hasKey(i))return o.handleEvent(e,t),!0}return!1},cancelGestureRecognizer:function(e){e.state=E,e.reset()},__QUALIFIED_CLASS_NAME__:"GestureRecognitionEventSequence"},gestureRecognizers:Object(t.instance)(Set),addGestureRecognizersWithEvent:function(e,t){var i=this,n=t.pointerId,r=this.gestureRecognizers,a=this.gestureRecognizersByPointerId,s=this.gestureRecognizerFailureDependencies;if(!a.hasKey(n)&&r.size){var o=r,c=Array.isArray(o),l=0;for(o=c?o:o[Symbol.iterator]();;){var u;if(c){if(l>=o.length)break;u=o[l++]}else{if((l=o.next()).done)break;u=l.value}var d=u;this._isGestureRecognizerAllowedToHandleEvents(d)&&d.shouldReceive(t)&&this._gestureRecognizerIsInterestedInPointerId(d,n)}if(!a.hasKey(n))return!1}var h=Array.from(e).filter(function(e){return e.isEnabled&&!e.sequence}).filter(function(e){return e.shouldReceive(t)});if(h.forEach(function(e){return i._gestureRecognizerIsInterestedInPointerId(e,n)}),0===h.length)return!1;var p=h,f=Array.isArray(p),_=0;for(p=f?p:p[Symbol.iterator]();;){var m;if(f){if(_>=p.length)break;m=p[_++]}else{if((_=p.next()).done)break;m=_.value}var g=m;r.add(g),g.sequence=this;var v=r,y=Array.isArray(v),b=0;for(v=y?v:v[Symbol.iterator]();;){var I;if(y){if(b>=v.length)break;I=v[b++]}else{if((b=v.next()).done)break;I=b.value}var S=I;if(S!==g&&((g.shouldRequireFailureOf(S)||S.shouldBeRequiredToFailBy(g))&&s.add(g,S),S.shouldRequireFailureOf(g)||g.shouldBeRequiredToFailBy(S))){var w=S.state;if(w!==C&&w!==E){g.state=E;continue}s.add(S,g)}}}return!0},handleEvent:function(i,n){var r=this,e=this.gestureRecognizers,t=n.pointerId;this._isHandlingEvent=!0,e.forEach(function(e){if(r._isGestureRecognizerAllowedToHandleEvents(e)&&r._isGestureRecognizerInterestedInEvent(e,n)){e[i](n);var t=e.state;!e.shouldPreventDefault||t!==s&&t!==o&&t!==c||n.preventDefault()}}),this._isHandlingEvent=!1,this._flushPendingStateChanges(),this.isPooled||u.includes(i)&&(this.gestureRecognizersByPointerId.deleteKey(t),this.releasePointerCapture(t))},_pendingStateChanges:Object(t.instance)(e.Set),_flushPendingStateChanges:function(){var t=this,e=this._pendingStateChanges;e.forEach(function(e){t.isPooled||t.gestureRecognizerStateChanged(e,e.state)}),e.clear()},gestureRecognizerStateChanged:function(e,t){if(this._isHandlingEvent)this._pendingStateChanges.add(e);else switch(t){case l:this._callActionIfAllowed(e);case E:this._gestureRecognizerDidFail(e),this._cleanupGestureRecognizer(e);break;case s:case o:case c:this._callActionIfAllowed(e);break;default:throw new Error("GestureRecognitionEventSequence#gestureRecognizerStateChanged: invalid state "+t)}},gestureRecognizerIgnoredPointerId:function(e,t){var i=this.gestureRecognizersByPointerId;i.delete(t,e),i.hasKey(t)||this.releasePointerCapture(t)},gestureRecognizerFailureDependencies:Object(t.instance)(h),gestureRecognizersByPointerId:Object(t.instance)(h),cleanup:function(){var t=this;this.gestureRecognizers.forEach(function(e){return t._cleanupGestureRecognizer(e)}),this.gestureRecognizersByPointerId.clear(),this.gestureRecognizerFailureDependencies.clear(),this._begunGestureRecognizers.clear(),this._pendingStateChanges.clear(),this._isHandlingEvent=!1,this.constructor._sequences.delete(this),this.__s._$4Ft$cleanup.call(this)},_cleanupGestureRecognizer:function(e){var t=this.gestureRecognizersByPointerId,i=t.getKeys(e);if(t.deleteValue(e),i){var n=i,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s;t.hasKey(o)||this.releasePointerCapture(o)}}this.gestureRecognizerFailureDependencies.deleteValue(e),this.gestureRecognizers.delete(e),this._pendingStateChanges.delete(e),e.reset()},_begunGestureRecognizers:Object(t.instance)(e.Set),_gestureRecognizerDidBegin:function(t){var e=this._begunGestureRecognizers;if(!e.has(t)){e.add(t);var i=this.gestureRecognizerFailureDependencies;Array.from(this.gestureRecognizers).filter(function(e){return e!==t}).filter(function(e){return!f(t,e)}).filter(function(e){return!i.has(e,t)}).forEach(function(e){return e.state=E})}},_gestureRecognizerDidFail:function(e){var t=this,i=this.gestureRecognizerFailureDependencies,n=i.getKeys(e);i.deleteValue(e),n&&n.forEach(function(e){i.hasKey(e)||t._callActionIfAllowed(e)})},_gestureRecognizerIsInterestedInPointerId:function(e,t){var i=this.gestureRecognizersByPointerId;i.hasKey(t)||this.setPointerCapture(t),i.add(t,e)},_isGestureRecognizerInterestedInEvent:function(e,t){return this.gestureRecognizersByPointerId.has(t.pointerId,e)},_isGestureRecognizerAllowedToHandleEvents:function(e){var t=e.state;return t===C||t===s||t===o},_callActionIfAllowed:function(t){var e=t.state;e!==C&&e!==E&&(this.gestureRecognizerFailureDependencies.hasKey(t)||(t.gestureWasRecognized(),e!==s&&e!==o||this._gestureRecognizerDidBegin(t),e===c&&(Array.from(this.gestureRecognizers).filter(function(e){return e!==t}).filter(function(e){return!f(t,e)}).forEach(function(e){return e.state=E}),this._cleanupGestureRecognizer(t))))},__superMap:{_$4Ft$cleanup:"cleanup"}});function f(e,t){return!!e.shouldRecognizeSimultaneouslyWith(t)||!!t.shouldRecognizeSimultaneouslyWith(e)}}.call(_,m(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(132),a={mixinDependencies:[n.Protocol],gestureRecognizerShouldBegin:function(e){return!0},gestureRecognizerShouldReceive:function(e,t){return t.pointerType!==r.b.MOUSE||0===t.button},gestureRecognizerShouldRecognizeSimultaneouslyWith:function(e,t){return!1},gestureRecognizerShouldRequireFailureOf:function(e,t){return!1},gestureRecognizerShouldBeRequiredToFailBy:function(e,t){return!1}}},function(e,t,i){"use strict";t.a=d;var n=i(80),r=regeneratorRuntime.mark(d),a=n.b.Possible,s=n.b.Began,o=n.b.Changed,c=n.b.Ended,l=n.b.Failed,u=n.b.Cancelled;function d(t){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:if((i=e.sent)===a){e.next=5;break}throw new Error("ContinuousGestureRecognizer: state must be initialized to Possible.");case 5:return void(e.next=7);case 7:if((i=e.sent)!==l){e.next=12;break}return e.abrupt("return");case 12:if(i!==s){e.next=40;break}if(t.shouldBegin()){e.next=15;break}return e.abrupt("return",l);case 15:return void(e.next=18);case 18:if((i=e.sent)!==u){e.next=23;break}return e.abrupt("return");case 23:if(i!==l){e.next=27;break}return e.abrupt("return",u);case 27:if(i!==o){e.next=31;break}return e.abrupt("continue",15);case 31:if(i!==c){e.next=35;break}return e.abrupt("return");case 35:throw new Error("GestureRecognizer: invalid state "+i+" for ContinuousGestureRecognizer after Began or Changed. Must be either Changed, Cancelled, or Ended.");case 36:e.next=15;break;case 38:e.next=41;break;case 40:throw new Error("GestureRecognizer: invalid state "+i+" for ContinuousGestureRecognizer after Possible. Must be either Began or Failed.");case 41:case"end":return e.stop()}},r,this)}},function(e,u,d){"use strict";(function(e){d.d(u,"a",function(){return a}),d.d(u,"b",function(){return o}),d.d(u,"d",function(){return c}),d.d(u,"c",function(){return l});var t,i=d(1),n=d(3),r=d(2),a=i.CoreObject.extend(n.q,i.SharedInstance,{DEFAULT_LOCALE:"en-us",_locales:{},_rtlLocales:["ar-sa","iw-il"],getRegistryFor:function(e){var t=this._locales[e]&&this._locales[e];return t||(t=this._locales[e]={}),t},addValuesFor:function(e,t){for(var i=this.getRegistryFor(e),n=Object.keys(t),r=0,a=n.length;r<a;r++){var s=n[r];i[s]=t[s]}},locale:Object(n.T)("en-us"),isRTL:Object(n.T)({readOnly:!0,dependencies:["locale"],get:Object.assign(function(){var e=this.locale;return-1<s._rtlLocales.indexOf(e)},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return-1<s._rtlLocales.indexOf(r)}})}),getValue:function(e,t){var i=this._getValue(e,t);return i?t?Object(r.z)(i,t):i:e},hasValue:function(e){return!!this._getValue(e)},_getValue:function(e,t){var i=this.locale,n=this.getRegistryFor(i),r=n[e];if(!r)for(var a=i.split(/-|_/),s=0,o=a.length;s<o+1;s++){a.pop();var c=a.join("-");if(r=(n=this.getRegistryFor(c))[e])break}if(!r){var l=this.getRegistryFor(this.DEFAULT_LOCALE),u=this.DEFAULT_LOCALE.split(/-|_/)[0],d=this.getRegistryFor(u);r=l[e]||d[e]}return r},staticMembers:{__QUALIFIED_CLASS_NAME__:"Locale"}}),s=a.sharedInstance,o=function(e,t){return s.addValuesFor(e,t)},c=function(e,t){return s.getValue(e,t)},l=function(){return s.locale};e.__CW_BUILD_INFO&&(t=e.__CW_BUILD_INFO.locale,s.locale=t)}).call(u,d(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={COPY:"copy",LINK:"link",MOVE:"move"}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={TEXT:"text/plain",URI_LIST:"text/uri-list",FILE_LIST:"Files"}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={dataObjectsByType:{},setDataForType:function(e,t){this.dataObjectsByType[t]=e},getDataForType:function(e){return this.dataObjectsByType[e]},hasDataForType:function(e){return e in this.dataObjectsByType},clearAllData:function(){this.dataObjectsByType={}}}},function(e,t,i){"use strict";i.d(t,"b",function(){return l}),i.d(t,"a",function(){return u});var n=i(1111),r=(i.n(n),i(10)),a=i(3),s=i(1),o=i(528),c=i(173).a.extend(o.a,{supportsDragScroll:Object(s.property)(!r.f.get("isTouchSupported")),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],name:"thumb",classes:["cw-scroll-indicator-thumb"]}],name:"track",classes:["cw-scroll-indicator-track"]}],classes:["cw-scroll-indicator"],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isShowing",truevalue:"block",falsevalue:"none",attributes:{},unit:null,property:"display"}}}},className:"cw-ui-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"ScrollIndicatorView"},eventCoordinateKey:null,thumbPositionKey:null,minThumbSize:Object(a.T)(20),thickness:Object(a.T)({readOnly:!0,dependencies:["thicknessKey","element","isAttached"],get:Object.assign(function(){var e=this.thicknessKey,t=this.element;return e&&t&&this.isAttached?t.getBoundingClientRect()[e]:0},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]);return r&&a&&n.internalGet(this,t[2+i])?a.getBoundingClientRect()[r]:0}})}),thicknessKey:Object(a.T)(),beginMargin:Object(a.T)(6),endMargin:Object(a.T)(6),totalEndMargin:Object(a.T)({readOnly:!0,dependencies:["inset","endMargin"],get:Object.assign(function(){var e=this.inset;return this.endMargin+e},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return n.internalGet(this,t[1+i])+r}})}),size:Object(a.T)({readOnly:!0,dependencies:["scrollSize","beginMargin","totalEndMargin"],get:Object.assign(function(){return this.scrollSize-this.beginMargin-this.totalEndMargin},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])-n.internalGet(this,t[1+i])-n.internalGet(this,t[2+i])}})}),otherScrollIndicator:Object(a.T)(),inset:Object(a.T)({readOnly:!0,dependencies:["otherScrollIndicator.isShowing","otherScrollIndicator.thickness"],get:Object.assign(function(){return this.getPath("otherScrollIndicator.isShowing")?this.getPath("otherScrollIndicator.thickness"):0},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])?n.internalGetPath(this,t[1+i]):0}})}),scrollMin:Object(a.T)(0),totalSize:Object(a.T)(0),scrollSize:Object(a.T)(0),scrollPosition:Object(a.T)(0),isShowing:Object(a.T)({readOnly:!0,dependencies:["scrollSize","totalSize"],get:Object.assign(function(){return this.scrollSize<this.totalSize&&this.totalSize!==1/0},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])<n.internalGet(this,t[1+i])&&n.internalGet(this,t[1+i])!==1/0}})}),relativeScrollPosition:Object(a.T)({dependencies:["scrollMin","scrollPosition"],writeDependencies:["scrollPosition"],get:Object.assign(function(){return this.scrollPosition-this.scrollMin},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])-n.internalGet(this,t[0+i])}}),set:Object.assign(function(e){this.scrollPosition=e+this.scrollMin},{__CW__setter:function(e,t,i,n,r){i[0+n]=e+this.scrollMin}}),writeDependencySetPathMap:["false"]}),scrollProportion:Object(a.T)({readOnly:!0,dependencies:["scrollSize","totalSize"],get:Object.assign(function(){return this.scrollSize/this.totalSize},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])/n.internalGet(this,t[1+i])}})}),minThumbProportion:Object(a.T)({readOnly:!0,dependencies:["size","minThumbSize"],get:Object.assign(function(){return this.minThumbSize/this.size},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])/n.internalGet(this,t[0+i])}})}),thumbProportion:Object(a.T)({readOnly:!0,dependencies:["scrollProportion","minThumbProportion"],get:Object.assign(function(){return Math.max(this.scrollProportion,this.minThumbProportion)},{__CW__getter:function(e,t,i,n){return Math.max(n.internalGet(this,t[0+i]),n.internalGet(this,t[1+i]))}})}),sizeAdjustment:Object(a.T)({readOnly:!0,dependencies:["scrollProportion","thumbProportion"],get:Object.assign(function(){return(1-this.scrollProportion)/(1-this.thumbProportion)},{__CW__getter:function(e,t,i,n){return(1-n.internalGet(this,t[0+i]))/(1-n.internalGet(this,t[1+i]))}})}),adjustedSize:Object(a.T)({readOnly:!0,dependencies:["totalSize","sizeAdjustment"],get:Object.assign(function(){return this.totalSize*this.sizeAdjustment},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])*n.internalGet(this,t[1+i])}})}),thumbSize:Object(a.T)({readOnly:!0,dependencies:["thumbProportion"],get:Object.assign(function(){return 100*this.thumbProportion},{__CW__getter:function(e,t,i,n){return 100*n.internalGet(this,t[0+i])}})}),thumbPosition:Object(a.T)({readOnly:!0,dependencies:["adjustedSize","relativeScrollPosition"],get:Object.assign(function(){return this.relativeScrollPosition/this.adjustedSize*100},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])/n.internalGet(this,t[0+i])*100}})}),_dragPointerId:null,_dragStartPixel:null,_dragStartThumbPosition:null,pointerUp:function(e){var t=arguments;if(!this.get("supportsDragScroll"))return!1;this.__s._$2in$pointerUp.apply(this,t);var i=e.pointerId;return this._dragPointerId===i&&(this._dragPointerId=null,this._dragStartPixel=null,!(this._dragStartThumbPosition=null))},pointerDown:function(e){var t=arguments;if(!this.get("supportsDragScroll"))return!1;this.__s._$2oR$pointerDown.apply(this,t);var i=this.get("thumb");if(e.target===i){var n=e.pointerId;this._dragPointerId=n,this._dragStartPixel=e[this.eventCoordinateKey],this._dragStartThumbPosition=this.get("relativeScrollPosition")/this.get("totalSize")}else{var r=i.getBoundingClientRect()[this.thumbPositionKey];e[this.eventCoordinateKey]<r?this.pageUp():this.pageDown()}return!0},pointerMove:function(e){var t=arguments;if(!this.get("supportsDragScroll"))return!1;if(this._dragPointerId!==e.pointerId)return!1;this.__s._$33K$pointerMove.apply(this,t);var i=e[this.eventCoordinateKey]-this._dragStartPixel,n=this.get("size");return this.scrollTo(100*(this._dragStartThumbPosition+i/n*this.get("sizeAdjustment"))),!0},__superMap:{_$2in$pointerUp:"pointerUp",_$2oR$pointerDown:"pointerDown",_$33K$pointerMove:"pointerMove"}}),l=c.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:["vertical"]},track:{type:"ELEMENT",tagname:"ext",children:[],styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"beginMargin",attributes:{},unit:"px",property:"top"},bottom:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"totalEndMargin",attributes:{},unit:"px",property:"bottom"}}},thumb:{type:"ELEMENT",tagname:"ext",children:[],styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbPosition",attributes:{},unit:"%",property:"top"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbSize",attributes:{},unit:"%",property:"height"}}}},className:"cw-ui-vertical-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"VerticalScrollIndicatorView"},eventCoordinateKey:"clientY",thumbPositionKey:"top",thicknessKey:"width",pageUp:function(){this.get("parent").pageUp()},pageDown:function(){this.get("parent").pageDown()},scrollTo:function(e){this.get("parent").scrollTo(void 0,e)}}),u=c.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:["horizontal"]},track:{type:"ELEMENT",tagname:"ext",children:[],styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"beginMargin",attributes:{},unit:"px",property:"left"},right:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"totalEndMargin",attributes:{},unit:"px",property:"right"}}},thumb:{type:"ELEMENT",tagname:"ext",children:[],styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbPosition",attributes:{},unit:"%",property:"left"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbSize",attributes:{},unit:"%",property:"width"}}}},className:"cw-ui-horizontal-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"HorizontalScrollIndicatorView"},eventCoordinateKey:"clientX",thumbPositionKey:"left",thicknessKey:"height",pageUp:function(){this.get("parent").pageLeft()},pageDown:function(){this.get("parent").pageRight()},scrollTo:function(e){this.get("parent").scrollTo(e,void 0)}})},function(e,t,y){"use strict";(function(e){var t,i,n=y(1112);function r(e,t,i){return t in e||(e[t]=i),e}y.n(n);var a=e.Window;a&&(t=a.prototype);var s=e.HTMLDocument;s&&(i=s.prototype);var o=Element.prototype,d=[];if(!("addEventListener"in o)){var c=function(e,t,i){if(i)throw new Error("The optional `useCapture` argument is not supported in this browser");for(var n=0,r=d.length;n<r;n++){var a=d[n];if(a.type===e&&a.listener===t)return}var s=this,o=function(e){e.target=e.srcElement,e.currentTarget=s,t.call(s,e)},c=e,l=o;if("DOMContentLoaded"===e&&(c="readystatechange",l=function(e){"complete"===document.readyState&&o(e)},"complete"===document.readyState)){var u=document.createEventObject();u.srcElement=window,l(u)}this.attachEvent("on"+c,l),d.push({object:this,type:e,listener:t,wrapper:l})};r(o,"addEventListener",c),t&&r(t,"addEventListener",c),i&&r(i,"addEventListener",c)}if(!("removeEventListener"in o)){var l=function(e,t,i){if(i)throw new Error("The optional `useCapture` argument is not supported in this browser");for(var n=-1,r=d.length;++n<r;){var a=d[n];if(a.object===this&&a.type===e&&a.listener===t){var s;s="DOMContentLoaded"===e?"readystatechange":e,this.detachEvent("on"+s,a.wrapper),d.splice(n,1);break}}};r(o,"removeEventListener",l),t&&r(t,"removeEventListener",l),i&&r(i,"removeEventListener",l)}if(!o.hasOwnProperty("classList")){var u=function(e){this.element=e},h=u.prototype;h.item=function(e){var t=this.element.getAttribute("class"),i=t?t.trim().split(/\s+/):null;return i?i[e]:void 0},h.contains=function(e){var t=this.element.getAttribute("class");return-1<(t?" "+t+" ":"").indexOf(" "+e+" ")},h.add=function(){for(var e=this.element,t=e.getAttribute("class"),i=t?" "+t+" ":" ",n=!1,r=arguments.length,a=0;a<r;a++){var s=arguments[a]+" ";-1===i.indexOf(" "+s)&&(i+=s,n=!0)}n&&e.setAttribute("class",i.substring(1,i.length-1))},h.remove=function(){for(var e=this.element,t=e.getAttribute("class"),i=t?" "+t+" ":" ",n=!1,r=arguments.length,a=0;a<r;a++)for(var s,o=arguments[a],c=" "+o+" ";-1<(s=i.indexOf(c));)i=i.substr(0,s)+i.substr(s+o.length+1),n=!0;n&&(" "===(i=i.substring(1,i.length-1))&&(i=""),e.setAttribute("class",i))},h.toggle=function(e,t){var i=this.contains(e),n=!1;return 2===arguments.length?(i&&!t&&(n="remove"),!i&&t&&(n="add")):n=i?"remove":"add",n?(this[n](e),!i):i},h.toString=function(){return this.element.getAttribute("class")||""},Object.defineProperty&&Object.defineProperty(o,"classList",{get:function(){return new u(this)},configurable:!0})}if(e.DOMTokenList){var p=e.DOMTokenList.prototype,f=document.createElement("div");if(!1!==f.classList.toggle("polyfill-test-class",!1)){var _=p.toggle;p.toggle=function(e,t){if(1===arguments.length)return _.call(this,e);var i=this.contains(e),n=t?!i&&"add":!!i&&"remove";return n?(this[n](e),!i):i}}if(f.classList.add("foo","bar","baz"),!f.classList.contains("baz")){var m=p.add;p.add=function(){for(var e=arguments.length,t=0;t<e;t++)m.call(this,arguments[t])}}if(f.classList.add("foo","bar","baz"),f.classList.remove("foo","bar","baz"),f.classList.contains("baz")){var g=p.remove;p.remove=function(){for(var e=arguments.length,t=0;t<e;t++)g.call(this,arguments[t])}}}r(o,"addEventListener",c),r(window,"addEventListener",c),r(o,"removeEventListener",l),r(window,"removeEventListener",l),r(e.document,"contains",function(){var e=this.documentElement;return e.contains.apply(e,arguments)});var v=CSSStyleDeclaration.prototype;"setProperty"in v||r(v,"setProperty",function(e,t){return this.setAttribute.call(this,e,t)})}).call(t,y(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={staticMembers:{init:function(){var e=arguments,t=this.prototype;t._removalHandlers=Object.create(t._removalHandlers),this.__s._$Do$init.apply(this,e)},_registerRemovalHandler:function(e,t){this.prototype._removalHandlers[e]=t},__superMap:{_$Do$init:"init"}},_removalHandlers:{},_removeChildView:function(e,t){return this._removalHandlers[e].removeChildView(this,e,t)},dispose:function(){var e=arguments;for(var t in this._removalHandlers)this._removalHandlers[t].disposeOutlet(this,t);this.__s._$Zl$dispose.apply(this,e)},__superMap:{_$Zl$dispose:"dispose"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(291),a={mixinDependencies:[i(295).a],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"verticalScrollIndicator"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"horizontalScrollIndicator"}]}}},hasVerticalScrollIndicator:Object(n.T)(!0),hasHorizontalScrollIndicator:Object(n.T)(!0),horizontalScrollIndicatorClass:r.a,verticalScrollIndicatorClass:r.b,scrollIndicatorOptions:{},topInset:Object(n.T)(0),scrollIndicatorTopMargin:Object(n.T)(6),scrollIndicatorTotalTopMargin:Object(n.T)({dependencies:["topInset","scrollIndicatorTopMargin"],readOnly:!0,get:Object.assign(function(){return this.topInset+this.scrollIndicatorTopMargin},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])+n.internalGet(this,t[1+i])}})}),scrollIndicatorBottomMargin:Object(n.T)(6),scrollIndicatorLeftMargin:Object(n.T)(6),scrollIndicatorRightMargin:Object(n.T)(6),verticalScrollIndicator:Object(n.T)({readOnly:!0,dependencies:["hasVerticalScrollIndicator"],downstreamBindings:{otherScrollIndicator:"(owner).horizontalScrollIndicator",scrollMin:"(owner).scrollMinY",scrollSize:"(owner).height",totalSize:"(owner).scrollHeight",scrollPosition:"(owner).scrollY",beginMargin:"(owner).scrollIndicatorTotalTopMargin",endMargin:"(owner).scrollIndicatorBottomMargin"},get:Object.assign(function(){return this.hasVerticalScrollIndicator?this.verticalScrollIndicatorClass.create(this.scrollIndicatorOptions):null},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?this.verticalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}})}),horizontalScrollIndicator:Object(n.T)({readOnly:!0,dependencies:["hasHorizontalScrollIndicator"],downstreamBindings:{otherScrollIndicator:"(owner).verticalScrollIndicator",scrollMin:"(owner).scrollMinX",scrollSize:"(owner).width",totalSize:"(owner).scrollWidth",scrollPosition:"(owner).scrollX",beginMargin:"(owner).scrollIndicatorLeftMargin",endMargin:"(owner).scrollIndicatorRightMargin"},get:Object.assign(function(){return this.hasHorizontalScrollIndicator?this.horizontalScrollIndicatorClass.create(this.scrollIndicatorOptions):null},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?this.horizontalScrollIndicatorClass.create(this.scrollIndicatorOptions):null}})})}},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(1),r=i(3),o=i(2),a=i(10),s=i(14),c=i(540),l=r.t.extend({readOnly:!0,cacheable:!1,get:function(e,t,i,n){return n.internalGet(this,t[1+i])-n.internalGet(this,t[0+i])},staticMembers:{__QUALIFIED_CLASS_NAME__:"SizeProperty"}}),u={mixinDependencies:[r.q,s.p,s.g],init:function(){var e=arguments,t=this.scrollGestureRecognizer=s.m.create({event:"updateScroll",delegate:this});this.addGestureRecognizer(t),this.__s._$Xc$init.apply(this,e)},gestureRecognizerShouldReceive:function(e,t){var i=arguments;return e===this.scrollGestureRecognizer?t.pointerType===s.o.TOUCH:this.__s._$bH$gestureRecognizerShouldReceive.apply(this,i)},gestureRecognizerShouldRequireFailureOf:function(e,t){var i=arguments;return e===this.scrollGestureRecognizer?!(!t.instanceOf(s.r)||t.view!==this&&!this.element.contains(t.view.element)):this.__s._$jz$gestureRecognizerShouldRequireFailureOf.apply(this,i)},_previousDelta:null,updateScroll:function(e){var t=e.state,i=this._previousDelta;i||(this._previousDelta=i={x:0,y:0});var n=e.translation;this._previousDelta=n;var r=c.a.create({deltaX:i.x-n.x,deltaY:i.y-n.y});if(this.bubbleScroll(r),t===s.h.Ended){this._previousDelta=null;var a=e.velocity;this.beginMomentumScroll(a)}},supportsTouchScroll:Object(n.property)(a.f.isTouchSupported),mayUseVerticalScrollingAsHorizontal:Object(n.property)(),processWheelEvent:function(e){this.mayUseVerticalScrollingAsHorizontal&&e.deltaY&&(e.deltaX+=e.deltaY,e.deltaY=0)},wheel:function(e){e.preventDefault();var t=this._deferredScrollEvent;t?(t.deltaX+=e.deltaX,t.deltaY+=e.deltaY,t.nativeEvent=e):((t=this._deferredScrollEvent=c.a.create({deltaX:e.deltaX,deltaY:e.deltaY,nativeEvent:e})).retain(this,"retain during scroll deferral"),this._scrollRAF||(this._scrollRAF=Object(o._3)(Object(o.l)(this._flushAccumulatedWheelDeltas,this))))},_flushAccumulatedWheelDeltas:function(){var e=this._deferredScrollEvent;this._cleanUpCurrentScrollAccumulation(),e&&(this.bubbleScroll(e),this.overflowX=this.overflowY=0)},_cleanUpCurrentScrollAccumulation:function(){var e=this._deferredScrollEvent;e&&(this._deferredScrollEvent=null,e.autorelease(this,"retain during scroll deferral"));var t=this._scrollRAF;t&&(this._scrollRAF=null,cancelAnimationFrame(t))},dispose:function(){var e=arguments;this._cleanUpCurrentScrollAccumulation(),this.__s._$1wK$dispose.apply(this,e)},overflowX:Object(r.T)(0),overflowY:Object(r.T)(0),bubbleScroll:function(e){var t=this;for(e.deltaX=e.deltaX+this.overflowX,e.deltaY=e.deltaY+this.overflowY;!e.isEmpty;){for(;t&&!t.handleScroll;)t=t.nextResponder;if(!t)break;t.handleScroll(e),t=t.nextResponder}this.overflowX=e.deltaX,this.overflowY=e.deltaY},scrollX:Object(r.T)(0),scrollY:Object(r.T)(0),scrollMinX:Object(r.T)(0),scrollMaxX:Object(r.T)(0),scrollMinY:Object(r.T)(0),scrollMaxY:Object(r.T)(0),scrollHeight:Object(n.define)(l,{dependencies:["scrollMinY","scrollMaxY"]}),scrollWidth:Object(n.define)(l,{dependencies:["scrollMinX","scrollMaxX"]}),height:Object(r.T)(0),width:Object(r.T)(0),canScrollVertically:Object(r.T)({readOnly:!0,dependencies:["scrollHeight","height"],get:Object.assign(function(){return this.scrollHeight>this.height},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])>n.internalGet(this,t[1+i])}})}),canScrollHorizontally:Object(r.T)({readOnly:!0,dependencies:["scrollWidth","width"],get:Object.assign(function(){return this.scrollWidth>this.width},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])>n.internalGet(this,t[1+i])}})}),handleScroll:function(e){var t=this.scrollX,i=this.scrollY,n=e.deltaX,r=e.deltaY,a=(0<n?this.scrollMaxX-this.width:this.scrollMinX)-t,s=(0<r?this.scrollMaxY-this.height:this.scrollMinY)-i,o=e.consumeX(a),c=e.consumeY(s);this.attemptScrollByForEvent(o,c,e)},attemptScrollBy:function(e,t){this.stopMomentumScroll();var i=this._attemptScrollBy(e,t);return this.didScrollBy&&this.didScrollBy(e,t),i},attemptScrollByForEvent:function(e,t,i){i.isMomentumScroll||this.stopMomentumScroll();var n=this._attemptScrollBy(e,t);return this.didScrollBy&&this.didScrollBy(e,t,i),n},_attemptScrollBy:function(e,t){var i=this.scrollX,n=i+e;e=(n=d(n,this.scrollMinX,this.scrollMaxX,this.width))-i;var r=this.scrollY,a=r+t;return t=(a=d(a,this.scrollMinY,this.scrollMaxY,this.height))-r,(e||t)&&this._scrollBy(e,t),0!==e||0!==t},validateScrollPosition:function(){var e=0;if(!this._s_isValidatingScrollPosition){for(var t=!(this._s_isValidatingScrollPosition=!0);this._attemptScrollBy(0,0);)if(t=!0,10<e++){o.T.warn("Could not validate scroll position.Minimums: "+this.scrollMinX+","+this.scrollMinY+".Maximums: "+this.scrollMaxX+","+this.scrollMaxY+".Current: "+this.scrollX+", "+this.scrollY);break}return this._s_isValidatingScrollPosition=!1,t}},scrollBy:function(e,t){this.stopMomentumScroll(),this._scrollBy(e,t)},_scrollBy:function(e,t){e&&(this.scrollX=this.scrollX+e),t&&(this.scrollY=this.scrollY+t)},didScrollBy:null,pageUp:function(){this.attemptScrollBy(0,-this.height)},pageDown:function(){this.attemptScrollBy(0,this.height)},pageLeft:function(){this.attemptScrollBy(-this.width,0)},pageRight:function(){this.attemptScrollBy(this.width,0)},scrollTo:function(e,t){var i=0;void 0!==e&&(e/=100,i=this.scrollX,i=this.scrollWidth*e+this.scrollMinX-i);var n=0;void 0!==t&&(t/=100,n=this.scrollY,n=this.scrollHeight*t+this.scrollMinY-n),this.attemptScrollBy(i,n)},viewport:Object(r.T)(Object(n.instance)(r.C)),_updateViewport:Object(r.U)("viewport","scrollX","scrollY","width","height",function(e,t,i,n,r){e.beginBatchSet().set("x",t).set("y",i).set("width",n).set("height",r).end()}),scrollToRect:function(e){var t=this.viewport,i=0;e.isLeftOf(t)?i=e.x-t.x:e.isRightOf(t)&&(i=e.right-t.right);var n=0;e.isAbove(t)?n=e.y-t.y:e.isBelow(t)&&(n=e.bottom-t.bottom),this.attemptScrollBy(i,n)},_currentVelocity:null,_momentumRAF:null,_boundMomentumTick:null,_previousTimestamp:null,beginMomentumScroll:function(e){var t=this._currentVelocity;t||(t=this._currentVelocity={});var i=this._boundMomentumTick;this._boundMomentumTick||(i=this._boundMomentumTick=Object(o.l)(this._momentumTick,this)),t.x=e.x,t.y=e.y,this._previousTimestamp=null,this._momentumRAF=Object(o._3)(i)},stopMomentumScroll:function(){var e=this._momentumRAF;if(null!==e){cancelAnimationFrame(e),this._momentumRAF=null;var t=this._currentVelocity;t&&(t.x=0,t.y=0)}},_momentumTick:function(e){var t=this._previousTimestamp,i=t?e-t:0;this._previousTimestamp=e;var n=this._currentVelocity,r=n.x*(i/1),a=n.y*(i/1);n.x=n.x*Math.pow(.995,i),Math.abs(n.x)<.001&&(n.x=0),n.y=n.y*Math.pow(.995,i),Math.abs(n.y)<.001&&(n.y=0);var s=c.a.create({deltaX:r,deltaY:a,isMomentumScroll:!0});this.handleScroll(s),0===n.x&&0===n.y||(this._momentumRAF=Object(o._3)(this._boundMomentumTick))},__superMap:{_$Xc$init:"init",_$bH$gestureRecognizerShouldReceive:"gestureRecognizerShouldReceive",_$jz$gestureRecognizerShouldRequireFailureOf:"gestureRecognizerShouldRequireFailureOf",_$1wK$dispose:"dispose"}};function d(e,t,i,n){var r=Math.min(e,i-n);return Math.max(r,t)}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(2),r=i(59),a=i(175),s=i(542),o=r.a.extend({dependencies:[a.a,s.a],action:function(e){var t=e.get("rootViewController");t||Object(n.y)("Must provide a `rootViewController`"),t.isClass&&(t=t.create(),e.set("rootViewController",t))},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewControllerInitializer"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(3),a=i(2),s=n.CoreObject.extend(n._Poolable,r.D,{initFromPool:function(e){this._owner=e,this.__s._$7o$initFromPool.call(this)},cleanup:function(){var e=arguments;this.invalidate(),this.__s._$8u$cleanup.apply(this,e)},didEnterPool:function(){this._owner=null,this.wasLaidOut=!1,this.key=null,this._properties.value.readOnly||(this.value=null),this.x=-1,this.y=-1,this.width=-1,this.height=-1,this.scrollX=0,this.scrollY=0,this.__s._$HJ$didEnterPool.call(this)},key:Object(n.property)(),value:Object(n.property)(),x:Object(n.property)(-1),y:Object(n.property)(-1),width:Object(n.property)(-1),height:Object(n.property)(-1),top:Object(n.property)({readOnly:!0,get:function(){return this.y}}),bottom:Object(n.property)({readOnly:!0,get:function(){return this.y+this.height}}),left:Object(n.property)({readOnly:!0,get:function(){return this.x}}),right:Object(n.property)({readOnly:!0,get:function(){return this.x+this.width}}),origin:Object(n.property)({readOnly:!0,get:function(){Object(a.y)("CW.Cell#origin not implemented")}}),cellType:"item",toString:function(){return this.__s._$k8$toString.call(this)+"cellType: "+this.cellType+" x: "+this.x+" y: "+this.y+" width: "+this.width+" height: "+this.height},_owner:null,wasLaidOut:!1,isLaidOut:!1,isReusable:Object(n.property)({readOnly:!0,defaultValue:!0}),moveBy:function(e,t,i){this.x+=t,this.y+=i},invalidate:function(){this.size=null,this.isLaidOut=!1},size:Object(n.property)({strong:!0}),rect:Object(n.property)({get:function(){return this}}),copyTo:function(e){e.size=this.size,e.x=this.x,e.y=this.y,e.height=this.height,e.width=this.width},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionCell"},__superMap:{_$7o$initFromPool:"initFromPool",_$8u$cleanup:"cleanup",_$HJ$didEnterPool:"didEnterPool",_$k8$toString:"toString"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(3),r=i(1),a=i(2),s=i(299),o=i(177),c={staticMembers:{LayoutMetricsClass:s.a},mixinDependencies:[r.Protocol,n.q],setUpInitialCell:Object(r.define)(r.RequiredMethod),setUpFirstCell:Object(r.define)(r.RequiredMethod),setUpLastCell:Object(r.define)(r.RequiredMethod),getCellForItem:Object(r.define)(r.RequiredMethod),getHandleForItem:function(e,t,i){var n=Object(a.B)(this);Object(a.y)("Not implemented: LayoutDelegateProtocol.getHandleForItem for class "+n+".",this)},initializeVisibleCells:Object(r.define)(r.RequiredMethod),completeVisibleCells:Object(r.define)(r.RequiredMethod),cleanupVisibleCells:function(e,t,i,n){},setUpCellAtDistance:Object(r.define)(r.RequiredMethod),computeSpaceAroundViewport:Object(r.define)(r.RequiredMethod),reusePreviousVisibleCells:r.RequiredMethod.define(),cellClass:Object(n.T)(o.a),_cellTypesMap:Object(r.instance)(Map),_cellMapForCellType:function(e){var t=this._cellTypesMap,i=t.get(e);return i||(i=n.g.create(),t.set(e,i)),i},cellForHandleIfPresent:function(e,t){return void 0===t&&(t="item"),this._cellMapForCellType(t).get(e)},cellForHandle:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"item",i=this._cellMapForCellType(t),n=i.get(e);return n||((n=this.createCellFor(e,t)).key=e,n.cellType=t,i.set(e,n)),n.registerWeakReference(this,this._cellWasDisposed,n),n.retain(this,"cellForHandle: initial retain + autorelease").autorelease(this,"cellForHandle: initial retain + autorelease")},cellClassKeysByCellType:{item:"cellClass"},createCellFor:function(e,t){return this[this.cellClassKeysByCellType[t]].create(this)},_cellWasDisposed:function(e){this._cellMapForCellType(e.cellType).removeKey(e.key)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(3),a=n.CoreObject.extend(r.q,{staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionLayoutMetrics"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(550).a.extend({itemViewDidMove:function(e,t){e.style.set("width",t.width).set("height",t.height).translateDevicePixels(t.x,t.y)},itemViewDidExit:function(e){e.style.translate(-1e4,-1e4)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AbsolutelyPositionedPresenter"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var v=i(10),n=i(3),r=i(1),a=i(2),s=i(298),o=i(177),c={headerHeight:Object(n.T)(30),footerHeight:Object(n.T)(30),hasFloatingHeaders:Object(n.T)(!0),hasHeaders:Object(n.T)(!0),hasFooters:Object(n.T)(!1),sectionSpacing:Object(n.T)(0),sectionTopPadding:Object(n.T)(0),sectionBottomPadding:Object(n.T)(0),sectionHeaderPadding:Object(n.T)(0),sectionFooterPadding:Object(n.T)(0)},l={staticMembers:{LayoutMetricsClass:Object(r.accumulator)(c)},mixinDependencies:[s.a,n.q],cellClassKeysByCellType:Object(r.accumulator)({header:"headerCellClass",footer:"footerCellClass"}),footerCellClass:o.a,layOutCellInDirection:function(e,t,i,n,r,a){var s=arguments;return"header"===t.cellType&&(t.isFloatingToTop=!1),this.__s._$kQ$layOutCellInDirection.apply(this,s)},headerCellClass:o.a.extend({isFloatingToTop:!1,clipTop:0,invalidate:function(){this.isFloatingToTop=!1,this.clipTop=0,this.__s._$qO$invalidate.call(this)},isReusable:Object(r.property)({get:function(){return!this.isFloatingToTop}}),moveBy:function(e,t,i){if(!this.isFloatingToTop){var n=e.layoutMetrics,r=n.topInset,a=this.y;a+=i,n.hasFloatingHeaders&&a<r?(this.y=r,this.isFloatingToTop=!0):(this.y=a,this.isFloatingToTop=!1)}},__superMap:{_$qO$invalidate:"invalidate"}}),getSectionHandle:function(e){return"header"===e.cellType||"footer"===e.cellType?e.handle:e.handle.sectionHandle},sizeKeyByCellType:Object(r.accumulator)({header:"sizeForHeader",footer:"sizeForFooter"}),sizeForHeader:function(e,t){return n.G.create("100%",e.layoutMetrics.headerHeight)},sizeForFooter:function(e,t){return n.G.create("100%",e.layoutMetrics.footerHeight)},reusePreviousVisibleCells:function(e,t,i,n,r){var a=arguments;r.sectionsChanges&&this.handleEverythingChanged(e,t,i,n,r);var s=r.invalidSections;return s&&this.handleInvalidSections(s,e,t,i,n,r),this.__s._$1dZ$reusePreviousVisibleCells.apply(this,a)},handleInvalidSections:function(i,e,t,n,r,a){this._cellMapForCellType("item").forEach(function(e){var t=e.handle;i.contains(t.sectionHandle)&&e.invalidate()}),this._cellMapForCellType("header").forEach(function(e){var t=e.handle;i.contains(t)&&e.invalidate()}),this._cellMapForCellType("footer").forEach(function(e){var t=e.handle;i.contains(t)&&e.invalidate()}),this.recoverLayout(e,n,r)},recoverLayout:function(e,t,i){var n=this.topMostLaidOutItem(e,i);n||(n=this.topMostItem(e,i),this.recoverLayoutFromCell(e,n),n.isLaidOut)},completeVisibleCells:function(e,t,i,n){var r=arguments;this.__s._$28T$completeVisibleCells.apply(this,r);var a=e.layoutMetrics;if(a.hasHeaders&&a.hasFloatingHeaders){var s=i.objectAt(0).retain(this,"SectionLayoutSupport#completeVisibleCells: firstCell"),o=s.handle,c=a.topInset,l=a.sectionSpacing;"header"===s.cellType?(s.y>c+l&&0<this._sectionsAbove(o)&&(o=o.previous),i.shift()):"item"===s.cellType&&(o=o.sectionHandle);for(var u=this.cellForHandle(o,"header").retain(this,"sectionLayoutSupport#completeVisibleCells: header"),d=c,h=this.sizeForCell(e,u).height+l,p=d+h,f=0,_=i.length;f<_;f++){var m=i.objectAt(f);if(m.y>p)break;if("header"===m.cellType){if(d=m.y-h,m.moveBy(e,0,0),m.isFloatingToTop)return void u.release(this,"sectionLayoutSupport#completeVisibleCells: header");break}}if(this.layOutCellInDirection(e,u,1,d),d<c){var g=c-d;u.clipTop=v.b.sharedInstance.floorToDevicePixelRatio(g)}u.isFloatingToTop=!0,i.unshift(u),u.release(this,"sectionLayoutSupport#completeVisibleCells: header"),s.release(this,"SectionLayoutSupport#completeVisibleCells: firstCell")}},positionNextCell:function(e,t,i){var n="header",r="footer";i<0&&(n="footer",r="header");var a,s=t.handle,o=t.cellType,c="item"===o?s.sectionHandle:s,l=0,u=0<i;do{if("item"===o)(s=s.atDistance(i)).isValid?s.sectionHandle!==c?(s=c,a=r):a="item":(s=c,a=r);else if(o===r){if(!(c=s=s.atDistance(i)).isValid)return null;a=n}else o===n&&(s=i<0?s.lastItem:s.firstItem,a="item");l+=u?this.verticalSpacingForCellTypes(e,o,a):this.verticalSpacingForCellTypes(e,a,o),o=a}while(!s.isValid||!("item"===o||"header"===o&&this.shouldSectionHaveHeader(e,s)||"footer"===o&&this.shouldSectionHaveFooter(e,s)));var d=this.cellForHandle(s,o).retain();return this.positionAdjacentCell(e,t,d,i,l).autorelease()},verticalSpacingForCellTypes:function(e,t,i){var n=e.layoutMetrics;return"item"===t&&"item"===i?n.rowSpacing:"header"===t&&"item"===i?(n.hasHeaders?n.sectionHeaderPadding:0)+n.sectionTopPadding:"item"===t&&"footer"===i?(n.hasFooters?n.sectionFooterPadding:0)+n.sectionBottomPadding:"footer"===t&&"header"===i?n.sectionSpacing:0},headersAboveSection:function(e,t){return e.layoutMetrics.hasHeaders?this._sectionsAbove(t):0},headersBelowSection:function(e,t){return e.layoutMetrics.hasHeaders?this._sectionsBelow(t):0},footersAboveSection:function(e,t){return e.layoutMetrics.hasFooters?this._sectionsAbove(t):0},footersBelowSection:function(e,t){return e.layoutMetrics.hasFooters?this._sectionsBelow(t):0},shouldSectionHaveHeader:function(e,t){return e.layoutMetrics.hasHeaders},shouldSectionHaveFooter:function(e,t){return e.layoutMetrics.hasFooters},_sectionsAbove:function(e){return this._setUpHandleAccessors(e),this._sectionsAbove(e)},_sectionsAboveArray:function(e){return e.position},_sectionsAboveList:function(e){for(var t=-1;e.isValid;)e=e.previous,t++;return Math.max(t,0)},_sectionsBelow:function(e){return this._setUpHandleAccessors(e),this._sectionsBelow(e)},_sectionsBelowArray:function(e){return e.maximumPosition-e.position},_sectionsBelowList:function(e){for(var t=-1;e.isValid;)e=e.next,t++;return Math.max(t,0)},_setUpHandleAccessors:function(e){return e.instanceOf(n.B)?(this._sectionsAbove=this._sectionsAboveArray,void(this._sectionsBelow=this._sectionsBelowArray)):e.instanceOf(n.d)?(this._sectionsAbove=this._sectionsAboveList,void(this._sectionsBelow=this._sectionsBelowList)):void Object(a.y)("SectionLayoutSupport: unable to use handle type. handle: "+e)},sectionSpaceAboveCell:function(e,t){var i=e.layoutMetrics,n=t.cellType,r=this.getSectionHandle(t),a=this._sectionsAbove(r)*(i.sectionSpacing+i.sectionTopPadding+i.sectionBottomPadding),s=this.headersAboveSection(e,r);return"header"!==n&&(a+=i.sectionTopPadding,this.shouldSectionHaveHeader(e,r)&&(s+=1)),(a+=s*(i.headerHeight+i.sectionHeaderPadding))+this.footersAboveSection(e,r)*(i.footerHeight+i.sectionFooterPadding)},topForCell:function(e,t){var i=arguments;return this.__s._$5J4$topForCell.apply(this,i)+this.sectionSpaceAboveCell(e,t)},sectionSpaceBelowCell:function(e,t){var i=e.layoutMetrics,n=t.cellType,r=this.getSectionHandle(t),a=this._sectionsBelow(r)*(i.sectionSpacing+i.sectionTopPadding+i.sectionBottomPadding);a+=this.headersBelowSection(e,r)*(i.headerHeight+i.sectionHeaderPadding);var s=this.footersBelowSection(e,r);return"footer"!==n&&(a+=i.sectionBottomPadding,this.shouldSectionHaveFooter(e,r)&&(s+=1)),a+s*(i.footerHeight+i.sectionFooterPadding)},spaceBelowCell:function(e,t){var i=arguments;return this.__s._$5dM$spaceBelowCell.apply(this,i)+this.sectionSpaceBelowCell(e,t)},__superMap:{_$kQ$layOutCellInDirection:"layOutCellInDirection",_$1dZ$reusePreviousVisibleCells:"reusePreviousVisibleCells",_$28T$completeVisibleCells:"completeVisibleCells",_$5J4$topForCell:"topForCell",_$5dM$spaceBelowCell:"spaceBelowCell"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(178).a.extend({topForCell:function(e,t){var i=e.layoutMetrics;return t.handle.position*(i.rowHeight+i.rowSpacing)+i.topPadding+i.topInset-i.hideableTopHeight},verticalScan:1024,horizontalScan:1024,estimateCellAtDistance:function(e,t,i,n,r){var a=e.layoutMetrics,s=i.handle,o=s.position,c=Math.round(r/(a.rowHeight+a.rowSpacing))+o;c<0&&(c=0);var l=t.length;l<=c&&(c=l-1),s=s.at(c);var u=this.cellForHandle(s).retain(),d=this.topForCell(e,i)-i.y;return this.layOutCellInDirection(e,u,1,this.topForCell(e,u)-d,1,this.leftForCell(e,u)),u.autorelease()},getHandleForItem:function(e,t,i){if(t){var n=t.indexOf(i);return t.handleProvider.at(n)}},_findCellForItem:function(e,t,i,n){var r=i.find(function(e){return e.handle.value===n});if(r)return r.retain();var a=t.indexOf(n);if(-1===a)return null;var s=t.startHandle.at(a);return this.cellForHandle(s).retain()},spaceBelowCell:function(e,t){var i=e.layoutMetrics,n=t.handle;return(n.maximumPosition-n.position)*(i.rowHeight+i.rowSpacing)+i.bottomPadding-i.hideableBottomHeight},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexedListLayoutDelegate"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),s=i(3),r=i(304),a=n.CoreObject.extend(s.q,n.Protocol,{collection:Object(s.T)(),delegate:Object(s.T)(),isEmptySelectionEnabled:Object(s.T)(!0),isMultipleSelectionEnabled:Object(s.T)(!0),pivot:Object(s.T)({strong:!0,get:function(){return this._pivot},set:function(e){return this._pivot=e}}),userPerformedSelectionOperation:function(e,t){this._userPerformedSelectionOperation(e,t),this.propertyChanged("selection"),this.selectionDidChange()},selectionDidChange:Object(s.V)(),_userPerformedSelectionOperation:function(e,t){switch(t){case r.a.TOGGLE:e&&(this.isItemAtHandleSelected(e)?this._userPerformedSelectionOperation(e,r.a.REMOVE):this._userPerformedSelectionOperation(e,r.a.ADD));break;case r.a.REMOVE:(this.isEmptySelectionEnabled||1<this.selection.length)&&e&&this.deselectItemAtHandle(e);break;case r.a.ADD:if(!this.isMultipleSelectionEnabled){this._userPerformedSelectionOperation(e,r.a.SET);break}e&&this.selectItemAtHandle(e)&&(this.pivot=e);break;case r.a.EXTEND:if(this.isMultipleSelectionEnabled){var i=this.pivot;if(i){e&&this.selectRange(i,e);break}}default:e&&e.retain("BaseSelectionController: holding on during clearSelection"),this.clearSelection(),e&&(this.selectItemAtHandle(e)&&(this.pivot=e),e.release("BaseSelectionController: holding on during clearSelection"))}},userPerformedSelectionOperationInDirection:function(e,t){var i=this.getSelectableHandleInDirection(this.pivot,e);i&&(this.userPerformedSelectionOperation(i,t),this.pivot=i)},selectAll:function(){var e=this.collection.startHandle;if(e.isValid){this.userPerformedSelectionOperation(e,r.a.SET);var t=e.end;t!==e&&this.userPerformedSelectionOperation(t,r.a.EXTEND)}},selection:Object(n.define)(n.RequiredProperty),selectedItem:Object(s.T)({dependencies:["selection"],get:function(){var e=this.selection;if(1!==e.length)return null;var t=e,i=Array.isArray(t),n=0;for(t=i?t:t[Symbol.iterator]();;){var r;if(i){if(n>=t.length)break;r=t[n++]}else{if((n=t.next()).done)break;r=n.value}return r}},set:Object.assign(function(e){var t=void 0;null===e?t=null:(t=s.h.create()).add(e),this.selection=t},{__CW__setter:function(e,t,i,n,r){var a=void 0;null===e?a=null:(a=s.h.create()).add(e),i[0+n]=a}}),writeDependencySetPathMap:["false"]}),updateSelectionForCollectionChange:Object(n.define)(n.RequiredMethod),clearSelection:Object(n.define)(n.RequiredMethod),isItemAtHandleSelected:Object(n.define)(n.RequiredMethod),selectItemAtHandle:Object(n.define)(n.RequiredMethod),deselectItemAtHandle:Object(n.define)(n.RequiredMethod),selectRange:function(e,t){var i=Math.sign(t.position-e.position),n=o(e).retain(this,"BaseSelectionController#selectRange: iterating handles"),r=o(t).retain(this,"BaseSelectionController#selectRange: end handle");for(this.selectItemAtHandle(n);n!==r;){var a=n.atDistance(i).retain(this,"BaseSelectionController#selectRange: iterating handles");n.release(this,"BaseSelectionController#selectRange: iterating handles"),n=a,this.selectItemAtHandle(n)}r.release(this,"BaseSelectionController#selectRange: end handle"),n.release(this,"BaseSelectionController#selectRange: iterating handles")},getSelectableHandleInDirection:Object(n.define)(n.RequiredMethod),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseSelectionController"}});function o(e){return e.position<0?e=e.start:e.position>e.maximumPosition&&(e=e.end),e}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=Object(n.createEnumGroup)("SelectionOperations",function(e){e("TOGGLE"),e("EXTEND"),e("SET"),e("ADD"),e("REMOVE")})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=Object(n.createEnumGroup)("SelectionDirections",function(e){e("UP"),e("DOWN"),e("LEFT"),e("RIGHT")})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(2),r={selectionControllerDidDeselectItem:n.e,selectionControllerDidSelectItem:n.e,selectionControllerShouldSelectItem:function(e,t){return!0}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(1),a={mixinDependencies:[r.Protocol,n.k],firstItem:r.RequiredProperty.define(),lastItem:r.RequiredProperty.define()}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(3),r={mixinDependencies:[i(1).Protocol],sections:n.E.define()}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(1),a={mixinDependencies:[r.Protocol,n.k],sectionHandle:r.RequiredProperty.define()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"EmbeddedRelationshipArray",function(){return r});var h=i(3),l=i(2),n=i(1),u=i(105),r=i(82).ModelArray.extend({relatedObject:Object(n.property)(),relationshipKey:Object(n.property)(),_embeddedCache:Object(n.property)(),shouldDoPostInitProcessing:!1,hasBackingData:Object(n.property)({readOnly:!0,get:function(){var e=this.relatedObject;return!(!e||!e.getDataHash())}}),_array:Object(n.property)({cacheable:!1,get:function(){if(this.hasBackingData){var e=this.relatedObject,t=this.relationshipKey;return e.getDataHash()[t]}},set:function(e){if(this.hasBackingData)return this.relatedObject.getDataHash()[this.relationshipKey]=e}}),init:function(e,t,i){var n=t.relatedObject,r=t.relationshipKey,a=t.type,s=e&&e.length||0,o=this._embeddedCache=new Array(s),c=this;this.serializer={encode:function(e,t){return Object(l.G)(e,u.a)&&(e=e.getDataHash()),e},decode:function(e,t){if(!e)return e;if(void 0===t)return a.create(e);var i=o[t];if(void 0!==i)return i;var n=a.createEmbedded(c.relatedObject,c.relationshipKey,t);return o[t]=n}},this.__s._$1F3$init.call(this,e,a,i),this.relatedObject=n,this.relationshipKey=r,this.listen("contentsDidChange",function(e){0!==e.context.length&&n.notifyOfDataChange()}),this.retain("Model#__cwMaterializedValues cache"),this.postInitProcessing()},postInitProcessing:function(){var e=this._array;if(e)for(var t,i,n=this._embeddedCache||(this._embeddedCache=[]),r=0,a=e.length;r<a;r++)t=e[r],Object(l.G)(t,u.a)&&(i=t.getDataHash(),t.isEmbeddedModel||this._embedModel(t,r),n[r]=t,e[r]=i)},constructNewInstance:function(){return h.r.create({serializer:this.serializer})},itemsWillChange:function(){var e=arguments;this._array||(this._array=[]),this.__s._$1qg$itemsWillChange.apply(this,e);var t=this.relatedObject.embeddedRoot;t.isStoreModel&&t._cwStore._forkIfNeeded(t._cwStoreId)},itemsDidChange:function(){var e=arguments;this.__s._$1w5$itemsDidChange.apply(this,e);var t=this.relatedObject.embeddedRoot;t.isStoreModel&&t._cwStore.recordChangeToData(t._cwStoreId)},itemsWillBeRemoved:function(e,t){var i=arguments;if(this.__s._$20r$itemsWillBeRemoved.apply(this,i),0!==t){for(var n=this._embeddedCache,r=e+t,a=e;a<r;a++){var s=n[a];s&&(s.__cwDataHash=Object(l.r)(s.getDataHash()),s._cwParent=s._cwParentKey=s._cwParentIndex=void 0)}n.splice(e,t)}},itemsWillBeInserted:function(e,t){var i=arguments;if(this.__s._$2Cv$itemsWillBeInserted.apply(this,i),0!==t){var n=this._embeddedCache;s[0]=e,s[1]=0,n.splice.apply(n,s),s.length=2}},itemsWereRemoved:function(e,t){var i=arguments;if(this.__s._$2MQ$itemsWereRemoved.apply(this,i),0!==t){var n=this._embeddedCache,r=this.relatedObject&&this.relatedObject.getDataHash(),a=r&&r[this.relationshipKey];if(a){var s,o,c,l=t;for(s=e,o=a.length;s<o;s++)(c=n[s])&&(c._cwParentIndex-=l)}}},itemsWereInserted:function(e,t){var i=arguments;if(this.__s._$2aR$itemsWereInserted.apply(this,i),0!==t){var n=this._embeddedCache,r=this.relatedObject,a=this.relationshipKey,s=r&&r.getDataHash(),o=s&&s[a];if(o)for(var c=o.length,l=e+t,u=void 0,d=e;d<c;d++)(u=n[d])&&(d<l?this._embedModel(u,d):u._cwParentIndex+=t)}},_embedModel:function(e,t){var i=e.parentModel;if(i&&i!==this.relatedObject&&Object(l.y)("Trying to embed a model that already has a different parent",{model:e,parent:i}),!i){i=this.relatedObject;var n=this.relationshipKey;e._cwParent=i,e._cwParentKey=n,e._cwParentIndex=t,e.__cwDataHash=void 0}return e},rawSplice:function(e,t){for(var i=arguments,n=arguments.length,r=Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return this._cacheValues.apply(this,r),this.__s._$3DE$rawSplice.apply(this,i)},push:function(){var e=arguments;return this._cacheValues.apply(this,arguments),this.__s._$3Ef$push.apply(this,e)},unshift:function(){var e=arguments;return this._cacheValues.apply(this,arguments),this.__s._$3G8$unshift.apply(this,e)},insertAt:function(e){for(var t=arguments,i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return this._cacheValues.apply(this,n),this.__s._$3Hk$insertAt.apply(this,t)},setIndex:function(e,t){var i=arguments;return this._cacheValues(t),this.__s._$3JD$setIndex.apply(this,i)},_cacheValues:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.length;s.length=n+2;for(var r=0;r<n;r++){var a=t[r];Object(l.G)(a,u.a)&&(s[r+2]=a)}},filter:function(){Object(l.y)("Filter cannot be used safely on an embedded relationship array, use filterCloned instead.",{source:this})},filterCloned:function(e,t){var i=[],n=this.relatedObject,r=this.relationshipKey,a=n&&n.getDataHash(),s=a&&a[r];if(s)for(var o=this.modelClass,c=o.create(),l=0,u=s.length;l<u;l++){var d=s[l];c.replaceData(d),e.call(t,c,l,s)&&i.push(o.createFromDataHash(d))}return h.r.create(i)},indexOf:function(e){var t=this._array;return t&&Object(l.G)(e,this.modelClass)?t.indexOf(e.getDataHash()):-1},isObjectAtIndexMaterialized:function(e){var t=this._embeddedCache;return t&&!!t[e]},staticMembers:{__QUALIFIED_CLASS_NAME__:"EmbeddedRelationshipArray"},__superMap:{_$1F3$init:"init",_$1qg$itemsWillChange:"itemsWillChange",_$1w5$itemsDidChange:"itemsDidChange",_$20r$itemsWillBeRemoved:"itemsWillBeRemoved",_$2Cv$itemsWillBeInserted:"itemsWillBeInserted",_$2MQ$itemsWereRemoved:"itemsWereRemoved",_$2aR$itemsWereInserted:"itemsWereInserted",_$3DE$rawSplice:"rawSplice",_$3Ef$push:"push",_$3G8$unshift:"unshift",_$3Hk$insertAt:"insertAt",_$3JD$setIndex:"setIndex"}}),s=[0,0]},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(2),a=i(62),s=i(63),o=n.CoreObject.extend({storeId:Object(n.property)({readOnly:!0}),originalData:Object(n.property)({readOnly:!0}),newData:Object(n.property)({readOnly:!0}),changeType:Object(n.property)({readOnly:!0,get:function(){var e=this._changeType;return e||(e=this.originalData?this.newData?a.a.WRITE.UPDATE:a.a.WRITE.DESTROY:a.a.WRITE.CREATE,this._changeType=e),e}}),operation:Object(n.property)({readOnly:!0,get:function(){var e=this._operation;return e||(e=this._operation={type:this.modelClass,operation:{context:this,type:this.changeType}}),e}}),model:Object(n.property)({readOnly:!0,get:function(){return Object(s.b)().materializeModel(this.storeId)}}),primaryKey:Object(n.property)({readOnly:!0,get:function(){return i(32).Store.getPrimaryKeyForStoreId(this.storeId)}}),modelClass:Object(n.property)({readOnly:!0,get:function(){return i(32).Store.getModelClassForStoreId(this.storeId)}}),diff:Object(n.property)({readOnly:!0,get:function(){return Object(r.t)(this.originalData,this.newData)}}),init:function(e,t,i,n){this.__s._$l_$init.call(this),this._storeId=e,this._originalData=t,this._newData=i,n&&(this._operation=n)},merge:function(e){return this.constructor.create(this.storeId,this.originalData,Object.assign(this.newData||{},e.newData))},reverse:function(){return this.constructor.create(this.storeId,Object.assign({},this.newData),Object.assign({},this.originalData))},staticMembers:{__QUALIFIED_CLASS_NAME__:"DataChange"},__superMap:{_$l_$init:"init"}})},function(e,t,u){"use strict";u.d(t,"a",function(){return a});var i=u(1),n=u(3),r=Object(i.createEnumGroup)("TRANSACTION_STATES",function(e){e("PENDING"),e("ACTIVE"),e("COMPLETED"),e("FAILED"),e("CANCELLED")}),a=i.CoreObject.extend(r.toStaticMixin(),i.PromiseSupport,n.q,{operation:null,subtransactions:null,changes:null,storeIds:Object(i.property)({readOnly:!0,get:function(){var e=this.changes;if(e)return e.storeIds;var t=this.operation,i=t&&t.type,n=t&&t.operation,r=n&&n.context,a=r&&r.primaryKeys;if(i&&Array.isArray(a)){for(var s=[],o=0,c=a.length;o<c;o++){var l=a[o];s.push(u(32).Store.getStoreIdForPrimaryKey(i,l))}return s}return i&&a?[u(32).Store.getStoreIdForPrimaryKey(i,a)]:void 0}}),status:Object(n.T)(r.PENDING),activate:function(){this.set("status",r.ACTIVE)},complete:function(e){this.set("status",r.COMPLETED),this.resolve(e)},fail:function(e){this.set("status",r.FAILED),this.reject(e)},cancel:function(e){this.set("status",r.CANCELLED),this.reject(e)},toString:function(){for(var e=this.operation,t=e.type.toString();e=e.operation;)t+=": "+e.type.toString();return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"Transaction"}})},function(e,t,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),S.d(t,"DataManager",function(){return u}),S.d(t,"LoadStatus",function(){return m});var w=S(3),h=S(1),C=S(2),p=S(180),f=S(311),i=S(314),E=S(138),n=S(570),r=S(571),l=S(32),_=S(312),a=S(63),s=S(315),c=[],T=void 0,A=void 0,o=l.Store.create({MergeStrategy:n.a}),u={mixinDependencies:[w.q],loadData:function(e,t,i){e||Object(C.y)("CW.Data.DataManager#loadData: No model class provided.",{dataManager:this}),t||Object(C.y)("CW.Data.DataManager#loadData: No data hash provided.",{dataManager:this,modelClass:e});var n,r,a=p.a.create(),s=this._loadedStoreIds;if(Array.isArray(t))for(var o=0,c=t.length;o<c;o++)r=b(e,t[o]),n=l.Store.getStoreIdForPrimaryKey(e,r),i||(s[n]=!0),a.recordChange(g(n,t[o]));else r=b(e,t),n=l.Store.getStoreIdForPrimaryKey(e,r),i||(s[n]=!0),a.recordChange(g(n,t));return this.merge(a).then(this.didLoadData.bind(this,a))},removeData:function(e,t){e||Object(C.y)("CW.Data.DataManager#removeData: No model class provided.",{dataManager:this}),t||Object(C.y)("CW.Data.DataManager#removeData: No primary key(s) provided.",{dataManager:this,modelClass:e});var i,n=p.a.create();if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)i=l.Store.getStoreIdForPrimaryKey(e,t[r]),n.recordChange(g(i,null));else i=l.Store.getStoreIdForPrimaryKey(e,t),n.recordChange(g(i,null));return this.merge(n).then(this.didRemoveData.bind(this,n))},didLoadData:function(e){return e},didRemoveData:function(e){return e},MergeStrategy:i.a,willMergeData:function(e){return e},didMergeData:function(e){return e},merge:function(e){var t,i,n=this,r=this.getPath("MergeStrategy.sharedInstance"),a=e.length;this.willMergeData(e);var s=[];for(i=0;i<a;i++)t=e.objectAt(i),s.push(r.action(this,t));for(i=0;i<a;i++)t=e.objectAt(i),this.notifyModel(t.storeId,v,t);return h.CorePromise.all(s).then(function(){return n.didMergeData(e)})},notifyModel:function(e,t){var i=this._materializedModels,n=i&&i[e];if(n){var r=arguments.length;c.length=r+1-2;for(var a=2,s=1;a<r;a++,s++)c[s]=arguments[a];var o=c;o[0]=n,t.apply(this,o)}},getNetworkStatus:function(e,t){e||Object(C.y)("CW.Data.DataManager#getNetworkStatus: No model class provided.",{dataManager:this}),t||Object(C.y)("CW.Data.DataManager#getNetworkStatus: No primary key provided.",{dataManager:this,modelClass:e});var i=this.get("transactionProcessor");return i||Object(C.y)("CW.Data.DataManager#getNetworkStatus: No transaction processor defined.",{dataManager:this,modelClass:e,primaryKey:t}),i.getNetworkStatus(e,t)},getLoadStatus:function(e,t){e||Object(C.y)("CW.Data.DataManager#getLoadStatus: No model class provided.",{dataManager:this}),t||Object(C.y)("CW.Data.DataManager#getLoadStatus: No primary key provided.",{dataManager:this,modelClass:e});var i=l.Store.getStoreIdForPrimaryKey(e,t);return this._loadedStoreIds[i]?m.LOADED:m.NOT_LOADED},transactionProcessor:Object(h.instance)(r.a),operationHandlers:Object(h.instance)(Array),getActiveTransactions:function(e,t){e||Object(C.y)("CW.Data.DataManager#getActiveTransactions: No model class provided.",{dataManager:this}),t||Object(C.y)("CW.Data.DataManager#getActiveTransactions: No primary key provided.",{dataManager:this,modelClass:e});var i=this.get("transactionProcessor");return i||Object(C.y)("CW.Data.DataManager#getActiveTransactions: No transaction processor defined.",{dataManager:this,modelClass:e,primaryKey:t}),i.getActiveTransactions(e,t)},performOperation:function(e,t){e||Object(C.y)("CW.Data.DataManager#performOperation: No operation provided.",{dataManager:this}),Object(C.Q)(e)&&(e={type:e}),t?e.context?Object(C.y)("CW.Data.DataManager#performOperation: Conflict with `context` parameter; `operation` already contains a `context`. You must only provide one context per operation.",{dataManager:this,operation:e}):e.context=t:t=e.context||{},Object(C.O)(t)||Object(C.y)("CW.Data.DataManager#performOperation: context must be of type: object.",{dataManager:this}),t.operation=e;var i=this.get("transactionProcessor");i||Object(C.y)("CW.Data.DataManager#performOperation: No transaction processor defined.");var n=_.a.create(t),r=this._outstandingTransactions,a=Object(C.D)(n);return(r[a]=n).finally(function(){delete r[a]}).catch(C.e),i.addTransaction(n),n},commit:function(){var e,t=this._changes;if(this._changes=null,t){e=this.performOperation(t.get("operation"));for(var i=0,n=t.length;i<n;i++){var r=t.objectAt(i);this._commitChange(r)}}else(e=_.a.create()).complete();return e},commitStoreIds:function(e){var t=this,i=this._changes;if(!i){var n=_.a.create();return n.complete(),n}Array.isArray(e)||(e=[e]);var r=e.map(function(e){return i.removeChangeForStoreId(e)}).filter(C.x);if(0===r.length){var a=_.a.create();return a.complete(),a}var s=r.reduce(function(e,t){return e.recordChange(t),e},p.a.create()),o=this.performOperation(s.operation,{changes:s});return r.forEach(function(e){return t._commitChange(e)}),o},findHandlerForOperation:function(e){return Object(s.a)(e.type,this.operationHandlers)},sendTransaction:function(r){r||Object(C.y)("CW.Data.DataManager#sendTransaction: No transaction provided.",{dataManager:this}),r.get("status")===_.a.ACTIVE&&Object(C.y)("CW.Data.DataManager#sendTransaction: Transaction is already active.",{dataManager:this,transaction:r});var e=r.operation,t=this.findHandlerForOperation(e);if(t){r.activate();var i=r.changes;if(i)for(var n=0,a=i.length;n<a;n++){var s=i.objectAt(n);this.notifyModel(s.storeId,y)}t.action(e).then(function(e){if(Object(C.G)(e,f.a))this.notifyModel(e.storeId,y),e=e.get("model");else if(Object(C.G)(e,p.a))if(1===e.length)e=e.objectAt(0).get("model"),this.notifyModel(e.storeId,y);else{for(var t=0,i=e.length;t<i;t++){var n=e.objectAt(t);this.notifyModel(n.storeId,y)}e=e.get("models")}r.complete(e)}.bind(this),function(e){r.fail(e)})}else{for(var o,c=h.isCWClass,l=C.B,u=[],d=e;d;)o=c(d.type)?l(d.type):String(d.type),u.push(o),d=d.operation;r.fail("No handler for operation: "+u.join(" > "))}},cancelAllTransactions:function(){this.cancelAllActiveTransactions(),this.cancelAllPendingTransactions()},cancelAllActiveTransactions:function(){d(this._outstandingTransactions,"cancel",_.a.ACTIVE)},cancelAllPendingTransactions:function(){d(this._outstandingTransactions,"cancel",_.a.PENDING)},failAllTransactions:function(){this.failAllActiveTransactions(),this.failAllPendingTransactions()},failAllActiveTransactions:function(){d(this._outstandingTransactions,"fail",_.a.ACTIVE)},failAllPendingTransactions:function(){d(this._outstandingTransactions,"fail",_.a.PENDING)},_outstandingTransactions:Object(h.instance)(Object),_loadedStoreIds:Object(h.instance)(Object),init:function(e){var t=arguments,i=Object(a.b)();i&&Object(C.y)("CW.Data.DataManager#init: Data manager already exists. Only one data manager can be instantiated.",{existingDataManager:i,erroringDataManager:this}),Object(a.a)(this),this.__s._$7bJ$init.apply(this,t),this._dataHashes=Object.create(o._dataHashes)},dispose:function(){var e=arguments;this.__s._$7hT$dispose.apply(this,e),Object(a.a)(null),o.resetAllData()},_persistenceStore:Object(h.property)({readOnly:!0,get:function(){return o}}),_commitChange:function(e){var t=e.storeId,i=e.newData,n=e.modelClass;this.notifyModel(t,y);var r=i&&b(n,i);null!=r&&r!==l.Store.getPrimaryKeyForStoreId(t)&&l.Store.setPrimaryKeyForStoreId(t,r)},__superMap:{_$7bJ$init:"init",_$7hT$dispose:"dispose"}},O=["updated","added","removed"],D=[];function d(e,t,i){for(var n in e){var r=e[n];r.get("status")===i&&r[t]()}}var m=Object(h.createEnumGroup)("LOAD_STATUS",function(e){e("NOT_LOADED"),e("LOADED"),e("ERRORED")});function g(e,t){var i=Object(C.r)(o.readData(e));if(t)for(var n in t)o.writeDataProperty(e,n,t[n]);else o.deleteData(e);return f.a.create(e,i,t)}function v(e,t){var i=t.newData;if(i){var n=t.diff;if(n){var r=D;r.length=0;for(var a=t.modelClass,s=0,o=O.length;s<o;s++)for(var c=n[O[s]],l=0,u=c.length;l<u;l++){var d=c[l];if(i.hasOwnProperty(d)){var h=a.getKeyForDataKey(d),p=e.get(h),f=void 0;if(Object(C.G)(p,w.f)){T=T||S(316).RelationshipArray,A=A||S(310).EmbeddedRelationshipArray;var _=Object(C.G)(p,T)||Object(C.G)(p,A),m=i[d];if(m)if(_){var g=t.originalData,v=w.a.fromArrays(g&&g[d],m,e);p.contentsDidChange(v)}else{var y=Object(C.r)(m);y.unshift(p.length),y.unshift(0),p.splice.apply(p,y)}else f=e.getMetadata(h),Object(C.G)(f,E.ModelProperty)&&f.clearCachedValueForObject(e,h)}f=f||e.getMetadata(h),Object(C.G)(f,E.ModelProperty)&&r.push(h)}}w.i.pause();for(var b=0,I=r.length;b<I;b++)e.propertyChanged(r[b]);e.propertyChanged("loadStatus"),e.propertyChanged("networkStatus"),e.dataDidLoad(),w.i.resume(),r.length=0}}}function y(e){e.propertyChanged("networkStatus")}function b(e,t){var i=e.primaryKey;return i||Object(C.y)("CW.Data.DataManager#getPrimaryKeyFromData: Attempted to locate primary key on a model class that does not specify one.",{data:t,modelClass:e}),t[e.getDataKeyForKey(i)]}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=n.CoreObject.extend(n.SharedInstance,{action:function(e,t){var i=t.get("storeId");return e.isDataForked(i)&&e.resetData(i),n.CorePromise.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"HardResetMergeStrategy"}})},function(e,t,i){"use strict";t.a=function e(t,i){if(t||Object(o.y)("findHandlerForOperationType must receive a type"),i)for(var n=0,r=i.length;n<r;n++){var a=i[n],s=a.get("handlesType");if(s===t||!s&&e(t,a.get("nestedOperationHandlers")))return a}};var o=i(2)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"RelationshipArray",function(){return o});var d=i(2),n=i(1),r=i(3),a=i(105),h=i(82),s=i(32),o=h.ModelArray.extend({relatedObject:Object(n.property)({weak:!0}),relationshipKey:Object(n.property)(),hasBackingData:Object(n.property)({readOnly:!0,get:function(){var e=this.relatedObject;return!(!e||!e.getDataHash())}}),_array:Object(n.property)({cacheable:!1,get:function(){if(this.hasBackingData){var e=this.relatedObject,t=this.relationshipKey;return e.getDataHash()[t]}},set:function(e){if(this.hasBackingData)return this.relatedObject.getDataHash()[this.relationshipKey]=e}}),_storeIdCache:Object(n.instance)(Map),serializer:function(){var i=this;return{encode:function(e){return Object(d.x)(e)&&(Object(d.G)(e,a.a)?(e.constructor!==i.modelClass&&Object(d.y)("Invalid Model type %{type}, expected %{configured}",{type:e.constructor,configured:i.modelClass}),e=e.getPrimaryKey()):Object(d.O)(e)&&(e.hasOwnProperty("id")&&e.hasOwnProperty("type")||Object(d.y)("Foreign object tuple must contain keys 'id' and 'type'",{value:e}))),e},decode:function(e){if(!Object(d.x)(e))return e;var t=i.storeIdForForeignObjectReference(e);return i.store.materializeModel(t)}}},shouldDoPostInitProcessing:!1,init:function(e,t,i){t&&t.type?t&&t.relationshipKey?t&&t.relatedObject||Object(d.y)("No relationship object provided in options",{options:t}):Object(d.y)("No relationship key provided in options",{options:t}):Object(d.y)("No model type provided in options",{options:t});var n=t.relationshipKey,r=t.relatedObject;this.__s._$1YS$init.call(this,e,t.type,i),this.relationshipKey=n;var a=(this.relatedObject=r).__cwMaterializedValues;a||(a=r.__cwMaterializedValues={}),a[n]&&Object(d.y)("A CW.Data.RelationshipArray instance already exists for this relationship",{relatedObject:r,relationshipKey:n,cache:a}),(a[n]=this).retain("Model#__cwMaterializedValues cache"),this.shouldDoPostInitProcessing=!0,this.postInitProcessing()},itemsWillChange:function(){var e=arguments;this._array||(this._array=[]),this.__s._$1uP$itemsWillChange.apply(this,e),this.store&&this.store._forkIfNeeded(this.relatedObject._cwStoreId)},itemsDidChange:function(){var e=arguments;if(this.store){var t=this.relatedObject._cwStoreId;t&&this.store.recordChangeToData(t)}this.__s._$22D$itemsDidChange.apply(this,e),this.relatedObject.notifyOfDataChange()},storeIdForForeignObjectReference:function(e){if(!Object(d.x)(e))return e;var t=this._storeIdCache.get(e);if(void 0===t){var i=e,n=this.modelClass;Object(d.O)(e)&&(i=e.id,n=e.type),t=s.Store.getStoreIdForPrimaryKey(n,i),this._storeIdCache.set(e,t)}return t},storeIdForObjectAt:function(e){if(this._array){var t=this._array[e];return t&&this.storeIdForForeignObjectReference(t)}},storeIds:Object(r.T)({dependencies:["length"],readOnly:!0,get:function(){if(!this._array)return[];var e=this.storeIdForForeignObjectReference.bind(this);return this._array.map(e)}}),spliceStoreIds:function(e,t){for(var i=arguments.length,n=Array(2<i?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];for(var a=2,s=arguments.length;a<s;a++){var o=this.store.constructor.getPrimaryKeyForStoreId(arguments[a]),c=this.store.constructor.getModelClassForStoreId(o);c!==this.modelClass&&(o={id:o,type:c}),arguments[a]=o}return this._array||(this._array=[]),this._array.splice.apply(this._array,arguments)},objectAt:function(){var e=arguments;return this._array&&this.__s._$2ir$objectAt.apply(this,e)},encodedObjectAt:function(){var e=arguments;return this._array&&this.__s._$2kf$encodedObjectAt.apply(this,e)},constructNewInstance:function(){var e={relatedObject:this.relatedObject,relationshipKey:this.relationshipKey,type:this.modelClass};return this.constructor.create([],e,this.store)},filter:function(e,t){e||Object(d.y)("CW.Data.RelationshipArray#filter: No filter function provided: %{relationshipArray}",{relationshipArray:this});var i=this.store;i||Object(d.y)("CW.Data.RelationshipArray#filter: Model arrays must be store backed to be filtered: %{relationshipArray}",{filterFunction:e,relationshipArray:this});var n,r=this.modelClass;r||Object(d.y)("CW.Data.RelationshipArray#filter: No model class defined on model array: %{relationshipArray}",{filterFunction:e,relationshipArray:this,store:i});for(var a=[],s=0,o=this.length;s<o;s++){var c=this.storeIdForObjectAt(s),l=this.store.getExistingModel(c);if(!l){var u=this.storeDataForObjectAt(s);n||(n=r.create().retain(this,"filter: tempModel")),n.replaceData(u)}e.call(t,l||n,s,this)&&a.push(c)}return n&&n.release(this,"filter: tempModel"),h.ModelArray.createFromStoreIds(a,r,i)},indexOf:function(e){var t=this._array;return t&&Object(d.G)(e,this.modelClass)?t.indexOf(e.getPrimaryKey()):-1},staticMembers:{__QUALIFIED_CLASS_NAME__:"RelationshipArray"},__superMap:{_$1YS$init:"init",_$1uP$itemsWillChange:"itemsWillChange",_$22D$itemsDidChange:"itemsDidChange",_$2ir$objectAt:"objectAt",_$2kf$encodedObjectAt:"encodedObjectAt"}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"Relationship",function(){return o}),i.d(t,"ToOneRelationshipProperty",function(){return c}),i.d(t,"ToManyRelationshipProperty",function(){return l}),t.getClassForRelationshipType=f;var n=i(1),s=i(3),u=i(2),d=i(310),h=i(105),r=i(138),p=i(316),a=i(62),o={toOne:function(e){return c.create(e)},toMany:function(e){return l.create(e)}},c=r.ModelProperty.extend({embedded:!1,_encodeValue:function(e,t,i){if(this.encode)return this.encode(i);var n=void 0;return Object(u.G)(i,h.a)?(n=i.constructor,this.embedded?(((e.__cwMaterializedValues||(e.__cwMaterializedValues={}))[t]=i).retain(),i=i.toJSON()):i=i.getPrimaryKey()):n=Object(u.O)(i)&&i.type&&i.id?(i=i.id).type:this.type,n?(e.__relationshipTypes||(e.__relationshipTypes={}))[t]=n:Object(u.y)("CW.Data.ToOneRelationshipProperty#_encodeValue: Unable to determine type for: `"+i+"`."),i},getType:function(e,t){var i=e.__relationshipTypes;return i&&i[t]||this.type},hasMaterializedInstance:function(e,t){if(this.embedded)return!!this._getCachedValueForObject(e,t);var i=e._cwStore,n=f(this.getType(e,t),e.constructor),r=e.getDataHash();if(!r)return!1;var a=r[this.dataKey||t];return n.hasMaterializedInstance(a,i)},_materializeValue:function(e,t,i){var n=e.__cwMaterializedValues,r=n&&n[t];if(r)return r;if(!i)return null;if(this.decode)return this.decode(i);var a=f(this.getType(e,t),e.constructor);return a||Object(u.y)("CW.Data.ToOneRelationshipProperty#_materializeValue: Unable to determine model class for: `"+i+"`."),this.embedded?(n||(n=e.__cwMaterializedValues={}),n[t]=a.createEmbedded(e,this.dataKey||t)):a.findOrCreatePlaceholder(i,e._cwStore)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ToOneRelationshipProperty"}}),l=r.ModelProperty.extend({embedded:!1,upstreamNodeManagerClass:Object(n.accumulator)({nodeWillFree:function(e){var t=e.__cwMaterializedValues,i=t&&t[this.key];i&&(Object(n.releaseValueIfNeeded)(i,e,"ToManyRelationshipProperty: releasing materialized RelationshipArray"),t[this.key]=null)}}),downstreamNodeManagerClass:s.j.extend({calculateValueForNode:function(e,t,i,n){i&&0<s.i._sanitizeNodeID(n)&&s.i.getValueForNode(n);var r=this.key,a=this.property.getRawValueForObject(e,r);return this.property._materializeValue(e,r,a)}}),_encodeValue:function(e,t,i){return i},_materializeValue:function(e,t,i){var n=e.__cwMaterializedValues||(e.__cwMaterializedValues={}),r=n[t];if(r)return r.hasBackingData?r:void 0;var a={type:f(this.type,e.constructor),relatedObject:e,relationshipKey:this.dataKey||t},s=void 0;if(this.embedded)s=d.EmbeddedRelationshipArray.create(i,a);else{if(i&&0<i.length)for(var o=0,c=i.length;o<c;o++){var l=i[o];Object(u.G)(l,h.a)?i[o]=l.getPrimaryKey():Object(u.O)(l)&&l.id&&(i[o]=l.id)}s=p.RelationshipArray.create(i,a,e._cwStore)}return(n[t]=s).hasBackingData?s:void 0},clearCachedValueForObject:u.e,strong:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"ToManyRelationshipProperty"}});function f(e,t){var i=void 0;return e&&e.isClass?i=e:"(self)"===e||"self"===e?i=t:Object(u.Q)(e)&&(i=Object(a.b)(e)),i||Object(u.y)("CW.Data.Relationship: Unable to compute class for relationship type: `"+e+"`."),i}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(3),a={mixinDependencies:[n.Protocol],connect:n.RequiredMethod.define(),disconnect:n.RequiredMethod.define(),isDisconnected:r.E.define(),incomingMessage:r.F.define(),outgoingMessage:r.F.define(),send:n.RequiredMethod.define()}},function(e,o,c){"use strict";(function(e){c.d(o,"a",function(){return a});var t=c(1),i=c(3),n=c(2),r=c(318),s=c(575),a=t.CoreObject.extend(i.q,r.a,{autoconnect:!0,isDisconnected:Object(i.T)({readOnly:!0,get:function(){return this._isDisconnected}}),incomingMessage:Object(i.V)(),outgoingMessage:Object(i.V)(),outgoingWindow:i.E.define(),remoteOrigin:Object(i.T)({type:"string"}),_isDisconnected:!0,_messageHandler:null,connect:function(){this.isDisconnected&&(this.outgoingWindow&&this.outgoingWindow.postMessage||Object(n.y)("The `outgoingWindow` must be configured and support `postMessage()`"),Object(n.h)(e,"message",this._messageHandler),this._isDisconnected=!1,this.propertyChanged("isDisconnected"))},disconnect:function(){this.isDisconnected||(Object(n._1)(e,"message",this._messageHandler),this._isDisconnected=!0,this.propertyChanged("isDisconnected"))},init:function(){var e=arguments;this._messageHandler=function(e){var t=e.originalEvent,i=(t||e).origin,n=this.outgoingWindow,r=e.source,a=n===r;try{a||(a=n.actualOutgoingWindow===r)}catch(e){a=!1}a&&Object(s.a)(i,this.remoteOrigin)&&this.incomingMessage((t||e).data)}.bind(this),this.__s._$13o$init.apply(this,e)},send:function(e){this.isDisconnected&&Object(n.y)("Cannot send message because the channel has not been connected.",this);var t=this.remoteOrigin;t||Object(n.y)("Cannot send message without `remoteOrigin` specified.",this),this.outgoingWindow.postMessage(e,t),this.outgoingMessage(e)},outgoingWindowDidChange:Object(i.U)("outgoingWindow",function(e){e?this.autoconnect&&this.connect():this.disconnect()}),staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowPostMessageChannel"},__superMap:{_$13o$init:"init"}})}).call(o,c(5))},function(e,m,g){"use strict";(function(o){g.d(m,"a",function(){return i});var e=g(1),t=g(3),d=g(2),i=e.CoreObject.extend(t.q,{staticMembers:{shouldUseFormEncoding:!1,components:Object(e.instance)(["protocol","auth","hostname","port","pathname","query","hash"]),componentFormatters:{protocol:function(e){return e+(s[e]?"":"//")},auth:function(e){return e+"@"},port:function(e){return":"+e}},componentCleaners:{protocol:function(e){return e.replace("//","")},auth:function(e){return e.replace("@","")}},parse:function(e){var t,i,n,r,a,s=e.match(l),o={},c=this.components;for(n=0,r=c.length;n<r;n++)(t=s[n+1])&&(i=c[n],a=this.componentCleaners[i],o[i]=a?a(t):t);return o},parseQuery:function(e,t){var i={};if(!Object(d.Q)(e))return i;if(""===(e=e.replace(h,"")))return i;t=void 0===t?this.shouldUseFormEncoding:t;for(var n=e.split("&"),r=0,a=n.length;r<a;r++){var s,o=n[r].split("="),c=o[0],l=o[1];p.test(c)&&(c=c.replace(p,""),s=!0),l=this.parseValue(f(l,t));var u=i[c];u?(Array.isArray(u)?u.push(l):u=[u,l],l=u):s&&(l=[l]),i[c]=l}return i},parseValue:function(e){if(e&&n.test(e)){for(var t=(e=e.split(",")).length-1;0<=t;t--)e[t]=u(e[t]);return e}return u(e)},formatQuery:function(e,t){if(!Object(d.O)(e))return e;t=void 0===t?this.shouldUseFormEncoding:t;var i,n,r,a,s=Object.keys(e),o="";for(r=0,a=s.length;r<a;r++)n=e[i=s[r]],0<r&&(o+="&"),o+=c(i,t),null!=n&&(o+="="+(n=c(this.formatValue(n),t)));return 0<r?"?"+o:""},formatValue:function(e){if(Array.isArray(e)){for(var t=e.length-1;0<=t;t--)e[t]=_(e[t]);return e.join(",")}return _(e)},init:function(){var e=arguments;this.__s._$2zs$init.apply(this,e),this.prototype.registerMetadata("href",Object(t.T)({dependencies:this.components}))},__QUALIFIED_CLASS_NAME__:"URL",__superMap:{_$2zs$init:"init"}},protocol:Object(t.T)(null),auth:Object(t.T)(null),hostname:Object(t.T)(null),port:Object(t.T)({defaultValue:null,set:function(e){return parseInt(e,10)}}),pathname:Object(t.T)(null),query:Object(t.T)(null),hash:Object(t.T)(null),href:Object(t.T)({readOnly:!0,get:function(){var e,t,i,n,r,a="",s=this.constructor.components,o=arguments[3],c=arguments[1],l=arguments[2];for(t=0,i=s.length;t<i;t++)n=s[t],(e=o.internalGet(this,c[t+l]))&&(a+=(r=this.constructor.componentFormatters[n])?r(e):e);return a}}),host:Object(t.T)({readOnly:!0,dependencies:["port","hostname"],get:Object.assign(function(){var e=this.port,t=this.hostname;return e&&(t=(t||"")+":"+e),t},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]);return r&&(a=(a||"")+":"+r),a}})}),origin:Object(t.T)({readOnly:!0,dependencies:["host","protocol"],get:Object.assign(function(){var e=this.host,t=this.protocol;return t&&(e=this.constructor.componentFormatters.protocol(t)+(e||"")),e},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]);return a&&(r=this.constructor.componentFormatters.protocol(a)+(r||"")),r}})}),path:Object(t.T)({readOnly:!0,dependencies:["query","pathname"],get:Object.assign(function(){var e=this.query,t=this.pathname;return e&&(t=(t||"")+e),t},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]);return r&&(a=(a||"")+r),a}})}),queryObject:Object(t.T)({dependencies:["query"],get:Object.assign(function(){return this.constructor.parseQuery(this.query)},{__CW__getter:function(e,t,i,n){return this.constructor.parseQuery(n.internalGet(this,t[0+i]))}}),set:Object.assign(function(e){this.query=this.constructor.formatQuery(e)},{__CW__setter:function(e,t,i,n,r){i[0+n]=this.constructor.formatQuery(e)}}),writeDependencySetPathMap:["false"]}),isInDomain:function(e){var t=this.hostname;if(!t||""===e)return!1;var i=new RegExp("(^|\\.)"+Object(d.w)(e)+"$","i");return!!t.match(i)},setQueryParameter:function(e,t){return this.query&&this.removeQueryParameter(e),this.appendQueryParameter(e,t)},appendQueryParameter:function(e,t){var i=this.query||"?";return"?"!==i&&(i+="&"),i+=c(e)+(null!=t?"="+c(this.constructor.formatValue(t),this.constructor.shouldUseFormEncoding):""),this.query=i,this},removeQueryParameter:function(e){var t=this.query;if(!t)return this;var i=this._regexpForQueryParameterKey(e),n=t.replace(i,""),r=n[0];return n?"?"!==r&&("&"===r&&(n=n.substr(1)),n="?"+n):n=null,this.query=n,this},getQueryParameter:function(e){var t=this.query;if(t){var i=this._regexpForQueryParameterKey(e).exec(t);if(i){var n=i[3];return void 0===n?null:f(n)}}},_regexpForQueryParameterKey:function(e){var t=Object(d.w)(e)+"|"+Object(d.w)(c(e));return new RegExp("(^|\\?|&)("+t+")(?:=([^&]*))?(?=&|$)","g")},setMultipleQueryParameters:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setQueryParameter(t,e[t]);return this},init:function(e){if(Object(d.Q)(e))e=this.constructor.parse(e);else if(e&&e.constructor===o.Location){for(var t,i,n={},r=this.constructor.components,a=0,s=r.length;a<s;a++)"query"===(i=t=r[a])&&(t="search"),n[i]=e[t];e=n}else e&&!Object(d.O)(e)&&Object(d.y)("A URL object cannot be created with the data provided",e);this.__s._$68y$init.call(this,e)},toString:function(){return this.href},toJSON:function(){return""+this},__superMap:{_$68y$init:"init"}}),l=/^(.*?:\/\/)?([^:/?]*:?[^:/?]*@+)?([^:/?]*):?(\d*)?([^?#]*)?(\??[^#]*)(#?.*)?$/,h=/^\?/,n=/,/,r=/%20/g,a=/\+/g,p=/\[\]$/,s={"mailto:":!0},c=function(e,t){var i=encodeURIComponent(""+e);return t?i.replace(r,"+"):i},f=function(e,t){if(!e)return e;var i=decodeURIComponent(""+e);return t?i.replace(a," "):i};function u(t){try{return JSON.parse(t)}catch(e){return t}}function _(e){return""+e}}).call(m,g(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(1),r=i(3),a=i(2),s=i(318),o=i(580),c=n.CoreObject.extend(r.q,{channel:Object(r.T)({type:s.a}),messageFormatter:o.a.sharedInstance,serializer:n.JSONSerializer.sharedInstance,shouldHandleMessage:n.RequiredMethod.define(),handleMessage:n.RequiredMethod.define(),incomingMessageListener:Object(r.U)("channel.incomingMessage",function(e){if(e){var t=this.serializer.decode(e.context);Object(a.x)(t)&&this.shouldHandleMessage(t)&&this.handleMessage(t)}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcBase"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r}),i.d(t,"e",function(){return o}),i.d(t,"d",function(){return c}),i.d(t,"c",function(){return l});var n={PARSE_ERROR:-32700,INVALID_REQUEST:-32600,METHOD_NOT_FOUND:-32601,INVALID_PARAMS:-32602,INTERNAL_ERROR:-32603},r=function(e,t,i){this.message=e,this.code=t,this.data=i};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r;var a=function(e){this.code=n.PARSE_ERROR,this.name="Parse error",this.message=e};(a.prototype=Object.create(r.prototype)).constructor=a;var s=function(e){this.code=n.INVALID_REQUEST,this.name="Invalid request",this.message=e};(s.prototype=Object.create(r.prototype)).constructor=s;var o=function(e){this.code=n.METHOD_NOT_FOUND,this.name="Method not found",this.message=e};o.prototype=Object.create(r.prototype),o.prototype.constructor=o;var c=function(e){this.code=n.INVALID_PARAMS,this.name="Invalid params",this.message=e};c.prototype=Object.create(r.prototype),c.prototype.constructor=c;var l=function(e){this.code=n.INTERNAL_ERROR,this.name="Internal error",this.message=e};l.prototype=Object.create(r.prototype),l.prototype.constructor=l},function(e,h,p){"use strict";(function(e){p.d(h,"a",function(){return l});var a,o=p(2),t=p(3),i=p(1),n=p(583),s=p(106),r=p(585),c=void 0!==e.XMLHttpRequest,l=n.a.extend(t.q,{staticMembers:{_TransportClass:c?e.XMLHttpRequest:function(){Object(o.y)("Your browser does not support sending requests")},supportsCORS:Object(i.property)({readOnly:!0,get:function(t){if("boolean"==typeof t)return t;try{t=!!("withCredentials"in new this._TransportClass)}catch(e){t=!1}return this._supportsCORS=t}}),__QUALIFIED_CLASS_NAME__:"XHR"},mimeType:null,prepare:function(e,t){var i=e.__transport,n=e.get("url").get("href"),r=!e._synchronous;i.open(e.get("method"),n,r),i.withCredentials=e.get("useCredentialsIfCrossOrigin"),i.addEventListener("readystatechange",u);var a=this.get("mimeType");return i.overrideMimeType&&a&&i.overrideMimeType(a),i.upload&&e.uploadProgress&&!t&&Object(o.h)(i.upload,"progress",d.bind(this,e,"uploadProgress")),e.progress&&!t&&Object(o.h)(i,"progress",d.bind(this,e,"progress")),function(e,t){if(t&&Object(o.O)(t)){var i,n,r,a=Object.keys(t);for(n=0,r=a.length;n<r;n++)i=a[n],e.setRequestHeader(i,t[i])}}(i,e.get("headers")),this.configureTimeout(e),i},abort:function(e){var t,i=arguments;e&&(t=e.__transport)||Object(o.y)("Attempted to abort an XHR request that was never sent",e),t.removeEventListener&&t.removeEventListener("readystatechange",u),this.__s._$1P0$abort.apply(this,i)},handleResponse:function(e,t){var i=arguments;this.clearTimeout(e),this.__s._$1Ro$handleResponse.apply(this,i)},configureTimeout:function(e){var t=e.get("timeout");t&&(e._timer=Object(o._8)(this.handleTimeout.bind(this,e),t))},clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){e&&e._timer&&(clearTimeout(e._timer),delete e._timer)}),computeStatuses:function(e){var t=e.status,i=Math.floor(t/100),n=Math.floor(t%100/10),r=t%10;return a||(a={}),a[t]?a[t]:a[t]=0===t?[t,s.b.FAILED,s.b.COMPLETED]:[t,i+"**",""+i+n+"*","*"+n+"*","*"+n+r,"**"+r,2===i?s.b.SUCCEEDED:s.b.FAILED,s.b.COMPLETED]},createResponse:function(e){return r.a.create(e?{status:e.status,encodedBody:e.responseText,headers:e.getAllResponseHeaders()}:null)},finalize:function(e){var t,i=arguments;e&&(t=e.__transport)||Object(o.y)("Error while finalizing an XHR request - no internal transport",e),t.removeEventListener&&t.removeEventListener("readystatechange",u),this.clearTimeout(e),this.__s._$2BR$finalize.apply(this,i)},__superMap:{_$1P0$abort:"abort",_$1Ro$handleResponse:"handleResponse",_$2BR$finalize:"finalize"}}),u=Object(o._15)(function(){var e=this._request,t=e.get("transport");4===this.readyState&&t.handleResponse(e,this)});function d(e,t,i){var n=e[t];if(n){var r=!n.__lastWriteTime;n.__lastWriteTime=n.__lastWriteTime||Date.now();var a=n.__lastWriteTime,s=Date.now()-a;r||80<s?(n.setMultipleValues({bytesTransferred:i.loaded,bytesTotal:i.total,isDeterminate:i.lengthComputable}),n.__lastWriteTime=Date.now()):r?Object(o.e)(1):Object(o.e)(2)}}}).call(h,p(5))},function(e,i,n){"use strict";(function(u){n.d(i,"a",function(){return t});var e=n(1),d=n(2);function h(e,t,i){for(var n=i.length,r=0;r<n;r++){var a=i[r];t[a]=e[a]}return t}var t=e.CoreObject.extend({event:null,handled:!1,prevented:!1,rootResponder:null,eventType:null,eventKeys:["target"],generateEvent:function(e,t,i){t||(t=this.eventType),i||(i={});var n=!1,r=void 0;if(i instanceof u.Event){h(r=i,i={cwType:e,nativeEvent:r},t.nativePropertiesToCopy);var a=r.preventDefault;r.preventDefault=function(){n=!0,a.apply(this,arguments)}}else r=t.create(Object(d.U)(i,{preventDefault:function(){n=!0}})),i=Object(d.U)(i,{cwType:e,nativeEvent:r});var s=t.create(i);h(this,s,this.eventKeys),this.handled=this.rootResponder.dispatchEvent(s),this.event=s,this.prevented=n;for(var o=this.callbacks,c=o.length,l=0;l<c;l++)o[l](this);return this},init:function(){var e=arguments;this.__s._$ob$init.apply(this,e),this.callbacks||(this.callbacks=[])},callbacks:null,afterEach:function(e){return this.callbacks.push(e),this},staticMembers:{__QUALIFIED_CLASS_NAME__:"EventGenerator"},__superMap:{_$ob$init:"init"}})}).call(i,n(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(1).CoreObject.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuDividerItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(3),a=n.CoreObject.extend(r.q,{title:Object(r.T)({type:"string"}),titleIsAlwaysLTR:Object(r.T)({defaultValue:!1,type:"boolean"}),iconClass:Object(r.T)({type:"string"}),isDisabled:Object(r.T)({defaultValue:!1,type:"boolean"}),hasCheckmark:Object(r.T)({defaultValue:!1,type:"boolean"}),shouldEscapeTitle:Object(r.T)({defaultValue:!0,type:"boolean"}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(176),r=i(3),a=n.i.extend({dividerRowHeight:Object(r.T)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuListLayoutMetrics"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[n.Protocol],shouldHighlightMenuItem:n.RequiredMethod.define(),willHighlightMenuItem:null,didHighlightMenuItem:null,willUnhighlightMenuItem:null,didUnhighlightMenuItem:null,shouldCommitMenuWithItem:n.RequiredMethod.define(),willCommitMenuWithItem:null,didCommitMenuWithItem:null}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(328),r=i(325),a=i(326),s={mixinDependencies:[n.a],shouldHighlightMenuItem:function(e,t){return t.constructor.kindOf(a.a)?!t.isDisabled:!t.constructor.kindOf(r.a)},shouldUnhighlightMenuItem:function(e,t){return!0},shouldCommitMenuWithItem:function(e,t){return t.constructor.kindOf(a.a)?!t.isDisabled:!t.constructor.kindOf(r.a)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1158),r=(i.n(n),i(7).m.extend({staticMembers:{template:{type:"ELEMENT",tagname:"cw-menu-divider-item-view",children:[],attributes:{role:"separator"}},__QUALIFIED_CLASS_NAME__:"MenuDividerItemView"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(1159),r=(i.n(n),i(7)),a=i(3),o=i(2),s=i(326),c=r.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"cw-menu-item-view",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["checkmark"]},{type:"ELEMENT",tagname:"div",children:[],classes:["icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"content.iconClass",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"displayTitle",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"content.titleIsAlwaysLTR",truevalue:"is-always-ltr",attributes:{}}]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"content.hasCheckmark",truevalue:"has-checkmark",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasIconClass",truevalue:"has-icon-class",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"content.isDisabled",truevalue:"cw-disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHighlighted",truevalue:"cw-highlighted",attributes:{}}],attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"elementGUID",attributes:{},attribute:"id"},role:"menuitem"}}},__QUALIFIED_CLASS_NAME__:"MenuItemView"},isHighlighted:Object(a.T)({defaultValue:!1,type:Boolean}),ariaHidden:Object(a.T)(Object(a.R)("isPooledInDom")),isPooledInDom:Object(a.T)(),content:Object(a.T)({type:s.a}),elementGUID:Object(a.T)({type:"string",defaultValue:function(){return Object(o.D)(this)+"MenuItemView"}}),displayTitle:Object(a.T)({dependencies:["content","content.title","content.shouldEscapeTitle"],readOnly:!0,get:Object.assign(function(){var e=this.content;if(e){var t=e.shouldEscapeTitle,i=e.title;return t?Object(o.v)(i):i}return""},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(r){var a=r.shouldEscapeTitle,s=r.title;return a?Object(o.v)(s):s}return""}})}),hasIconClass:Object(a.T)({dependencies:["content","content.iconClass"],readOnly:!0,get:Object.assign(function(){var e=this.content;return!(!e||Object(o.M)(e.iconClass))},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return!(!r||Object(o.M)(r.iconClass))}})})})},function(e,t,i){"use strict";i.d(t,"b",function(){return c}),t.a=l;var n=i(10),h=i(3),o=i(2),r=i(1),p=i(7),a=i(183),s=i(184),c=i(333).a.extend({view:Object(h.T)({downstreamBindings:{layout:"(owner).matchedLayout.layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",arrowAlignment:"(owner).arrowAlignment",verticalAlignment:"(owner).verticalAlignment",horizontalAlignment:"(owner).horizontalAlignment"}}),anchorLayoutMeasurer:Object(h.T)({strong:!0,defaultValue:Object(r.instance)(p.d),downstreamBindings:{target:"(owner).anchor",shouldMeasure:"(owner)._shouldMeasure"}}),_hideOnAnchorDetach:Object(h.U)("anchorLayoutMeasurer.targetIsHidden",function(e){e&&this.hide()}),_shouldMeasure:Object(h.T)(!1),anchor:Object(h.T)(),anchorLayout:Object(h.T)(Object(h.R)("anchorLayoutMeasurer.targetLayout")),spaceLayout:Object(h.T)(n.a.sharedInstance.window),spaceInset:Object(h.T)(10),allowedLayouts:Object(h.T)([s.c,s.b,s.d,s.a]),fallbackLayout:s.a,arrowLength:Object(h.T)(10),arrowWidth:Object(h.T)(10),arrowAlignment:Object(h.T)({defaultValue:a.a.TargetMiddle,type:a.a}),verticalAlignment:Object(h.T)(p.l.Middle),horizontalAlignment:Object(h.T)(p.f.Middle),isAlignmentRequired:Object(h.T)(!0),resolutionStrategy:l,shouldAutosize:Object(h.T)({type:"boolean",defaultValue:!1}),desiredSize:Object(h.T)({strong:!0,defaultValue:Object(r.instance)(h.G,{height:100,width:50})}),minimumSize:Object(h.T)({strong:!0,defaultValue:Object(r.instance)(h.G,{height:10,width:10})}),show:function(e){var t=arguments;if(!this.isAttached)return e&&(this.anchor=e),this.anchor||Object(o.y)("PopoverViewController#show requires an anchor view: %{popover}",{popover:this}),this._shouldMeasure=!0,this.__s._$3eX$show.apply(this,t)},hide:function(){var e=arguments;if(this.isAttached)return this._shouldMeasure=!1,this.__s._$3kV$hide.apply(this,e)},init:function(){var e=arguments;this.__s._$3lc$init.apply(this,e),this.anchorLayout||this.anchorLayoutMeasurer.bind("target",this.bindingFor("anchor"))},willAppear:function(){var e=arguments;return this.shouldAutosize&&this._calculateSize(),this.__s._$3vx$willAppear.apply(this,e)},_calculateSize:function(){var e=this.getPath("view.popoverView")||this.view;if(e){var t=e.element,i=e.container;if(t&&i){var n=Object(p.q)(t),r=Object(p.q)(i),a=r.getInline("position"),s=n.getInline("height"),o=n.getInline("width");n.set({width:"auto",height:"auto"}),r.set("position","static");var c=i.getBoundingClientRect(),l=c.width,u=c.height;n.set({height:s,width:o}),r.set("position",a);var d=h.G.create({width:l,height:u});this.beginBatchSet().set("minimumSize",d).set("desiredSize",d).end()}}},_reconnectAllowedLayouts:Object(h.U)("allowedLayouts",function(e){var t=this.fitObserver;t&&t.disconnect();for(var i=Object(o._9)(e),n=i.length,r=[],a=0;a<n;a++){var s=i[a];s=s.create({config:this}),r.push(s.bindingFor("fit")),i[a]=s}this.allowedLayoutsInstances=i,r.push(this._resolveLayouts),this.fitObserver=this.observe.apply(this,r)}),_resolveLayouts:function(){var e,t=this.resolutionStrategy.apply(this,arguments);e=null!==t?this.allowedLayoutsInstances[t]:this._fallbackLayoutInstance||(this._fallbackLayoutInstance=this.fallbackLayout.create({config:this})),this.matchedLayout=e},matchedLayout:Object(h.T)(),viewClass:a.b,staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverViewController"},__superMap:{_$3eX$show:"show",_$3kV$hide:"hide",_$3lc$init:"init",_$3vx$willAppear:"willAppear"}});function l(){for(var e=arguments,t=e.length,i=0,n=null,r=0;r<t;r++){var a=e[r];i<a&&(i=a,n=r)}return n}},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(7),r=i(2),a=i(249),s=i(1),o=i(3),c=i(598),l=n.n.extend(a.g,{_appendedContentController:Object(s.define)(n.b,"contentView"),show:function(){var e=arguments;return this._appendedContentController=this.contentController,this.__s._$16R$show.apply(this,e)},hide:function(){var e=arguments;return this._appendedContentController=null,this.__s._$198$hide.apply(this,e)},contentController:Object(o.T)({strong:!0}),viewClass:c.a,owningViewController:Object(o.T)(),wheel:function(e){e.stopPropagation()},willAttach:function(){var e=arguments,t=this.getPath("view.element");if(t){var i=Object(n.q)(t);return this._originalVisibility=i.get("visibility"),i.set("visibility","hidden"),this.__s._$1UR$willAttach.apply(this,e)}},didAttach:function(){var e=arguments;this.willAppear();var t=this.getPath("view.element");if(t)return Object(n.q)(t,{visibility:this._originalVisibility}),this._originalVisibility=null,this.didAppear(),this.__s._$1bv$didAttach.apply(this,e)},willAppear:r.e,didAppear:r.e,_originalVisibility:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"PopupViewController"},__superMap:{_$16R$show:"show",_$198$hide:"hide",_$1UR$willAttach:"willAttach",_$1bv$didAttach:"didAttach"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(3),r=i(7),a=i(2),s=i(14),o=r.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"}],classes:["cw-modal-dialog-background",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOpen",truevalue:"is-open",falsevalue:"is-closing",attributes:{}}]}},className:"cw-ui-modal-dialog",__QUALIFIED_CLASS_NAME__:"ModalDialog"},contentView:Object(n.T)(),isFocusable:!0,tabIndex:-1,dismissOnEscape:Object(n.T)(!0),animationDuration:250,isOpen:Object(n.T)(),animateOpen:function(e){this.isOpen=!0,e&&Object(a._8)(e,this.animationDuration)},animateClosed:function(e){var t=this;this.isOpen=!1,Object(a._8)(function(){t.sendEvent("modalDialogDidDismiss"),"function"==typeof e&&e()},this.animationDuration)},_isAttachedDidChange:Object(n.U)("isAttached",function(e){e&&this.animateOpen()}),pointerUp:function(e){this.contentView.element.contains(e.targetView.element)?this.sendEvent("modalContentWasClicked",this):this.sendEvent("modalBackgroundWasClicked",this)},keyUp:function(e){this.dismissOnEscape&&e.keyCode===s.i.ESC&&this.animateClosed()}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var c=i(2),l=i(1),d=i(3),n=i(7),r=n.n.extend({items:Object(d.T)({type:d.r,set:function(e){return Object(c.K)(e)&&(e=d.r.create(e)),e}}),itemKeyMap:null,keyMapForItem:function(e){return this.itemKeyMap},itemViewClass:Object(d.T)(),viewClassForItem:function(e){return this.itemViewClass},proxyForItem:c.c,viewForItem:function(e){var t=this.proxyForItem(e),i=this.keyMapForItem(e),n=this.viewClassForItem(e);i||Object(c.y)("SimpleListViewController requires that you provide an itemKeyMap to map values from items to views.",{viewController:this,viewClass:n}),n||Object(c.y)("SimpleListViewController requires that you provide an itemViewClass.",{viewController:this,itemKeyMap:i});var r,a,s=t&&t.hasMixin&&t.hasMixin(d.q),o={};for(a in i)(r=i[a])===l.ITSELF?o[a]=t:o[a]=s?t.bindingFor(r):t[r];return n.create(o)},viewClass:n.m.extend({staticMembers:{template:{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"itemViews"}}}),itemViews:Object(d.T)(Object(l.instance)(d.r)),view:Object(d.T)({downstreamBindings:{itemViews:"(owner).itemViews"}}),_updateViewsForItems:Object(d.U)("items","items.contentsDidChange",function(e,t){var i,n,r,a,s=this.itemViews;if(t){var o,c,l,u=t.context;for(r=0,a=u.length;r<a;r++)n=(o=u[r]).item,c=o.index,(l=o.operation)===d.r.REMOVE?s.removeAt(c):l===d.r.INSERT&&(i=this.viewForItem(n),s.insertAt(c,i))}else if(s.clear(),e)for(r=0,a=e.length;r<a;r++)n=e.objectAt(r),i=this.viewForItem(n),s.push(i)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SimpleListViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var c=i(0),l=i(107),u=i(108),r=function(){var e,t,i,n,r,a,s,o=arguments;switch(arguments.length){case 1:n=(i=o[0]).x||0,r=i.y||0,a=i.width||0,s=i.height||0,e=l.a.create(n,r),t=u.a.create(a,s);break;case 2:e=o[0],t=o[1];break;case 4:e=l.a.create(o[0],o[1]),t=u.a.create(o[2],o[3]);break;default:c._75("Cannot create rect. Invalid number of arguments")}this.origin=e,this.size=t,this.x=e.x,this.y=e.y,this.width=t.width,this.height=t.height};r.prototype.toString=function(){var e=this.width,t=this.height;return"[BRKit.Geometry.Rect: <x: "+this.x+", y: "+this.y+", width: "+e+", height: "+t+">]"},r.create=function(e,t){var i,n=arguments;switch(n.length){case 1:i=new r(n[0]);break;case 2:i=new r(n[0],n[1]);break;case 4:i=new r(n[0],n[1],n[2],n[3]);break;default:c._75("Cannot create rect. Invalid number or arguments")}return Object.freeze(i),i}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r="Method not implemented",a=n.v.extend({size:0,intersectsRange:function(e){n._75(r)},subsetOfRange:function(e){n._75(r)},equals:function(e){n._75(r)},containsValue:function(e){n._75(r)},intersectWithRange:function(e){n._75(r)},unionWithRange:function(e){n._75(r)},mergeWithRange:function(e){n._75(r)},minValueAdjacentToRange:function(e){n._75(r)},maxValueAdjacentToRange:function(e){n._75(r)},betweenRanges:function(e,t){n._75(r)},subtractRange:function(e){n._75(r)},forEach:function(e){},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseRange"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o});var r=i(0),a=r._67("BRKit.ChangeSetInfoAction",["None","Insert","Remove","Move","Update"]),s=r.v.extend({staticMembers:{createInsertItem:function(e,t){return s.create({value:e,beforeIndex:null,afterIndex:r._74(t)?t:null,action:a.Insert})},createRemoveItem:function(e,t){return s.create({value:e,beforeIndex:r._74(t)?t:null,afterIndex:null,action:a.Remove})},createMoveItem:function(e,t,i){return s.create({value:e,beforeIndex:r._74(t)?t:null,afterIndex:r._74(i)?i:null,action:a.Move})},createUpdateItem:function(e,t,i,n){return s.create({value:e,diff:t||null,beforeIndex:r._74(i)?i:null,afterIndex:r._74(n)?n:null,action:a.Update})},__QUALIFIED_CLASS_NAME__:"ChangeSetItem"},value:null,beforeIndex:null,afterIndex:null,action:null}),n=r.v.extend({init:function(e){this.__s._$TX$init.call(this),this._items=e.items,this._counter=0},hasNext:function(){return this._counter<this._items.length},next:function(){var e=null;return this.hasNext()&&(e=this._items[this._counter],this._counter++),e},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChangeSetIterator"},__superMap:{_$TX$init:"init"}}),o=r.v.extend({staticMembers:{Action:a,__QUALIFIED_CLASS_NAME__:"ChangeSet"},items:r._107({readOnly:!0,get:function(){return this._items}}),length:r._107({readOnly:!0,get:function(){return this._items.length}}),count:r._107({readOnly:!0,get:function(){return this._items.length}}),hasItems:r._107({readOnly:!0,get:function(){return 0<this._items.length}}),iterator:r._107({readOnly:!0,get:function(){return n.create({items:this._items.slice()})}}),init:function(e){this.__s._$n2$init.call(this,e),this._items=[]},getItemAtIndex:function(e){return this._items[e]||null},addChangeSetItem:function(e){this._items.push(e)},recordInsert:function(e,t){var i=s.createInsertItem(e,t);return this.addChangeSetItem(i),i},recordRemove:function(e,t){var i=s.createRemoveItem(e,t);return this.addChangeSetItem(i),i},recordMove:function(e,t,i){var n=s.createMoveItem(e,t,i);return this.addChangeSetItem(n),n},recordUpdate:function(e,t,i,n){var r=s.createUpdateItem(e,t,i,n);return this.addChangeSetItem(r),r},forEach:function(e){this._items.forEach(e)},filter:function(t){var i=o.create();return this._items.forEach(function(e){!1!==t(e)&&i.addChangeSetItem(e)}),i},map:function(e){return this._items.map(e)},toString:function(){for(var e,t="[ChangeSet: ",i=this._items,n=i.length,r=0;r<n;r++){switch((e=i[r]).get("action")){case a.Insert:t+="<Insert: "+e.get("value")+">";break;case a.Remove:t+="<Remove: "+e.get("value")+">";break;case a.Update:t+="<Update: "+e.get("value")+">";break;case a.Move:t+="<Move: "+e.get("value")+">"}r<n-1&&(t+=", ")}return 0===n&&(t+="EMPTY"),t+"]"},__superMap:{_$n2$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(337).a.extend({intersectsRange:function(e){return!1},subsetOfRange:function(e){return!0},equals:function(e){return e===this},containsValue:function(e){return!1},intersectWithRange:function(e){return this},unionWithRange:function(e){return e},mergeWithRange:function(e){return e},minValueAdjacentToRange:function(e){return!1},maxValueAdjacentToRange:function(e){return!1},betweenRanges:function(e,t){return!1},toString:function(){return"[Range: <EMPTY>]"},subtractRange:function(e){return[this]},staticMembers:{__QUALIFIED_CLASS_NAME__:"EmptyRange"}}).create();Object.freeze(n)},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{changed:n._118(),totalAmount:0,percentageComplete:0,amountComplete:0,isComplete:n._107({readOnly:!0,get:function(){return 100===this.get("percentageComplete")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"Progress"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(342),a=n.v.extend(n._8,{dragService:n._107({readOnly:!0,get:function(){return this._dragService}}),init:function(e){this.__s._$5T$init.call(this,e),this._dragService=this.loadDragService()},loadDragService:function(){return Object(r.a)()},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseDragHandler"},__superMap:{_$5T$init:"init"}})},function(e,t,i){"use strict";t.a=function(){return n||(n=r.create()),n};var a=i(0),n=null,r=a.v.extend(a._8,{delegate:null,dragInitiator:a._107({readOnly:!0,get:function(){return this._dragInitiator}}),dragTargetInfo:a._105({readOnly:!0,get:function(){return this._dragTargetInfo}}),dragTargetHandler:a._107({readOnly:!0,get:function(){return this._dragTargetHandler}}),dragSourceInfo:a._107({readOnly:!0,get:function(){return this._dragSourceInfo}}),init:function(e){this.__s._$EU$init.call(this,e),this._data={},this._dragging=!1},draggingStarted:function(e,t,i){this._dragging&&this._throwFatalInvalidStateError("Cannot notify dragging started");var n=i.get("type");if("file-system"!==n&&"none"!==n){var r=t.dataTransfer;r.effectAllowed=i.effectAllowed,a.j.get("sharedInstance").get("isIE")||a.j.get("sharedInstance").get("isEdge")?r.setData("Text","(data)"):r.setData("application/x-br-file","(data)")}this._dragging=!0,this._dragInitiator=e,this._dragSourceInfo=i},draggingEnded:function(){this._dragging||this._throwFatalInvalidStateError("Cannot notify dragging end");var e=this._dropHandler,t=this._dragTargetView;t&&t.set("isDragTargetFocused",!1),this._dragging=!1,this._dragInitiator=null,this._dragTargetInfo=null,this._dragTargetHandler=null,this._dragTargetView=null,this._dragSourceInfo=null,e&&(e(),this._dropHandler=null),this.propertyChanged("dragTargetInfo")},setDragTargetHandler:function(e,t,i){this._dragging||this._throwFatalInvalidStateError("Cannot set drag target handler");var n=this._dragTargetInfo=e.getDragTargetInfo(t,i,this.get("dragSourceInfo"));t.dataTransfer.dropEffect=n.data.dropEffect;var r=this._dragTargetHandler,a=this._dragTargetView;r!==e&&(a&&a.set("isDragTargetFocused",!1),i.set("isDragTargetFocused",!0),this._dragTargetView=i,this._dragTargetHandler=e,this.propertyChanged("dragTargetInfo"))},clearDragTargetHandler:function(){this._dragging||this._throwFatalInvalidStateError("Cannot clear drag target handler");var e=this._dragTargetView;e&&e.set("isDragTargetFocused",!1),this._dragTargetHandler=null,this._dragTargetView=null,this._dragTargetInfo=null,this.propertyChanged("dragTargetInfo")},setDropHandler:function(e,t,i,n,r){this._dropHandler=e.bind(t,i,n,r)},_throwFatalInvalidStateError:function(e){a._75(e+". Invalid state.",{dragService:this})},staticMembers:{__QUALIFIED_CLASS_NAME__:"DragService"},__superMap:{_$EU$init:"init"}})},function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i={init:function(){var e=arguments,t=this.getMetadataByType(a(624).LayoutCollapseFunction),i=[];for(var n in t){var r=t[n].getFunctionForObject(this);this[n]=r,i.push(r)}this.layoutCollapseFunctions=i,this.__s._$9_$init.apply(this,e)},__superMap:{_$9_$init:"init"}}},function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"a",function(){return o});var n=i(0),r=i(187),a=i(140),f=i(626),_=n._67("BRKit.DragDrop.ScrollViewDragDirectionEnum",function(e){e("Up"),e("Down")}),s=n.v.extend({staticMembers:{Direction:_,__QUALIFIED_CLASS_NAME__:"ScrollViewDragRegion"},direction:null,width:40,minScrollRate:100,maxScrollRate:1500,init:function(e){this.__s._$BO$init.call(this,e),this._startTime=0},hitTest:function(e,t){var i=Object(f.a)(e,t),n=this._horizontalRange,r=this._verticalRange;return r&&n&&r.containsValue(i.y)&&n.containsValue(i.x)},prepare:function(e){var t,i,n=e.get("frame").get("size"),r=this.get("width");switch(this.get("direction")){case _.Up:t=a.a.create(0,n.width),i=a.a.create(0,r);break;case _.Down:t=a.a.create(0,n.width),i=a.a.create(n.height-r,n.height)}this._horizontalRange=t,this._verticalRange=i},entered:function(e){this._lastTime=Date.now(),this._startOffsetY=e.get("contentOffset").y,this._startOffsetX=e.get("contentOffset").x,this._offsetDelta=0},adjustContentOffset:function(e,t){var i,n=Object(f.a)(e,t),r=this._lastTime,a=Date.now(),s=a-r,o=this.get("direction"),c=this.get("minScrollRate"),l=this.get("maxScrollRate")-c,u=this._verticalRange;switch(o){case _.Up:i=Math.abs(u.maxValue-n.y)/u.size;break;case _.Down:i=Math.abs(u.minValue-n.y)/u.size}var d=c+l*i,h=this._offsetDelta;switch(o){case _.Up:h+=s*d/1e3*-1;break;case _.Down:h+=s*d/1e3}var p=h+this._startOffsetY;this._offsetDelta=h,this._lastTime=a,t.adjustContentOffsetY(Math.round(p))},__superMap:{_$BO$init:"init"}}),o=n.v.extend({scrollView:null,dragRegions:n._107({readOnly:!0,get:function(){return this._dragRegions}}),init:function(e){this.__s._$10Q$init.call(this,e),this._dragRegions=[],this._activeDragRegion=null,this._shouldPrepare=!1;var t=this;this._adjustScrollContentOffsetHandle=function(){t._adjustScrollContentOffset()}},addDragRegion:function(e){this._dragRegions.push(e),this.prepare()},prepare:function(){this._shouldPrepare=!0},dragEnter:function(e){this._scroll(e)},dragOver:function(e){this._scroll(e)},dragLeave:function(e){this._stopScrolling(e)},drop:function(e){this._stopScrolling(e)},_scroll:function(e){this._event=e,this._scheduleNextScrollContentOffsetAdjustment()},_stopScrolling:function(e){this._event=null,this._cancelNextScrollContentOffsetAdjustment()},_scheduleNextScrollContentOffsetAdjustment:function(){this._requestHandle||(this._requestHandle=r.a.requestAnimationFrame(this._adjustScrollContentOffsetHandle))},_cancelNextScrollContentOffsetAdjustment:function(){this._requestHandle=null},_adjustScrollContentOffset:function(){var e,t,i=this._event,n=this._dragRegions,r=this.get("scrollView");if(i){if(this._shouldPrepare){for(e=0,t=n.length;e<t;e++)n[e].prepare(r);this._shouldPrepare=!1}var a=this._activeDragRegion,s=null;if(a&&a.hitTest(i,r))s=a;else for(e=0,t=n.length;e<t;e++){var o=n[e];if(o.hitTest(i,r)){s=o;break}}s&&(s!==a&&s.entered(r),s.adjustContentOffset(i,r)),this._activeDragRegion=s}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ScrollViewDragHandler"},__superMap:{_$10Q$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRKit.PopoverArrowDirectionEnum",function(e){e("Up"),e("Down"),e("Left"),e("Right"),e("Any"),e("Unknown")})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(8),r=i(0),a=r._58.extend(n.j,{_viewVisible:!1,isViewVisible:r._107({readOnly:!0,get:function(){return this._viewVisible}}),modalInPopover:!0,beginAppearanceTransition:function(e){if(e?(this.logTrace("view will appear"),this.viewWillAppear()):(this.logTrace("view will disappear"),this.viewWillDisappear()),this.shouldAutomaticallyForwardAppearanceMethods())for(var t=this._childViewControllers,i=t.length,n=0;n<i;n++)t[n].beginAppearanceTransition(e)},endAppearanceTransition:function(e){if(e?(this.logTrace("view did appear"),this.viewDidAppear()):(this.logTrace("view did disappear"),this.viewDidDisappear()),this.shouldAutomaticallyForwardAppearanceMethods())for(var t=this._childViewControllers,i=t.length,n=0;n<i;n++)t[n].endAppearanceTransition(e)},shouldAutomaticallyForwardAppearanceMethods:function(){return!0},viewWillLoad:function(){},viewWillAppear:function(){this._beingPresented=!0,this._viewVisible=!1},viewDidAppear:function(){this._beingPresented=!1,this._viewVisible=!0},viewWillDisappear:function(){this._beingDismissed=!0,this._viewVisible=!0},viewDidDisappear:function(){this._beingDismissed=!1,this._viewVisible=!1},viewWillLayoutSubviews:function(){},viewDidLayoutSubviews:function(){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(637).a.extend({willOpen:function(){this.didOpen()},willClose:function(){this.didClose()},sendMessage:function(e){var t=this.get("window"),i=this.get("origin");n.j.get("sharedInstance").get("isIE9OrLower")&&(e=JSON.stringify(e)),t.postMessage(e,i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCOutputChannel"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(0),r=i(194),a=i(141),s=i(195),o=Object(s.a)("Channel",function(e){e("Closing"),e("Closed"),e("Opening"),e("Opened"),e("FatalError")}),c=o.Closing,l=o.Closed,u=o.Opening,d=o.Opened,h=o.FatalError,p=n.v.extend(a.a,r.a,{window:n._107({readOnly:!0,get:function(){return this._window}}),state:n._107({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup(o)}}),init:function(e){e.window||this.fatalError("Cannot open channel. Requires window");var t=e.window;delete e.window,this.__s._$XZ$init.call(this,e),this._window=t,this.registerStateEnumGroup(o,l,h)},open:function(){this.transitionFromStateToState(l,u),this.willOpen()},close:function(){this.transitionFromStateToState(d,c),this.willClose()},willOpen:function(){},didOpen:function(){this.transitionFromStateToState(u,d)},willClose:function(){},didClose:function(){this.transitionFromStateToState(c,l)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseChannel"},__superMap:{_$XZ$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i(0),n=i(15),o=i(350),c=i(646);function l(e){for(var t=0,i=e&&e.length||0;t<i;++t){var n=e[t];if(n.isPrimary)return n}}var u=a._67("AppleIdEntryType",{PHONE_NUMBER:"PHONE_NUMBER",EMAIL:"EMAIL"}),r=a.v.extend(a._8,{staticMembers:{EMPTY_USER:null,statusCodes:{INACTIVE:0,FREE_QUALIFIED:2,FREE_NOT_QUALIFIED:3,LITE:4},__QUALIFIED_CLASS_NAME__:"User"},firstName:a._105(""),lastName:a._105(""),statusCode:a._105(),countryCode:a._105(),isChineseAccount:a._105({dependencies:["countryCode"],readOnly:!0,get:Object.assign(function(){return"CHN"===this.countryCode},{__CW__getter:function(e,t,i,n){return"CHN"===n.internalGet(this,t[0+i])}})}),SafariBookmarksHasMigratedToCloudKit:!1,loadInfo:function(e){a.A.pause();for(var t=Object.keys(e),i=0,n=t.length;i<n;i++){var r=t[i];this.set(r,e[r])}a.A.resume()},isServiceActive:function(e){return!!n.a.get("authBag").getServiceInfoFor(e)},displayName:a._105({dependencies:["firstName","lastName","displayablePrimaryAppleId"],readOnly:!0,get:Object.assign(function(){var e=this.get("appleIdEntries");if(!e)return Object(o.a)({givenName:this.firstName,familyName:this.lastName,emailAddress:this.appleId});var t=l(e),i=t&&t.type;return Object(o.a)({givenName:this.firstName,familyName:this.lastName,emailAddress:i===u.EMAIL.value?t.value:null,phoneNumber:i===u.PHONE_NUMBER.value?t.formattedValue:null})},{__CW__getter:function(e,t,i,n){var r=this.get("appleIdEntries");if(!r)return Object(o.a)({givenName:n.internalGet(this,t[0+i]),familyName:n.internalGet(this,t[1+i]),emailAddress:this.appleId});var a=l(r),s=a&&a.type;return Object(o.a)({givenName:n.internalGet(this,t[0+i]),familyName:n.internalGet(this,t[1+i]),emailAddress:s===u.EMAIL.value?a.value:null,phoneNumber:s===u.PHONE_NUMBER.value?a.formattedValue:null})}})}),appleId:a._105({dependencies:["appleIdEntries"],set:function(e){this._appleId=e},get:Object.assign(function(){var e=this.get("appleIdEntries");if(!e)return this._appleId;var t=l(e);return t&&(t.type===u.PHONE_NUMBER.value?t.formattedValue:t.value)||""},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(!r)return this._appleId;var a=l(r);return a&&(a.type===u.PHONE_NUMBER.value?a.formattedValue:a.value)||""}})}),normalizedPrimaryAppleId:a._105({dependencies:["appleIdEntries","appleId"],cacheable:!0,readOnly:!0,get:Object.assign(function(){var e=this.appleIdEntries;if(!e)return this.appleId;var t=l(e);return t&&(t.type===u.PHONE_NUMBER.value?t.canonicalValue:t.value)||""},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(!r)return n.internalGet(this,t[1+i]);var a=l(r);return a&&(a.type===u.PHONE_NUMBER.value?a.canonicalValue:a.value)||""}})}),displayablePrimaryAppleId:a._105({dependencies:["appleIdEntries","appleId"],cacheable:!0,readOnly:!0,get:Object.assign(function(){var e=this.appleIdEntries;if(!e)return this.appleId;var t=l(e);return t&&(t.type===u.PHONE_NUMBER.value?t.formattedValue:t.value)||""},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(!r)return n.internalGet(this,t[1+i]);var a=l(r);return a&&(a.type===u.PHONE_NUMBER.value?a.formattedValue:a.value)||""}})}),primaryAppleIdType:a._105({dependencies:["appleIdEntries"],readOnly:!0,cacheable:!0,get:Object.assign(function(){var e=this.appleIdEntries;if(!e){var t=this.normalizedPrimaryAppleId,i=void 0;return Object(c.a)(t)?i=u.EMAIL:Object(c.b)(t)&&(i=u.PHONE_NUMBER),i}var n=l(e);return n&&u.getItemForValue(n.type)},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(!r){var a=this.normalizedPrimaryAppleId,s=void 0;return Object(c.a)(a)?s=u.EMAIL:Object(c.b)(a)&&(s=u.PHONE_NUMBER),s}var o=l(r);return o&&u.getItemForValue(o.type)}})}),isPrimaryAppleIdTypePhoneNumber:a._105({readOnly:!0,cacheable:!0,dependencies:["primaryAppleIdType"],get:Object.assign(function(){return this.primaryAppleIdType===u.PHONE_NUMBER},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===u.PHONE_NUMBER}})}),isPrimaryAppleIdTypeEmail:a._105({readOnly:!0,cacheable:!0,dependencies:["primaryAppleIdType"],get:Object.assign(function(){return this.primaryAppleIdType===u.EMAIL},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===u.EMAIL}})}),primaryEmail:a._105(null),appleIdAliases:a._105(null),appleIdAlias:a._105(null),iCloudAppleIdAlias:null,appleIdEntries:a._105(null),dsid:null,isMyEmailAddressOrPhoneNumber:function(e){return!!e&&(e=(e||"").toLowerCase(),!!this._appleIdEmailsLookupTable[e]||!!Object(c.b)(e)&&(e=Object(c.c)(e),!!this._appleIdPhoneNumbersLookupTable[e]))},_appleIdEmailsLookupTable:a._105({dependencies:["appleId","primaryEmail","appleIdAliases","appleIdEntries"],cacheable:!0,readOnly:!0,get:function(){return this._buildAppleIdLookupTable(u.EMAIL)}}),_appleIdPhoneNumbersLookupTable:a._105({dependencies:["appleId","primaryEmail","appleIdAliases","appleIdEntries"],cacheable:!0,readOnly:!0,get:function(){return this._buildAppleIdLookupTable(u.PHONE_NUMBER)}}),hasEmailAddress:a._105({dependencies:["_appleIdEmailsLookupTable"],cacheable:!0,readOnly:!0,get:Object.assign(function(){var e=this._appleIdEmailsLookupTable;return 0<Object.keys(e).length},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return 0<Object.keys(r).length}})}),_buildAppleIdLookupTable:function(e){var t,i,n={},r=this.appleIdEntries;if(r){for(t=0,i=r.length;t<i;++t){var a=r[t];e&&a.type!==e.value||(n[((a.type===u.PHONE_NUMBER.value?a.canonicalValue:a.value)||"").toLowerCase()]=!0)}return n}if(e===u.PHONE_NUMBER)return n;var s=this.appleId,o=this.primaryEmail,c=this.appleIdAliases;for(s&&(n[s.toLowerCase()]=!0),o&&(n[o.toLowerCase()]=!0),t=0,i=c&&c.length||0;t<i;++t){var l=c[t];l&&(n[l.toLowerCase()]=!0)}return n}});r.EMPTY_USER=r.create({firstName:"No",lastName:"User"})},function(e,t,i){"use strict";t.a=function(e){var t,i,n=e.givenName,r=e.familyName,a=e.emailAddress,s=e.phoneNumber,o=e.nickname,c=e.companyName,l=o||n;l&&r&&(i=u._120(l)&&u._120(r)?"Name.Display.NameIsCJK.FirstAndFamilyNames":"Name.Display.FirstAndFamilyNames",t=u._99(i,{firstName:l,familyName:r}));return d(t)||(t=d(l)||d(r)||d(a)||d(s)||d(c)),t};var u=i(0);function d(e){return e&&!/^\s*$/.test(e)?e:""}i(1231)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(15),a=n.v.extend({name:null,application:n._107({readOnly:!0,get:function(){var e=this._application;return e||(e=this._application=this.loadApplication()),e}}),init:function(e){this.__s._$My$init.call(this,e),r.a.set("launcher",this)},loadApplication:function(){return null},launch:function(){},willLaunchApplication:function(){},didLaunchApplication:function(){},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseApplicationLauncher"},__superMap:{_$My$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={_generateURLForPath:function(e,t){var i=this.clientBuildNumber,n=this.clientMasteringNumber,r="";return i&&(r="?clientBuildNumber="+i,n&&(r+="&clientMasteringNumber="+n)),e+t+r}}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(658),a=i(659),s=i(15),o={mixinDependencies:[a.a],staticMembers:{requestLoggingLevel:n.Z.LOG_LEVEL_DEBUG},shouldReportFailure:n._107({get:function(e){return"boolean"==typeof e?e:421!==this.getPath("response.status")}}),URLClass:r.a,specialResponseStatuses:[401,421,423,503],finalize:function(){var e=arguments;this.__s._$Sb$finalize.apply(this,e);var t=this.get("response");if(t){var i=t.get("status");-1!==this.specialResponseStatuses.indexOf(i)&&this._specialResponseWasReceived()}},_specialResponseWasReceived:function(){var e=this.get("response"),t=e.get("status"),i=e.get("body"),n=JSON.stringify(i),r={serviceName:this.url.serviceName,timeTaken:Date.now()-this.sentAt};s.a.get("cloudOSService").didReceiveSpecialResponse(t,n,r)},url:n._105({defaultValue:function(){return this.URLClass.create()}}),__superMap:{_$Sb$finalize:"finalize"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={staticMembers:{parse:function(e){var t=arguments,i=this.__s._$87$parse.apply(this,t);return i.hostname=i.shardedHostname,delete i.shardedHostname,i},init:function(){var e=arguments,t=n._68(this.components),i=t.indexOf("hostname");0<=i&&(t[i]="shardedHostname"),this.components=t,this.__s._$Je$init.apply(this,e)},generateShardedHostname:function(e,t){return e.replace(/\-/,"-"+t+"-")},__superMap:{_$87$parse:"parse",_$Je$init:"init"}},shardedHostname:n._105({dependencies:["hostname","shardNumber"],readOnly:!0,get:Object.assign(function(){var e=this.hostname,t=this.shardNumber;return e&&t?this.constructor.generateShardedHostname(e,t):e},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]);return r&&a?this.constructor.generateShardedHostname(r,a):r}})}),shardNumber:n._105()}},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",children:[],namespace:"http://www.w3.org/2000/svg",attributes:{d:"M5.5,6.34852814 L0.651471863,1.5 L1.5,0.651471863 L5.5,4.65147186 L9.5,0.651471863 L10.3485281,1.5 L5.5,6.34852814 Z"}}],namespace:"http://www.w3.org/2000/svg",classes:["cosk-chevron-icon"],attributes:{width:"11px",height:"7px",viewBox:"0 0 11 7",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}},className:"cosk-ui-title-bar-chevron-view",__QUALIFIED_CLASS_NAME__:"ChevronView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var o=i(0),n=o.v.extend({transition:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"TransitionCancelled"}}),r=o.v.extend({promise:o._85(o.w),wasCancelled:!1,parentViewController:o._107(null),fromViewController:o._107(null),toViewController:o._107(null),fromView:o._107(null),toView:o._107(null),isRunning:o._107(!1),delegate:o._107(null),delegateContext:o._107(null),init:function(){var e=arguments;this.__s._$cB$init.apply(this,e);var t=this.parentViewController,i=this.fromViewController,n=this.toViewController;i&&i.retain(this,"holding during a transition away from this VC"),n&&n.retain(this,"holding during a transition to this VC"),t.retain(this,"holding during a transition within this VC")},run:function(){var e,t=this.delegate;t&&(e=this.delegateContext||t,t.transitionWillStart.call(e,this)),this.isRunning=!0;var i=this.parentViewController,n=this.fromViewController,r=this.toViewController,a=this.fromView,s=this.toView;return o._100.info("Beginning transition from "+n+" to "+r),n!==r?(n&&n.willMoveToParentViewController(null,this),r&&r.willMoveToParentViewController(i,this),a!==s?(this.stopConflictingTransitions(),this.markViews(),this.start(),r&&r.parent!==i&&i.addChildViewController(r)):this.didFinish()):a!==s&&(this.stopConflictingTransitions(),this.markViews(),this.start()),this.promise},start:function(){this.notifyDidMoveToViewController()},notifyDidMoveToViewController:function(){var e,t,i;e=this.parentViewController,t=this.fromViewController,i=this.toViewController,this.toView&&i&&t!==i&&i.didMoveToParentViewController(e,this)},markViews:function(){this.fromView&&(this.fromView.__anim_transition=this),this.toView&&(this.toView.__anim_transition=this)},unmarkViews:function(){this.fromView&&this.fromView.__anim_transition===this&&(this.fromView.__anim_transition=null),this.toView&&this.toView.__anim_transition===this&&(this.toView.__anim_transition=null)},stopConflictingTransitions:function(){var e=this.fromViewController,t=this.fromView,i=this.toViewController,n=this.toView;t&&(t.__anim_transition&&t.__anim_transition.stopTransitioningViewController(e),t.__anim_transition=null),n&&(n.__anim_transition&&n.__anim_transition.stopTransitioningViewController(i),n.__anim_transition=null)},stopTransitioningViewController:function(e){this.toViewController===e&&(this.promise.catch(function(){}),this.promise.reject(n.create({transition:this})),this.wasCancelled=!0,this.toViewController=null,this.toView=null),this.fromViewController===e&&(this.fromViewController=null,this.fromView=null)},didFinish:function(){var e=this.parentViewController,t=this.fromViewController,i=this.toViewController;t!==i&&t&&(e.removeChildViewController(t),t.didMoveToParentViewController(null,this)),this.isRunning=!1;var n=this.delegate;if(n){var r=this.delegateContext||n;n.transitionDidFinish.call(r,this)}this.unmarkViews(),t&&t.release(this,"holding during a transition away from this VC"),i&&i.release(this,"holding during a transition to this VC"),e.release(this,"holding during a transition within this VC"),this.wasCancelled||this.promise.resolve(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ViewControllerTransition"},__superMap:{_$cB$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(43),r=i(0),a=i(1275),u=(i.n(a),i(139)),s=i(685),o=i(344),c=i(12).a.extend(n.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],styles:{overflow:"hidden"}},__QUALIFIED_CLASS_NAME__:"ScrollView"},additionalClassNames:r._60(["scroll"]),delegate:null,contentOffset:r._107({readOnly:!0,defaultValue:function(){return{x:0,y:0}}}),contentSize:r._107({readOnly:!0,defaultValue:function(){return{width:0,height:0}}}),contentInset:r._107({readOnly:!0,defaultValue:function(){return{top:0,bottom:0,left:0,right:0}}}),verticalScrollBar:r._107({readOnly:!0,get:function(){return this._verticalScrollBar}}),_animatedContentOffsetX:n.b(0),_animatedContentOffsetY:n.b(0),init:function(e){this.__s._$M7$init.call(this,e),this._dragHandler=o.a.create({scrollView:this})},showScrollBars:function(){var e=this._verticalScrollBar;e&&e.show()},addScrollDragRegion:function(e){this._dragHandler.addDragRegion(e)},adjustContentOffset:function(e,t,i){if(this.isAnimating&&this.shouldContinueCurrentScrollAnimationForContentOffset(e,t))return u.a.resolve(this);if(i){var n=250;return!0!==i&&1<i&&(n*=i),this._targetContentOffsetX!==e&&(this._targetContentOffsetX=e,this.animate("_animatedContentOffsetX",e,n)),this._targetContentOffsetY!==t&&(this._targetContentOffsetY=t,this.animate("_animatedContentOffsetY",t,n)),this._animationPromise=u.a.create()}return this._targetContentOffsetX=e,this._targetContentOffsetY=t,this.set("_animatedContentOffsetX",e),this.set("_animatedContentOffsetY",t),this._completeAdjustContentOffset(e,t),u.a.resolve(this)},shouldContinueCurrentScrollAnimationForContentOffset:function(e,t){return!1},_animatedContentOffsetDidChange:r._106("_animatedContentOffsetX","_animatedContentOffsetY",function(e,t){this._completeAdjustContentOffset(e,t)}),_animationStateDidChange:r._106("isAnimating",function(e){var t=this._animationPromise;t&&!e&&(this._animationPromise=null,t.resolve(this))}),_completeAdjustContentOffset:function(e,t){var i=this._contentOffset;i.x=e,i.y=t,this._adjustScrollBars(),this.contentOffsetDidChange(i),this.setNeedsLayout(),this.layer.adjustBoundsOffset(e,t);var n=this.delegate;if(n){var r=n.scrollViewDidScroll||null;r&&r.call(n,this,i)}},adjustContentOffsetYByDelta:function(e,t){var i=this._contentOffset.y+e;return this.adjustContentOffsetY(i,t)},adjustContentOffsetY:function(e,t){var i=this._contentSize,n=this._contentOffset,r=this._contentInset,a=this.frame,s=n.y,o=a.height,c=i.height+r.top+r.bottom;if(c<=o)return!0;e<-r.top&&(e=-r.top),e+o+r.top>c&&(e=i.height-o+r.bottom);var l=null;return e!==s?l=this.adjustContentOffset(n.x,e,t):t&&(l=u.a.createAndResolve(this)),this.setNeedsLayout(),l},loadSubviews:function(){var e=s.b.create({orientation:s.a.Vertical}),t=this;this._verticalScrollBarObserver=e.observe("dragging",function(e){e&&t._verticalScrollBarDragging()}),this._verticalScrollBar=e,this.addSubview(e)},adjustContentSize:function(e,t){var i=this._contentSize;i.width=e,i.height=t,this.setNeedsLayout(),this._adjustScrollBars(),this.contentSizeDidChange(i)},adjustContentInset:function(e){var t=this._contentInset;void 0!==e.top&&(t.top=e.top),void 0!==e.bottom&&(t.bottom=e.bottom),void 0!==e.left&&(t.left=e.left),void 0!==e.right&&(t.right=e.right),this._adjustScrollBars(),this.contentInsetDidChange(t)},contentOffsetDidChange:function(e){},contentSizeDidChange:function(e){},contentInsetDidChange:function(e){},wheel:function(e){e.preventDefault();var t,i,n,r=(i=0,n=(t=e).nativeEvent,void 0!==t.wheelDeltaY?i=t.wheelDeltaY:void 0!==t.deltaY?i=t.deltaY:n&&void 0!==n.wheelDeltaY&&(i=n.wheelDeltaY),i);return this.adjustContentOffsetYByDelta(r),!0},frameBoundsDidChange:function(e){this.__s._$1k7$frameBoundsDidChange.call(this,e),this._adjustScrollBars(),this._dragHandler.prepare()},frameDidInvalidate:function(e,t){this.__s._$1mY$frameDidInvalidate.call(this,e,t),this._adjustScrollBars(),this._dragHandler.prepare()},_verticalScrollBarDragging:function(){var e=this._verticalScrollBar;if(e){var t=this._contentOffset,i=this._contentInset;t.y=e.contentOffset-i.top,this.layer.adjustBoundsOffset(t.x,t.y),this.setNeedsLayout(),this.contentOffsetDidChange(t)}},_adjustScrollBars:function(){var e=this._verticalScrollBar;if(e){var t=this._contentSize,i=this._contentInset,n=t.height+i.top+i.bottom,r=i.top+this._contentOffset.y,a=this.frame.height;e.set("contentSize",n),e.set("contentOffset",r),e.set("contentClipSize",a)}},dragEnter:function(e){return this._dragHandler.dragEnter(e),!1},dragOver:function(e){return this._dragHandler.dragOver(e),!1},dragLeave:function(e){return this._dragHandler.dragLeave(e),!1},drop:function(e){return this._dragHandler.drop(e),!1},handleKeyDown:function(e){switch(e.which){case 32:return e.shiftKey?this.pageUp():this.pageDown(),!0;case r.S.PAGEUP:return this.pageUp(e.shiftKey),!0;case r.S.PAGEDOWN:return this.pageDown(e.shiftKey),!0;case r.S.END:return this.scrollToBottom(e.shiftKey),!0;case r.S.HOME:return this.scrollToTop(e.shiftKey),!0}return!1},pageDown:function(e){var t=this.frame.size.height;this.adjustContentOffsetYByDelta(t,e?10:1)},pageUp:function(e){var t=this.frame.size.height;this.adjustContentOffsetYByDelta(-t,e?10:1)},scrollToTop:function(e){this.adjustContentOffsetY(0,e?10:1)},scrollToBottom:function(e){this.adjustContentOffsetY(this.contentSize.height,e?10:1)},__superMap:{_$M7$init:"init",_$1k7$frameBoundsDidChange:"frameBoundsDidChange",_$1mY$frameDidInvalidate:"frameDidInvalidate"}})},function(e,t,i){"use strict";t.a=function(e){return Math.round(Math.random()*e)}},function(e,t,i){"use strict";t.a=function(e,t){return Object(n.a)(t-e)+e};var n=i(359)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(4),r=/^(.*)\.([^.]+)$/i,a={_splitUploadFilename:function(e){var t=e.match(r)||[];if(!/^zip$/i.test(t[2])||!t[1])return t;var i=t[1].match(r)||[];return i[2]&&n._14(i[2])?i:t},getBaseNameForNativeFileName:function(e){return a._splitUploadFilename(e)[1]||e},getUncompressedExtensionForNativeFileName:function(e){var t=a._splitUploadFilename(e);return t[1]&&t[2]||""},getBaseNameForNativeFile:function(e){return a.getBaseNameForNativeFileName(e.name)},getUncompressedExtensionForNativeFile:function(e){return a.getUncompressedExtensionForNativeFileName(e.name)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(4),c=i(45),l=i(46),a=i(27),u=l.a.Status,s=r._2.extend({init:function(e,t){this.items=e,this.__s._$BS$init.call(this,t)},items:null,_path:n._107({readOnly:!0,get:function(){return"/deleteItems"}}),startRun:function(){var t=this,e={items:this.items.map(function(e){return{drivewsid:e.id,etag:e.etag}})};a.a.post(this._path,e).then(function(e){t._requestDidSucceed(e)}).catch(function(e){t.finishRunWithFailure(e)})},_requestDidSucceed:function(e){for(var t=e.body.items,i=c.a.create(),n=0,r=t.length;n<r;n++){var a=t[n],s=u.getItemForValue(a.status);delete a.status;var o=l.a.create({itemID:a.drivewsid,status:s,details:a});i.addInfoItem(o)}this.finishRunWithSuccess({commitInfo:i})},staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemsCommitTask"},__superMap:{_$BS$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(4),l=i(45),u=i(46),d=i(27),h=i(67),p=u.a.Status,a=r._2.extend({destinationFolder:null,items:null,stagedItems:null,loggingService:null,_path:n._107({readOnly:!0,get:function(){return"/moveItems"}}),startRun:function(){for(var t=this,e=this.items,i=this.stagedItems,n=e.length,r=new Array(n),a=0;a<n;a++){var s=e[a],o=s.id;i&&(o=i[a].id),r[a]={drivewsid:s.id,etag:s.etag,clientId:o}}var c={destinationDrivewsId:this.destinationFolder.id,items:r};d.a.post(this._path,c).then(function(e){t._requestDidSucceed(e)}).catch(function(e){t.finishRunWithFailure(e)})},_requestDidSucceed:function(e){for(var t=e.body.items,i=[],n=l.a.create(),r=0,a=t.length;r<a;r++){var s=t[r],o=p.getItemForValue(s.status);o===p.OK&&i.push(s);var c=u.a.create({itemID:s.drivewsid,status:o,clientID:s.clientId,details:s});delete s.status,delete s.clientId,n.addInfoItem(c)}Object(h.a)(i,this.loggingService),this.finishRunWithSuccess({commitInfo:n})},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsCommitTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var l=i(0),n=(i(4),i(710)),r=i(54),a=i(28),s=i(53),o=r.a.extend({commitTask:l._107({readOnly:!0,get:function(){return n.a.create(this.items,this.fileSystem.loggingService)}}),destinationFolders:l._105({dependencies:["items"],readOnly:!0,type:Array,get:Object.assign(function(){for(var e=[],t=this.items,i=0,n=t.length;i<n;i++){var r=t[i].restorePath,a=this._getFolderFromRestorePath(r);e.push(a)}return e},{__CW__getter:function(e,t,i,n){for(var r=[],a=n.internalGet(this,t[0+i]),s=0,o=a.length;s<o;s++){var c=a[s].restorePath,l=this._getFolderFromRestorePath(c);r.push(l)}return r}})}),uniqueDestinationFoldersInMemory:l._105({dependencies:["destinationFolders"],readOnly:!0,type:Array,get:Object.assign(function(){for(var e=[],t=this.destinationFolders,i=0,n=t.length;i<n;i++){var r=t[i];r&&e.indexOf(r)<0&&e.push(r)}return e},{__CW__getter:function(e,t,i,n){for(var r=[],a=n.internalGet(this,t[0+i]),s=0,o=a.length;s<o;s++){var c=a[s];c&&r.indexOf(c)<0&&r.push(c)}return r}})}),items:l._105({type:Array}),originalParentFolder:null,type:a.a.PutItemsBackFromTrash,didStartPreparing:function(){this.originalParentFolder.prepareForTransaction(this),this._prepareFoldersForTransaction(this.uniqueDestinationFoldersInMemory)},didStartStaging:function(){var e=this.items,t=this.uniqueDestinationFoldersInMemory,i=this.originalParentFolder,n=i.content;this.addTransactionItems(e),n.beginChanges(),n.removeItems(e),n.endChanges(),this._beginFolderContentChanges(t);for(var r=this.destinationFolders,a=0,s=e.length;a<s;a++){var o=e[a],c=r[a];c&&c.content.addItem(o)}this._endFolderContentChanges(t);var l=this.fileSystem;i===l.trashRootFolder&&l.trashDetailsService.stageShallowCountChangeOf(-e.length)},getTransactionItemsForFullRevert:function(){return this.items},init:function(e,t,i,n){this.items=i,this.__s._$1J2$init.call(this,e,t,n);var r=this.originalParentFolder=i[0].parent;r||l._75("Cannot prepare. Missing parent folder",{transaction:this});for(var a=r.id,s=0,o=i.length;s<o;s++){var c=i[s];c.isInTrash?c.parentId!==a&&l._75("Cannot prepare put items back from trash transaction. All items do not belong to the same parent folder",{transaction:this}):l._75("Cannot prepare. Some items are marked as not being in the trash folder",{transaction:this})}},run:function(){var t=this;this.__s._$1as$run.call(this),s.a.scheduleTask(this.commitTask).then(function(e){t.completeCommitWithSuccess(e.commitInfo)}).catch(function(e){t.completeCommitWithFailure(e)})},willBeginFinalizingItems:function(){},applyChangeForCommitInfoItem:function(e){var t=this.fileSystem,i=t.trashRootFolder;this.originalParentFolder===i&&t.trashDetailsService.commitShallowCountChangeOf(-1)},revertChangeForCommitInfoItem:function(e){var t=this.fileSystem,i=t.getItemById(e.itemID),n=this.originalParentFolder,r=i.parent;r&&r.content.removeItem(i),n.content.addItem(i),n===t.trashRootFolder&&t.trashDetailsService.unstageShallowCountChangeOf(-1)},didEndFinalizingItems:l._6,didFinalize:function(){this.originalParentFolder.content.finalizeForTransaction(this);var e=this.uniqueDestinationFoldersInMemory;this._finalizeFoldersForTransaction(e)},_prepareFoldersForTransaction:function(e){for(var t=0,i=e.length;t<i;t++)e[t].prepareForTransaction(this)},_beginFolderContentChanges:function(e){for(var t=0,i=e.length;t<i;t++)e[t].content.beginChanges()},_endFolderContentChanges:function(e){for(var t=0,i=e.length;t<i;t++)e[t].content.endChanges()},_finalizeFoldersForTransaction:function(e){for(var t=0,i=e.length;t<i;t++)e[t].content.finalizeForTransaction(this)},_getFolderFromRestorePath:function(e){var t=this.fileSystem.driveRootFolder;if(e){var i=e.split("/");if(1<i.length)for(var n=i.length-1,r=0;r<n&&(t=t.content.findFolderWithName(i[r]));r++);}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashTransaction"},__superMap:{_$1J2$init:"init",_$1as$run:"run"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),r=i(4),a=i(362),s=i(54),o=i(28),c=i(53),l=s.a.extend({init:function(e,t,i,n){this.items=i,this.__s._$EK$init.call(this,e,t,n)},commitTaskClass:n._107({readOnly:!0,type:r._2,get:function(){return a.a}}),itemToParentMap:n._105({dependencies:["items"],readOnly:!0,get:Object.assign(function(){var i={},e=this.items;return e&&e.forEach(function(e){var t=e.parent;t&&(i[e.id]=t)}),i},{__CW__getter:function(e,t,i,n){var r={},a=n.internalGet(this,t[0+i]);return a&&a.forEach(function(e){var t=e.parent;t&&(r[e.id]=t)}),r}})}),parents:n._105({dependencies:["items"],readOnly:!0,get:Object.assign(function(){var n={},e=this.items;return e&&e.forEach(function(e){var t=e.parent;if(t){var i=t.id;i in n||(n[i]=[]),n[i].push(e)}}),n},{__CW__getter:function(e,t,i,n){var r={},a=n.internalGet(this,t[0+i]);return a&&a.forEach(function(e){var t=e.parent;if(t){var i=t.id;i in r||(r[i]=[]),r[i].push(e)}}),r}})}),items:n._105({type:Array}),type:o.a.DeleteItems,didStartPreparing:function(){var e=this.parents;for(var t in e){var i=this.fileSystem.getItemById(t);i&&i.prepareForTransaction(this)}},didStartStaging:function(){var e=this.items;this.addTransactionItems(e);var t=this.parents;for(var i in t){var n=this.fileSystem.getItemById(i);if(n){var r=n.content;r.beginChanges(),r.removeItems(t[i]),r.endChanges()}}},getTransactionItemsForFullRevert:function(){return this.items},run:function(){var t=this;this.__s._$tV$run.call(this);var e=this.commitTaskClass.create(this.items);c.a.scheduleTask(e).then(function(e){t.completeCommitWithSuccess(e.commitInfo)}).catch(function(e){t.completeCommitWithFailure(e)})},revertChangeForCommitInfoItem:function(e){var t=this.fileSystem,i=e.itemID,n=t.getItemById(i);if(n){var r=this.itemToParentMap[i];if(r){var a=t.getItemById(r);a&&a.content.addItem(n)}}},didFinalize:function(){for(var e in this.parents){var t=this.fileSystem.getItemById(e);t&&t.content.finalizeForTransaction(this)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"TombstoneItemsTransaction"},__superMap:{_$EK$init:"init",_$tV$run:"run"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return c});var n=i(0),r=(i(4),i(112)),a=i(202),s=i(36),o=a.b.extend({type:n._107({type:r.a}),details:n._107(null),staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorItem"}}),c=a.a.extend({init:function(e,t,i){this.destination=t,this.__s._$JS$init.call(this,e,i)},item:n._107({defaultValue:null}),destination:n._107({type:s.a,defaultValue:null}),meta:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorDetails"},__superMap:{_$JS$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],detected:n._107({readOnly:!0,get:function(){return!!this.rootFolder}}),rootFolder:null}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={getListOfAvailableCookiesAsConcatenatedString:function(){for(var e=this.getListOfAvailableCookiesAsHash(),t=Object.keys(e),i="",n=0;n<t.length;n++){var r=t[n];i+=r+":"+e[r]+";"}return i},getListOfAvailableCookiesAsHash:function(){return n.t.create().getCookies()}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=function(e){var t=null;if(n._74(e)){var i=e.match(/^"v=\d{1}:t=([\w\W]*)"$/);null!=i&&2===i.length&&(t=i[1])}return t}},function(e,t,i){"use strict";i(759);var n=i(1343);i.d(t,"b",function(){return n.a}),i(760);var r=i(1344);i.d(t,"a",function(){return r.a}),i(1345),i(1346),i(761),i(1347)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(762),a=i(763),s=n.v.extend(n._8,{channel:n._105({didChange:function(e){this._transmitter.channel=e,this._receiver.channel=e}}),_transmitter:n._105(n._85(a.a)),_receiver:n._105(n._85(r.a)),init:function(e){var t=arguments;this.__s._$L3$init.apply(this,t),e&&n._93(e.methodHandlers)&&this._receiver.registerMethodHandlers(e.methodHandlers)},callMethod:function(){return this._transmitter.callMethod.apply(this._transmitter,arguments)},callMethodWithoutResponse:function(){return this._transmitter.callMethodWithoutResponse.apply(this._transmitter,arguments)},registerMethodHandler:function(){return this._receiver.registerMethodHandler.apply(this._receiver,arguments)},registerMethodHandlers:function(){return this._receiver.registerMethodHandlers.apply(this._receiver,arguments)},unregisterMethodHandler:function(){return this._receiver.unregisterMethodHandler.apply(this._receiver,arguments)},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcTransceiver"},__superMap:{_$L3$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(373),a=n.v.extend(n._8,{channel:n._105({type:r.a}),_messageObserver:n._106("channel.incomingMessage",function(e){if(e){var t=n.P.sharedInstance.decode(e.context);t&&"2.0"===t.jsonrpc&&this.handleMessage(t)}}),handleMessage:n._31.define(),staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcBase"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],connect:n._31.define(),disconnect:n._31.define(),send:n._31.define(),receive:n._31.define()}},function(e,t,a){"use strict";(function(i){a.d(t,"a",function(){return e});var n=a(8),r=a(0),e=function(e){var t=r.e.application.workflowSettings;return t&&t.sharesOrigin||/\.icloud\.com$/i.test(i.location.hostname)?e:e.isCKError?(delete e.stack,e):((t&&t.logService||n.o.cloudOSService).recordStat("Exception in ck-sharing-app:",{message:e.message}),r._99("CKSharing.UnexpectedTerminationMessage"))}}).call(t,a(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var s=i(0),n=i(373),r=s.v.extend(s._8,n.a,{incomingMessage:s._118(),outgoingMessage:s._118(),messageClass:s._2,autoconnect:!0,connected:!1,remoteOrigin:null,_incomingWindow:window,_outgoingWindow:s._105({set:function(e){return{actualOutgoingWindow:e}}}),init:function(){var e=arguments;this.__s._$bk$init.apply(this,e),this._handleMessage=this._handleMessage.bind(this)},connect:function(){this.connected||(this._outgoingWindow&&this._outgoingWindow.actualOutgoingWindow.postMessage||s._75("No window configured for remote end of the Channel"),s._61(this._incomingWindow,"message",this._handleMessage),this.connected=!0)},disconnect:function(){this.connected&&(s._109(this._incomingWindow,"message",this._handleMessage),this.connected=!1)},send:function(e){this.connected||s._75("Trying to send a message on a disconnected channel");var t=this.remoteOrigin;s._95(t)&&0!==t.trim().length||s._75("No origin specified for PostMessageChannel messages.");var i=e;e.bodySerializer&&(i=e.bodySerializer.encode(i)),this.outgoingMessage(e),this._outgoingWindow.actualOutgoingWindow.postMessage(i,t)},receive:function(e){e&&(e.bodySerializer&&(e.body=e.bodySerializer.decode(e.body)),this.incomingMessage(e))},_handleMessage:function(e){(function(e,t){if(e===t||"*"===e||"*"===t)return!0;var i=s._53.parse(e),n=s._53.parse(t);if(s._91(i.protocol)||s._91(n.protocol)||i.protocol!==n.protocol)return!1;if(s._91(i.hostname)||s._91(n.hostname)||i.hostname!==n.hostname)return!1;var r=i.port;s._91(r)&&(r="https:"===i.protocol?"443":"80");var a=n.port;return s._91(a)&&(a="https:"===n.protocol?"443":"80"),r===a})((e.orignalEvent||e).origin,this.remoteOrigin)&&this.receive((e.originalEvent||e).data)},_outgoingWindowDidChange:s._106("_outgoingWindow",function(e){e&&e.actualOutgoingWindow?this.autoconnect&&this.connect():this.disconnect()}),staticMembers:{__QUALIFIED_CLASS_NAME__:"WindowPostMessageChannel"},__superMap:{_$bk$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={OWNER:"OWNER",USER:"USER",ADMINISTRATOR:"ADMINISTRATOR"};Object.freeze(n)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(151).a.extend({provideRootRecordForUpdate:null,provideLatestRootRecordAfterUpdateConflict:null,didUpdateRootRecord:null,didUpdateShareRecord:null,type:"CREATE_SHARE",staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateShareRecordOperation"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(151).a.extend({body:n._107({dependencies:["recordDataHash"],readOnly:!0,get:Object.assign(function(){return{recordName:this.recordDataHash.recordName}},{__CW__getter:function(e,t,i,n){return{recordName:n.internalGet(this,t[0+i]).recordName}}})}),didUpdateRootRecord:null,didUpdateShareRecord:null,type:"DELETE_SHARE",staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteShareRecordOperation"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var c=i(8),o=i(0),r=i(47),n=i(380),l=i(153),u=i(85),d=i(115),a={mixinDependencies:[o._26,l.b],invitees:o._105(),transport:o._105(),sendShare:o._31.define()},s=l.a.extend(a,{operationType:l.c.ADD_PARTICIPANTS,invitees:o._105(o._64("view.invitees")),transport:o._105({dependencies:["settings.supportedTransports"],writeDependencies:[],get:Object.assign(function(e){if(e)return e;var t=this.settings.supportedTransports,i=u.a.EMAIL,n=u.a.COPY_LINK;return-1!==t.indexOf(i)?i:n},{__CW__getter:function(e,t,i,n){if(e)return e;var r=n.internalGetPath(this,t[0+i]),a=u.a.EMAIL,s=u.a.COPY_LINK;return-1!==r.indexOf(a)?a:s}})}),shareByEmailIsActive:o._105(),showPermissionsDropdown:o._105({readOnly:!0,dependencies:["settings.supportedPermissions","share.isPublic"],get:Object.assign(function(){var e=this.settings.supportedPermissions;return!!(e&&1<e.length)&&!this.share.isPublic},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]);return!!(r&&1<r.length)&&!n.internalGetPath(this,t[1+i])}})}),shouldShowUserName:o._105({readOnly:!0,dependencies:["share.loggedInUserCanEditShare","share.effectiveAccess"],get:Object.assign(function(){return this.share.loggedInUserCanEditShare&&this.share.effectiveAccess===r.a.PRIVATE},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])&&n.internalGetPath(this,t[1+i])===r.a.PRIVATE}})}),viewClass:n.a,view:o._105({downstreamBindings:{accessDropdownValue:"(owner).share.effectiveAccess",isLoading:"(owner).isLoading",isSavingShare:"(owner).isSaving",CustomLoadMembershipInfoHandlerClass:"(owner).settings.CustomLoadMembershipInfoHandlerClass",CustomAutocompleteDataSourceClass:"(owner).settings.CustomAutocompleteDataSourceClass",shareItemType:"(owner).settings.shareItemType",logService:"(owner).settings.logService",permissionDropdownValue:"(owner).permissionValueForAddingParticipants",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption",showPermissionsDropdown:"(owner).showPermissionsDropdown",supportedPermissions:"(owner).settings.supportedPermissions",supportedTransports:"(owner).settings.supportedTransports",transport:"(owner).transport",loggedInUserInfo:"(owner).loggedInUserInfo",title:"(owner).shareSpecificPaneTitle",shareButtonTitle:"(owner).shareSpecificShareButtonTitle",shouldShowUserName:"(owner).shouldShowUserName",shareByEmailIsActive:"(owner).shareByEmailIsActive",displayMode:"(owner).settings.displayMode"}}),shareSpecificPaneTitle:o._105({readOnly:!0,dependencies:["share","share.isPublic","settings","settings.sendLinkPaneTitle","settings.addParticipantsPaneTitle"],get:Object.assign(function(){var e=this.share,t=this.settings;return t&&e?e.isPublic?t.sendLinkPaneTitle:t.addParticipantsPaneTitle:""},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[2+i]);return a&&r?r.isPublic?a.sendLinkPaneTitle:a.addParticipantsPaneTitle:""}})}),shareSpecificShareButtonTitle:o._105({readOnly:!0,dependencies:["share","share.isPublic"],get:Object.assign(function(){var e=this.share;return l.c.INITIATE_SHARE!==this.operationType&&e&&e.isPublic?o._99("CKSharing.Dialog.Button.Continue"):o._99("CKSharing.AddParticipants.OKButton.Share.Title")},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return l.c.INITIATE_SHARE!==this.operationType&&r&&r.isPublic?o._99("CKSharing.Dialog.Button.Continue"):o._99("CKSharing.AddParticipants.OKButton.Share.Title")}})}),loggedInUserInfo:o._105({readOnly:!0,dependencies:["settings.loggedInUserIdentity"],get:Object.assign(function(){var e=this.getPath("settings.loggedInUserIdentity");if(e){var t,i=e.givenName,n=e.familyName;return(i||n)&&(t=c.n({givenName:i,familyName:n})),{displayName:t,appleId:e.appleId}}},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]);if(r){var a,s=r.givenName,o=r.familyName;return(s||o)&&(a=c.n({givenName:s,familyName:o})),{displayName:a,appleId:r.appleId}}}})}),sendShare:function(e){switch(this.transport){case u.a.EMAIL:return this.sendEvent("shareByEmail"),o.w.resolve();case u.a.COPY_LINK:return this.awaitPendingOperationsThenShareByCopyingLink();default:throw new Error("Unrecognized transport for AddParticipantsViewController: "+this.transport,{viewController:this,transport:this.transport})}},awaitPendingOperationsThenShareByCopyingLink:function(){var t=this,e=this.share,i=this.getPath("view.invitationsTextField");if(e.isPublic||this.validateInviteesToAddToShare(i.invitees)){var n=this._state;return this._state=l.d.LOADED_SAVING,this.waitForAutocompleteHasPendingTokensToClear(i).catch(function(e){t.showPendingValidationFailAlert()}).then(function(){if(!i.hasInvalidTokens)return t.shareByCopyingLink();t.showPendingValidationFailAlert()}).finally(function(){t._state=n})}},setEffectivePermission:function(e){this.permissionValueForAddingParticipants=e},waitForAutocompleteHasPendingTokensToClear:function(e){if(!e.hasPendingTokens)return o.w.resolve();var t=o.w.create(),i=e.observe("hasPendingTokens",function(e){e||(t.resolve(),i&&i.disconnect())});return t},showPendingValidationFailAlert:function(){var t,e=this.getPath("view.invitationsTextField").tokenViews,i=e&&e.length||0,n=0;return e&&e.forEach(function(e){e.isInvalid&&(++n,t=e.value)}),this.displayInvalidInviteesAlert(n,i,t)},shareByCopyingLink:function(){var t=this,e=this.invitees,i=this.share;this._state=l.d.LOADED_SAVING;var n=this.permissionValueForAddingParticipants;i.isPrivate&&i.addParticipantsIgnoringDupes(e,n);var r=i.owner&&i.owner.isMe?null:["fields"];if(o._71(this.ioService.mostRecentShareDataHashFromServer,i.getDataHash(),r)){var a=this.settings,s={operationType:"INVITE_TO_"+(i.isPublic?"PUBLIC":"PRIVATE.VIA_UNKNOWN"),appName:a.shareItemType};return this.saveShare(!0).then(function(e){t.sendEvent("didShareByCopyingLink")}).catch(Object(d.a)(s,a.notificationService,a.logService)).finally(function(){t._state=l.d.LOADED})}return this.sendEvent("didShareByCopyingLink"),this._state=l.d.LOADED,o.w.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"AddParticipantsViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var o=i(0),s=i(47),n=i(381),r=i(1354),a=i(1355),c=i(779),l=i(217),u=i(208),d=i(388),h=i(85),p=i(1377),f=(i.n(p),o._57.extend({staticMembers:{className:"add-participants-view",template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"headerView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"busyView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"offlineView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"transportsView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"invitationsTextField"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"accessControlsSection"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"footerView"}],classes:["workflow-screen","add-participants-view","sharing-dialog",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOffline",truevalue:"is-offline",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsView"},accessDropdownValue:o._105(),permissionDropdownValue:o._105(),summaryTextNoOption:o._105(),summaryTextWOption:o._105(),loggedInUserInfo:o._105(),invitees:o._105(o._64("invitationsTextField.invitees")),supportedTransports:o._105(),transport:o._105(),isSavingShare:o._105(!1),transportSegments:o._105({readOnly:!0,dependencies:["supportedTransports"],get:Object.assign(function(){var e=(this.supportedTransports||[]).map(function(e){var t=h.a[e],i=o._66(o._65(t.toLowerCase())),n="CKSharing.AddParticipants.Transports."+i+"Button.Title",r=o._84(i).toLowerCase();return{title:o._99(n),value:t,classNames:[r]}});return o.u.create(e)},{__CW__getter:function(e,t,i,n){var r=(n.internalGet(this,t[0+i])||[]).map(function(e){var t=h.a[e],i=o._66(o._65(t.toLowerCase())),n="CKSharing.AddParticipants.Transports."+i+"Button.Title",r=o._84(i).toLowerCase();return{title:o._99(n),value:t,classNames:[r]}});return o.u.create(r)}})}),transportsView:o._105({defaultValue:o._85(o._39.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},additionalClassNames:o._60(["ck-sharing-transports-view"]),isHidden:o._105({readOnly:!0,dependencies:["isLoading","segments"],get:Object.assign(function(){var e=this.segments;return this.isLoading||!e||e.length<=1},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]);return n.internalGet(this,t[0+i])||!r||r.length<=1}})}),isLoading:o._105()})),downstreamBindings:{isLoading:"(owner).isLoading",value:"(owner).transport",segments:"(owner).transportSegments"}}),shouldShowParticipantsEntry:o._105({dependencies:["transport","accessDropdownValue"],readOnly:!0,get:Object.assign(function(){return this.transport===h.a.COPY_LINK&&this.accessDropdownValue===s.a.PRIVATE},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===h.a.COPY_LINK&&n.internalGet(this,t[1+i])===s.a.PRIVATE}})}),showPermissionsDropdown:o._105(!0),logService:o._105(),CustomLoadMembershipInfoHandlerClass:o._105(),CustomAutocompleteDataSourceClass:o._105(),shareByEmailIsActive:o._105(),clearInvitationsTextField:function(e){var t=this.invitationsTextField;t&&t.setValue()},invitationsTextField:o._105({defaultValue:o._85(c.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{signal:"isVisibleDidRender"}}]}}},placeholder:o._99("CKSharing.AddParticipants.InvitationsTextField.Placeholder")})),downstreamBindings:{isVisible:"(owner).shouldShowParticipantsEntry",CustomLoadMembershipInfoHandlerClass:"(owner).CustomLoadMembershipInfoHandlerClass",logService:"(owner).logService",CustomAutocompleteDataSourceClass:"(owner).CustomAutocompleteDataSourceClass"}}),accessControlsSection:o._105({readOnly:!0,defaultValue:o._85(n.a.extend({isToggleEnabled:!1})),downstreamBindings:{accessDropdownValue:"(owner).accessDropdownValue",permissionDropdownValue:"(owner).permissionDropdownValue",isLoading:"(owner).isLoading",showPermissionsDropdown:"(owner).showPermissionsDropdown",supportedAccess:"(owner).supportedAccess",supportedPermissions:"(owner).supportedPermissions",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption"}}),displayMode:o._105(),shareButtonIsDisabled:o._105({dependencies:["transport","accessDropdownValue","isSavingShare","isLoading","shareByEmailIsActive","invitationsTextField.value","invitationsTextField.hasInvalidTokens"],readOnly:!0,get:Object.assign(function(){if(this.isSavingShare||this.isLoading||this.shareByEmailIsActive)return!0;if(this.transport!==h.a.COPY_LINK||this.accessDropdownValue!==s.a.PRIVATE)return!1;var e=this.invitationsTextField;return!(!e||e.value&&e.hasAtLeastOneValidToken)},{__CW__getter:function(e,t,i,n){if(n.internalGet(this,t[2+i])||n.internalGet(this,t[3+i])||n.internalGet(this,t[4+i]))return!0;if(n.internalGet(this,t[0+i])!==h.a.COPY_LINK||n.internalGet(this,t[1+i])!==s.a.PRIVATE)return!1;var r=this.invitationsTextField;return!(!r||r.value&&r.hasAtLeastOneValidToken)}})}),shareButtonTitle:o._105(),username:o._105({readOnly:!0,dependencies:["loggedInUserInfo"],get:Object.assign(function(e){var t=this.loggedInUserInfo;if(t){var i=t.displayName,n=t.appleId;if(i&&n)return o._99("CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId",{displayName:i,appleId:n});if(i||n)return o._99("CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId",{nameOrAppleId:i||n})}return""},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(r){var a=r.displayName,s=r.appleId;if(a&&s)return o._99("CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId",{displayName:a,appleId:s});if(a||s)return o._99("CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId",{nameOrAppleId:a||s})}return""}})}),shouldShowUserName:o._105(),footerView:o._105({dependencies:["displayMode"],readOnly:!0,downstreamBindings:{shareButtonTitle:"(owner).shareButtonTitle",shareButtonIsHidden:"(owner).isOffline",shareButtonIsDisabled:"(owner).shareButtonIsDisabled",doneButtonIsHidden:"(owner).isOffline",username:"(owner).username",usernameIsHidden:"(owner).shouldShowUserName"},get:Object.assign(function(){return this.displayMode===u.a.IOS_STYLE?r.b.create():r.a.create({cancelButtonIsDisabled:this.bindingFor("isSavingShare"),cancelButtonIsHidden:this.bindingFor("isOffline")})},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===u.a.IOS_STYLE?r.b.create():r.a.create({cancelButtonIsDisabled:this.bindingFor("isSavingShare"),cancelButtonIsHidden:this.bindingFor("isOffline")})}})}),title:o._105(),subtitleString:o._105({readOnly:!0,dependencies:["shareItemType","supportedTransports","accessDropdownValue"],get:Object.assign(function(){var e=this.supportedTransports;if(e&&0<e.length){var t="CKSharing.AddParticipants.Subtitle.";return 1===this.supportedTransports.length?(t+="SingleTransport.",t+=s.a.PUBLIC===this.accessDropdownValue?"Public.":"Private.",t+=this.shareItemType):t+="MultipleTransports",o._99(t)}return""},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]);if(r&&0<r.length){var a="CKSharing.AddParticipants.Subtitle.";return 1===n.internalGet(this,t[1+i]).length?(a+="SingleTransport.",a+=s.a.PUBLIC===n.internalGet(this,t[2+i])?"Public.":"Private.",a+=n.internalGet(this,t[0+i])):a+="MultipleTransports",o._99(a)}return""}})}),headerView:o._105({dependencies:["displayMode"],readOnly:!0,downstreamBindings:{title:"(owner).title",subtitle:"(owner).subtitleString"},get:Object.assign(function(){return this.displayMode===u.a.IOS_STYLE?a.b.create({cancelButtonIsHidden:this.bindingFor("isOffline"),cancelButtonIsDisabled:this.bindingFor("isSavingShare")}):a.a.create()},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===u.a.IOS_STYLE?a.b.create({cancelButtonIsHidden:this.bindingFor("isOffline"),cancelButtonIsDisabled:this.bindingFor("isSavingShare")}):a.a.create()}})}),busyView:o._105({readOnly:!0,get:function(){return l.a.create()},downstreamBindings:{isVisible:"(owner).isLoading",description:"(owner).busyDescription"}}),busyDescription:o._105(o._99("CKSharing.Busy.Loading.Description")),isLoading:o._105(!1),offlineView:o._105({readOnly:!0,get:function(){return d.a.create()},downstreamBindings:{isVisible:"(owner).isOffline"}}),isOffline:o._105(o.j.sharedInstance.bindingFor("isOffline")),shareItemType:o._105(),supportedAccess:o._105(),supportedPermissions:o._105(),_updateLayout:o._106("isAttached","transport","shouldShowParticipantsEntry",function(e,t){e&&(this.sendEvent("contentDidResize"),t===h.a.COPY_LINK&&this.invitationsTextField&&this.invitationsTextField.focus())})}))},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(47),a=i(29),s=i(382),o=n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"toggleButton"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextWOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"hidden",attributes:{}}]}],classes:["options-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showToggle",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"accessLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"accessDropdown"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasAccessDropdown",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"allowLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"permissionDropdown"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showPermissionsDropdown",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[]},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"additionalButton"}]}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"additionalButtonIsVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]}],classes:["container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showDropdownsContainer",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasDropdown",truevalue:"hidden",attributes:{}}]}],classes:["access-control-section",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"isExpanded",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"additionalButtonIsVisible",truevalue:"has-additional-button",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"AccessControlView"},toggleButton:n._105({defaultValue:n._85(n._57.extend(n.l,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",children:[],namespace:"http://www.w3.org/2000/svg",attributes:{d:"m1.250001,1.062507l14.843682,14.875035l14.843815,-14.875035",fill:"none"}}],namespace:"http://www.w3.org/2000/svg",classes:["chevron"],attributes:{width:"12px",height:"11px",viewBox:"0 0 32 20"}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]}],classes:["options-button"]}},title:n._99("CKSharing.AddParticipants.ShareSettingsDisclosureButton.Title"),action:"toggleOptions"}))}),isToggleEnabled:!0,isExpanded:n._105(!1),isHidden:n._105({dependencies:["isLoading"],readOnly:!0,get:Object.assign(function(){return this.isLoading},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),isLoading:n._105(!1),accessDropdownValue:n._105(),permissionDropdownValue:n._105(),supportedAccess:n._105(),supportedPermissions:n._105(),summaryTextNoOption:n._105(),summaryTextWOption:n._105(),accessLabelString:n._107(n._99("CKSharing.AddParticipants.AccessLabel.Title")),allowLabelString:n._107(n._99("CKSharing.AddParticipants.AllowLabel.Title")),hasAccessDropdown:n._105({readOnly:!0,dependencies:["supportedAccess"],get:Object.assign(function(){var e=this.supportedAccess;return!!e&&1<e.length},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return!!r&&1<r.length}})}),showPermissionsDropdown:n._105(!0),hasDropdown:n._105({readOnly:!0,dependencies:["hasAccessDropdown","showPermissionsDropdown"],get:Object.assign(function(){return this.hasAccessDropdown||this.showPermissionsDropdown},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])||n.internalGet(this,t[1+i])}})}),showToggle:n._105({readOnly:!0,dependencies:["hasAccessDropdown","showPermissionsDropdown"],get:Object.assign(function(){return this.isToggleEnabled&&this.hasAccessDropdown&&this.showPermissionsDropdown},{__CW__getter:function(e,t,i,n){return this.isToggleEnabled&&n.internalGet(this,t[0+i])&&n.internalGet(this,t[1+i])}})}),showDropdownsContainer:n._105({readOnly:!0,dependencies:["showToggle","isExpanded","hasDropdown"],get:Object.assign(function(){return this.showToggle?this.isExpanded&&this.hasDropdown:this.hasDropdown},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?n.internalGet(this,t[1+i])&&n.internalGet(this,t[2+i]):n.internalGet(this,t[2+i])}})}),selectViewsAreVisibleOnScreen:n._105({readOnly:!0,dependencies:["showToggle","isExpanded","isHidden"],get:Object.assign(function(){if(!this.isHidden)return!this.showToggle||this.isExpanded},{__CW__getter:function(e,t,i,n){if(!n.internalGet(this,t[2+i]))return!n.internalGet(this,t[0+i])||n.internalGet(this,t[1+i])}})}),accessDropdown:n._105({defaultValue:n._85(s.a,{action:"setEffectiveAccess",ariaLabel:"Share Access Level",options:[{value:r.a.PRIVATE,label:n._99("CKSharing.AddParticipants.Private")},{value:r.a.PUBLIC,label:n._99("CKSharing.AddParticipants.Public")}]}),downstreamBindings:{value:"(owner).accessDropdownValue",isVisibleOnScreen:"(owner).selectViewsAreVisibleOnScreen"}}),permissionDropdown:n._105({defaultValue:n._85(s.a,{action:"setEffectivePermission",ariaLabel:"Share Permission",options:[{value:a.a.READ_WRITE,label:n._99("CKSharing.PermissionsCombo.AllowEditing")},{value:a.a.READ_ONLY,label:n._99("CKSharing.PermissionsCombo.ViewOnly")}]}),downstreamBindings:{value:"(owner).permissionDropdownValue",isVisibleOnScreen:"(owner).selectViewsAreVisibleOnScreen"}}),additionalButtonTitle:n._105(),additionalButtonIsVisible:n._105({readOnly:!0,dependencies:["additionalButtonTitle","accessDropdownValue"],get:Object.assign(function(){return!!this.additionalButtonTitle&&this.accessDropdownValue===r.a.PUBLIC},{__CW__getter:function(e,t,i,n){return!!n.internalGet(this,t[0+i])&&n.internalGet(this,t[1+i])===r.a.PUBLIC}})}),additionalButton:n._105({defaultValue:n._85(n.k,{action:"additionalButtonWasPressed",additionalClassNames:n._60(["sharing-additional-button"])}),downstreamBindings:{title:"(owner).additionalButtonTitle"}}),toggleOptions:function(){this.isExpanded=!this.isExpanded}})},function(e,i,n){"use strict";(function(f){n.d(i,"a",function(){return t});var _=n(0),e=n(1353),u=(n.n(e),_._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["checkbox-icon"]}],classes:["checkbox"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"optionLabel",attributes:{}}],classes:["text"]}],classes:["option-label",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"selected",falsevalue:"",attributes:{}}]},className:"select-option-item-view",__QUALIFIED_CLASS_NAME__:"SelectOptionItemView"},id:_._105(),pointerUp:function(e){this.sendEvent("didSelectOption",{optionItem:this,event:e}),e.preventDefault()}})),t=_._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"selectionText",attributes:{}}],classes:["label"]},{type:"ELEMENT",tagname:"div",children:[],classes:["separator"]},{type:"ELEMENT",tagname:"div",children:[],classes:["chevron"]}],name:"selectDiv",classes:["select-box"]},{type:"ELEMENT",tagname:"div",children:[],name:"modalDiv",classes:["modal"]},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"_optionsViews"}],name:"optionsDiv",classes:["options",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showOptionsForMeasuring",truevalue:"shown-for-measuring",attributes:{}}]}],classes:["select-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOptionsVisible",truevalue:"open",attributes:{}}]},className:"ck-sharing-select-view",__QUALIFIED_CLASS_NAME__:"SelectView"},action:null,value:_._105({}),_isAttachedDidChange:_._106("isAttached",function(e){e&&this.propertyChanged("selectionText")}),_windowSize:_._105(_.j.sharedInstance.window),_windowSizeDidChange:_._106("_windowSize.width","_windowSize.height",function(){this.isAttached&&this.hideModalAndOptions()}),selectionText:_._105({dependencies:["value","options"],readOnly:!0,get:Object.assign(function(){var e,t=this.value,i=this.options;if(i)for(var n=i.length,r=0;r<n;r++){var a=i.objectAt(r);a.value===t&&(e=a.label)}return e||(e="--"),e},{__CW__getter:function(e,t,i,n){var r,a=n.internalGet(this,t[0+i]),s=n.internalGet(this,t[1+i]);if(s)for(var o=s.length,c=0;c<o;c++){var l=s.objectAt(c);l.value===a&&(r=l.label)}return r||(r="--"),r}})}),options:_._105(_._85(_._9)),_redraw:_._106("element","options","options.contentsDidChange","value",function(e,t,i){if(e&&t){var n=this._optionsViews,r=t.length;n.beginBatchedChanges(),n.clear();for(var a=0,s=r;a<s;a++){var o=t.objectAt(a),c=!1;o.value===this.value&&(c=!0);var l=u.create({optionLabel:o.label,id:o.value,isSelected:c});n.push(l)}n.endBatchedChanges(),this.positionOptionsView()}}),isVisibleOnScreen:_._105(),showOptionsForMeasuring:_._105(),isVisibleOnScreenObserver:_._106("isVisibleOnScreen",function(e){var t=this;e&&_._116(function(){if(t.showOptionsForMeasuring=!0,0<t.optionsDiv.getElementsByClassName("text")[0].clientWidth)t._setWidthOfSelectViewBasedOnContents();else{var e=_._52.create({delay:100,timesToFire:1/0,callAction:function(){0<this.optionsDiv.getElementsByClassName("text")[0].clientWidth&&(this._setWidthOfSelectViewBasedOnContents(),e.stop())}.bind(t)});e.start()}},0)}),_setWidthOfSelectViewBasedOnContents:function(){this.showOptionsForMeasuring=!0;for(var e,t=[],i=this.optionsDiv.getElementsByClassName("text"),n=0,r=i.length;n<r;n++)e=i[n].clientWidth+53,t.push(e);this.showOptionsForMeasuring=!1;var a=Math.max.apply(Math,t);_._115(this.element,{width:a})},_downPoint:null,pointerDown:function(e){if(0<this.options.length)for(var t=!1,i=e.target;!t&&i;)i===this.modalDiv?(this.hideModalAndOptions(),t=!0):i===this.selectDiv?(t=!0,this.showModalAndOptions(),this._downPoint={x:e.clientX,y:e.clientY}):i=i.parentNode;e.preventDefault()},didSelectOption:function(e,t){var i=this._downPoint,n=e.event;if(!i||i.x!==n.clientX||i.y!==n.clientY){var r=this.value,a=e.optionItem.id;if(a!==r){var s=this.action;_._91(s)?this.value=a:this.sendEvent(s,a)}this.hideModalAndOptions()}},isOptionsVisible:_._105(),showModalAndOptions:function(){this.isOptionsVisible=!0,this.positionOptionsView()},hideModalAndOptions:function(){this.isOptionsVisible=!1},positionOptionsView:function(){var e=this.selectDiv,t=this.optionsDiv,i=e.getBoundingClientRect(),n={},r=e.clientHeight,a=this.options,s=a.length;"rtl"===f.document.dir?(n.left="auto",n.right=f.innerWidth-i.right-24+"px"):n.left=i.left-24+"px",n["min-width"]=e.clientWidth+"px";for(var o=-1,c=0;c<s;c++)if(a.objectAt(c).value==this.value){o=c;break}for(var l=this._optionsViews,u=l.length,d=0;d<u;d++){var h=l.objectAt(d);_._115(h.element,{height:r})}var p=1+i.top;-1!==o&&(p-=o*r),n.top=p+"px",n.height=s*r+"px",_._115(t,n)}})}).call(i,n(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],styles:{position:"absolute"}}}}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n=r.O.extend(r._8,{item:r._105(),key:r._107({set:function(e){return this.item=e?e.value:null,e}}),itemIsObservable:r._107({readOnly:!0,dependencies:["item"],get:Object.assign(function(){return r._86(this.item,r._8)},{__CW__getter:function(e,t,i,n){return r._86(n.internalGet(this,t[0+i]),r._8)}})}),delegate:null,isDisabled:r._105({type:"boolean",defaultValue:!1}),view:r._107(),viewClass:r._107({defaultValue:r._57}),_didEnter:function(e){e.selectedItem?this.view.isHighlighted=e.selectedItem===this.item:e.selection?this.view.isHighlighted=e.selection.contains(this.handle):this.view.isHighlighted=!1,this.delegate&&this.delegate.viewItemDidEnter?this.delegate.viewItemDidEnter(e,this):this.didEnter(e)},_didUpdate:function(e){e.selectedItem?this.view.isHighlighted=e.selectedItem===this.item:e.selection?this.view.isHighlighted=e.selection.contains(this.handle):this.view.isHighlighted=!1,this.delegate&&this.delegate.viewItemDidUpdate?this.delegate.viewItemDidUpdate(e,this):this.didUpdate(e)},_shouldHighlight:function(e){return this.delegate&&this.delegate.viewItemShouldHighlight?this.delegate.viewItemShouldHighlight(this,e):this.shouldHighlight(e)},_willExit:function(e){this.delegate&&this.delegate.viewItemDidExit?this.delegate.viewItemWillExit(e,this):this.willExit(e)},didEnter:function(e){},didUpdate:function(e){},shouldHighlight:function(e){return!this.isDisabled},willExit:function(e){},staticMembers:{__QUALIFIED_CLASS_NAME__:"_ViewItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[{mixinDependencies:[n._26],collectionViewDidScroll:n._31.define()}],collectionViewDidScrollInDirection:n._31.define()}},function(e,t,i){"use strict";i.d(t,"b",function(){return l}),i.d(t,"c",function(){return u}),i.d(t,"a",function(){return d});var n=i(785),r=i(787),a=i(788),s=i(789),o=i(790),c=i(384),l=c.a.extend(o.a,a.a,{didEnter:function(e){var t=this.item,i=this.itemIsObservable,n=this.view;i?(n.bind("hasCheckmark",t.bindingFor("hasCheckmark")),n.bind("iconClass",t.bindingFor("iconClass")),n.bind("isDisabled",t.bindingFor("isDisabled")),n.bind("keySequence",t.bindingFor("keySequence")),n.bind("title",t.bindingFor("title")),n.bind("titleIsAlwaysLTR",t.bindingFor("titleIsAlwaysLTR")),n.bind("shouldEscape",t.bindingFor("shouldEscape")),this.bind("action",t.bindingFor("action")),this.bind("isDisabled",t.bindingFor("isDisabled"))):(n.hasCheckmark=t.hasCheckmark,n.iconClass=t.iconClass,n.isDisabled=t.isDisabled,n.keySequence=t.keySequence,n.title=t.title,n.titleIsAlwaysLTR=t.titleIsAlwaysLTR,n.shouldEscape=t.shouldEscape,this.action=t.action,this.isDisabled=t.isDisabled)},willExit:function(e){if(this.itemIsObservable){var t=this.view;t.unbind("hasCheckmark"),t.unbind("iconClass"),t.unbind("isDisabled"),t.unbind("keySequence"),t.unbind("title"),t.unbind("titleIsAlwaysLTR"),t.unbind("shouldEscape"),this.unbind("action"),this.unbind("isDisabled")}},viewClass:r.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewItem"}}),u=c.a.extend(o.a,{didEnter:function(e){var t=this.item,i=this.itemIsObservable,n=this.view;i?(n.bind("iconClass",t.bindingFor("iconClass")),n.bind("isDisabled",t.bindingFor("isDisabled")),n.bind("title",t.bindingFor("title")),n.bind("titleIsAlwaysLTR",t.bindingFor("titleIsAlwaysLTR")),n.bind("shouldEscape",t.bindingFor("shouldEscape")),this.bind("isDisabled",t.bindingFor("isDisabled"))):(n.iconClass=t.iconClass,n.isDisabled=t.isDisabled,n.title=t.title,n.titleIsAlwaysLTR=t.titleIsAlwaysLTR,n.shouldEscape=t.shouldEscape,this.isDisabled=t.isDisabled)},willExit:function(e){if(this.itemIsObservable){var t=this.view;t.unbind("iconClass"),t.unbind("isDisabled"),t.unbind("title"),t.unbind("titleIsAlwaysLTR"),t.unbind("shouldEscape"),this.unbind("isDisabled")}},viewClass:s.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"SubmenuViewItem"}}),d=c.a.extend(o.a,{customHeight:12,shouldHighlight:function(e){return!1},viewClass:n.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"DividerViewItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(71),r=i(0),a=n.b.extend({contactMatch:r._105(),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(1376),a=(i.n(r),n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}]}],classes:["offline-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]},className:"ck-sharing-offline-view",__QUALIFIED_CLASS_NAME__:"OfflineView"},title:n._99("CKSharing.Offline.Title"),description:n._99("CKSharing.Offline.Description"),isVisible:n._105(!1)}))},function(e,t,i){"use strict";t.a=function(e,t){return t.indexOf(e)<0?t[0]:e}},function(e,t,i){"use strict";t.a=function(e){return e.serverErrorCode||e.ckErrorCode}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var u=i(0),d=i(47),n=i(392),h=i(29),r=i(393),a=u._58.extend({viewClass:n.a,view:u._105({downstreamBindings:{subtitle:"(owner).subtitle",title:"(owner).title",url:"(owner).url"}}),permission:u._105(),_effectivePermission:u._105({dependencies:["permission","share.effectivePermission"],readOnly:!0,get:Object.assign(function(e){return function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];if(n)return n}}([this.permission,this.getPath("share.effectivePermission"),this.getPath("settings.defaultPermission")])},{__CW__getter:function(e,t,i,n){return function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];if(n)return n}}([n.internalGet(this,t[0+i]),n.internalGetPath(this,t[1+i]),this.getPath("settings.defaultPermission")])}})}),share:u._105(),settings:u._105(),subtitle:u._105({dependencies:["share.effectiveAccess","share.loggedInUserCanEditShare","share.owner","share.owner.displayName","_effectivePermission","settings.shareItemType"],readOnly:!0,get:Object.assign(function(){var e=["CKSharing.AddParticipants.CopyLink"],t=this.share,i=this.settings,n=t.effectiveAccess,r=this._effectivePermission,a=this.share.loggedInUserCanEditShare;switch(e.push(a?"OwnerAdmin":"Participant"),e.push("Subtitle"),n){case d.a.PUBLIC:e.push("Public");break;case d.a.PRIVATE:e.push("Private");break;default:u._75("Unknown CKSharing.ACCESS type %{type}",{type:n})}if(a||t.isPublic)switch(r){case h.a.READ_ONLY:e.push("ReadOnly");break;case h.a.READ_WRITE:e.push("ReadWrite");break;case h.a.MIXED:e.push("Mixed");break;default:u._75("Unknown CKSharing.PERMISSIONS type %{type}",{type:r})}return e.push(i.shareItemType),a?u._99(e.join(".")):u._99(e.join("."),{ownerDisplayName:t.owner.displayName})},{__CW__getter:function(e,t,i,n){var r=["CKSharing.AddParticipants.CopyLink"],a=this.share,s=this.settings,o=a.effectiveAccess,c=n.internalGet(this,t[4+i]),l=n.internalGetPath(this,t[1+i]);switch(r.push(l?"OwnerAdmin":"Participant"),r.push("Subtitle"),o){case d.a.PUBLIC:r.push("Public");break;case d.a.PRIVATE:r.push("Private");break;default:u._75("Unknown CKSharing.ACCESS type %{type}",{type:o})}if(l||a.isPublic)switch(c){case h.a.READ_ONLY:r.push("ReadOnly");break;case h.a.READ_WRITE:r.push("ReadWrite");break;case h.a.MIXED:r.push("Mixed");break;default:u._75("Unknown CKSharing.PERMISSIONS type %{type}",{type:c})}return r.push(s.shareItemType),l?u._99(r.join(".")):u._99(r.join("."),{ownerDisplayName:a.owner.displayName})}})}),title:u._105({dependencies:["settings.shareItemType","share.loggedInUserCanEditShare"],readOnly:!0,get:Object.assign(function(){var e="CKSharing.AddParticipants.CopyLink.";return this.getPath("share.loggedInUserCanEditShare")?e+="OwnerAdmin.":e+="Participant.",e+="Title.",u._99(e+this.getPath("settings.shareItemType"))},{__CW__getter:function(e,t,i,n){var r="CKSharing.AddParticipants.CopyLink.";return n.internalGetPath(this,t[1+i])?r+="OwnerAdmin.":r+="Participant.",r+="Title.",u._99(r+n.internalGetPath(this,t[0+i]))}})}),url:u._105({dependencies:["share","settings"],readOnly:!0,get:Object.assign(function(){return Object(r.a)(this.share,this.settings)},{__CW__getter:function(e,t,i,n){return Object(r.a)(n.internalGet(this,t[0+i]),n.internalGet(this,t[1+i]))}})}),didAttach:function(){var e=arguments;this.__s._$1Mo$didAttach.apply(this,e),this.view.selectURL(),this.sendEvent("contentDidResize")},close:function(){this.sendEvent("didCompleteCopyLink")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CopyLinkViewController"},__superMap:{_$1Mo$didAttach:"didAttach"}})},function(e,r,a){"use strict";(function(n){a.d(r,"a",function(){return i});var e=a(0),t=a(1378),i=(a.n(t),e._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}]}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"url",attributes:{}}],classes:["copy-url",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"valueIsAlwaysLTR",truevalue:"is-always-ltr",attributes:{}}],name:"urlTextElement",attributes:{tabindex:"0"}},{type:"ELEMENT",tagname:"footer",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"closeButton"}]}],classes:["workflow-screen","copy-link-view","sharing-dialog"]},className:"ck-sharing-copy-link-view",__QUALIFIED_CLASS_NAME__:"CopyLinkView"},isFocusable:!0,url:e._105(),title:e._105(),subtitle:e._105(),valueIsAlwaysLTR:e._105(),selectURL:function(){var e=this.urlTextElement,t=document.createRange();t.selectNodeContents(e);var i=n.getSelection();i.removeAllRanges(),i.addRange(t),e.focus()},pointerDown:function(e){e.target===this.urlTextElement&&(this.sendEvent("selectURL",this),e.preventDefault())},closeButton:e._85(e.k.extend({additionalClassNames:e._60(["close","primary"])}),{title:e._99("CKSharing.AddParticipants.CopyLink.CloseButton.Title"),keyEquivalent:[e.S.ESC,e.S.RETURN],action:"close"})}))}).call(r,a(5))},function(e,t,i){"use strict";t.a=function(e,t){var i=e.shortGUID,n=t&&t.shareUrl;if(d._91(n)){var r=t&&t.shareUrlNamespace||p;n=h+"/"+encodeURIComponent(r)}var a=/%\{shortGUID\}/.test(n),s=0<=n.indexOf("#");if(a)n=d._77(n,{shortGUID:i});else{var o=n.length-1,c=n.charAt(o);n+="#"===c||"/"===c?i:"/"+i}var l=t&&t.shareUrlDescription;if(!d._91(l)&&!s){var u=encodeURIComponent(l);n+="#"+(u=(u=u.replace(/_/g,"%5F")).replace(/%20/g,"_"))}return n};var d=i(0),h="https://www.icloud.com",p="share"},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],convertToPrivateShare:n._31.define(),createShare:n._31.define(),deleteShare:n._31.define(),saveShare:function(e){return n._91(e.recordName)?this.createShare(e):this.updateShare(e)},updateShare:n._31.define()}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(212),a=i(820),s=r.a.extend({initiateShareViewController:n._105({strong:!0,get:function(){return a.a.create({record:this.bindingFor("record"),ioService:this.bindingFor("ioService"),settings:this.bindingFor("settings"),share:this.bindingFor("share"),shareByEmailIsActive:this.bindingFor("shareByEmailIsActive"),permissionValueForAddingParticipants:this.bindingFor("permissionValueForAddingParticipants")})}}),showInitiateUI:function(){var e=this.initiateShareViewController;this.showViewController(e),e.setUp()},start:function(){this.showInitiateUI();var e=this.settings;return e.logService.recordStat("StartedInitiateShareWorkflow",{appName:e.appName}),this._promise},shareByEmail:function(){var e=arguments,t=this.initiateShareViewController;this.getPath("share.isPublic")&&t&&t.saveShare(),this.__s._$nJ$shareByEmail.apply(this,e)},didCancelSendMessage:function(){var e=arguments;this.getPath("share.isPublic")?this.didComplete():this.__s._$139$didCancelSendMessage.apply(this,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"InitiateShareWorkflowViewController"},__superMap:{_$nJ$shareByEmail:"shareByEmail",_$139$didCancelSendMessage:"didCancelSendMessage"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(212),a=i(391),s=i(822),o=i(219).a.extend({copyLinkViewController:n._105({strong:!0,get:function(){return a.a.create({settings:this.bindingFor("settings"),share:this.bindingFor("share")})}}),manageShareViewController:n._105({strong:!0,get:function(){return s.a.create()},downstreamBindings:{ioService:"(owner).ioService",record:"(owner).record",settings:"(owner).settings",share:"(owner).share",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants"}}),complete:function(){var t=this;this.manageShareViewController.isTearingDown=!0;var e=this.share;if(e&&e.isPrivate&&1===e.participants.length&&this.manageShareViewController.stopSharing(),this.ioService.isServiceBusy){var i=n._11.create(this,{inputs:["ioService.isServiceBusy"],notifyOnCreate:!1,callback:function(e){e||(i.disconnect(),t.didComplete())}});i.connect()}else this.didComplete()},start:function(){var t=this;this.showListUI().catch(function(e){t.cancel(e)});var e=this.settings;return e.logService.recordStat("StartedManageShareWorkflow",{appName:e.appName}),this._promise},showListUI:function(){var e=this.manageShareViewController;return this.showViewController(e),e.setUp()},goToAddParticipantsUI:function(){var e=this.activeViewController,t=this,i=r.a.create(this.ioService,this.record,this.settings,{share:this.bindingFor("share"),permissionValueForAddingParticipants:this.permissionValueForAddingParticipants});i.start().then(function(){t.showViewController(e)}).catch(function(e){t.cancel(e)}),this.showViewController(i)},didCompleteCopyLink:function(){this.didComplete()},showCopyLink:function(){this.showViewController(this.copyLinkViewController)},sendLink:function(){var e=this.getPath("settings.supportedTransports");e&&1<e.length?this.goToAddParticipantsUI():this.showCopyLink()},itemIsNoLongerSharedWithMe:function(e,t){this.nextResponder&&this.nextResponder.sendEvent("itemIsNoLongerSharedWithMe",e,t),this.didComplete()},shareWasDeleted:function(e,t){this.share=e,this.nextResponder&&this.nextResponder.sendEvent("shareWasDeleted",e,t),this.didComplete()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareWorkflowViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(842),r=(i.n(n),i(0)),a=i(4).f.extend({additionalClassNames:r._60(["brx","drive-ui"]),iconNames:"iclouddrive",staticMembers:{__QUALIFIED_CLASS_NAME__:"DetailedAlertView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1396),r=(i.n(n),i(0)),a=i(221).a.extend({additionalClassNames:r._60(["showcase","folder"]),staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderShowcaseView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(1397),a=(i.n(n),i(4)),s=i(0),r=i(37),l=i(400),o=i(846),c=i(221),u={"com.apple.Pages":null,"com.apple.Keynote":null,"com.apple.Numbers":null},d=c.a.extend({init:function(e,t){this.iconService=e,this.__s._$EX$init.call(this,t)},additionalClassNames:s._60(["showcase","folder","library"]),content:s._105({defaultValue:null}),delegate:null,iconService:s._105(),_iconView:null,_isShowingPlaceholderIcon:!1,displaySize:s._107(r.a.LARGE),iconSrc:s._105(a.H.EMPTY_SRC),prepareForReuse:function(){var e=this._iconView;e&&(this.removeSubview(e),h.returnIconViewToCache(e),this._iconView=null),this._isShowingPlaceholderIcon=!1},_contentDidChange:s._106("content","element",function(e,t){if(t&&e){var i=this.get("delegate");i&&"function"==typeof i.appFolderShowcaseViewContentDidChange&&i.appFolderShowcaseViewContentDidChange(this,e),this._showAppLibraryIcon()}}),_showAppLibraryIcon:function(){var e,t,i,n,r=this.iconService,a=this.get("content");if(a){var s={zone:e=a.get("zone"),name:t=a.get("sanitizedName"),type:i=r.getIconTypeForAppLibrary(t),displaySize:this.displaySize},o=h.createShowcaseViewReuseIdentifier(s),c=h.getIconViewFromCache(o);if(c)return c.showImmediately=!0,this._iconView=c,void this.addSubview(c);if(!i){if(!this._isIWorkContainer(e))return void this._showPlaceholderIcon();switch(i="IOS",e.split(".").pop()){case"Pages":t="pages";break;case"Numbers":t="numbers";break;case"Keynote":t="key"}n=r.getIconURL(t,l.b.DEFAULT),this._setupIconWithIconSrc(n,i,o)}n=r.getIconURL(t,l.b.APP_LIBRARY),this._setupIconWithIconSrc(n,i,o)}},_setupIconWithIconSrc:function(e,t,i){var n=this._iconView;this.set("iconSrc",e),"IOS"===t?(this._iconView=n=this._loadIOSAppIcon(n,i),this.addSubview(n)):"OSX"===t?(e===a.H.EMPTY_SRC?this._iconView=n=this._loadIOSAppIcon(n,i):this._iconView=n=this._loadMacAppIcon(n,i),this.addSubview(n)):s._75("Unexpected icon type: ",t,{view:this})},_showPlaceholderIcon:function(){if(!this._isShowingPlaceholderIcon){this._isShowingPlaceholderIcon=!0;var i=this,e={zone:"placeholder",name:"placeholder",type:"placeholder",displaySize:this.displaySize},n=h.createShowcaseViewReuseIdentifier(e),t=h.getIconViewFromCache(n);if(t)return t.showImmediately=!0,this._iconView=t,void this.addSubview(t);this.iconService.fetchIconURL(null,l.b.APP_LIBRARY).then(function(e){var t=i._loadIOSAppIcon(null,n);i.set("isIOSIcon",!0),i.set("iconSrc",e),i.addSubview(t),i._iconView=t})}},_loadMacAppIcon:function(e,t){var i=this.get("displaySize"),n=this.iconService.getIconSizeForType("OSX",i);return this.set("isIOSIcon",!1),e||(e=o.a.create({additionalClassNames:s._60(["mac-app-icon"]),src:this.iconSrc,size:n,displaySize:i,roundedCornerMask:s._64("parent.isIOSIcon"),reuseIdentifier:t})),this._iconViewListener=e.listen("error",function(e){e&&this._showPlaceholderIcon()}.bind(this)),e.set("size",n),e},isIOSIcon:s._105(!1),_loadIOSAppIcon:function(e,t){var i=this.get("iconSrc");this.set("isIOSIcon",!0),i||(i=a.F.EMPTY_SRC,this.set("iconSrc",i));var n=this.get("displaySize"),r=this.iconService.getIconSizeForType("IOS",n);return e||(e=o.a.create({additionalClassNames:s._60(["ios-app-icon"]),src:this.iconSrc,size:r,displaySize:n,roundedCornerMask:s._64("parent.isIOSIcon"),reuseIdentifier:t})),e.listen("error",function(e){e&&this._showPlaceholderIcon()}.bind(this)),e.set("size",r),e},_isIWorkContainer:function(e){return e in u},staticMembers:{__QUALIFIED_CLASS_NAME__:"AppFolderShowcaseView"},__superMap:{_$EX$init:"init"}}),h=s.v.extend({init:function(e){var t=arguments;this.__s._$2aR$init.apply(this,t),this._pool=a.I.create()},getIconViewFromCache:function(e){return this._pool.dequeueItemForKeyIdentifier(e)||null},returnIconViewToCache:function(e){var t=this._pool,i=e.reuseIdentifier;t.queueItemForKeyIdentifier(e,i)},createShowcaseViewReuseIdentifier:function(e){return e.zone+"::"+e.name+"::::"+e.type+"::"+e.displaySize.name},__superMap:{_$2aR$init:"init"}}).create()},function(e,t,i){"use strict";i.d(t,"b",function(){return c}),i.d(t,"a",function(){return f});var a=i(4),n=i(8),s=i(0),r=i(16),o=i(37),c=n.m("BRApp.IconServiceIconFamilies",function(e){e("DEFAULT"),e("APP_LIBRARY"),e("IWORK")}),l={"script editor":["applescript","scpt"],automator:["action","workflow","caction","definition"],keynote:["key","keynote","key-tef","keynote-tef","kth"],numbers:["numbers","numbers-tef","nmbtemplate"],pages:["pages","pages-tef","template"]},u={keynote:i(1398),"keynote-retina":i(1399),"keynote-file":i(1400),"keynote-file-retina":i(1401),numbers:i(1402),"numbers-retina":i(1403),"numbers-file":i(1404),"numbers-file-retina":i(1405),pages:i(1406),"pages-retina":i(1407),"pages-file":i(1408),"pages-file-retina":i(1409),imovie:i(1410),"imovie-retina":i(1411),ibooks:i(1412),"ibooks-retina":i(1413),garageband:i(1414),"garageband-retina":i(1415),automator:i(1416),"automator-retina":i(1417),"automator-file":i(1418),"automator-file-retina":i(1419),"generic-icon":i(1420),"generic-icon-retina":i(1421)},d={key:u.keynote,"key-tef":u.keynote,key_retina:u["keynote-retina"],"key-tef_retina":u["keynote-retina"],keynote:u.keynote,"keynote-tef":u.keynote,kth:u.keynote,keynote_retina:u["keynote-retina"],"keynote-tef_retina":u["keynote-retina"],kth_retina:u["keynote-retina"],numbers:u.numbers,"numbers-tef":u.numbers,nmbtemplate:u.numbers,numbers_retina:u["numbers-retina"],"numbers-tef_retina":u["numbers-retina"],nmbtemplate_retina:u["numbers-retina"],pages:u.pages,"pages-tef":u.pages,template:u.pages,pages_retina:u["pages-retina"],"pages-tef_retina":u["pages-retina"],template_retina:u["pages-retina"],imovielibrary:u.imovie,imovielibrary_retina:u["imovie-retina"],imoviemobile:u.imovie,imoviemobile_retina:u["imovie-retina"],band:u.garageband,band_retina:u["garageband-retina"],ibooks:u.ibooks,ibooks_retina:u["ibooks-retina"],"br.__default":u["generic-icon"],"br.__default_retina":u["generic-icon-retina"],"br.__keynote-file":u["keynote-file"],"br.__keynote-file_retina":u["keynote-file-retina"],"br.__numbers-file":u["numbers-file"],"br.__numbers-file_retina":u["numbers-file-retina"],"br.__pages-file":u["pages-file"],"br.__pages-file_retina":u["pages-file-retina"],automator:u.automator,action:u.automator,workflow:u.automator,caction:u.automator,definition:u.automator,automator_retina:u.automator_retina,action_retina:u.automator_retina,workflow_retina:u.automator_retina,caction_retina:u.automator_retina,definition_retina:u.automator_retina,"br.__automator-file":u["automator-file"],"br.__automator-file_retina":u["automator-file-retina"]},h={key:"IOS","key-tef":"IOS",key_retina:"IOS","key-tef_retina":"IOS","keynote-tef":"IOS",keynote_retina:"IOS","keynote-tef_retina":"IOS",kth:"IOS",kth_retina:"IOS",numbers:"IOS","numbers-tef":"IOS",nmbtemplate:"IOS",numbers_retina:"IOS","numbers-tef_retina":"IOS",nmbtemplate_retina:"IOS",pages:"IOS","pages-tef":"IOS",pages_retina:"IOS","pages-tef_retina":"IOS",template:"IOS",template_retina:"IOS",imovielibrary:"IOS",imovielibrary_retina:"IOS",imoviemobile:"IOS",imoviemobile_retina:"IOS",band:"IOS",band_retina:"IOS",ibooks:"IOS",ibooks_retina:"IOS","br.__default":"IOS","br.__default_retina":"IOS",automator:"IOS",workflow:"IOS",action:"IOS",caction:"IOS",definition:"IOS"},p={png:"image",jpeg:"image",jpg:"image",gif:"image",bmp:"image",tif:"image",tiff:"image",aac:"audio",wav:"audio",m4a:"audio",m4p:"audio",aiff:"audio",midi:"audio",wave:"audio",mp3:"audio",mp4:"video",m4v:"video",mov:"video",vcf:"vcard",vcard:"vcard",eml:"email",crt:"cert",csr:"cert",ical:"cal",ics:"cal",ifb:"cal",vpn:"vpn",doc:"msword",docx:"msword",xlam:"msexcel",xls:"msexcel",xlsx:"msexcel",ppt:"msppoint",pptx:"msppoint",rtf:"rtf",txt:"txt",csv:"csv",mobileprovision:"prov-profile"},f=s.v.extend(s._8,{init:function(e,t){this.fileSystem=e,this.__s._$2P0$init.call(this,t)},fileSystem:s._105({strong:!0}),_fileSystemDidFetchFolderContentObserver:s._106({inputs:["fileSystem.didFetchFolderContent"],callback:function(e){if(e){var t=e.context,i=t.parentFolder,n=t.content;i.isDriveRoot&&this.registerIconsForAppLibraries(n)}}}),registerIconsForAppLibraries:function(e){for(var t,i=e.length,n=0;n<i;n++){var r=e[n];if(r.get("isAppLibrary")){var a=r.get("icons");if(a){var s=r.get("name");if(1===a.length)t=a.objectAt(0),this._updateIconMapForLibrary(s,t.url,t.type);else{var o="IOS"===a.objectAt(0).type?0:1;t=a.objectAt(o),this._updateIconMapForLibrary(s,t.url,t.type)}}}}},getGlyphClassNameForFileType:function(e){return p[e||""]},fetchIconURL:function(e,t){var i=this,n=a.g.create();return a._4.setTimeout(function(){switch(t){case c.APP_LIBRARY:i._fetchIconURLForAppLibrary(e).then(function(e){n.resolve(e)});break;case c.IWORK:i._fetchIWorkIconURLForExtension(e).then(function(e){n.resolve(e)});break;default:i._fetchIconURLForFileType(e).then(function(e){n.resolve(e)})}}),n},getIconURL:function(e,t){switch(t){case c.APP_LIBRARY:return this._getIconURLForAppLibrary(e);case c.IWORK:return this._getIWorkIconURLForExtension(e);default:return this._getIconURLForFileType(e)}},_fetchIconURLForFileType:function(i){var n=this,r=a.g.create();return a._4.setTimeout(function(){var e="";1<s.C.get("sharedInstance").get("devicePixelRatio")&&(e="_retina");var t=d[i?i+e:"br.__default"+e];n.isDriveWsURL(t)&&(t=t+="&validateToken="+n.getValidateCookie()),r.resolve(t)}),r},_getIconURLForFileType:function(e){var t="";1<s.C.get("sharedInstance").get("devicePixelRatio")&&(t="_retina");var i=d[e?e+t:"br.__default"+t];return this.isDriveWsURL(i)&&(i+="&validateToken="+this.getValidateCookie(),i+="&dsid="+this.fileSystem.environment.authBag.user.dsid),i},_fetchIconURLForAppLibrary:function(i){var n=this,r=a.g.create();return a._4.setTimeout(function(){if(i){var e=i.toLowerCase(),t=l[e];n._fetchIconURLForFileType(t?t[0]:null).then(function(e){r.resolve(e)})}else n._fetchIconURLForFileType(null).then(function(e){r.resolve(e)})}),r},_getIconURLForAppLibrary:function(e){if(!e)return this._getIconURLForFileType(null);var t=e.toLowerCase(),i=l[t];return this._getIconURLForFileType(i?i[0]:null)},_getContainerTypeForAppLibrary:function(e){var t=e.toLowerCase(),i=l[t];return i?i[0]:null},_fetchIWorkIconURLForExtension:function(n){var r=a.g.create();return a._4.setTimeout(function(){var e=s.C.get("sharedInstance").get("devicePixelRatio"),t="br.__default";"key"===n||"keynote"===n||"key-tef"===n||"keynote-tef"===n||"kth"===n?t="br.__keynote-file":"numbers"===n||"numbers-tef"===n||"nmbtemplate"===n?t="br.__numbers-file":"pages"!==n&&"pages-tef"!==n&&"template"!==n||(t="br.__pages-file");var i=d[t+(1<e?"_retina":"")];r.resolve(i)}),r},_getIWorkIconURLForExtension:function(e){var t=s.C.get("sharedInstance").get("devicePixelRatio"),i="br.__default";return"key"===e||"keynote"===e||"key-tef"===e||"keynote-tef"===e||"kth"===e?i="br.__keynote-file":"numbers"===e||"numbers-tef"===e||"nmbtemplate"===e?i="br.__numbers-file":"pages"!==e&&"pages-tef"!==e&&"template"!==e||(i="br.__pages-file"),d[i+(1<t?"_retina":"")]},getIconTypeForFileType:function(e){var t="";return 1<s.C.get("sharedInstance").get("devicePixelRatio")&&(t="_retina"),h[e?e+t:"br.__default"+t]},getIconTypeForAppLibrary:function(e){if(!e)return this.getIconTypeForFileType(null);var t=e.toLowerCase(),i=l[t];return this.getIconTypeForFileType(i?i[0]:null)},getValidateCookie:function(){var e=this.fileSystem.hostService;try{return e.getValidateToken()}catch(e){var t=r.a.getListOfAvailableCookiesAsConcatenatedString();s._75("Error in BR.Services.IconService requesting COSK getValidateCookie()",{error:e,cookies:t})}},isDriveWsURL:function(e){if(!e)return!1;var t=s._53.create(this.getDriveWsURL()).get("hostname");return s._53.create(e).isInDomain(t)},getDriveWsURL:function(){return this.fileSystem.environment.authBag.getServiceUrlFor("drivews",!1)},getIconSizeForType:function(e,t){return t&&t===o.a.MEDIUM?"IOS"===e?20:"OSX"===e?22:0:"IOS"===e?60:"OSX"===e?64:0},getIconCanvasSizeForType:function(e,t){return this.getIconSizeForType(e,t)},_updateIconMapForLibrary:function(e,t,i){var n=e.toLowerCase(),r=l[n];if(!r){var a="br._container_"+n.replace(/ /g,"");l[n]=[a],r=[a]}for(var s=r.length,o=0;o<s;o++){var c=r[o];d[c]=t,h[c]=i,d[c+="_retina"]=t,h[c]=i}},staticMembers:{__QUALIFIED_CLASS_NAME__:"IconService"},__superMap:{_$2P0$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i(118);var s=i(8),o=i(0),n=["content.share","content.owner"],r={sharedByNameStringWithoutAttribution:o._105({dependencies:n,readOnly:!0,get:function(){return this._getSharedByNameStringWithoutAttribution(this.content)}}),sharedByNameStringWithAttribution:o._105({dependencies:n,readOnly:!0,get:function(){return this._getSharedByNameStringWithAttribution(this.content)}}),_getSharedByNameStringWithoutAttribution:function(e){var t=e?e.owner:null;if(!e||!e.share)return"";if(e.shareStateIsToMe()){var i=t&&t.firstName||"",n=t&&t.lastName||"",r=t&&t.appleId||"";return s.n({givenName:i,familyName:n,emailAddress:r})}return e.shareStateIsFromMe()?o._99("DriveUI.FilesGrid.Item.Shared.Me"):""},_getSharedByNameStringWithAttribution:function(e){var t=e?e.owner:null;if(!e||!e.share)return"";if(e.shareStateIsToMe()){var i=t&&t.firstName||"",n=t&&t.lastName||"",r=t&&t.appleId||"",a=s.n({givenName:i,familyName:n,emailAddress:r});return o._99("DriveUI.FilesGrid.Item.Shared.Label.SharedToMe",{name:a})}return e.shareStateIsFromMe()?o._99("DriveUI.FilesGrid.Item.Shared.Label.SharedByMe"):""},isShared:o._105({readOnly:!0,dependencies:["content.share"],get:Object.assign(function(){return!!this.getPath("content.share")},{__CW__getter:function(e,t,i,n){return!!n.internalGetPath(this,t[0+i])}})})}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={isLocaleAnExtraLongLanguage:function(){var e=n._81().split("-")[0];return-1<["es","ru","el","pt","ja","de","nl","it","id","ms","ca"].indexOf(e)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n={getImageDataFromImageAndCanvas:function(e,t){t.height=e.height,t.width=e.width;var i=t.getContext("2d");return i.drawImage(e,0,0,e.width,e.height),i.getImageData(0,0,e.width,e.height)},canBrowserUsePerformanceNow:function(){var e=r.j.get("sharedInstance"),t=!0;return(e.isIE||e.isEdge||e.isSafari)&&(t=!1),t},createNewCanvas:function(e){var t=r.C.get("sharedInstance").get("devicePixelRatio"),i=document.createElement("canvas");i.width=e*t,i.height=e*t,i.style.width=e+"px",i.style.height=e+"px",i.style.zIndex=0,i.style.position="absolute";var n=i.getContext("2d");return n.scale(t,t),null!=n.imageSmoothingEnabled?n.imageSmoothingEnabled=!0:(n.mozImageSmoothingEnabled=!0,n.webkitImageSmoothingEnabled=!0,n.msImageSmoothingEnabled=!0),null!=n.imageSmoothingQuality&&(n.imageSmoothingQuality="high"),i},debugCanvas:function(e){},getVideoLetterBoxSizeForThumbnailSize:function(e){return 100<e?12:40<e?4:10<e?2:12},getImageMatBoxSizeForThumbnailSize:function(e){return 100<e?5:40<e?3:10<e?2:12},canvasSupportsImageSmoothingQuality:function(){var e=this.createNewCanvas().getContext("2d");return r._74(e.imageSmoothingQuality)}}},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.Toolbar.ApplicationTitle":"Drive","DriveUI.Toolbar.Button.AppsLauncher.Tooltip":"Change App","DriveUI.Toolbar.Button.Help.Tooltip":"Help and Support","DriveUI.Toolbar.Button.UserAction.Tooltip":"iCloud Settings & Sign Out"})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(1513),a=i(154),s=i(1514),o=n.v.extend({staticMembers:{TransactionStatus:s.a,createWithFilesAndItemStatus:function(e,t){var i=o.create();return e.forEach(function(e){i.addItem(r.a.create({id:e.get("id"),status:t}))}),i},createWithOperationDetails:function(e){var i=o.create();return e.forEach(function(e){var t;i.addItem(r.a.create({id:e.drivewsid,status:(t=e.status,a.a.getItemForValue(t)||a.a.Unknown)}))}),i},__QUALIFIED_CLASS_NAME__:"TransactionRecord"},status:n._107({readOnly:!0,get:function(){var e=this._items,t=e.length,i=0,n=0,r=0;return e.forEach(function(e){switch(e.get("status")){case a.a.OK:i++;break;case a.a.FatalError:r++;break;default:n++}}),i===t?s.a.OK:n===t?s.a.Failed:0===r?s.a.Fatal:s.a.Partial}}),items:n._107({readOnly:!0,get:function(){return this._items}}),count:n._107({readOnly:!0,get:function(){return this._items.length}}),isFullyCommitted:n._107({readOnly:!0,get:function(){return this.get("status")===s.a.OK}}),isPartiallyCommitted:n._107({readOnly:!0,get:function(){return this.get("status")===s.a.Partial}}),hasCommittedItems:n._107({readOnly:!0,get:function(){switch(this.get("status")){case s.a.OK:case s.a.Partial:return!0;default:return!1}}}),hasUncommittedItems:n._107({readOnly:!0,get:function(){return this.get("status")!==s.a.OK}}),committedItems:n._107({readOnly:!0,get:function(){return this._items.filter(function(e){return e.get("status")===a.a.OK})}}),uncommittedItems:n._107({readOnly:!0,get:function(){return this._items.filter(function(e){return e.get("status")!==a.a.OK})}}),init:function(e){this.__s._$pP$init.call(this,e),this._items=[],this._status=null},addItem:function(e){this._items.push(e)},__superMap:{_$pP$init:"init"}})},function(e,t,i){e.exports=!i(31)&&!i(19)(function(){return 7!=Object.defineProperty(i(228)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(76),r=i(24);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw RangeError("Wrong length!");return i}},function(e,t,i){var s=i(34),o=i(38),c=i(231)(!1),l=i(232)("IE_PROTO");e.exports=function(e,t){var i,n=o(e),r=0,a=[];for(i in n)i!=l&&s(n,i)&&a.push(i);for(;t.length>r;)s(n,i=t[r++])&&(~c(a,i)||a.push(i));return a}},function(e,t,i){var n=i(11).document;e.exports=n&&n.documentElement},function(e,t,i){var n=i(91);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){"use strict";var y=i(88),b=i(6),I=i(57),S=i(33),w=i(94),C=i(903),E=i(93),T=i(95),A=i(17)("iterator"),O=!([].keys&&"next"in[].keys()),D="values",F=function(){return this};e.exports=function(e,t,i,n,r,a,s){C(i,t,n);var o,c,l,u=function(e){if(!O&&e in f)return f[e];switch(e){case"keys":case D:return function(){return new i(this,e)}}return function(){return new i(this,e)}},d=t+" Iterator",h=r==D,p=!1,f=e.prototype,_=f[A]||f["@@iterator"]||r&&f[r],m=_||u(r),g=r?h?u("entries"):m:void 0,v="Array"==t&&f.entries||_;if(v&&(l=T(v.call(new e)))!==Object.prototype&&l.next&&(E(l,d,!0),y||"function"==typeof l[A]||S(l,A,F)),h&&_&&_.name!==D&&(p=!0,m=function(){return _.call(this)}),y&&!s||!O&&!p&&f[A]||S(f,A,m),w[t]=m,w[d]=F,r)if(o={values:h?m:u(D),keys:a?m:u("keys"),entries:g},s)for(c in o)c in f||I(f,c,o[c]);else b(b.P+b.F*(O||p),t,o);return o}},function(e,t,i){"use strict";var l=i(49),u=i(92),d=i(24);e.exports=[].copyWithin||function(e,t){var i=l(this),n=d(i.length),r=u(e,n),a=u(t,n),s=2<arguments.length?arguments[2]:void 0,o=Math.min((void 0===s?n:u(s,n))-a,n-r),c=1;for(a<r&&r<a+o&&(c=-1,a+=o-1,r+=o-1);0<o--;)a in i?i[r]=i[a]:delete i[r],r+=c,a+=c;return i}},function(e,t,i){"use strict";var s=i(22).f,o=i(122),c=i(89),l=i(48),u=i(90),d=i(158),n=i(412),r=i(411),a=i(156),h=i(31),p=i(58).fastKey,f=i(97),_=h?"_s":"size",m=function(e,t){var i,n=p(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,a,i,n){var r=e(function(e,t){u(e,r,a,"_i"),e._t=a,e._i=o(null),e._f=void 0,e._l=void 0,e[_]=0,null!=t&&d(t,i,e[n],e)});return c(r.prototype,{clear:function(){for(var e=f(this,a),t=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete t[i.i];e._f=e._l=void 0,e[_]=0},delete:function(e){var t=f(this,a),i=m(t,e);if(i){var n=i.n,r=i.p;delete t._i[i.i],i.r=!0,r&&(r.n=n),n&&(n.p=r),t._f==i&&(t._f=n),t._l==i&&(t._l=r),t[_]--}return!!i},forEach:function(e){f(this,a);for(var t,i=l(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(i(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!m(f(this,a),e)}}),h&&s(r.prototype,"size",{get:function(){return f(this,a)[_]}}),r},def:function(e,t,i){var n,r,a=m(e,t);return a?a.v=i:(e._l=a={i:r=p(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[_]++,"F"!==r&&(e._i[r]=a)),e},getEntry:m,setStrong:function(e,i,t){n(e,i,function(e,t){this._t=f(e,i),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?r(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,r(1))},t?"entries":"values",!t,!0),a(i)}}},function(e,t,i){var a=i(13);e.exports=function(t,e,i,n){try{return n?e(a(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&a(r.call(t)),e}}},function(e,t,i){"use strict";var h=i(78),p=i(160),f=i(124),_=i(49),m=i(230),r=Object.assign;e.exports=!r||i(19)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=r({},e)[i]||Object.keys(r({},t)).join("")!=n})?function(e,t){for(var i=_(e),n=arguments.length,r=1,a=p.f,s=f.f;r<n;)for(var o,c=m(arguments[r++]),l=a?h(c).concat(a(c)):h(c),u=l.length,d=0;d<u;)s.call(c,o=l[d++])&&(i[o]=c[o]);return i}:r},function(e,t,i){"use strict";var s=i(89),o=i(58).getWeak,r=i(13),c=i(9),l=i(90),u=i(158),n=i(123),d=i(34),h=i(97),a=n(5),p=n(6),f=0,_=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return a(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var i=g(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,i,n,r){var a=e(function(e,t){l(e,a,i,"_i"),e._t=i,e._i=f++,e._l=void 0,null!=t&&u(t,n,e[r],e)});return s(a.prototype,{delete:function(e){if(!c(e))return!1;var t=o(e);return!0===t?_(h(this,i)).delete(e):t&&d(t,this._i)&&delete t[this._i]},has:function(e){if(!c(e))return!1;var t=o(e);return!0===t?_(h(this,i)).has(e):t&&d(t,this._i)}}),a},def:function(e,t,i){var n=o(r(t),!0);return!0===n?_(e).set(t,i):n[e._i]=i,e},ufstore:_}},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var n=i(121),r=i(160),a=i(13),s=i(11).Reflect;e.exports=s&&s.ownKeys||function(e){var t=n.f(a(e)),i=r.f;return i?t.concat(i(e)):t}},function(e,t,i){"use strict";var r=i(75);function n(e){var i,n;this.promise=new e(function(e,t){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=e,n=t}),this.resolve=r(i),this.reject=r(n)}e.exports.f=function(e){return new n(e)}},function(e,t,i){t.f=i(17)},function(e,t,i){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(38),a=i(121).f,s={}.toString,o="object"==("undefined"==typeof window?"undefined":n(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(r(e))}},function(e,t,i){"use strict";var r=i(76),a=i(77);e.exports=function(e){var t=String(a(this)),i="",n=r(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(i+=t);return i}},function(e,t,i){var n=i(9),r=i(91),a=i(17)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,i){var n=i(9),r=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,i){var c=i(78),l=i(38),u=i(124).f;e.exports=function(o){return function(e){for(var t,i=l(e),n=c(i),r=n.length,a=0,s=[];a<r;)u.call(i,t=n[a++])&&s.push(o?[t,i[t]]:i[t]);return s}}},function(e,t,i){var u=i(24),d=i(423),h=i(77);e.exports=function(e,t,i,n){var r=String(h(e)),a=r.length,s=void 0===i?" ":String(i),o=u(t);if(o<=a||""==s)return r;var c=o-a,l=d.call(s,Math.ceil(c/s.length));return l.length>c&&(l=l.slice(0,c)),n?l+r:r+l}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(79),r=i(100),a=i(60),s={mixinDependencies:[n.a],get:Object(a.b)(r.a),set:Object(a.b)(r.a)}},function(e,t,i){"use strict";t.a=function(e,t,i,n){if(t<e)return-1;for(var r=arguments.length,a=Array(4<r?r-4:0),s=4;s<r;s++)a[s-4]=arguments[s];for(var o=new Array(2).concat(a),c=void 0;e<t;){c=e+(t-e>>1),o[0]=i(c),o[1]=c;var l=n.apply(void 0,o);if(0===l)return c;l<0?t=c-1:e=c+1}if(e===t&&e!==c&&(o[0]=i(e),o[1]=e,0===n.apply(void 0,o)))return e;return-1}},function(e,t,i){"use strict";t.a=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=i);var r=t.length;e.length=r+i-n;for(var a=n,s=i;a<r;a++,s++)e[s]=t[a];return e}},function(e,t,i){"use strict";t.a=function(e){for(var t={},i=e.length,n=0;n<i;n++){t[e[n]]=!0}return t}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e,t,i){return Array.prototype.slice.call(e,0|t,i)}},function(e,t,i){"use strict";t.a=function e(t,i,n,r){if(t===i)return!0;var a,s,o,c;if(_[void 0===t?"undefined":f(t)]||_[void 0===i?"undefined":f(i)])return!1;if(null===t||null===i)return!1;if(n||(n=t.constructor),r||(r=i.constructor),n!==r)return!1;if(n===Date)return t.getTime()===i.getTime();if(n===RegExp)return t.toString()===i.toString();if(n===Object){var l=0;for(a in t)if(++l,(s=t[a])!==(o=i[a])){if(c=void 0===s?"undefined":f(s),_[c])return!1;if(!e(s,o))return!1}for(a in i)--l;return 0===l}if(n===Array){var u=t.length;if(u!==i.length)return!1;for(var d=u-1;0<=d;--d)if((s=t[d])!==(o=i[d])){if(c=void 0===s?"undefined":f(s),_[c])return!1;if(!e(s,o))return!1}return!0}var h=n.name&&n.name.length?n.name:String(n);Object(p.b)("Unsupported type for 'deepEqual': "+h)};var p=i(23),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_={string:!0,number:!0,boolean:!0,undefined:!0}},function(e,t,i){"use strict";t.a=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e&&e.constructor===Object&&!e.isClass};var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,d,h){"use strict";(function(t){h.d(d,"a",function(){return l}),h.d(d,"b",function(){return u});var e,i,c=h(251),a=h(250),n="debug",r="warn",s={group:"GROUP: ",debug:"DEBUG: ",info:"INFO:  ",warn:"WARN:  ",error:"ERROR: "},o={debug:4,info:3,warn:2,error:1,group:1,none:0},l=(i=e=function(){function i(e){!function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.messagePrefix=null,this.outputMessagePrefix=null,this.recordedMessagePrefix=null,this.logOutputLevel=r,this.logRecordingLevel=n,this.recordedLogMessagesMaximumLength=500,this._recordedLogMessagesEnd=-1,this.reporter=t.console,this._recordedLogMessages=[],this._indentationLevel=0,e&&(this.reporter=e)}return i.prototype.debug=function(e){this._handleMessage(n,arguments)},i.prototype.info=function(e){this._handleMessage("info",arguments)},i.prototype.warn=function(e){this._handleMessage(r,arguments)},i.prototype.error=function(e){this._handleMessage("error",arguments)},i.prototype.group=function(e){this._handleMessage("group",arguments),"none"!==this.logRecordingLevel&&this._indentationLevel++},i.prototype.groupEnd=function(){this._outputMessage("groupEnd","");var e=this.logRecordingLevel;0<this._indentationLevel&&"none"!==e&&this._indentationLevel--},i.prototype.outputRecordedLogMessages=function(){for(var e=this._orderedRecordedLogMessages(),t=0;t<e.length;t++)this._outputMessage("log",e[t])},i.prototype.stringifyRecordedLogMessages=function(){return this._orderedRecordedLogMessages().join("\n")},i.prototype._orderedRecordedLogMessages=function(){var e=[],t=this._recordedLogMessages||[],i=this.recordedLogMessagesMaximumLength-1,n=this._recordedLogMessagesEnd,r=n;if(0<t.length)for(;e.push(t[r]),t[r=0===r?i:r-1]&&r!==n;);return e.reverse()},i.prototype._handleMessage=function(e,t){var i=this._shouldOutputType(e),n=this._shouldRecordType(e);if(i||n){var r=(this.messagePrefix||"")+a.a.apply(this,t);i&&this._outputMessage(e,r,t),n&&this._recordMessage(e,r)}},i.prototype._shouldOutputType=function(e){return o[e]<=o[this.logOutputLevel]},i.prototype._shouldRecordType=function(e){return o[e]<=o[this.logRecordingLevel]},i.prototype._outputMessage=function(e,t,i){var n=this.reporter,r=n?n[e]:null,a=this.outputMessagePrefix||"";if(r){var s=[];i&&1<i.length&&(s=Object(c.a)(i,0,1));try{var o;(o=Function.prototype.call).call.apply(o,[r,n,a+t].concat(s))}catch(e){Function.prototype.call.call(r,n,a+t,"Cycle argument")}}},i.prototype._recordMessage=function(e,t){var i=this._recordedLogMessages,n=this._createRecordedMessageString(e,t),r=this.recordedLogMessagesMaximumLength-1,a=this._recordedLogMessagesEnd,s=a===r?0:a+1;i[s]=n,this._recordedLogMessagesEnd=s},i.prototype._createRecordedMessageString=function(e,t){var i=function(e){(!e||e<0)&&(e=0);var t,i="";for(t=0;t<e;++t)i+="    ";return i}(this._indentationLevel),n=(new Date).toUTCString()+":  ",r=s[e];return i+n+(this.recordedMessagePrefix||"")+r+t},i}(),e.LOG_LEVEL_NONE="none",e.LOG_LEVEL_GROUP="group",e.LOG_LEVEL_DEBUG=n,e.LOG_LEVEL_INFO="info",e.LOG_LEVEL_WARN=r,e.LOG_LEVEL_ERROR="error",i),u=new l}).call(d,h(5))},function(e,t,i){"use strict";t.b=function(e,t,i){if(c){if(s.isExceptionHandlingFatal)return;c=!1}if(o)return e.apply(i,t);if(!s.isExceptionHandlingEnabled)return Object(a.c)(e,i,t);o=!0;try{return Object(a.c)(e,i,t)}catch(e){var n=r.a;0<n.length&&(n.push(e.context),n.reverse(),e.context=n.slice(),n.length=0),s.exceptionHandler(e),s.exceptionWasHandled=!0,s.isExceptionHandlingFatal&&(c=!0)}finally{o=!1}},t.c=function(e){s=e||n},t.a=function(){return s};var r=i(254),a=i(256),n={isExceptionHandlingEnabled:!1},s=n,o=!1,c=!1},function(e,t,i){"use strict";t.a=function(e){if(!e)return null;if(e.lineNumber)return e.lineNumber;if(e.line)return e.line;if(Object(a.a)(e.stack)){var t=e.stack.split("\n")[1];if(Object(a.a)(t)){var i=t.split(":"),n=i[i.length-2],r=parseInt(n,10);if(Object(s.a)(r)&&!Number.isNaN(r))return r}}return null};var a=i(163),s=i(252)},function(e,t,i){"use strict";t.a=function(e){if(!e||!Object(r.a)(e.stack))return null;var t=e.stack.trim().split("\n"),i=t.length;if(500<i){var n=i-500;t.splice(400,n," "+n+" lines truncated ")}return t.join("\n")};var r=i(163)},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var c=i(23),n=i(165),l=i(162),u=i(164),d=[],r=function(e,t){var i,n,r,a,s=0|t,o="";if(Object(l.a)(e)){for(i=e.length,n=0;n<i;n++)n&&(o+=","),o+=h(e[n],s);return"["+o+"]"}if(e._isCwCollection&&e.objectAt){for(i=e.length,n=0;n<i;n++)n&&(o+=","),o+=h(e.objectAt(n),s);return"["+o+"]"}if(!Object(u.a)(e)){for(r in a=d.length,e)e.hasOwnProperty(r)&&d.push(r);for(d.sort(),i=d.length,n=a;n<i;n++)n!==a&&(o+=","),o+='"'+(r=d[n])+'":'+h(e[r],s);return d.length=a,"{"+o+"}"}Object(c.b)("Object expected in call to `guidForContents`.",e)},h=function(e,t){return 0<t&&!Object(u.a)(e)?r(e,t-1):'"'+Object(n.a)(e)+'"'}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e){return e.substring(e.lastIndexOf(".")+1)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var s=i(257),n=function(e,t){for(var i,n,r=0,a=t;a&&-1!==(n=e.indexOf(".",r));)i=e.substring(r,n),a=Object(s.a)(a,i),r=n+1;return a}},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),t.b=function(e){for(var t="",i=0,n=e.length;i<n;i++){var r=e.charAt(i);t+=a[r]||r}return t};var a={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"P","":"P","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"`","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"p","":"p","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z"}},function(e,t,i){"use strict";t.a=function(e){return!(!e||!e.isSinonProxy)}},function(e,t,i){"use strict";t.a=function(e,t){var i=t?e[t]:e;if(Object(r.a)(i))return i;var n=sinon.spy(e,t);return n._wasSpiedBySpyIfNecessary=!0,n};var r=i(444)},function(e,r,t){"use strict";(function(t){r.a=function(e){return e=e||new n(16),i(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,e};var i,n=t.Uint8Array||t.Array;i=t.crypto&&t.crypto.getRandomValues?function(e){t.crypto.getRandomValues(e)}:function(e){for(var t,i,n,r=0;r<16;)for(i=Math.random(),t=0;t<4;r++,t++)n=0|(i*=256),i-=e[r]=n}}).call(r,t(5))},function(e,t,i){"use strict";t.a=function(e){var t,i,n="";for(t=0;t<16;t++)i=e[t],n+=r[i>>4],n+=r[15&i],3!==t&&5!==t&&7!==t&&9!==t||(n+="-");return n};var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"]},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(2),r={staticMembers:{init:function(e){return this.isAbstract&&!this.hasOwnProperty("isAbstract")&&(this.isAbstract=!1),this.__s._$EB$init.call(this,e)},isAbstract:!0,__superMap:{_$EB$init:"init"}},init:function(e){this.constructor.isAbstract?Object(n.y)("this class cannot be instantiated because it is abstract"):this.__s._$KL$init.call(this,e)},__superMap:{_$KL$init:"init"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(2),r=i(40),a=i(259),s=r.a.extend(a.a,{staticMembers:{begin:function(e){var t=this.create();return t.retain(t,o),t._isReady=!0,t._rootObject=e,t._batchSetter=this._beginBatchSetter(),t},_beginBatchSetter:function(){return i(258).NonObservableBatchSetter.begin()},__QUALIFIED_CLASS_NAME__:"BatchSetterForNonObservableObject"},begin:function(){Object(n.y)("BatchSetterForObject Begin must be called on the class, reusing BatchSetterForObject objects is not allowed.")},_rootObject:null,set:function(e,t){return this._batchSetter.set(this._rootObject,e,t),this},setIfChanged:function(e,t){return this._batchSetter.setIfChanged(this._rootObject,e,t),this},end:function(){this._batchSetter.end(),this._batchSetter=null,this._rootObject=null,this.release(this,o)}}),o="BatchSetterForObject: self-reference for the duration"},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={toString:function(){return"CW.ITSELF"}};Object.freeze(n)},function(e,t,i){"use strict";t.a=function(e){return!(!e||!e.isObject)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"c",function(){return a}),i.d(t,"b",function(){return s}),t.f=function(e,t,i){e&&e!==t&&e.retain&&e.retain(t,i)},t.e=function(e,t,i){e&&e!==t&&e.release&&e.release(t,i)},t.d=function(e,t,i){e&&e!==t&&e.autorelease&&e.autorelease(t,i)},t.g=function(e,t,i,n){return e&&e.registerWeakReference?e.registerWeakReference(t,i,n):r.b},t.h=function(e,t){t!==r.b&&e&&e.deregisterWeakReference&&e.deregisterWeakReference(t)};var r=i(40),n="strong",a="weak",s="unsafe"},function(e,t,_){"use strict";(function(e){t.a=function(e){var t=e.type;if(null!==t&&"any"!==t){var i,n,r,a,s,o,c,l=function(e,t){switch(void 0===e&&Object(d.y)('Error defining property "%{key}". You must specify a type.',{property:t,key:t.key}),e){case Number:e="number";break;case String:e="string";break;case Boolean:e="boolean";break;case"object":e=Object;break;case"function":e=Function}return e}(t,e);l!==t&&(e.type=l),"integer"===l?(i=f,e.typeIsPrimitive=!0):"number"===l?(i=p,e.typeIsPrimitive=!0):"string"===l?(i=d.Q,e.typeIsPrimitive=!0):"boolean"===l?(i=d.L,e.typeIsPrimitive=!0):"hash"===l?i=d.O:Object(d.G)(l,_(261).EnumGroup)?(o=l,i=function(t){return Object(d.G)(t,_(266).EnumItem)&&o.items.some(function(e){return e.contains(t)})}):l.isClass?(s=l,i=function(e){var t;return e.isObject&&((t=e.constructor)===s||t.subclassOf(s))}):"function"===(n=void 0===l?"undefined":h(l))||u(l)?(a=l,i=function(e){return e instanceof a}):"object"===n?(r=l,i=function(e){return e.hasMixin&&e.hasMixin(r)}):Object(d.y)('Cannot create property "%{key}" with unknown type `%{type}`.',{property:e,key:e.key,type:l}),c=i,i=function(e){return!Object(d.x)(e)||c.call(this,e)},e._validateType=i}};var u,d=_(2),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e){return Object(d.P)(e)&&!Number.isNaN(e)}function f(e){return(0|e)===e||Number.isInteger(e)}u="function"!=typeof e.XMLHttpRequest?function(e){return e.prototype&&e.prototype.constructor}:d.e}).call(t,_(5))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"SubclassProperty",function(){return a}),t.subclassProperty=function(){return a.create.apply(a,arguments)};var n=i(35),r=i(267),a=n.Property.extend({requiresSupport:r.a,readOnly:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"SubclassProperty"}})},function(e,i,h){"use strict";(function(t){h.d(i,"a",function(){return e});var u=h(2),d=[],e={then:function(e,t){var i=this.internalPromise,n=h(25).CorePromise.createEmpty();return this.isExceptionHandlingEnabled&&(e&&(e=a(n,e),n._resolveHandler=e),t&&(t=a(n,t,!0),n._rejectHandler=t,this._hasRejectionHandler=t),this._linkNestedPromise(n)),n.internalPromise=i.then(e,t),n},catch:function(e){return this.then(null,e)},finally:function(t){var e=this.internalPromise,i=h(25).CorePromise.create();i._hasRejectionHandler=!1;var n=function(e){t(e),i.resolve(e)},r=function(e){t(e),i.rejectWithExceptionHandling(e)};return t&&this.isExceptionHandlingEnabled?e.then(a(i,n),a(i,r,!0)):t&&e.then(n,r),this._linkNestedPromise(i)},promiseState:null,isExceptionHandlingEnabled:!0,resolve:function(e){if(this.promiseState===h(25).CorePromise.PENDING)if(e===this&&Object(u.y)("Promise cannot resolve with itself "+this,this),e instanceof t.Promise||Object(u.G)(e,h(25).CorePromise))e.then(this._resolveHandler.bind(this),this._rejectHandler.bind(this));else if(Object(u.R)(e))try{e.then(this._resolveHandler.bind(this),this._rejectHandler.bind(this))}catch(e){this._rejectHandler(e)}else this._resolveHandler(e)},reject:function(e){this.promiseState===h(25).CorePromise.PENDING&&(this._rejectHandlerWasCalledDirectly=!0,this._rejectHandler(e))},rejectWithExceptionHandling:function(e){this.promiseState===h(25).CorePromise.PENDING&&(this._hasRejectionHandlerInChain()?this._rejectHandler(e):(this._exceptionWasThrown=!0,Object(u.J)(function(){throw e})))},init:function(){var e=arguments;this.__s._$2IP$init.apply(this,e),this.promiseState=h(25).CorePromise.PENDING,void 0===this.internalPromise&&(this.internalPromise=this._createPromise())},_createPromise:function(){var n=this;return new t.Promise(function(t,i){n.isExceptionHandlingEnabled?(n._resolveHandler=a(n,t),n._rejectHandler=a(n,i,!0)):(n._resolveHandler=function(e){n.promiseState=h(25).CorePromise.RESOLVED.FULFILLED,t(e)},n._rejectHandler=function(e){n.promiseState=h(25).CorePromise.RESOLVED.REJECTED,i(e)})})},internalPromise:void 0,_resolveHandler:null,_rejectHandler:null,_hasRejectionHandler:!1,_rejectHandlerWasCalledDirectly:!1,_exceptionWasThrown:!1,_nestedPromises:null,_parentPromise:null,_linkNestedPromise:function(e){return this._nestedPromises=this._nestedPromises||(this._nestedPromises=[]),this._nestedPromises.push(e),e._parentPromise=this,e},_hasRejectionHandlerInChain:function(e){for(var t=this;t;){if(t._hasRejectionHandler&&t._hasRejectionHandler!==e&&t.promiseState===h(25).CorePromise.PENDING)return!0;t=t._parentPromise}return function e(t){var i=t._nestedPromises;if(i)for(var n=0,r=i.length;n<r;n++){var a=i[n];if(a._hasRejectionHandler||e(a))return!0}return!1}(this)},__superMap:{_$2IP$init:"init"}};function a(s,o,c){var l;return l=function(){var e,t=arguments.length;d.length=t+0-0;for(var i=0,n=0;i<t;i++,n++)d[n]=arguments[i];var r=d;try{(e=Object(u.I)(o,this,r))&&Object(u.G)(e,h(25).CorePromise)&&s._linkNestedPromise(e)}catch(e){var a=s._hasRejectionHandlerInChain(l);if(!Object(u.A)().exceptionWasHandled){if(a)throw e;s._exceptionWasThrown=!0,Object(u.J)(function(){throw e})}}return s.promiseState=c?h(25).CorePromise.RESOLVED.REJECTED:h(25).CorePromise.RESOLVED.FULFILLED,e}}}).call(i,h(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(2),r=i(99),a=i(166).Required.extend({metadataType:null,validate:function(e,t){if(!e.hasMixin||!e.hasMixin(r.MetadataSupport))return!1;var i=e.getMetadata(t);return Object(n.G)(i,this.metadataType)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredMetadata"}})},function(e,s,o){"use strict";(function(e){o.d(s,"a",function(){return a});var i=o(2),t=o(125),n=o(458),r=o(459),a=t.a.extend(r.a,n.a,{contentType:"application/json",encode:function(t){if(!Object(i.Q)(t))try{t=e.JSON.stringify(t)}catch(e){Object(i.y)("Could not encode object to JSON.",{object:t,error:e})}return t},decode:function(t){if(Object(i.Q)(t))try{t=e.JSON.parse(t)}catch(e){i.T.warn("Could not decode string as JSON",t),t=null}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"JSONSerializer"}})}).call(s,o(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(79),r=i(100),a={mixinDependencies:[n.a],encode:r.a.create(),decode:r.a.create()}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(35),r={staticMembers:{sharedInstance:Object(n.property)({get:function(){return this.hasOwnProperty("_sharedInstance")&&this._sharedInstance||(this._sharedInstance=this.create())},set:function(e){this._sharedInstance=e}})},dispose:function(){var e=arguments;this.constructor._sharedInstance===this&&delete this.constructor._sharedInstance,this.__s._$O4$dispose.apply(this,e)},__superMap:{_$O4$dispose:"dispose"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(101),r=i(35),a=n.Validator.extend({message:"Validation.InvalidPattern",pattern:Object(r.property)({type:RegExp,defaultValue:/.*/i}),validate:function(e){return this.get("pattern").test(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PatternValidator"}})},function(e,u,d){"use strict";(function(n){d.d(u,"a",function(){return l});var i=d(1),r=d(2),e=d(3),t=d(14),a=d(523),s=d(524),o=d(1119),c=function(e){var t=l&&l.application;if(t)return t.handleException.apply(t,arguments)},l=i.CoreObject.extend(e.q,t.p,i.StaticExceptionHandlerDelegateProtocol,{staticMembers:{application:Object(e.T)(),states:Object(i.createEnumGroup)("AppStates",function(e){e("NEW"),e("INITIALIZING"),e("READY")}),isExceptionHandlingEnabled:Object(i.property)({defaultValue:null,get:function(e){if(Object(r.x)(e))return e;if(!l.application){var t=this.exceptionHandler;if(!t||t===c)return!1}return!0}}),exceptionHandler:c,__QUALIFIED_CLASS_NAME__:"Application"},handleException:r.e,state:null,run:Object(r._15)(function(){var t=this;this.state=l.states.INITIALIZING;var e=this.Initializers.map(function(e){return e.create().run(t)});return i.CorePromise.all(e).then(function(e){return t.state=l.states.READY,e})}),Initializers:Object(i.instance)([s.a,o.a,a.a]),initializerPromises:Object(i.instance)(Map),rootElement:n.document.body,rootViewController:null,_paneManager:Object(e.T)(),nextResponder:Object(i.property)({get:function(){return this.rootResponder}}),rootResponder:null,presentViewController:function(e){this._paneManager.presentViewController(e)},dismissViewController:function(e){this._paneManager.dismissViewController(e)},addPane:function(e){this.get("_paneManager").addPane(e)},removePane:function(e){this.get("_paneManager").removePane(e)},bringToFront:function(e){this.get("_paneManager").removePane(e)},activePane:Object(e.T)({binding:Object(e.R)("_paneManager.activePane"),readOnly:!0}),topFocusablePane:Object(e.T)({binding:Object(e.R)("_paneManager.topFocusablePane"),readOnly:!0}),topFocusLayer:Object(e.T)({binding:Object(e.R)("_paneManager.topFocusLayer"),readOnly:!0}),writeTextToAriaLiveRegion:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"polite",i=n.document.getElementById("cw-aria-live-region");i.setAttribute("aria-live",t),i.textContent=e},init:function(){var e=arguments;l.application&&Object(r.y)("Only one application may be instantiated per JS context."),this.__s._$3Ng$init.apply(this,e),this.state=l.states.NEW,l.application=this},__superMap:{_$3Ng$init:"init"}});Object(r.Z)(l)}).call(u,d(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[i(463).a],position:Object(n.property)(0),countAfter:Object(n.property)({readOnly:!0,get:function(){return this.get("length")-this.get("position")-1}}),countBefore:Object(n.property)({readOnly:!0,get:function(){return this.get("position")}}),moveTo:function(e){return this.set("position",e),this},length:Object(n.define)(n.RequiredProperty),moveBy:function(e){return this.moveTo(this.get("position")+e)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(129),a={done:!1,value:null},s={mixinDependencies:[r.a],moveToNext:Object(n.define)(n.RequiredMethod,{requiredKey:"moveBy",default:function(){return this.moveBy(1)}}),moveToPrevious:Object(n.define)(n.RequiredMethod,{requiredKey:"moveBy",default:function(){return this.moveBy(-1)}}),previous:function(){return a.value=this.get("value"),a.done=this.get("isValid"),this.moveBy(-1),a},moveBy:Object(n.define)(n.RequiredMethod,{requiredKey:["moveToNext","moveToPrevious"],default:function(e){if(0<e)for(;0!=e--;)this.moveToNext();else if(e<0)for(;0!=e++;)this.moveToPrevious();return this}})}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(465),a=i(167),s={mixinDependencies:[r.a,a.a],createIterator:function(){return this.createIteratorAt(0)},createIteratorAtEnd:function(){return this.createIteratorAt(this.get("length")-1)},createIteratorAt:Object(n.define)(n.RequiredMethod)}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[i(269).a],createIteratorAtEnd:Object(n.define)(n.RequiredMethod)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"StrongObservableArray",function(){return s});var n=i(41),r=i(169),a=i(275),s=n.ObservableArray.extend(a.a,{changesClass:r.b,staticMembers:{__QUALIFIED_CLASS_NAME__:"StrongObservableArray"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(1).BatchSetterForNonObservableObject.extend({staticMembers:{_beginBatchSetter:function(){return i(468).BatchSetter.begin()},__QUALIFIED_CLASS_NAME__:"BatchSetterForObject"}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"BatchSetter",function(){return r});var n=i(1),d=i(21),r=n.NonObservableBatchSetter.extend({staticMembers:{init:function(){var e=arguments;this.__s._$H5$init.apply(this,e),(n.NonObservableBatchSetter._bestBatchSetterClass=this)._bestBatchSetterClass=this},__QUALIFIED_CLASS_NAME__:"BatchSetter",__superMap:{_$H5$init:"init"}},init:function(){var e=arguments;this.__s._$Oq$init.apply(this,e),this._toSetObservableArray=[]},end:function(){var e=arguments;this.__s._$QZ$end.apply(this,e),this._toSetObservableArray.length=0},_toSetObservableArray:null,_performSet:function(e){if(0!==e.length){for(var t=this._toSetObservableArray,i=this._pointerTuple,n=0,r=e.length;n<r;n++){var a=e[n],s=a.value,o=this._resolvePointer(a,i),c=o[0],l=o[1],u=c.upstreamNodes?c.upstreamNodes[l]:void 0;u?(t.push(s),t.push(u)):c[l]=s}0<t.length&&d.a.setValuesForNodes.apply(this,t)}},__superMap:{_$Oq$init:"init",_$QZ$end:"end"}})},function(e,t,c){"use strict";c.d(t,"a",function(){return h}),c.d(t,"b",function(){return p}),c.d(t,"c",function(){return A}),c.d(t,"d",function(){return O});var o=c(2),f=c(21),s=c(103),l=c(104),i=c(130),_=f.a.NULL_INDEX,m=f.a._sanitizeNodeID,g=[],v=[],y=[],b=[],I=[],S=[],u=[],n=0,r=[],a=0;function d(){var e;return e=0<a?r[--a]:n++,g[e]=_,v[e]=void 0,b[e]=void 0,y[e]=_,I[e]=_,S[e]=_,u[e]=_,e}var h=i.a.extend({staticMembers:{init:function(){var e=arguments;this.__s._$1xW$init.apply(this,e),this.managers={}},instanceFor:function(e,t){var i=this.managers[t];return i||(i=this.managers[t]=this.create(e,t)),i},__QUALIFIED_CLASS_NAME__:"ChainedLookupNodeManager",__superMap:{_$1xW$init:"init"}},type:"ChainedLookupNodeManager",lookupID:"",init:function(e,t){this.__s._$2Lj$init.call(this),this.lookupID=this.type+": "+t,this.key=e,this.lookupPath=t},setUpForObject:function(e,t,i){var n=t.downstreamNodes,r=this.lookupID,a=m(n[r]);if(a<0){n[r]=a=t.allocNode(this,f.a.PULL_ON_FLUSH|f.a.FREE);var s=d();g[s]=i,f.a.addChildToNode(a,i,!0),f.a.setDataForNode(s,a)}return a},calculateValueForNode:function(e,t,i){var n=f.a.getDataForNode(t),r=b[f.a.getValueForNode(g[n])];f.a.getParentIDs(t,w);var a=w[1];if(r!==v[n]){if(0<=a&&f.a.removeChildFromNode(t,a),a=_,r){var s=this.key,o=r.downstreamNodes;o&&(a=m(o[s])),0<=a?f.a.addChildToNode(t,a,!1):D(this.key,this.lookupPath,r)}v[n]=r}return b[n]=0<a?f.a.getValueForNode(a):void 0,n},nodeWillFree:function(e,t){var i,n=f.a.getDataForNode(t);g[i=n]=_,y[i]=_,v[i]=void 0,b[i]=void 0,I[i]=_,S[i]=_,u[i]=_,r[a++]=i},addDebugInfoForNode:function(e,t,i){t.type=this.type,t.object=e,t.key=this.lookupID,t.toString=function(){return this.object+"."+this.key},t.name=t.toString()},__superMap:{_$2Lj$init:"init"}}),p=h.extend({staticMembers:{instanceFor:function(e){var t=this.managers[e];return t||(t=this.managers[e]=this.create(e)),t},__QUALIFIED_CLASS_NAME__:"ChainedLookupRootNodeManager"},type:"ChainedLookupRootNodeManager",init:function(e){this.__s._$4Jm$init.call(this,e,e)},setUpForObject:function(e,t){var i,n=t.downstreamNodes,r=this.lookupID,a=m(n[r]);if(a<0){(i=m(n[this.key]))<0&&Object(o.y)("Chained binding could not look up key on object (key: "+this.key+", object: "+t+").",{key:this.key,object:t}),n[r]=a=t.allocNode(this,f.a.PULL_ON_FLUSH|f.a.FREE);var s=d();f.a.setDataForNode(s,a),v[s]=t,f.a.addChildToNode(a,i,!0)}return a},calculateValueForNode:function(e,t,i){var n=f.a.getDataForNode(t);f.a.getParentIDs(t,w);var r=w[0],a=f.a.getValueForNode(r);return b[n]=a,n},__superMap:{_$4Jm$init:"init"}}),w=[0,0],C=[0],E=i.a.extend({calculateValueForNode:function(e,t,i){if(i){var n=f.a.getDataForNode(t),r=u[n];f.a.getValueForNode(r),f.a.getParentIDs(t,w);var a,s=w[1];return 0<f.a._sanitizeNodeID(s)&&(a=f.a.getValueForNode(s)),a}return f.a.getStateDataForNode(t)},isCacheable:!1,addDebugInfoForNode:function(e,t,i){t.type="ChainedLookupProxyNode (downstream)",t.object=e,t.key="[downstream proxy]",t.toString=function(){return this.object+"[downstream proxy]"},t.name=t.toString()},validateDescendantDownstreamNodeManager:function(e,t,i){f.a.getParentIDs(i,w);var n=w[1];n!==_&&f.a.getManagerForNode(n).validateDescendantDownstreamNodeManager(e,t,n)},didAddParentToNode:function(e,t,i,n){if(1!==n){f.a.getChildrenIDs(t,C);var r=C[0];if(r!==_){var a=f.a.getManagerForNode(r);a.isDependentComputedProperty||a.instanceOf(s.a)&&f.a.getManagerForNode(i).validateDescendantDownstreamNodeManager(a,r,i)}}}}).create(),T=l.b.extend({calculateValueForNode:function(e,t,i){var n=f.a.getDataForNode(t);f.a.getChildrenIDs(t,C);var r,a=C[0];if(i){var s=f.a.getStateIDForNode(t);r=this.pullDataFromParent(t,s)}else r=f.a.getStateDataForNode(t);return r!==l.a&&f.a.passValueToNode(r,a),n},addDebugInfoForNode:function(e,t,i){t.type="ChainedLookupProxyNode (upstream)",t.object=e,t.key="[upstream proxy]",t.toString=function(){return this.object+"[upstream proxy]"},t.name=t.toString()},didRemoveChildFromNode:function(e,t,i,n){var r=f.a.getDataForNode(t);y[r]===i&&(y[r]=-1)}}).create(),A=h.extend({type:"ChainedLookupTerminalNodeManager",connectUpstreamProxyNodeToLookedUpNodes:function(e,t,i){f.a.addChildToNode(e,t,i)},connectDownstreamProxyNodeToLookedUpNodes:function(e,t){f.a.addChildToNode(e,t,!1)},disconnectProxyNodeFromLookupUpNodes:function(e,t){f.a.removeChildFromNode(e,t)},getDownstreamProxyNode:function(e){var t=e.downstreamNodes,i=this.lookupID,n=m(t[i]),r=f.a.getDataForNode(n);return I[r]},getUpstreamProxyNode:function(e){var t=e.downstreamNodes,i=this.lookupID,n=m(t[i]),r=f.a.getDataForNode(n);return S[r]},setUpForObject:function(e,t,i,n){var r,a,s,o=t.downstreamNodes,c=this.lookupID,l=m(o[c]);return l<=0&&(o[c]=l=t.allocNode(this,f.a.PULL_ON_FLUSH|f.a.FREE|f.a.RELATIONSHIPS),r=d(),f.a.setDataForNode(r,l),u[r]=l,g[r]=i,a=t.allocNode(E,f.a.RELATIONSHIPS),o["Downstream Proxy for "+c]=a,I[r]=a,f.a.setDataForNode(r,a),f.a.addChildToNode(a,l,!1),s=t.allocNode(T,f.a.RELATIONSHIPS),t.upstreamNodes["Upstream Proxy for "+c]=s,S[r]=s,f.a.setDataForNode(r,s),this._shouldFlushUpstream=!!n,f.a.addChildToNode(l,i,!0)),l},getPreviouslyProxiedDownstreamNode:function(e){return f.a.getParentIDs(e,w),w[1]},calculateValueForNode:function(e,t,i){var n=f.a.getDataForNode(t),r=b[f.a.getValueForNode(g[n])],a=v[n];if(r!==a){v[n]=r;var s=this.key,o=S[n],c=I[n],l=this.getPreviouslyProxiedDownstreamNode(c),u=y[n];if(a&&(y[n]=_,this.disconnectFromPreviousProperty(a,s,u,l,o,c)),r){var d,h,p=r.downstreamNodes;p&&(d=m(p[s])),(p=r.upstreamNodes)&&(h=m(p[s])),this.hookUpToNewProperty(r,s,h,d,o,c),y[n]=h}}return this._shouldFlushUpstream=!1,n},disconnectFromPreviousProperty:function(e,t,i,n,r,a){0<=a&&0<=n&&this.disconnectProxyNodeFromLookupUpNodes(a,n),0<=r&&0<=i&&this.disconnectProxyNodeFromLookupUpNodes(i,r)},hookUpToNewProperty:function(e,t,i,n,r,a){0<n?(0<i&&this.connectUpstreamProxyNodeToLookedUpNodes(i,r,this._shouldFlushUpstream),this.connectDownstreamProxyNodeToLookedUpNodes(a,n)):D(this.key,this.lookupPath,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChainedLookupTerminalNodeManager"}}),O=A.extend({init:function(e,t){t+="Downstream",this.__s._$Ai2$init.call(this,e,t)},connectUpstreamProxyNodeToLookedUpNodes:function(e,t,i){f.a.addChildToNode(t,e,i)},connectDownstreamProxyNodeToLookedUpNodes:function(e,t){f.a.addChildToNode(t,e,!0)},getPreviouslyProxiedDownstreamNode:function(e){return f.a.getChildrenIDs(e,C),C[0]},disconnectProxyNodeFromLookupUpNodes:function(e,t){f.a.removeChildFromNode(t,e)},disconnectFromPreviousProperty:function(e,t){e.isDisposed||e.unbind(t)},hookUpToNewProperty:function(e,t,i,n,r,a){var s=arguments,o=e.getMetadataByType(c(18).ObservableProperty)[t];o||D(this.key,this.lookupPath,e),o._disconnectNodes(n,i),o._configurePropertyAsBound(n,i),this.__s._$BH5$hookUpToNewProperty.apply(this,s),f.a.triggerFlush()},nodeWillFree:function(e,t){var i=arguments,n=this.key,r=f.a.getDataForNode(t),a=v[r];a&&(a.isDisposed||(a.unbind(n),this.__s._$BSO$nodeWillFree.apply(this,i)))},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamChainedLookupTerminalNodeManager"},__superMap:{_$Ai2$init:"init",_$BH5$hookUpToNewProperty:"hookUpToNewProperty",_$BSO$nodeWillFree:"nodeWillFree"}});function D(e,t,i){var n;n=i&&i.constructor?"an instance of "+i.constructor.toString():i?i+"":"a missing object ("+i+")",Object(o.y)("Attempted to bind or observe a non-observable property: '"+e+"' on "+n+", via path '"+t+"'.",{key:e,lookupPath:t,object:i})}},function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"a",function(){return o});var n=i(1),r=i(471),a=i(21),s=r.a.extend({debugType:"Strong",init:function(){var e=arguments;this.__s._$Co$init.apply(this,e),this._referenceDescriptorComputedCache="Observable strong ref for `"+this.key+"` (downstream cached value)"},_referenceDescriptorComputedCache:void 0,_manageForCalculateValueForNode:function(e,t,i){Object(n.retainValueIfNeeded)(i,e,this._referenceDescriptorComputedCache)},previousValueWasReplaced:function(e,t,i){Object(n.releaseValueIfNeeded)(i,e,this._referenceDescriptorComputedCache)},nodeWillFree:function(e,t){Object(n.releaseValueIfNeeded)(a.a.getDataForNode(t),e,this._referenceDescriptorComputedCache)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamStrongNodeManager"},__superMap:{_$Co$init:"init"}}),o=s.extend({debugType:"Strong Computed",init:function(){var e=arguments;this.__s._$Zk$init.apply(this,e),this._referenceDescriptorComputedCache="Observable strong ref for `"+this.key+"` (downstream cached computed value)"},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamStrongComputedNodeManager"},__superMap:{_$Zk$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(103).a.extend({debugType:"Strong",validateDescendantDownstreamNodeManager:function(e,t,i){e.reference===n.WEAK&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a weak and a strong property together.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseDownstreamStrongNodeManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(103).a.extend({debugType:"Unsafe",validateDescendantDownstreamNodeManager:function(e,t,i){e.reference!==n.UNSAFE&&this._throwValidationError(e,t,"Illegal binding (reference strength) from `%{key}` (to `%{parentKey}`): You cannot bind a %{reference} property up to an unsafe one.")},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamUnsafeNodeManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(1),s=i(21),n=i(270).a.extend({debugType:"Weak Computed",_manageForCalculateValueForNode:function(e,t,i){var n=this.key,r=e._weakReferenceTokens[n];Object(a.weaklyUnreferenceValueIfNeeded)(t,r),e._weakReferenceTokens[n]=Object(a.weaklyReferenceValueIfNeeded)(i,e,e.weaklyReferencedObjectWasDisposed,n)},nodeWillFree:function(e,t){var i=this.key,n=e._weakReferenceTokens[i],r=s.a.getDataForNode(t);Object(a.weaklyUnreferenceValueIfNeeded)(r,n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownstreamWeakComputedNodeManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(21),a=i(271).a.extend({debugType:"ReadOnly Strong",nodeWillFree:function(e,t){var i=r.a.getDataForNode(t);Object(n.releaseValueIfNeeded)(i,e,"Observable strong ref for `"+this.key+"` (read-only default value)")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamReadOnlyStrongNodeManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(1),a=i(21),n=i(104).b.extend({debugType:"Strong",init:function(e){var t=arguments;this.__s._$9W$init.apply(this,t);var i=this.key;this._stateArrayReferenceDescriptor="Observable strong ref for `"+i+"` (upstream state preprocessing storage)",this._ownValueReferenceDescriptor="Observable strong ref for `"+i+"` (upstream own-value storage)"},_manageForWasDirtiedByParent:function(e,t){Object(r.releaseValueIfNeeded)(e,t,this._stateArrayReferenceDescriptor)},_manageForWasDirtiedBySelf:function(e,t,i){var n=this._stateArrayReferenceDescriptor;Object(r.retainValueIfNeeded)(e,i,n),Object(r.releaseValueIfNeeded)(t,i,n)},_manageForCalculateValueForNode:function(e,t,i){Object(r.retainValueIfNeeded)(e,i,this._ownValueReferenceDescriptor),Object(r.releaseValueIfNeeded)(t,i,this._stateArrayReferenceDescriptor)},previousValueWasReplaced:function(e,t,i){Object(r.releaseValueIfNeeded)(i,e,this._ownValueReferenceDescriptor)},nodeWillFree:function(e,t){var i=a.a.getStateDataForNode(t),n=a.a.getDataForNode(t);Object(r.releaseValueIfNeeded)(i,e,this._stateArrayReferenceDescriptor),Object(r.releaseValueIfNeeded)(n,e,this._ownValueReferenceDescriptor)},_stateArrayReferenceDescriptor:void 0,_ownValueReferenceDescriptor:void 0,staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamStrongNodeManager"},__superMap:{_$9W$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var u=i(1),d=i(21),n=i(104).b.extend({calculateValueForNode:function(e,t,i,n){var r=arguments,a=this.key,s=e._weakReferenceTokens,o=s[a],c=d.a.getDataForNode(t);Object(u.weaklyUnreferenceValueIfNeeded)(c,o);var l=this.__s._$KQ$calculateValueForNode.apply(this,r);return s[a]=Object(u.weaklyReferenceValueIfNeeded)(l,e,e.weaklyReferencedObjectWasDisposed,a),l},staticMembers:{__QUALIFIED_CLASS_NAME__:"UpstreamWeakRootValueNodeManager"},__superMap:{_$KQ$calculateValueForNode:"calculateValueForNode"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(20),r=i(478),a=i(168),s=i(18),o=a.a.extend(r.a,n.a,{position:Object(s.observableProperty)(),source:Object(s.observableProperty)(),isValid:Object(s.observableProperty)({dependencies:["wasRemoved","source.length","position"],get:Object.assign(function(){var e=arguments;return!this.wasRemoved&&this.__s._$DZ$get.apply(this,e)},{__CW__getter:function(e,t,i,n){var r=arguments;return!n.internalGet(this,t[0+i])&&this.__s._$DZ$__CW__getter.apply(this,r)},__superMap:{_$DZ$__CW__getter:"__CW__getter"}}),__superMap:{_$DZ$get:"get"}}),value:Object(s.observableProperty)({dependencies:["position","source","wasRemoved"],writeDependencies:[],get:Object.assign(function(){var e=arguments;return this.wasRemoved?this._previousValue:this.__s._$IX$get.apply(this,e)},{__CW__getter:function(e,t,i,n){var r=arguments;return n.internalGet(this,t[2+i])?this._previousValue:this.__s._$IX$__CW__getter.apply(this,r)},__superMap:{_$IX$__CW__getter:"__CW__getter"}}),set:function(e){var t=arguments;if(this.wasRemoved)return this._previousValue=e;var i=this.shouldObserveChanges;this.shouldObserveChanges=!1;var n=this.__s._$NW$set.apply(this,t);return this.shouldObserveChanges=i,n},__superMap:{_$IX$get:"get",_$NW$set:"set"}}),remove:function(){var e=arguments,t=this.shouldObserveChanges;this.shouldObserveChanges=!1;var i=this.__s._$RI$remove.apply(this,e);return this.shouldObserveChanges=t,this.propertyChanged("value"),i},initFromPool:function(){var e=arguments;this.__s._$Ts$initFromPool.apply(this,e),this.source._registerIterator(this)},didEnterPool:function(){this.wasRemoved=!1,this.source._unregisterIterator(this),this.__s._$Wk$didEnterPool.call(this)},wasRemoved:Object(s.observableProperty)(!1),_previousValue:Object(s.observableProperty)(),moveTo:function(){var e=arguments;return this.wasRemoved=!1,this.__s._$b1$moveTo.apply(this,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObservableArrayIterator"},__superMap:{_$RI$remove:"remove",_$Ts$initFromPool:"initFromPool",_$Wk$didEnterPool:"didEnterPool",_$b1$moveTo:"moveTo"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(129),a=i(20),s=i(170),o={mixinDependencies:[r.a,a.a],isValid:Object(n.define)(s.a),wasRemoved:Object(n.define)(s.a),shouldObserveChanges:!0}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(126),a=i(170),s=i(480),o={mixinDependencies:[n.Protocol,r.a],contentsDidChange:s.a.define(),length:a.a.define()}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(131),a=n.RequiredMetadata.extend({metadataType:r.SignalMetadata,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredSignal"}})},function(e,t,f){"use strict";f.d(t,"a",function(){return o});var i=f(1),n=f(482),r=f(20),a=f(484),s=f(26),o=n.a.extend(r.a,{HandleClass:a.a,_handles:Object(i.instance)(Array),_allHandles:Object(i.instance)(Set),cachedHandleAt:function(e){var t=this._handles[e];if(t)return t},at:function(e){var t=this.cachedHandleAt(e);return t||(t=this._createHandle(e),this._registerHandle(t),t.retain(this,"initial retain").autorelease(this,"initial retain"))},_createHandle:function(e){return this.HandleClass.create(this.source,this,e)},handlesDidUpdate:Object(s.listener)("source.contentsDidChange",function(e){var c=this,l=e.context;if(l){var u=this._handles,d=l.length,t=l.lengthDelta,i=this.source.length-t;u.length<i&&(u.length=i);for(var h=0,n=function(){for(var e=l[h],t=e.operation,i=e.index,n=0,r=void 0;r=e.index,!(d<=++h)&&t===(e=l[h]).operation;)if(p=e.index-r,0===n){if(1!==p&&-1!==p)break;n=p}else if(p!==n)break;var a=r;if(a<i){var s=a;a=i,i=s}var o=++a-i;t===f(41).ObservableArray.REMOVE?(u.copyWithin(i,a),u.length=u.length-o,c._allHandles.forEach(function(e){return e._applyRemove(i,a,o)})):(u.length=u.length+o,u.copyWithin(a,i),u.fill(void 0,i,a),c._allHandles.forEach(function(e){return e._applyInsert(i,o)}))};h<d;){var p;n()}}}),_registerHandle:function(e){e.isValid&&(e.registerWeakReference(this,this._handleWasDisposed,e),this._allHandles.add(e),this._handles[e.position]=e)},_handleWasDisposed:function(e){e.wasRemoved||(this._handles[e.position]=void 0),this._allHandles.delete(e)},everythingChanged:Object(s.listener)("source.everythingChanged",function(){var t=this._handles;this._allHandles.forEach(function(e){e._applyRemove(e.position,e.position+1,0),t[e.position]=void 0}),t.length=this.source.length}),staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListHandleProvider"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(273).a.extend({at:n.RequiredMethod.define(),startHandle:Object(n.property)({readOnly:!0,get:function(){return this.at(0)}}),endHandle:Object(n.property)({readOnly:!0,get:function(){return this.at(this.source.length-1)}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseRandomAccessHandleProvider"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(20),a=i(18),s=n.CoreObject.extend(r.a,{HandleClass:Object(n.property)({readOnly:!0}),source:Object(n.property)({weak:!0}),startHandle:n.RequiredProperty.define(),delegate:Object(a.observableProperty)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseHandleProvider"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(2),a=i(485),s=n.CoreObject.extend(n._Poolable,a.a,{initFromPool:function(e,t,i){i=i||0,this.encodedValue=e.encodedObjectAt(i),this._position=i,this.__s._$H1$initFromPool.call(this,e,t)},didEnterPool:function(){this._wasRemoved=!1,this.encodedValue=void 0,this._position=NaN,this._formerPosition=NaN,this.__s._$KQ$didEnterPool.call(this)},atDistance:function(e){var t=arguments;if(this._wasRemoved){var i=this._formerPosition;return 0<e?this.at(i+e-1):e<0?this.at(i+e):this}return this.__s._$Vl$atDistance.apply(this,t)},hasHandleAtDistance:function(e){var t=arguments;if(this._wasRemoved){var i=this._formerPosition;return 0<e?this.hasHandleAt(i+e-1):!(e<0)||this.hasHandleAt(i+e)}return this.__s._$hU$hasHandleAtDistance.apply(this,t)},encodedValue:Object(n.property)({strong:!0}),position:Object(n.property)({readOnly:!0,defaultValue:NaN}),maximumPosition:Object(n.property)({readOnly:!0,get:function(){return this.source.length-1}}),wasRemoved:Object(n.property)({readOnly:!0,defaultValue:!1}),_formerPosition:NaN,hasHandleAt:function(e){return 0<=e&&e<=this.maximumPosition},_handleRemove:r.e,_applyRemove:function(e,t,i){if(this._wasRemoved){var n=this._formerPosition;if(n<e)return;this._formerPosition=n<t?e:n-i}else{var r=this._position;if(r<e)return;r<t?(this._formerPosition=e,this._wasRemoved=!0,this._handleRemove()):this._position=r-i}},_applyInsert:function(e,t){if(this._wasRemoved){var i=this._formerPosition;if(i<e)return;this._formerPosition=i+t}else{var n=this._position;if(n<e)return;this._position=n+t}},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedListHandle"},__superMap:{_$H1$initFromPool:"initFromPool",_$KQ$didEnterPool:"didEnterPool",_$Vl$atDistance:"atDistance",_$hU$hasHandleAtDistance:"hasHandleAtDistance"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[i(274).a],at:function(e){return this._provider.at(e)},hasHandleAt:n.RequiredMethod.define(),position:n.RequiredProperty.define(),maximumPosition:n.RequiredProperty.define(),atDistance:function(e){return this.at(this.position+e)},hasHandleAtDistance:function(e){return this.hasHandleAt(this.position+e)},previous:Object(n.property)({get:function(){return this.atDistance(-1)}}),hasPrevious:Object(n.property)({get:function(){return this.hasHandleAtDistance(-1)}}),next:Object(n.property)({get:function(){return this.atDistance(1)}}),hasNext:Object(n.property)({get:function(){return this.hasHandleAtDistance(1)}}),start:Object(n.property)({readOnly:!0,get:function(){return this._provider.startHandle}}),end:Object(n.property)({readOnly:!0,get:function(){return this._provider.endHandle}}),isValid:Object(n.property)({readOnly:!0,get:function(){var e=this.position;return 0<=e&&e<=this.maximumPosition}})}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[n.Protocol],isValid:n.RequiredProperty.define(),wasRemoved:n.RequiredProperty.define(),value:Object(n.property)({readOnly:!0,get:function(){return this.source.decode(this.encodedValue,this.position)}}),encodedValue:n.RequiredProperty.define(),start:Object(n.property)({get:function(){return this._provider.startHandle}}),next:n.RequiredProperty.define(),hasNext:n.RequiredProperty.define(),init:function(e,t){this.source=e,this._provider=t,this.__s._$24M$init.call(this)},initFromPool:function(e,t){this.source=e,this._provider=t,this.__s._$275$initFromPool.call(this)},didEnterPool:function(){this.source=null,this._provider=null,this.__s._$28y$didEnterPool.call(this)},source:Object(n.property)({strong:!0}),_provider:Object(n.property)(),__superMap:{_$24M$init:"init",_$275$initFromPool:"initFromPool",_$28y$didEnterPool:"didEnterPool"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(18),a={startHandle:Object(n.property)({readOnly:!0,get:function(){return this.handleProvider.startHandle}}),HandleProviderClass:null,handleProviderDelegate:Object(r.observableProperty)(),delegate:Object(r.observableProperty)(),handleProvider:Object(r.observableProperty)({strong:!0,readOnly:!0,get:function(){return this.HandleProviderClass.create({source:this,delegate:this.handleProviderDelegate})}})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"StrongArray",function(){return a});var n=i(268),r=i(275),a=n.a.extend(r.a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"StrongArray"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(2),a=i(129),s=n.CoreObject.extend(a.a,{_index:0,_original:null,_queue:null,_references:null,_clones:null,init:function(e,t){if(this.source=e,this.__s._$RN$init.call(this),Object(r.G)(t,this.constructor)){this._original=t._original,this._container=t._container;var i=this._index=t._index;(this._clones=t._clones).push(this),this._queue=t._queue,(this._references=t._references)[i]++}else this._clones=[this],this._queue=[],this._references=[1],this._original=t,this.moveToNext()},moveToNext:function(){if(this._isValid){var e,t=this._index,i=this._queue,n=this._references;if(e=t<i.length?i[t]:this._advanceOriginal(),0==--n[t]&&0===t){n.shift(),i.shift();for(var r=this._clones,a=0,s=r.length;a<s;a++)r[a].index--}else t++;n[t]++,this._index=t,this._container=e}},add:function(e){if(this.isValid){var t=this._queue;if(0===t.length||!t[t.length-1].done)for(;!this._advanceOriginal().done;);}return this._container={done:!1,value:e},!0},_advanceOriginal:function(){var e=this._original.next();return this._references.push(0),this._queue.push(e),e},_container:null,isValid:Object(n.property)({readOnly:!0,defaultValue:!0,get:function(){return!this._container.done}}),value:Object(n.property)({readOnly:!0,get:function(){return this.source.decode(this._container.value)}}),encodedValue:Object(n.property)({readOnly:!0,get:function(){return this._container.value}}),clone:function(){return this.constructor.create(this,this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeIteratorWrapper"},__superMap:{_$RN$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(491),a=n.CoreObject.extend(n._Poolable,r.a,{initFromPool:function(e,t,i,n,r){this._delegate=i,this._position=r,this._offset=n,this._wasRemoved=!1,this.__s._$8d$initFromPool.call(this,e,t)},encodedValue:Object(n.property)(),isRoot:Object(n.property)({readOnly:!0,defaultValue:!0}),parent:Object(n.property)({get:function(){return this.constructor.create(this.source,this._provider,this._delegate,this._offset-1,this._position)}}),hasParent:Object(n.property)({readOnly:!0,defaultValue:!1}),isValid:Object(n.property)({get:function(){return this._provider.sourceHasRootNode&&0===this._offset&&0===this._position}}),wasRemoved:Object(n.property)({readOnly:!0,defaultValue:!1}),previous:Object(n.property)({get:function(){var e=this;for(e=e.previousSibling;e.hasLastChild;)e=e.lastChild;return e}}),hasPrevious:Object(n.property)({get:function(){return 1===this._position&&0===this._offset||this.hasLastChild}}),next:Object(n.property)({get:function(){return this.firstChild}}),hasNext:Object(n.property)({get:function(){return-1===this._position&&0===this._offset||this.hasFirstChild}}),atDistance:function(e){for(var t=this;0<e;)t=t.next,e--;for(;e<0;)t=t.previous,e++;return t},hasHandleAtDistance:function(e){for(var t=this;0<e;)t=t.next,e--;for(;e<0;)t=t.previous,e++;return t.isValid},nextSibling:Object(n.property)({readOnly:!0,get:function(){return this.constructor.create(this.source,this._provider,this._delegate,this._offset,this._position+1)}}),hasNextSibling:Object(n.property)({readOnly:!0,defaultValue:!1}),previousSibling:Object(n.property)({readOnly:!0,get:function(){return this.constructor.create(this.source,this._provider,this._delegate,this._offset,this._position-1)}}),hasPreviousSibling:Object(n.property)({readOnly:!0,defaultValue:!1}),firstChild:Object(n.property)({get:function(){var e=this._provider,t=this.source.source.startHandle;return this.hasFirstChild?e.atNode(t,this):e.atNode(t,this,this._offset+1)}}),hasFirstChild:Object(n.property)({get:function(){var e=this.source.source;return 0===this._offset&&0===this._position&&e&&0<e.length}}),lastChild:Object(n.property)({get:function(){var e=this._provider,t=this.source.source.startHandle.end;return this.hasLastChild?e.atNode(t,this):e.atNode(t,this,this._offset+1)}}),hasLastChild:Object(n.property)({get:function(){var e=this.source.source;return 0===this._offset&&0===this._position&&e&&0<e.length}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"_RootNodeHandle"},__superMap:{_$8d$initFromPool:"initFromPool"}}),s=n.CoreObject.extend(n._Poolable,r.a,{staticMembers:{RootTreeHandleClass:a,createWithRoot:function(e,t,i,n){return this.RootTreeHandleClass.create(e,t,i,n,0)},__QUALIFIED_CLASS_NAME__:"TreeHandle"},initFromPool:function(e,t,i,n,r,a){this._delegate=i,this._nodeHandle=n,this._parent=r.retain(),this._offset=a,this._wasRemoved=!1,this.__s._$1TE$initFromPool.call(this,e,t)},_offset:0,_nodeHandle:Object(n.property)({strong:!0}),value:Object(n.property)({get:function(){return 0===this._offset?this._nodeHandle.value:void 0},readOnly:!0}),encodedValue:Object(n.property)({get:function(){return 0===this._offset?this._nodeHandle.encodedValue:void 0},readOnly:!0}),isValid:Object(n.property)({get:function(){if(0!==this._offset)return!1;if(!this._nodeHandle.isValid)return!1;var e=this.parent;return!!e.isValid||!(!e.isRoot||this._provider.sourceHasRootNode)},readOnly:!0}),wasRemoved:Object(n.property)({get:function(){return!!this._wasRemoved||!!this._nodeHandle.wasRemoved||this.parent.wasRemoved}}),atDistance:function(e){for(var t=this;0<e;)t=t.next,e--;for(;e<0;)t=t.previous,e++;return t},hasHandleAtDistance:function(e){for(var t=this;0<e;)t=t.next,e--;for(;e<0;)t=t.previous,e++;return t.isValid},next:Object(n.property)({get:function(){if(this.hasFirstChild)return this.firstChild;var e=this;do{if(e.hasNextSibling)return e.nextSibling;e=e.parent}while(e.hasParent);return e.nextSibling}}),hasNext:Object(n.property)({get:function(){if(this.hasFirstChild)return!0;var e=this;do{if(e.hasNextSibling)return!0;e=e.parent}while(e.hasParent);return!1}}),previous:Object(n.property)({get:function(){if(this.hasPreviousSibling){var e=this;for(e=e.previousSibling;e.hasLastChild;)e=e.lastChild;return e}return this.parent}}),hasPrevious:Object(n.property)({get:function(){return!!this.hasPreviousSibling||!!this.hasLastChild||!!this.hasParent}}),nextSibling:Object(n.property)({get:function(){return 0!==this._offset?this:this._provider.atNode(this._nodeHandle.next,this.parent)}}),hasNextSibling:Object(n.property)({get:function(){return 0===this._offset&&this._nodeHandle.hasNext}}),previousSibling:Object(n.property)({get:function(){return 0!==this._offset?this:this._provider.atNode(this._nodeHandle.previous,this.parent)}}),hasPreviousSibling:Object(n.property)({get:function(){return 0===this._offset&&this._nodeHandle.hasPrevious}}),parent:Object(n.property)({readOnly:!0,strong:!0}),hasParent:Object(n.property)({get:function(){var e=this._offset;return!(1!==e||!this._nodeHandle.isValid)||0===e&&!(!this._provider.sourceHasRootNode&&this.parent.isRoot)}}),firstChild:Object(n.property)({get:function(){var e,t=this._nodeHandle,i=this._offset;return 0===i&&t.isValid&&(e=this._delegate.childrenForNode(t.value))&&e.length?t=e.startHandle:i++,this._provider.atNode(t,this,i)}}),hasFirstChild:Object(n.property)({get:function(){var e,t=this._nodeHandle;return 0===this._offset&&t.isValid&&(e=this._delegate.childrenForNode(t.value))&&e.length}}),lastChild:Object(n.property)({get:function(){var e,t=this._nodeHandle,i=this._offset;return 0===i&&t.isValid&&(e=this._delegate.childrenForNode(t.value))&&e.length?t=e.startHandle.end:i++,this._provider.atNode(t,this,i)}}),hasLastChild:Object(n.property)({get:function(){var e,t=this._nodeHandle;return 0===this._offset&&t.isValid&&(e=this._delegate.childrenForNode(t.value))&&e.length}}),isRoot:Object(n.property)({readOnly:!0,defaultValue:!1}),__superMap:{_$1TE$initFromPool:"initFromPool"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[i(274).a],nextSibling:n.RequiredProperty.define(),hasNextSibling:n.RequiredProperty.define(),previousSibling:Object(n.define)(n.RequiredProperty),hasPreviousSibling:Object(n.define)(n.RequiredProperty),parent:Object(n.define)(n.RequiredProperty),hasParent:Object(n.define)(n.RequiredProperty),firstChild:Object(n.define)(n.RequiredProperty),hasFirstChild:Object(n.define)(n.RequiredProperty),lastChild:Object(n.define)(n.RequiredProperty),hasLastChild:Object(n.define)(n.RequiredProperty)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={childrenKey:"children",childrenForNode:function(e,t){return e[this.childrenKey]},sourceHasRootNode:function(e){return!1}}},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(1),r=i(273),a=i(20),s=i(490),o=i(26),c=r.a.extend(a.a,{HandleClass:s.a,atNode:function(e,t,i){var n;return void 0===i&&(i=0),0===i&&(n=this.cachedHandleAt(e))?n:(n=this._createHandle(e,t,i),this._registerHandle(n),n.retain(this,"initial retain").autorelease(this,"initial retain"))},_previousSource:Object(n.property)({strong:!0}),handlesDidUpdate:Object(o.observer)("source.source",function(e){var t,i,n,r,a=this._previousSource;if(a)for(i=a.length,t=0;t<i;t++)(n=a.handleProvider.cachedHandleAt(t))&&(r=this.cachedHandleAt(n))&&(r._wasRemoved=!0);if(e)for(i=e.length,t=0;t<i;t++)(n=e.handleProvider.cachedHandleAt(t))&&(r=this.cachedHandleAt(n))&&(r._wasRemoved=!1);this._previousSource=e}),rootHandle:Object(n.property)({get:function(){return this.atNode(this.source)}}),startHandle:Object(n.property)({get:function(){return this.sourceHasRootNode?this.rootHandle:this.rootHandle.firstChild}}),endHandle:Object(n.property)({get:function(){for(var e=this.rootHandle;e.hasLastChild;)e=e.lastChild;return e}}),_createHandle:function(e,t,i){var n=this.source,r=this.HandleClass,a=this.delegate;return e===n?r.createWithRoot(n,this,a,i):r.create(n,this,a,e,t,i)},cachedHandleAt:function(e){var t=this._handles.get(e);if(t)return t},sourceHasRootNode:!1,init:function(){var e=arguments;this.__s._$ta$init.apply(this,e),this.sourceHasRootNode=this.delegate.sourceHasRootNode(this.source)},_handles:Object(n.instance)(Map),_registerHandle:function(e){e.isValid&&(e.registerWeakReference(this,this._handleWasDisposed,e),this._handles.set(e._nodeHandle,e))},_handleWasDisposed:function(e){this._handles.delete(e._nodeHandle)},staticMembers:{__QUALIFIED_CLASS_NAME__:"TreeHandleProvider"},__superMap:{_$ta$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(168).a.extend({_node:null,initFromPool:function(e,t,i){var n=arguments;arguments.length<=2?this.__s._$7v$initFromPool.apply(this,n):(this._node=i,this.__s._$7v$initFromPool.call(this,e),this._previousPosition=this._position=t)},didEnterPool:function(){this._previousPosition=0,this._node=null,this.__s._$E3$didEnterPool.call(this)},_previousPosition:0,position:Object(n.property)({set:function(e){var t=this.get("source");if(!t)return e;var i=this.get("length");if(e<0||i<=e)return this._node=null,this._previousPosition=e;var n=!this._node;if(!n){var r=Math.abs(e-this._previousPosition);(e<r||i-1-e<r)&&(n=!0)}n&&(e<i/2?(this._node=t._firstNode,this._previousPosition=0):(this._node=t._lastNode,this._previousPosition=i-1));for(var a=e-this._previousPosition;0<a;)this._node=this._node.next,a--;for(;a<0;)this._node=this._node.prev,a++;return this._previousPosition=e}}),value:Object(n.property)({get:function(){return this.source.decode(this.encodedValue)},set:function(e){return this.encodedValue=this.source.encode(e),e}}),encodedValue:Object(n.property)({get:function(){return this._node?this._node.item:void 0},set:function(e){return this._node.item=e}}),clone:function(){return this.constructor.create(this.get("source"),this.get("position"),this._node)},remove:function(){var e=this._node;if(!e)return!1;var t=e.next,i=this.clone().retain();return this.get("source")._spliceWithIterator(i,this.get("position"),1),i.release(),this._node=t,!0},add:function(e){var t=this.get("position")+1,i=this.clone().retain();return this.get("source")._spliceWithIterator(i,t,0,e),i.release(),this.set("position",Math.min(t,this.get("length")-1)),!0},staticMembers:{__QUALIFIED_CLASS_NAME__:"LinkedListIterator"},__superMap:{_$7v$initFromPool:"initFromPool",_$E3$didEnterPool:"didEnterPool"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(171),a=i(128),s=r.a.extend(a.a,{init:function(e,t){t||(t=e._map.entries()),this.__s._$A1$init.call(this,e,t)},add:function(e){var t=arguments,i=e[0],n=e[1],r=this.source;if(r.has(i))return!1;var a=this.__s._$DH$add.apply(this,t);return r.add(i,n),a},remove:function(){if(this.isValid){var e=this.value;return this.source.remove(e[0]),this.moveToNext(),e}},value:Object(n.property)({readOnly:!1,set:function(e){var t=this.source,i=this._container.value;return t.remove(i[0]),this.add(e),e}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MapEntryIterator"},__superMap:{_$A1$init:"init",_$DH$add:"add"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(171),a=i(128),s=r.a.extend(a.a,{init:function(e,t){t||(t=e._map.keys()),this.__s._$9J$init.call(this,e,t)},add:function(e,t){var i=arguments,n=this.source;if(n.has(e))return!1;var r=this.__s._$Bl$add.apply(this,i);return n.add(e,t),r},remove:function(){if(this.isValid){var e=this.value;return this.source.remove(e),this.moveToNext(),e}},value:Object(n.property)({readOnly:!1,set:function(e){var t=this.source,i=this._container.value,n=t.get(i);return t.remove(i),this.add(e,n),e}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MapKeyIterator"},__superMap:{_$9J$init:"init",_$Bl$add:"add"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(171).a.extend({init:function(e,t){t||(t=e._map.values()),this.__s._$89$init.call(this,e,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MapValueIterator"},__superMap:{_$89$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),l=i(2),r=i(169),u=i(41),a=i(18),s=i(26),o=u.ObservableArray.extend({source:Object(a.observableProperty)(),transformChangeset:null,staticMembers:{init:function(){var e=arguments;this.__s._$P8$init.apply(this,e);var t=this.prototype.getMetadata("source").reference;t===n.WEAK?Object(l.y)("ObservableArrayProxy may not have a weak reference to its source.",this):this.prototype._sourceIsStrongRef=t===n.STRONG},__QUALIFIED_CLASS_NAME__:"ObservableArrayProxy",__superMap:{_$P8$init:"init"}},_sourceIsStrongRef:!1,_sourceDidChange:Object(s.observer)("source",function(e){e&&!Object(l.G)(e,u.ObservableArray)&&Object(l.y)("Only a CW.ObservableArray can be used as the source for an observable array proxy.",{source:e});var t=this._sourceIsStrongRef;t&&e&&e.retain("ObservableArrayProxy cache reference");var i=this._lastSetSource,n=!!i&&!!i.get("length"),r=!!e&&!!e.get("length");if(this._lastSetSource=e,n||r){var a,s,o,c=this.get("_sourceChanges");if(i)for(s=(a=i.get("length"))-1;0<=s;s--)o=i.objectAt(s),c.recordRemoval(s,o);if(e)for(a=e.get("length"),s=0;s<a;s++)o=e.objectAt(s),c.recordInsertion(s,o);d(this,c),c.clear(),t&&i&&i.release("ObservableArrayProxy cache reference")}}),_sourceChanges:Object(n.property)(function(){return new r.a(this)}),_lastSetSource:null,_sourceContentsDidChange:Object(s.observer)("source.contentsDidChange",function(e){e&&d(this,e.context)}),dispose:function(){var e=arguments;if(this._sourceIsStrongRef){var t=this._lastSetSource;t&&t.release("ObservableArrayProxy cache reference")}this._lastSetSource=null,this.__s._$1jv$dispose.apply(this,e)},__superMap:{_$1jv$dispose:"dispose"}});function d(e,t){var i,n=!1;e.transformChangeset&&(i=e.transformChangeset(t))&&i!==t&&(n=!0,t=i),t.applyChanges(e),n&&t.clear()}},function(e,l,u){"use strict";(function(e){u.d(l,"a",function(){return c});var t=u(1),n=u(2),i=u(167),r=u(20),a=u(500),s=u(18),o=u(26),c=t.CoreObject.extend(i.a,t.CloneableProtocol,r.a,{init:function(){var e=arguments;this.__s._$H_$init.apply(this,e),this._previousSerializer=this.serializer},_map:Object(t.instance)(e.Object),length:Object(t.property)({readOnly:!0,defaultValue:0}),size:Object(t.property)({readOnly:!0,get:function(){return this.length}}),encodedAdd:function(e){var t=Object(n.D)(e),i=this._map;return!i.hasOwnProperty(t)&&(i[t]=e,this._length++,!0)},encodedRemove:function(e){var t=Object(n.D)(e),i=this._map;return!!i.hasOwnProperty(t)&&(delete i[t],this._length--,!0)},clear:function(){var e=this._map;for(var t in e)e.hasOwnProperty(t)&&delete e[t];this._length=0},has:function(){return this.contains.apply(this,arguments)},encodedContains:function(e){var t=Object(n.D)(e);return this._map.hasOwnProperty(t)},iteratorClass:Object(t.property)({readOnly:!0,defaultValue:a.a}),encodedToArray:function(){var t=this._map;return Object.keys(t).map(function(e){return t[e]})},clone:function(){return this.constructor.create({serializer:this.serializer,_map:Object(n._9)(this._map),length:this.length})},serializer:Object(s.observableProperty)(),_previousSerializer:null,_reencodeItemsWhenSerializerChanges:Object(o.observer)({inputs:["serializer"],notifyOnCreate:!1,callback:function(e){var t=this._previousSerializer;if(t!==e){var i=this.encodedToArray();t&&(i=i.map(function(e){return t.decode(e)})),this.clear();var n=i,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s;this.add(o)}}this._previousSerializer=e}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreSet"},__superMap:{_$H_$init:"init"}})}).call(l,u(5))},function(e,a,s){"use strict";(function(n){s.d(a,"a",function(){return r});var e=s(1),i=s(2),t=s(128),r=e.CoreObject.extend(t.a,{source:null,_map:null,_keys:null,init:function(e,t){this.source=e;var i=this._map=e._map;this._keys=t||n.Object.keys(i),this.__s._$9r$init.call(this)},moveToNext:function(){return this._keys.pop(),this},isValid:Object(e.property)({readOnly:!0,get:function(){return!!this._keys.length}}),_getCurrentItem:function(){var e=this._keys;return this._map[e[e.length-1]]},value:Object(e.property)({get:function(){return this.source.decode(this.encodedValue)},set:function(e){this.encodedValue=this.source.encode(e)}}),encodedValue:Object(e.property)({get:function(){return this._getCurrentItem()},set:function(e){var t=this._getCurrentItem();return this.source.encodedRemove(t),this.source.encodedAdd(e),this._keys.pop(),this._keys.push(Object(i.D)(e)),e}}),clone:function(){return this.constructor.create(this.source,Object(i._10)(this._keys))},remove:function(){var e=this.get("value"),t=this.source.remove(e);return this.moveToNext(),t},add:function(e){return this._keys.pop(),this._keys.push(Object(i.D)(e)),this.source.add(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"SetIterator"},__superMap:{_$9r$init:"init"}})}).call(a,s(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i(1),n=i(2),r=i(502),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a.CoreObject.extend(a.Protocol,{staticMembers:{dequeuedErrorMessage:"Action dequeued from `%{processorClassName}` queue",canceledErrorMessage:"Action canceled from `%{processorClassName}` while active",__QUALIFIED_CLASS_NAME__:"BaseProcessor"},processAction:a.RequiredMethod.define(),maxConcurrentActions:Object(a.property)({defaultValue:5,set:function(e){var t=this._maxConcurrentActions;return void 0!==t&&t<e&&(this.needsProcessing=!0),e}}),enqueue:function(){for(var e,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];e=this.preprocessActionData?this.preprocessActionData.apply(this,i):i;var r=a.CorePromise.create();return this.enqueueActionData(e,this._queue),this._actionDataToPromiseMap.set(e,r),this._promiseToActionDataMap.set(r,e),this.needsProcessing=!0,r},preprocessActionData:null,enqueueActionData:function(e,t){t.push(e)},dequeue:function(e,t){var i=this._queue,n=this._promiseToActionDataMap.get(e);return-1!==i.indexOf(n)&&(t=void 0!==t?t:this.payloadForDequeue(n),e.reject(t),this._clearQueuedAction(n,e),!0)},cancel:function(e,t){if(this.dequeue(e,t))return!0;var i=this._promiseToActionDataMap.get(e);return-1<this._active.indexOf(i)&&(t=void 0!==t?t:this.payloadForCancel(i),e.reject(t),this._clearActiveAction(i,e),this.needsProcessing=!0)},payloadForDequeue:function(e){return new n.b(this.constructor.dequeuedErrorMessage,{processorClassName:Object(n.B)(this),processor:this,action:e})},payloadForCancel:function(e){return new n.b(this.constructor.canceledErrorMessage,{processorClassName:Object(n.B)(this),processor:this,action:e})},clearQueue:function(e){for(var t=this._queue,i=this._actionDataToPromiseMap,n=this._promiseToActionDataMap,r=0,a=t.length;r<a;r++){var s=t[r];e=void 0!==e?e:this.payloadForDequeue(s);var o=i.get(s);o.reject(e),i.delete(s),n.delete(o)}t.length=0},abort:function(e){this.clearQueue(e);for(var t=this._active,i=this._actionDataToPromiseMap,n=this._promiseToActionDataMap,r=0,a=t.length;r<a;r++){var s=t[r];e=void 0!==e?e:this.payloadForCancel(s);var o=i.get(s);o.reject(e),i.delete(s),n.delete(o)}t.length=0},needsProcessing:Object(a.property)({defaultValue:!1,set:function(e){return e?this._processingTimer.start():this._processingTimer.stop(),e}}),process:function(e,t){this.willProcess(e,t);for(var i=this._shouldSpreadActionData,n=0;this.shouldContinueProcessing(e,n,t);){var r=e[n];if(this.shouldProcessAction(r,e,t)){e.splice(n,1),t.push(r);var a;a=i&&r?this.processAction.apply(this,r):this.processAction(r),this.completeAction(r,a),this.didProcessAction(r,e,t)}else n+=1}this.didProcess(e,t)},willProcess:n.e,shouldContinueProcessing:function(e,t,i){return e.length>t&&i.length<this.maxConcurrentActions},shouldProcessAction:function(e,t,i){return!0},completeAction:function(e,t){"object"===(void 0===t?"undefined":s(t))&&"function"==typeof t.then?t.then(this._resolveAction.bind(this,e),this._rejectAction.bind(this,e)):Object(n._8)(this._resolveAction.bind(this,e,t),0)},didProcessAction:n.e,didProcess:n.e,init:function(){var e=arguments;this.__s._$7wD$init.apply(this,e),null===this._shouldSpreadActionData&&(this._shouldSpreadActionData=!this.preprocessActionData)},_shouldSpreadActionData:null,_queue:Object(a.instance)(Array),_active:Object(a.instance)(Array),_promiseToActionDataMap:Object(a.instance)(Map),_actionDataToPromiseMap:Object(a.instance)(Map),_resolveAction:function(e,t){var i=this._actionDataToPromiseMap.get(e);this._clearActiveAction(e,i),this.needsProcessing=!0,i.resolve(t)},_rejectAction:function(e,t){var i=this._actionDataToPromiseMap.get(e);this._clearActiveAction(e,i),this.needsProcessing=!0,i.reject(t)},_clearQueuedAction:function(e,t){var i=this._queue,n=i.indexOf(e);i.splice(n,1),this._actionDataToPromiseMap.delete(e),this._promiseToActionDataMap.delete(t)},_clearActiveAction:function(e,t){var i=this._active,n=i.indexOf(e);i.splice(n,1),this._actionDataToPromiseMap.delete(e),this._promiseToActionDataMap.delete(t)},_processingTimer:Object(a.instance)(r.a,{delay:0,timesToFire:1,action:"_reprocess"}),_reprocess:function(){this.process(this._queue,this._active),this.needsProcessing=!1},__superMap:{_$7wD$init:"init"}})},function(e,l,u){"use strict";(function(e){u.d(l,"a",function(){return o});var t=u(1),i=u(2),n=u(20),r=u(503),a=u(102),s=u(18),o=t.CoreObject.extend(n.a,r.a,{target:Object(a.c)("owner"),delay:0,timesToFire:1,delays:null,fireCount:0,isRunning:!1,isPaused:!1,timeUntilFire:Object(t.property)({readOnly:!0,get:function(){return this.isRunning?this.isPaused?1/0:this._nextFiringTime-Date.now():NaN}}),start:function(){return this.isRunning||(this.isRunning=!0,this._nextFiringTime=Date.now(),this._scheduleNextFiringOrStop()),this},restart:function(){return this.stop(),this.start(),this},stop:function(){return this.isRunning&&(this._handle&&(e.clearTimeout(this._handle),this._handle=null),this.fireCount=0,this.isRunning=!1,this.isPaused&&(this.isPaused=!1,this._pauseCount=0,this._timeRemainingAtPause=NaN)),this},pause:function(){return this.isRunning&&(this._pauseCount++,1===this._pauseCount&&(this._timeRemainingAtPause=this.get("timeUntilFire"),this.isPaused=!0,this._nextFiringTime=NaN,clearTimeout(this._handle),this._handle=null)),this},resume:function(){return this.isRunning&&(this._pauseCount--,0===this._pauseCount&&(this._nextFiringTime=Date.now()+this._timeRemainingAtPause,this._handle=Object(i._8)(c,Math.max(0,this._timeRemainingAtPause),this),this._timeRemainingAtPause=NaN,this.isPaused=!1),this._pauseCount<0&&(this._pauseCount=0)),this},fastForward:function(e){return this.isRunning?e<0?this.rewind(-e):(0===e||(e||(e=this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause-=e:(this._nextFiringTime-=e,clearTimeout(this._handle),this._handle=Object(i._8)(c,Math.max(0,this._nextFiringTime-Date.now()),this))),this):this},rewind:function(e){return this.isRunning?e<0?this.fastForward(-e):(0===e||(e||(e=this.getDelayAfterFireCount(this.fireCount)-this._getRunningTimeUntilNextFiring()),this.isPaused?this._timeRemainingAtPause+=e:(this._nextFiringTime+=e,clearTimeout(this._handle),this._handle=Object(i._8)(c,Math.max(0,this._nextFiringTime-Date.now()),this))),this):this},getDelayAfterFireCount:function(e){var t=this.delays;return t?t[Math.min(t.length-1,e)]:e>=this.timesToFire?1/0:this.delay},fire:function(){this.callAction(this)},owner:Object(s.observableProperty)(),_handle:null,_nextFiringTime:NaN,_pauseCount:0,_timeRemainingAtPause:NaN,_getRunningTimeUntilNextFiring:function(){return this.isPaused?this._timeRemainingAtPause:this.get("timeUntilFire")},_scheduleNextFiringOrStop:function(){if(this.isRunning){var e=this.getDelayAfterFireCount(this.fireCount);if(e<1/0){var t=this._nextFiringTime+=e;this._handle=Object(i._8)(c,Math.max(0,t-Date.now()),this)}else this.stop()}},dispose:function(){var e=arguments;this.stop(),this.__s._$4AH$dispose.apply(this,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"Timer"},__superMap:{_$4AH$dispose:"dispose"}}),c=function(e){e.fireCount++,e.callAction(),e._scheduleNextFiringOrStop()}}).call(l,u(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(2),r=i(20),a=i(18),s={mixinDependencies:[r.a],target:Object(a.observableProperty)(),action:Object(a.observableProperty)(),callAction:function(){var e=this.action,t=this.target||this;Object(n.Q)(e)||Object(n.y)("An action must be a method name only (as a string)",this);var i=t[e];i&&i.call||Object(n.y)("CW.TargetAction: The specified target did not respond to the action `"+e+"`.",this),i.call(t,this)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(1),r=i(2),a=i(20),s=i(170),o=i(18),c={mixinDependencies:[n.Protocol],x:Object(n.define)(s.a),y:Object(n.define)(s.a)},l=n.CoreObject.extend(a.a,c,n._Poolable,{initFromPool:function(e,t){var i=arguments;if(Object(r.P)(e))return this.x=e,this.y=t,this.__s._$DW$initFromPool.call(this);this.__s._$DW$initFromPool.apply(this,i)},didEnterPool:function(){var e=arguments;this.x=0,this.y=0,this.__s._$FW$didEnterPool.apply(this,e)},x:Object(o.observableProperty)(0),y:Object(o.observableProperty)(0),toString:function(){var e=arguments;return Object(r.z)("["+this.__s._$L7$toString.apply(this,e)+"(%{x}, %{y}) ]",this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"Point2D"},__superMap:{_$DW$initFromPool:"initFromPool",_$FW$didEnterPool:"didEnterPool",_$L7$toString:"toString"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return c});var n=i(1),r=i(2),a=i(20),s=i(18),o={mixinDependencies:[n.Protocol],width:Object(n.define)(n.RequiredProperty),height:Object(n.define)(n.RequiredProperty),toString:function(){var e=arguments;return this.__s._$8L$toString.apply(this,e)+Object(r.z)("{ width: %{width}, height: %{height} }",this)},__superMap:{_$8L$toString:"toString"}},c=n.CoreObject.extend(a.a,o,n._Poolable,{initFromPool:function(e,t){var i=arguments;if(Object(r.P)(t))return this.width=e,this.height=t,this.__s._$Fe$initFromPool.call(this);this.__s._$Fe$initFromPool.apply(this,i)},didEnterPool:function(){var e=arguments;this.width=0,this.height=0,this.__s._$Hn$didEnterPool.apply(this,e)},width:Object(s.observableProperty)(0),height:Object(s.observableProperty)(0),staticMembers:{__QUALIFIED_CLASS_NAME__:"Size"},__superMap:{_$Fe$initFromPool:"initFromPool",_$Hn$didEnterPool:"didEnterPool"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=i(276).a.extend({staticMembers:{nativePropertiesToCopy:Object(n.accumulator)(["target"]),eventPropertiesToCopy:Object(n.accumulator)(["target"]),__QUALIFIED_CLASS_NAME__:"FocusEvent"},cwForceBubble:!0,target:null})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(10),r=i(1),a=i(277).a.extend({staticMembers:{eventPropertiesToCopy:Object(r.accumulator)(["deltaX","deltaY"]),__QUALIFIED_CLASS_NAME__:"WheelEvent"},init:function(e){if(this.__s._$An$init.call(this,e),e){var t=e.nativeEvent;if(t){var i=n.d.sharedInstance.deltaMultiplierForScrollEvent(t);"mousewheel"===t.type?(this.deltaX=t.wheelDeltaX,this.deltaY=t.wheelDeltaY||t.wheelDelta):(this.deltaX=t.deltaX,this.deltaY=t.deltaY),this.deltaY=this.deltaY||0,this.deltaX=this.deltaX||0,this.deltaY*=i,this.deltaX*=i}}},deltaX:0,deltaY:0,__superMap:{_$An$init:"init"}})},function(e,i,a){"use strict";(function(n){a.d(i,"a",function(){return t});var e=a(3),r=a(2),t=e.C.extend({init:function(){var e=this,t=arguments;this.width=n.innerWidth,this.height=n.innerHeight,this.__s._$8I$init.apply(this,t);var i=function(){return e.updateDimensions()};Object(r.h)(n,"resize",i),Object(r.h)(n.document,"DOMContentLoaded",i)},x:0,y:0,width:0,height:0,updateDimensions:function(){this.set("width",n.innerWidth),this.set("height",n.innerHeight)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BrowserWindow"},__superMap:{_$8I$init:"init"}})}).call(i,a(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return u});var o=i(1),d=i(2),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=["is-","are-","has-"],c=Object(d.H)(["isConnected","isInitialized","isDisposed","isAbstract","propertiesAreInitialized","window"]),l={},n=function(e,t,i){i=i||"";var n=Object(o.isCoreObject)(e),r=n?c:l;for(var a in e)if(!r[a]&&"_"!==a[0]&&e.hasOwnProperty(a)){var s=n?e.get(a):e[a];u(a,s,t,i)}},u=function(e,t,i,n){n=n||"";var r=void 0===t?"undefined":h(t);if("boolean"===r){for(var a,s,o=Object(d.F)(e),c=0;a=p[c];c++)s=a.length,o.substring(0,s)===a&&(o=o.substring(s));o&&i.classList.toggle(o,t)}else{if("object"===r||"function"===r){var l=t&&t.toString;l!==f&&l!==_&&l!==m||(t=null)}var u=n+Object(d.F)(e);t||0===t?i.setAttribute(u,""+t):i.removeAttribute(u)}},f=Object.prototype.toString,_=Function.prototype.toString,m=o.CoreObject.prototype.toString},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"b",function(){return u});var a=i(2),n=i(3),r=i(279),s={mixinDependencies:[n.q,r.a],defaultFocusChild:Object(n.T)(),isFocused:Object(n.T)({readOnly:!0,dependencies:["isInFocusedBranch","focusedChild"],get:Object.assign(function(){return this.isInFocusedBranch&&!this.focusedChild},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])&&!n.internalGet(this,t[1+i])}})}),descendantHasFocus:Object(n.T)({readOnly:!0,dependencies:["isInFocusedBranch","focusedChild"],get:Object.assign(function(){return this.isInFocusedBranch&&!!this.focusedChild},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])&&!!n.internalGet(this,t[1+i])}})}),isFocusable:Object(n.T)(!1),isFocusablePane:Object(n.T)(!0),shouldFocusPaneOnAttach:Object(n.T)(!0),isFocusedPane:Object(n.T)({readOnly:!0,dependencies:["focusParent.isFocusedLayer"],get:Object.assign(function(){return this.getPath("focusParent.isFocusedLayer")},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])}})}),isInTheFocusedPane:Object(n.T)({readOnly:!0,dependencies:["focusParent.isInTheFocusedPane","isFocusedPane"],get:Object.assign(function(){return!!this.isFocusedPane||!!this.getPath("focusParent.isInTheFocusedPane")},{__CW__getter:function(e,t,i,n){return!!n.internalGet(this,t[1+i])||!!n.internalGetPath(this,t[0+i])}})}),inheritsFocusLayer:Object(n.T)(!1),isInFocusedLayer:Object(n.T)(Object(n.R)("focusParent.isInFocusedLayer")),isInFocusedBranch:Object(n.T)({readOnly:!0,dependencies:["isInFocusedLayer","isFocusedInParent","focusParent.isInFocusedBranch"],get:Object.assign(function(){var e=this.isInFocusedLayer,t=this.isFocusedInParent,i=this.getPath("focusParent.isInFocusedBranch");return e&&t&&i},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]),s=n.internalGetPath(this,t[2+i]);return r&&a&&s}})}),isFocusedInParent:Object(n.T)({dependencies:["focusParent.focusedChild"],readOnly:!0,get:Object.assign(function(){var e=this.getPath("focusParent.focusedChild");return this.isRootViewController||e===this},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]);return this.isRootViewController||r===this}})}),focusResponder:Object(n.T)({dependencies:["focusedChild","focusedChild.focusResponder"],readOnly:!0,get:Object.assign(function(){return this.focusedChild&&this.focusedChild.focusResponder||(this.isFocusable?this:null)},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])&&n.internalGetPath(this,t[1+i])||(this.isFocusable?this:null)}})}),parent:Object(n.T)(null),focusParent:Object(n.T)({dependencies:["parent"],writeDependencies:[],get:Object.assign(function(e){var t=e||this.parent;return Object(a.G)(t,s)?t:void 0},{__CW__getter:function(e,t,i,n){var r=e||n.internalGet(this,t[0+i]);return Object(a.G)(r,s)?r:void 0}}),set:function(e){return e}}),focusedChild:Object(n.T)(),_focusInTree:function(){if(this.isInFocusedBranch)return!0;if(!this.isInFocusedLayer)return!1;var e=this.focusParent;return e.focusedChild=this,e._focusInTree()},focus:function(e){if(!this.isInFocusedLayer&&(this.sendEvent("appGainedFocus"),!this.isInFocusedLayer))return!1;if(!e&&this.isInFocusedBranch)return this.focusAsLeaf();var t=!1;return(t=this.reFocus())||(t=this.focusDefault()),t||(t=this.focusAsLeaf()),t},focusAsLeaf:function(){return!!this.isFocusable&&(this.focusedChild=null,this._focusInTree(),this.isFocused)},reFocus:function(){var e=this.focusResponder;return!(!e||e===this)&&e.focus()},focusDefault:function(){var e=this.defaultFocusChild;return!!e&&e.focus()},_blurInTree:function(){var e=this.focusParent;return!(e&&this.isFocusedInParent&&(e._blurInTree(),e.focusedChild=null))},blur:function(){return this._blurInTree()},didFocus:a.e,didBlur:a.e,isFocusedLayer:Object(n.T)({readOnly:!0,defaultValue:!1}),_wasFocused:!1,isFocusedDidChange:Object(n.U)("isFocused",function(e){e?(this._wasFocused=!0,this.didFocus()):this._wasFocused&&(this._wasFocused=!1,this.didBlur())}),didReceiveFocus:function(e){var t=!1;return null===e.relatedTarget&&(this.sendEvent("appGainedFocus"),t=!0),this.isInFocusedLayer&&this.isFocusable||this.sendEvent("focusReleasedInApp"),this.isFocused||this.focus(t),!0},didReceiveBlur:function(e){return null===e.relatedTarget&&this.sendEvent("appLostFocus"),!0}},o=null,c=null;function l(){o&&o.focus(),c=o=null}var u={mixinDependencies:[s],tabIndex:Object(n.T)(0),_previousDefaultFocusElement:Object(n.T)(),tabIndexObserver:Object(n.U)({inputs:["isFocusable","tabIndex","defaultFocusElement"],callback:function(e,t,i){var n=this._previousDefaultFocusElement;n&&n.removeAttribute("tabIndex"),(this._previousDefaultFocusElement=i)&&(e?i.setAttribute("tabIndex",t):i.removeAttribute("tabIndex"))}}),focusAsLeaf:function(){var e=arguments,t=this.__s._$40R$focusAsLeaf.apply(this,e);if(t){var i=this.defaultFocusElement;c||(c=Object(a._8)(l,0)),o=i}return t},blur:function(){var e=arguments;this.__s._$4BX$blur.apply(this,e);var t=this.defaultFocusElement;t&&t.blur()},defaultFocusElement:Object(n.T)({binding:Object(n.R)("element"),readOnly:!0}),didFocus:function(){},__superMap:{_$40R$focusAsLeaf:"focusAsLeaf",_$4BX$blur:"blur"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={BACKSPACE:8,TAB:9,RETURN:13,ENTER:13,SHIFT:16,CTRL:17,OPTION:18,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,SPACE:32,PAGEUP:33,PAGEDOWN:34,INSERT:45,CMD:91,COMMA:188,EQUALS:187,MINUS:189,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,DIGIT_0:48,DIGIT_1:49,DIGIT_2:50,DIGIT_3:51,DIGIT_4:52,DIGIT_5:53,DIGIT_6:54,DIGIT_7:55,DIGIT_8:56,DIGIT_9:57}},function(e,u,d){"use strict";(function(i){d.d(u,"a",function(){return s}),d.d(u,"b",function(){return l});var e=d(1),n=d(2),r=d(10),t=d(513),a=d(80),s=Object(e.createEnumGroup)("ModifierKeys",function(e){e("Shift"),e("Ctrl"),e("Option"),e("Meta"),e("Cmd"),e("Win")});s.Alt=s.Option;var o=a.b.Ended,c=a.b.Failed,l=a.a.extend({initFromPool:function(){var e=arguments;this.__s._$MI$initFromPool.apply(this,e);var t=this.modifiers;t instanceof i.Set||(this.modifiers=new i.Set(t))},numberOfTapsRequired:1,modifiers:Object(e.instance)(i.Set),shouldPreventDefault:!1,targetElement:null,stateGenerator:t.a,maxDelayBetweenTaps:300,maxDurationOfTaps:500,dragThreshold:100,_tapCount:0,_handlingPointerId:NaN,_lockedCursor:!1,shouldReceive:function(e){var t=arguments;return this.isModifierValid(e)&&isNaN(this._handlingPointerId)&&this.__s._$yq$shouldReceive.apply(this,t)},shouldRequireFailureOf:function(e){var t=arguments;return e.instanceOf(l)&&this.modifiers.size<e.modifiers.size||this.__s._$15U$shouldRequireFailureOf.apply(this,t)},isModifierValid:function(e){var t=this.modifiers;if(t.has(s.Shift)&&!e.shiftKey)return!1;if(t.has(s.Ctrl)&&!e.ctrlKey)return!1;if(t.has(s.Option)&&!e.altKey)return!1;if(t.has(s.Meta)&&!e.metaKey)return!1;var i=r.b.sharedInstance.isWindows;return!(t.has(s.Cmd)&&!e.metaKey&&!i||t.has(s.Win)&&!e.metaKey&&i)},_failTimerId:NaN,_startFailTimer:function(e){var t=this;this._failTimerId=Object(n._8)(function(){t.state=c},e)},_cancelTimer:function(){var e=this._failTimerId;isNaN(e)||(clearTimeout(e),this._failTimerId=NaN)},pointerDown:function(e){0===this._tapCount&&(this.location={x:e.clientX,y:e.clientY},this.targetElement=e.target),this._handlingPointerId=e.pointerId,this._cancelTimer(),0===this._tapCount&&(this.view.sendEvent("lockCursor",this.getPath("view.style.cursor")),this._lockedCursor=!0),1<this.numberOfTapsRequired&&this._startFailTimer(this.maxDurationOfTaps)},isEventTooFar:function(e){var t=this.location,i=t.x,n=t.y,r=e.clientX,a=e.clientY;return Math.pow(r-i,2)+Math.pow(a-n,2)>this.dragThreshold},shouldFailGesture:function(e){return this.isEventTooFar(e)},pointerMove:function(e){this.shouldFailGesture(e)&&(this.state=c)},pointerUp:function(e){this._cancelTimer(),this.shouldFailGesture(e)?this.state=c:(this._tapCount++,this._tapCount>=this.numberOfTapsRequired?this.state=o:this._startFailTimer(this.maxDelayBetweenTaps)),this._handlingPointerId=NaN},pointerCancel:function(e){this.state=c},dispose:function(){this._cancelTimer(),this._lockedCursor&&this.view.sendEvent("releaseCursor"),this.__s._$29Y$dispose.call(this)},didEnterPool:function(){var e=arguments,t=this.constructor.prototype;this.modifiers.clear(),this.numberOfTapsRequired=t.numberOfTapsRequired,this.__s._$2HT$didEnterPool.apply(this,e)},reset:function(){this.__s._$2I4$reset.call(this),this._cancelTimer(),this.location=null,this._tapCount=0,this._handlingPointerId=NaN,this.targetElement=null,this._lockedCursor&&this.view.sendEvent("releaseCursor"),this._lockedCursor=!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"TapGestureRecognizer"},__superMap:{_$MI$initFromPool:"initFromPool",_$yq$shouldReceive:"shouldReceive",_$15U$shouldRequireFailureOf:"shouldRequireFailureOf",_$29Y$dispose:"dispose",_$2HT$didEnterPool:"didEnterPool",_$2I4$reset:"reset"}})}).call(u,d(5))},function(e,t,i){"use strict";t.a=c;var n=i(80),r=regeneratorRuntime.mark(c),a=n.b.Possible,s=n.b.Ended,o=n.b.Failed;function c(e){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:if((t=e.sent)===a){e.next=5;break}throw new Error("DiscreteGestureRecognizer: state must be initialized to Possible.");case 5:return void(e.next=7);case 7:if((t=e.sent)!==o){e.next=12;break}return e.abrupt("return");case 12:if(t!==s){e.next=16;break}return e.abrupt("return");case 16:throw new Error("GestureRecognizer: invalid state "+t+" for DiscreteGestureRecognizer after Possible. Must be either Ended or Failed.");case 17:case"end":return e.stop()}},r,this)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={change:function(e){e.cwType="change",this.dispatchEvent(e)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(134),r={};n.a.get("sharedInstance").generate(r,{dragStart:"dragstart",dragEnter:"dragenter",dragOver:"dragover",dragLeave:"dragleave",drag:"drag",drop:"drop",dragEnd:"dragend"});var a=r.dragover;r.dragover=function(e){a.apply(this,arguments),e.preventDefault()};var s=r.drop;r.drop=function(e){s.apply(this,arguments),e.preventDefault()}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(506),r=i(134),a={};r.a.get("sharedInstance").generate(a,{didReceiveFocus:"focus",didReceiveBlur:"blur"},function(i){return function(e){var t=n.a.create({nativeEvent:e});t.cwType=i,this.dispatchEvent(t)}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(134),r={};n.a.get("sharedInstance").generate(r,{beforeInput:"beforeinput",input:"input",selectionDidChange:"select"})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(134),r={};n.a.get("sharedInstance").generate(r,{keyDown:"keydown",keyPress:"keypress",keyUp:"keyup",compositionStart:"compositionstart",compositionUpdate:"compositionupdate",compositionEnd:"compositionend"})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(132),r={},a={pointerOver:"mouseover",pointerDown:"mousedown",pointerMove:"mousemove",pointerUp:"mouseup",pointerOut:"mouseout",pointerCancel:"mousecancel"},s=function(i){return function(e){var t=n.a.create({cwType:i,nativeEvent:e,pointerType:n.b.MOUSE,width:1,height:1});this.dispatchEvent(t)}};for(var o in a)r[a[o]]=s(o)},function(e,i,n){"use strict";(function(e){n.d(i,"a",function(){return t});var t=function(e){var t={},i={pointerOver:"PointerOver",pointerDown:"PointerDown",pointerMove:"PointerMove",pointerUp:"PointerUp",pointerOut:"PointerOut",pointerCancel:"PointerCancel"};for(var n in i){var r=i[n];t[r=e?"MS"+r:r.toLowerCase()]=a(n)}return t}(e.navigator.msPointerEnabled);function a(t){return function(e){e.cwType=t,this.dispatchEvent(e)}}}).call(i,n(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var g=i(2),v=i(132),n={touchstart:function(e){r(this,"pointerDown",e)},touchmove:function(e){r(this,"pointerMove",e)},touchend:function(e){r(this,"pointerUp",e),a(e.changedTouches)},touchcancel:function(e){r(this,"pointerCancel",e),a(e.changedTouches)}};function r(e,t,i){for(var n=i.changedTouches,r=n.length,a=0;a<r;a++)b(e,i,t,n[a])}var y={};function b(e,t,i,n,r){var a,s,o,c,l,u,d,h,p,f=n.identifier,_=e.getPointerCapture(f);_?r=_.element:r||(h=(d=n).clientX,p=d.clientY,a=e,s=t,c=r=document.elementFromPoint(h,p),l=(o=n).identifier,(u=y[l])!==c&&(u&&b(a,s,"pointerOut",o,u),c&&(u&&b(a,s,"pointerOver",o,c),y[l]=c)));var m=v.a.create({cwType:i,pointerId:n.identifier,nativeEvent:t,pointerType:v.b.TOUCH,target:r});Object(g.q)(n,m,"screenX","screenY","clientX","clientY"),e.dispatchEvent(m)}function a(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];delete y[n.identifier]}}},function(e,r,a){"use strict";(function(e){a.d(r,"a",function(){return n});var t=a(507),i="onwheel"in document||"WheelEvent"in e?"wheel":"mousewheel",n={};n[i]=function(e){(e=t.a.create({nativeEvent:e})).cwType="wheel",this.dispatchEvent(e)}}).call(r,a(5))},function(e,r,a){"use strict";(function(e){a.d(r,"a",function(){return i});var t=a(172),n=a(10),i=a(59).a.extend({appDocumentElement:e.document.documentElement,action:function(){var i=this.appDocumentElement;Object(n.i)(i);var e=t.b.sharedInstance;e.observe("locale",function(e){Object(n.j)("lang",e,i)}),e.observe("isRTL",function(e){var t=e?"rtl":"ltr";Object(n.j)("dir",t,i)})},staticMembers:{__QUALIFIED_CLASS_NAME__:"DocumentElementInitializer"}})}).call(r,a(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(59),r=i(525),a=i(174),s=i(175),o=i(296),c=n.a.extend({dependencies:[a.a,s.a,o.a],action:function(e){var t=r.a.create({isRootViewController:!0,application:e});(e._paneManager=t).willAttach(),e.rootElement.appendChild(t.view.element),t._setIsAttached(!0),t.view.isAttached=!0,t.didAttach(),t.addPane(e.rootViewController)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PaneManagerInitializer"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(1104),r=(i.n(n),i(10)),o=i(14),a=i(3),s=i(7),c=i(2),l=i(1),u=s.n.extend(o.e,{viewClass:s.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"panes"}],classes:["cw-pane-container"]}}}}),application:null,nextResponder:Object(l.property)({get:function(){return this.application}}),presentViewController:function(e){(e.presentingViewController=this).addPane(e)},dismissViewController:function(e){e.presentingViewController===this?(e.presentingViewController=null,this.removePane(e)):Object(c.y)("The Pane Manager is unable to dismiss the passed view controller; it may only dismiss view controllers that it is presenting.",{viewController:e})},addPane:function(e){e||Object(c.y)("Must pass a pane to addPane"),e.retain();var t=this._paneStack;-1!==t.indexOf(e)&&Object(c.y)("Cannot add duplicate pane onto stack",{pane:e}),e.willMoveToParentViewController(this),this.view.panes.push(e.view),this.addChildViewController(e),this._addFocusLayerToPane(e),t.push(e),this.propertyChanged("activePane"),e.shouldFocusPaneOnAttach&&e.focus(),e.didMoveToParentViewController(this),e.release()},_addFocusLayerToPane:function(e){var t=this._paneStack,i=t.length;if(e.inheritsFocusLayer&&0!==i){for(var n=void 0,r=i-1;0<=r;r--){var a=t[r];if(a.isFocusablePane){n=a.focusParent;break}}n||Object(c.y)("Cannot find a focus layer to inherit",{pane:e,paneStack:t}),e.focusParent=n}else{var s=o.d.create().retain(this,"A new focus layer managed by the PaneManager");s.parent=this,e.focusParent=s}e.focusParent.defaultFocusChild=e},removePane:function(e){e||Object(c.y)("Must pass a pane to removePane"),e.retain();var t=this._paneStack;0===t.length&&Object(c.y)("Cannot remove pane from empty pane stack",{pane:e});var i=t.indexOf(e);-1===i&&Object(c.y)("Cannot remove pane; not a current pane",{pane:e}),e.willMoveToParentViewController(null),t.splice(i,1),this.view.panes.remove(e.view),this.removeChildViewController(e),this.propertyChanged("activePane"),this._removeFocusLayerFromPane(e),e.didMoveToParentViewController(null),e.release()},_removeFocusLayerFromPane:function(e){var t=e.focusParent,i=this.topFocusLayer;t!==i&&t?t.release(this,"A new focus layer managed by the PaneManager"):i&&i!==this&&(i.defaultFocusChild=this.topFocusablePane),e.focusParent=null},bringToFront:function(e){var t=this._paneStack,i=t.indexOf(e);-1===i&&Object(c.y)("Cannot bring to front; not a current pane",{pane:e}),t.splice(i,1),t.push(e),this.propertyChanged("activePane")},activePane:Object(a.T)({cacheable:!1,readOnly:!0,get:function(){var e=this._paneStack;return e[e.length-1]}}),focusTopFocusLayer:function(){var e=this.topFocusLayer;(!e.isFocusedLayer||!e.focus(!0))&&d()},topFocusablePane:Object(a.T)({cacheable:!1,readOnly:!0,dependencies:["activePane"],get:function(){for(var e=this._paneStack,t=e.length-1;0<=t;t--){var i=e[t];if(i.isFocusablePane)return i}return this}}),topFocusLayer:Object(a.T)({cacheable:!1,readOnly:!0,dependencies:["activePane"],get:function(){for(var e=this._paneStack,t=e.length-1;0<=t;t--){var i=e[t];if(i.isFocusablePane)return i.focusParent}return this},didChange:function(e){var t=this._previousTopFocusLayer;if(t&&(t._previousFocusedLayerState=t.isFocusedLayer,t.isFocusedLayer=!1),e){var i=e._previousFocusedLayerState;e.isFocusedLayer=i}this._previousTopFocusLayer=e,this.focusTopFocusLayer()}}),_previousTopFocusLayer:null,focusReleasedInApp:function(){var e=r.a.sharedInstance;return e.isIE||e.isFirefox?this._focusReleasedTimer.start():(this.topFocusLayer.isFocusedLayer=!1,d()),!0},_focusReleasedTimer:Object(l.property)(Object(l.instance)(a.K,{delay:0,action:"_checkActiveElementAgainstFocusResponderAndKillBrowserFocus"})),_checkActiveElementAgainstFocusResponderAndKillBrowserFocus:function(){this._checkActiveElementAgainstFocusResponder(!0)},appLostFocus:function(){var e=r.a.sharedInstance;return e.isIE||e.isFirefox?this._appLostFocusTimer.start():this.topFocusLayer.isFocusedLayer=!1,!0},_appLostFocusTimer:Object(l.property)(Object(l.instance)(a.K,{delay:0,action:"_checkActiveElementAgainstFocusResponder"})),_checkActiveElementAgainstFocusResponder:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=document.activeElement;Object(o.u)(t)===this.topFocusLayer.focusResponder&&document.hasFocus()||(this.topFocusLayer.isFocusedLayer=!1,e&&d())},appGainedFocus:function(){return this.topFocusLayer.isFocusedLayer=!0},didReceiveFocus:function(e){return null===e.relatedTarget&&this.appGainedFocus(),this.focusTopFocusLayer(),!0},_paneStack:Object(l.instance)(Array),staticMembers:{__QUALIFIED_CLASS_NAME__:"PaneManager"}});function d(){var e,t=r.a.sharedInstance;if(t.isIE||t.isEdge)try{(e=document.activeElement)&&e.blur&&e.blur()}catch(e){}else(e=document.activeElement)&&e.blur&&e.blur()}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(2),a=i(3),s=n.CoreObject.extend(a.q,{target:Object(a.T)(),targetLayout:Object(a.T)(),targetIsHidden:Object(a.T)(!1),recomputeLayoutIfNecessary:r.e,shouldMeasure:Object(a.T)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"LayoutMeasurer"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c}),i.d(t,"b",function(){return l});var n=i(3),r=i(1),a=i(2),s=i(291),o={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEnlarged",truevalue:"cw-scroll-indicator-enlarged",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInstantlyEnlarged",truevalue:"cw-scroll-indicator-instantly-enlarged",attributes:{}}],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_opacity",attributes:{},unit:null,property:"opacity"},visibility:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"_isVisible",truevalue:"",falsevalue:"hidden",attributes:{},unit:null,property:"visibility"}}}}},scrollIndicatorShouldFade:Object(n.T)(!0),scrollIndicatorShouldEnlarge:Object(n.T)(!0),shouldShowScrollIndicatorIfSizeChanged:Object(n.T)(!1),fadeDelay:500,fadeTime:200,FPS:60,_opacity:0,isEnlarged:Object(n.T)(!1),_isVisible:Object(n.T)({readOnly:!0,dependencies:["_opacity"],get:Object.assign(function(){return 0!==this._opacity},{__CW__getter:function(e,t,i,n){return 0!==n.internalGet(this,t[0+i])}})}),_maintainEnlargedState:Object(n.U)("scrollIndicatorShouldEnlarge","_isVisible","isBeingHovered",function(e,t,i){if(e){var n=!1;t&&(n=i||this.get("isEnlarged")),Object(a._5)(this,"isEnlarged",n),n||(this.isInstantlyEnlarged=!1)}else Object(a._5)(this,"isEnlarged",!1)}),_handleThumbProportionChange:Object(n.U)("thumbProportion",function(){this.shouldShowScrollIndicatorIfSizeChanged&&this.renewVisibility()}),didScroll:function(e){!this.get("_isVisible")&&e&&this._boundingClientRectHitTest(e)&&(Object(a._5)(this,"isBeingHovered",!0),this.scrollIndicatorShouldEnlarge&&(this.isInstantlyEnlarged=!0)),this.renewVisibility()},_boundingClientRectHitTest:function(e){var t=this.get("element").getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top;return 0<=i&&i<=t.width&&0<=n&&n<=t.height},_handleHoverStateChange:Object(n.U)("isBeingHovered",function(e){this.renewVisibility()}),_handleAttachOrDetach:Object(n.U)("isAttached",function(e){e?this.get("_isVisible")&&this.renewVisibility():this.renewVisibility()}),renewVisibility:function(){this._fadeOutAnimationTimer.stop(),this._fadeOutTimer.stop();var e=this.get("scrollIndicatorShouldFade");this.get("isAttached")?(this.set("_opacity",1),e&&!this.get("isBeingHovered")&&this._fadeOutTimer.start()):this.set("_opacity",e?0:1)},_showOrFadeOnShouldFadeChange:Object(n.U)("scrollIndicatorShouldFade",function(){this.renewVisibility()}),_fadeOutTimer:Object(r.property)(function(){return n.K.create({delay:this.fadeDelay,action:"beginFadeOut",target:this})}),_fadeOutAnimationTimer:Object(r.property)(function(){return n.K.create({delay:1e3/this.FPS,action:"fadeStep",target:this,timesToFire:this.fadeTime/1e3*this.FPS})}),beginFadeOut:function(){return this._fadeOutAnimationTimer.start(),!0},fadeStep:function(e){return this.set("_opacity",1-e.fireCount/e.timesToFire),!0}},c=s.a.extend(o,{staticMembers:{className:"cw-ui-fading-horizontal-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"FadingHorizontalScrollIndicatorView"}}),l=s.b.extend(o,{staticMembers:{className:"cw-ui-fading-vertical-scroll-indicator-view",__QUALIFIED_CLASS_NAME__:"FadingVerticalScrollIndicatorView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(1),r=i(14),a=i(3),s=i(2),o=i(529),c=i(530),l={mixinDependencies:[o.a,r.p,a.J,c.a,r.f],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isPointerFocused",truevalue:"cw-is-pointer-focused",falsevalue:"",attributes:{}}],attributes:{"aria-haspopup":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaHasPopup",attributes:{},attribute:"aria-haspopup"},"aria-owns":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaOwns",attributes:{},attribute:"aria-owns"}}}}},isPointerActivationDisabled:Object(a.T)({readOnly:!0,binding:"isDisabled"}),isPointerFocused:Object(a.T)({type:Boolean,readOnly:!0,dependencies:["isFocused","_mayBePointerFocused"],get:Object.assign(function(){return this._mayBePointerFocused&&this.isFocused},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])&&n.internalGet(this,t[0+i])}})}),_mayBePointerFocused:Object(a.T)({type:Boolean,defaultValue:!1}),action:Object(a.T)({type:"string",defaultValue:"wasActivated"}),context:Object(a.T)({defaultValue:n.ITSELF}),contextKeys:Object(n.instance)(["context"]),keyEquivalent:Object(a.T)({didChange:function(e){e&&this.sendEvent("registerKeyEquivalent",this)}}),isAttachedDidChange:Object(a.U)("isAttached",function(e){e&&this.keyEquivalent&&this.sendEvent("registerKeyEquivalent",this)}),performKeyEquivalent:function(e){var t=this.keyEquivalent,i=e.keyCode,n=i===t;return(n=n||t.some&&t.some(function(e){return e===i}))&&this.triggerButtonAction()},pointerDown:function(){var e=arguments,t=this.__s._$2vU$pointerDown.apply(this,e);return!this.isDisabled&&this.isFocusable&&(this._mayBePointerFocused=!0),t},keyUp:function(e){e.which!==r.i.SPACE||this.isDisabled||this.triggerButtonAction()},didBlur:function(){var e=arguments;this._mayBePointerFocused=!1,this.__s._$346$didBlur.apply(this,e)},pointerActivate:function(e){var t=arguments;this.__s._$37q$pointerActivate.apply(this,t),this.triggerButtonAction()},delayAction:!1,triggerButtonAction:function(){return!this.isDisabled&&(this.sendEvent("buttonWillActivate",this),this.delayAction?Object(s._8)(this._actuallyTriggerButtonAction.bind(this),0):this._actuallyTriggerButtonAction(),!0)},_actuallyTriggerButtonAction:function(){if(this.target)this.callAction();else{for(var e=[this.action],t=this.contextKeys,i=0,n=t.length;i<n;i++)e.push(this[t[i]]);this.sendEvent.apply(this,e)}this.sendEvent("buttonDidActivate",this)},ariaRole:"button",ariaHasPopup:Object(a.T)(),ariaOwns:Object(a.T)(),__superMap:{_$2vU$pointerDown:"pointerDown",_$346$didBlur:"didBlur",_$37q$pointerActivate:"pointerActivate"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(3),r=i(14),a=i(2),s=Symbol("NOT_SET"),o={mixinDependencies:[n.q,r.f],controlElement:Object(n.T)({get:function(e){return e||this.element}}),isDisabled:Object(n.T)({defaultValue:!1,didChange:function(e){var t=this.controlElement;t&&(e?t.setAttribute("disabled",!0):t.removeAttribute("disabled"))}}),isFocusable:Object(n.T)({dependencies:["isDisabled"],writeDependencies:[],defaultValue:s,get:Object.assign(function(e){return e!==s?e:!this.isDisabled},{__CW__getter:function(e,t,i,n){return e!==s?e:!n.internalGet(this,t[0+i])}}),set:a.c}),ariaDisabled:Object(n.R)("isDisabled")}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(3),r={mixinDependencies:[i(135).a],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isBeingPressed",truevalue:"cw-being-pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isBeingHovered",truevalue:"cw-being-hovered",attributes:{}}]}}},isBeingPressed:Object(n.T)(!1),isBeingHovered:Object(n.T)(!1),isPointerActivationDisabled:Object(n.T)(!1),pointerActivate:function(e){},pointerHitTest:function(e){return this.element.contains(e.target)},pointerDown:function(e){return!this.isPointerActivationDisabled&&0===e.button&&!!this.pointerHitTest(e)&&(this.setPointerCapture(e.pointerId),this.updateHoverPressState(e),!0)},pointerOut:function(e){return this.updateHoverPressState(e),!1},pointerOver:function(e){return this.updateHoverPressState(e),!1},pointerUp:function(e){var t=!1;if(this.getPointerCapture(e.pointerId)!==this?t=!0:this.pointerHitTest(e)?(this.isDisabled||0!==e.button)&&(t=!0):t=!0,t)return this.releasePointerCapture(e.pointerId),this.updateHoverPressState(e),!1;this.releasePointerCapture(e.pointerId);var i=this.isBeingPressed;return this.updateHoverPressState(e),i&&this.pointerActivate(e),!0},pointerMove:function(e){return this.updateHoverPressState(e),this.getPointerCapture(e.pointerId)===this},setPointerCapture:function(e){var t=arguments;return this._capturedPointerId=e,this.sendEvent("lockCursor",this.getPath("style.cursor")),this.__s._$1nT$setPointerCapture.apply(this,t)},releasePointerCapture:function(e){var t=arguments;return this._capturedPointerId=NaN,this.sendEvent("releaseCursor"),this.__s._$1tn$releasePointerCapture.apply(this,t)},cancelPointerInteraction:function(){var e=this._capturedPointerId;isNaN(e)||this.releasePointerCapture(e),this.beginBatchSet().setIfChanged("isBeingPressed",!1).setIfChanged("isBeingHovered",!1).end()},updateHoverPressState:function(e){var t=Boolean("pointerOut"!==e.cwType&&this.pointerHitTest(e)),i=this.getPointerCapture(e.pointerId)===this,n=this.isPointerActivationDisabled;this.beginBatchSet().setIfChanged("isBeingPressed",i&&t&&!n).setIfChanged("isBeingHovered",(i||t)&&!n).end()},_releasePointerCaptureWhenUnattached:Object(n.U)("isAttached","isPointerActivationDisabled",function(e,t){e&&!t||this.cancelPointerInteraction()}),dispose:function(){var e=arguments;this.cancelPointerInteraction(),this.__s._$2MG$dispose.apply(this,e)},__superMap:{_$1nT$setPointerCapture:"setPointerCapture",_$1tn$releasePointerCapture:"releasePointerCapture",_$2MG$dispose:"dispose"}}},function(e,t,i){"use strict";t.a=function(e){e||Object(n.y)("An element is required to be able to measure it");var t=e.getBoundingClientRect();return 0!==t.height||0!==t.width||document.body.contains(e)?t:(n.T.error("Tried to measure an element that is not in the document",e),null)};var n=i(2)},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(3),r=i(81),a=i(52),s=i(42),o={mixinDependencies:[n.q,s.a,r.a],staticMembers:{handler:a.a.create({nodeType:"ATTRIBUTE",render:function(e,t,i){return i.value}})}}},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var r=i(3),a=i(2),n=i(81),s=i(52),o=i(42),c=i(61),l={mixinDependencies:[r.q,o.a,n.a],staticMembers:{handler:s.a.create({nodeType:"ATTRIBUTEOUTLET",generateLookupFunction:function(e,t){return a.c},register:function(e,t){var i=t.attribute,n=Object(c.a)(t);Object(c.c)(e,t,function(e,t){null==(t=n(t))||t.toString===Object.prototype.toString||t.toString===Function.prototype.toString?e.removeAttribute(i):e.setAttribute(i,t)})},render:function(e,t,i){var n=e.prototype[i.name];return(n=Object(a.G)(n,r.e)?"":n)||""}})}}},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(3),r=i(2),a=i(1),s=i(81),o=i(52),c=i(42),l=i(61),u={mixinDependencies:[n.q,c.a,s.a],__classNameOutlet_addedHash:Object(a.instance)(Object),staticMembers:{handler:o.a.create({nodeType:"CLASSNAMEOUTLET",generateLookupFunction:function(e,t){return function(e){return e=e.classList,t(e)}},register:function(e,t){var a=Object(l.a)(t),s="__templateObserver__previous"+t.name+Object(r.D)(t),o=Object(r.D)(t.parent);Object(l.c)(e,t,function(e,t){var i=this.__classNameOutlet_addedHash[o]=this.__classNameOutlet_addedHash[o]||{},n=this[s];n&&(i[n]--,0===i[n]&&e.remove(n));var r=a(t);r&&(i[r]=i[r]||0,0===i[r]&&e.add(r),i[r]++),this[s]=r})}})}}},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var g=i(3),n=i(2),r=i(42),a=i(81),s=i(293),o=i(61),v=g.g.create(),y=[],c=a.b.extend({nodeType:"MULTIVIEWOUTLET",register:function(e,t){var m=t.name;m||Object(n.y)("View template error: multi-view outlets (`<views>`) must specify a name (like `<views name='foo'>`).",{ViewClass:e}),1<Object(n.Y)(m).length&&Object(n.y)("View template error: multi-view outlets (`<views>`) must have a single key name. '%{name}' is a path.",{ViewClass:e,name:m}),t.children&&0<t.children.length&&Object(n.y)("View template error: multi-view outlets (`<views>`) may not have child elements",{ViewClass:e}),this.__s._$Yl$register.call(this,e,t,!0);var i=t.contentsDidChangeNode=Object(r.b)(t);i.parent=t.parent,i.name=m+".contentsDidChange",e._registerRemovalHandler(m,this),Object(o.c)(e,t,function(e,t){for(var i;i=e.firstChild;)I.call(this,m,e,i.view,i);if(t)for(var n=t.length,r=0;r<n;r++){var a=t.objectAt(r);i=a.element,b.call(this,m,e,a)}},{get:function(e){return e||(e=g.r.create()),e},set:function(e){return Object(n.G)(g.r,e)||(e=g.r.create(e)),e}}),Object(o.c)(e,i,function(e,t){if(t&&!this._isCleaningUpOutlets){var i,n,r=t.context;!function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i],r=n.item;r.hasOwnProperty("_changeRefCount")||(r._changeRefCount=0),n.operation===g.r.REMOVE?r._changeRefCount--:r._changeRefCount++}}(r);var a,s=r.length;for(a=0;a<s;a++){var o=r.objectAt(a);if(i=o.object,o.operation===g.r.REMOVE&&i.hasOwnProperty("_changeRefCount")&&i._changeRefCount<0)I.call(this,m,e,i,i.element),delete i._changeRefCount;else if(i.hasOwnProperty("_changeRefCount")&&0<i._changeRefCount){var c=o.index;n=e.childNodes[c],v.set(i,c),b.call(this,m,e,i,n),delete i._changeRefCount}}this._isCleaningUpOutlets=!0;var l,u=this.get(m);for(a=0,s=u.length;a<s;a++){i=u.objectAt(a);var d=v.get(i);void 0!==d&&a!==d&&y.push(a)}if(0<y.length){for(u.beginBatchedChanges(),a=0,s=y.length;a<s;a++)u.removeAt(y[a]);u.endBatchedChanges(),y.length=0}for(v.clear(),this._isCleaningUpOutlets=!1,a=u.length-1;0<=a;a--){var h=(i=u.objectAt(a)).element;p=e,f=h,!(_=l)&&f===p.lastChild||_&&f===_.previousSibling||p.insertBefore(f,_||null),l=h}}var p,f,_})},render:function(e,t,i){var n=arguments,r=i.attributes;if(r&&r.tagName){var a=r.tagName;delete r.tagName,i.tagname=a}else"views"===i.tagname&&(i.tagname="div");return this.__s._$25U$render.apply(this,n)},removeChildView:function(e,t,i){var n=e[t];n.removeAt(n.indexOf(i))},disposeOutlet:function(e,t){if(e.getMetadata(t).readOnly||e.isDisposing){var i=e[t];if(!i||i.isDisposed)return;for(var n=0,r=i.length;n<r;n++){var a=i.objectAt(n);a&&!a.isDisposed&&(a.parent=null,a.parentKey="")}}else e[t]=null},staticMembers:{__QUALIFIED_CLASS_NAME__:"MultiViewOutletHandler"},__superMap:{_$Yl$register:"register",_$25U$render:"render"}}),l={mixinDependencies:[g.q,r.a,s.a],staticMembers:{handler:c.create()},_isCleaningUpOutlets:!1};function b(e,t,i,n){var r=i.parent;!r||r===this&&i.parentKey===e||r._removeChildView(i.parentKey,i);var a=i.element;return t.insertBefore(a,n||null),i.parent=this,i.parentKey=e,a}function I(e,t,i,n){return i&&!i.isDisposed&&(i.parent=null,i.parentKey=""),t.removeChild(n),n}},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(2),r=i(3),a=i(81),s=i(52),o=i(42),c=i(61),l=i(136),u={mixinDependencies:[r.q,o.a,a.a],staticMembers:{handler:s.a.create({nodeType:"STYLEOUTLET",generateLookupFunction:function(e,t){return n.c},register:function(e,t){var i=t.unit||"",n=t.property,r=Object(c.a)(t);Object(c.c)(e,t,function(e,t){t=r(t),i&&null!=t&&(t+=i),Object(l.a)(e,n,t)})}})}}},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(3),r=i(52),a=i(42),s=i(61),o=i(2),c=Symbol(),l={mixinDependencies:[n.q,a.a],staticMembers:{handler:r.a.create({nodeType:"DATAOUTLET",register:function(e,t){var i,n=Object(s.a)(t),r=t.attributes.escape;i="false"===r?function(e,t){t=n(t),e.innerHTML=null==t?"":t}:"dangerous"===r?function(e,t){var i=n(t);if(null!=i&&!0!==i[c])throw new o.b("All values passed to unescaped templates must be wrapped in hashes and flagged",{hash:i,rawValue:t,span:e});i&&null!=i.value?e.innerHTML=i.value:e.innerHTML=""}:function(e,t){t=n(t),e.data=null==t?"":t},Object(s.c)(e,t,i)},render:function(e,t,i){var n=i.attributes.escape;return"false"===n||"dangerous"===n?t.createElement("span"):t.createTextNode("")}})}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(52),r={mixinDependencies:[i(42).a],staticMembers:{handler:n.a.create({nodeType:"TEXT",render:function(e,t,i){return t.createTextNode(i.data)}})}}},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(3),r=i(2),a=i(52),s=i(42),o=i(293),u=i(61),c={mixinDependencies:[n.q,s.a,o.a],staticMembers:{handler:a.a.create({nodeType:"VIEWOUTLET",register:function(e,t){var c=t.name;c||Object(r.y)("View template error: view outlets (`<view>`) must specify a name (like `<view name='foo'>`).",{ViewClass:e}),1<Object(r.Y)(c).length&&Object(r.y)("View template error: view outlets (`<view>`) must have a single key name. '%{name}' is a path.",{ViewClass:e,name:c}),t.parent||Object(r.y)("View template error: view outlets (`<view>`) may not be the root element in your template.",{ViewClass:e});var l="_previous_"+c;e._registerRemovalHandler(c,this),Object(u.c)(e,t,function(e,t){var i=e.parentNode,n=e;t?n=t.element:e.__cw__isTemplatePlaceholder__||(n=d(this.document)),n!==e&&i.replaceChild(n,e);var r=this[l];if(t!==r){if(r&&!r.isDisposed){var a=r.parent,s=r.parentKey;a===this&&s===c&&(r.isDisposed||(r.parent=null,r.parentKey=""))}if(t){var o=t.parent;o&&o._removeChildView(t.parentKey,t),t.parent=this,t.parentKey=c}this[l]=t}return n})},render:function(e,t,i){return d(t)},removeChildView:function(e,t,i){e[t]=null},disposeOutlet:function(e,t){if(e.getMetadata(t).readOnly||e.isDisposing){var i=e[t];if(!i||i.isDisposed)return;i.parent=null,i.parentKey=""}else e[t]=null}})}};function d(e){var t=e.createElement("div");return t.__cw__isTemplatePlaceholder__=!0,t}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(14),r=i(1),a=n.c.extend({deltaX:Object(r.property)(0),deltaY:Object(r.property)(0),consumeX:s("deltaX"),consumeY:s("deltaY"),isEmpty:Object(r.property)({get:function(){return 0===this.get("deltaX")&&0===this.get("deltaY")}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ScrollEvent"}});function s(r){return function(e){var t,i,n=this.get(r);return void 0===e?e=n:(t=e,i=n,e=Math.abs(t)<Math.abs(i)?t:i),this.set(r,n-e),e}}},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(1),r=i(14),a=i(3),s=i(2),o=i(173),c=n.CoreObject.extend(a.q,r.p,r.f,{parent:Object(a.T)(null),_isViewLoaded:!1,isViewLoaded:Object(n.property)({readOnly:!0,defaultValue:!1}),isAttached:Object(a.T)({dependencies:["parent.isAttached"],defaultValue:!1,readOnly:!0,get:Object.assign(function(){var e=this._isAttached;return Object(s.L)(e)?e:Boolean(this.getPath("parent.isAttached"))},{__CW__getter:function(e,t,i,n){var r=this._isAttached;return Object(s.L)(r)?r:Boolean(n.internalGetPath(this,t[0+i]))}})}),_setIsAttached:function(e){this._isAttached=e,this.propertyChanged("isAttached")},isRootViewController:!1,view:Object(a.T)({readOnly:!0,strong:!0,get:function(){return this._view||function(e,t){e.viewWillLoad();var i=e.createView();i.beginBatchSet().set("viewController",e).set("nextResponder",e).set("focusParent",e).end(),e._view=i,e._isViewLoaded=!0,e._loadChildViews(i),e.viewDidLoad(i)}(this),this._view}}),nextResponder:Object(n.property)({get:function(e){if(e)return e;var t=this.view;return t?t.parent:null}}),presentingViewController:null,viewClass:o.a,init:function(){var e=arguments;this._childViewControllers=[],this.__s._$16C$init.apply(this,e)},dispose:function(){var e=arguments,t=this._childViewControllers,i=0,n=t.length;for(i=0;i<n;i++)t[i].parent=null,t[i].release(this,"holding as a childViewController");this.isViewLoaded&&l(this,!0),this.__s._$1M7$dispose.apply(this,e)},viewWillLoad:function(){},viewDidLoad:function(e){},viewWillUnload:function(e){},viewDidUnload:function(){},createView:function(){return this.viewClass.create({isRootView:this.isRootViewController})},unloadView:function(){this.isViewLoaded&&l(this)},willMoveToParentViewController:function(e){e&&e.isAttached&&!this.isAttached?this.willAttach():!e&&this.isAttached&&this.willDetach()},didMoveToParentViewController:function(e){e&&e.isAttached?this.didAttach():e||this.didDetach()},willAttach:function(){var e,t=this._childViewControllers,i=t.length;for(e=0;e<i;e++)t[e].willAttach()},didAttach:function(){var e,t=this._childViewControllers,i=t.length;for(e=0;e<i;e++)t[e].didAttach()},willDetach:function(){var e,t=this._childViewControllers,i=t.length;for(e=0;e<i;e++)t[e].willDetach()},didDetach:function(){var e,t=this._childViewControllers,i=t.length;for(e=0;e<i;e++)t[e].didDetach()},addChildViewController:function(e){var t=this._childViewControllers;e.parent&&Object(s.y)("Cannot add view controller because it is already a child of a view controller",{parent:this,child:e}),t.push(e),e.parent=this,e.focusParent=this,e.retain(this,"holding as a childViewController")},removeChildViewController:function(e){var t=this._childViewControllers;t.indexOf(e)<0&&Object(s.y)("Cannot remove view controller because it is not a child of this view controller",{parent:this,child:e}),e.parent=null,e.focusParent=null,e.release(this,"holding as a childViewController"),Object(s._2)(e,t)},_loadChildViews:function(e){for(var t=this._childViewControllers,i=0;i<t.length;i++){var n=t[i],r=n._destinationViewOutlet;r&&e.setPath(r,n.view)}},defaultFocusChild:Object(a.R)("view"),focusAsLeaf:function(){var e=arguments,t=this.__s._$3Y3$focusAsLeaf.apply(this,e);return t&&this.view.focus(),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"ViewController"},__superMap:{_$16C$init:"init",_$1M7$dispose:"dispose",_$3Y3$focusAsLeaf:"focusAsLeaf"}});function l(e,t){var i=e._view;e.viewWillUnload(i),i.beginBatchSet().set("viewController",null).set("nextResponder",null).set("focusParent",null).end(),e._view=null,e._isViewLoaded=!1,t||e.propertyChanged("view"),e.viewDidUnload()}},function(e,i,n){"use strict";(function(r){n.d(i,"a",function(){return t});var a=n(1),s=n(2),e=n(59),o="__CW_SPRITE_LOADED",c="__CW_SPRITE_ERROR",t=e.a.extend({action:function(e){if(r.__CW_BLOBS_READY)return a.CorePromise.resolve();var t=a.CorePromise.create(),i=function(){t.resolve()},n=function(e){t.reject(e.data||Object(s.y)("Failed to preload images in SpritePreloader"))};return Object(s.h)(r,o,i),Object(s.h)(r,c,n),t.finally(function(){Object(s._1)(r,o,i),Object(s._1)(r,c,n)})},staticMembers:{__QUALIFIED_CLASS_NAME__:"SpritePreloader"}})}).call(i,n(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var s=i(3),n=i(2),r=s.t.extend({staticMembers:{booleanProperty:function(e){return a.create(e)},numberProperty:function(e){return o.create(e)},stringProperty:function(e){return c.create(e)},enumProperty:function(e,t){return l.create(e,t)},__QUALIFIED_CLASS_NAME__:"ConfigProperty"},downstreamNodeManagerClass:s.j.extend({calculateValueForNode:function(e,t,i){if(i){var n=s.i.getStateIDForNode(t);0<n&&s.i.getValueForNode(n)}var r=e._config_debugValues[this.key];return void 0===r&&(r=this.get.call(e)),r},debugType:"Config"}),upstreamNodeManagerClass:s.P.extend({calculateValueForNode:function(e,t,i){var n,r=this.key;if(i){var a=s.i.getStateIDForNode(t);s.i.setStateDataForNode(void 0,t),s.i.getValueForNode(a)}void 0===(n=s.i.getStateDataForNode(t))?delete e._config_debugValues[r]:e._config_debugValues[r]=n},debugType:"Config"}),wasRegistered:function(){var e=arguments;this.__s._$vi$wasRegistered.apply(this,e),this.readOnly=!1},setInitialValueForObject:function(e,t,i){this.usesBuiltinGet?e._config_defaultValues[t]=i:e._config_defaultValues[t]=void 0},didChange:function(e){this.writeToSessionStorage&&this.writeToSessionStorage()},__superMap:{_$vi$wasRegistered:"wasRegistered"}}),a=r.extend({type:"boolean",configType:"boolean",parse:function(e){return"boolean"==typeof e?e:"true"===e},staticMembers:{__QUALIFIED_CLASS_NAME__:"BooleanConfigProperty"}}),o=r.extend({type:"number",configType:"number",parse:function(e){return e=parseFloat(e),isNaN(e)?void 0:e},staticMembers:{__QUALIFIED_CLASS_NAME__:"NumberConfigProperty"}}),c=r.extend({type:"string",configType:"string",parse:function(e){return e+""},staticMembers:{__QUALIFIED_CLASS_NAME__:"StringConfigProperty"}}),l=r.extend({configType:"enum",allowedValues:null,parse:function(e){if(""!==e){var t=this.allowedValues;if(-1<t.indexOf(e))return e;Object(n.y)("Not a recognized value in enum: "+e,{value:e,allowedValues:t})}},init:function(e,t){1===arguments.length&&Object(n.O)(e)?this.__s._$1ZG$init.call(this,e):(this.allowedValues=e,this.__s._$1ZG$init.call(this,t))},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnumConfigProperty"},__superMap:{_$1ZG$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1123),r=(i.n(n),i(7)),a=r.m.extend(r.k,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"itemViews"}],classes:["cw-collection-view"]}},className:"cw-ui-collections-collection-view",__QUALIFIED_CLASS_NAME__:"CollectionView"},_scrollBy:function(e,t){this.sendEvent("didScroll",e,t)}})},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var p=i(3),n=i(10),r=i(7),c=i(2),a=i(1),s=i(546),o=i(544),l=i(137),u=r.n.extend(r.g,{viewClass:o.a,init:function(){var e=arguments,t=this.layoutMetrics,i=t,n=this.layoutDelegate.LayoutMetricsClass;Object(c.O)(t)?t=n.create(t):Object(c.x)(t)||(t=n.create()),i!==t&&(this.layoutMetrics=t),this.__s._$1qT$init.apply(this,e),t=this.layoutMetrics;var r=[],a=[],s=this._previousLayoutMetrics;for(var o in t.getMetadataByType(p.t))a.push(o),s[o]=t[o],r.push("layoutMetrics."+o);this._layoutMetricsKeys=a,r.push("_updateWhenContentsChange"),this._layoutMetricsObserver=this.observe({inputs:r,notifyOnCreate:!1,callback:this._updateWhenLayoutMetricsChange})},_layoutMetricsKeys:null,_previousLayoutMetrics:Object(a.property)({strong:!0,defaultValue:Object(a.instance)(Object)}),_changedKeys:Object(a.property)({strong:!0,defaultValue:Object(a.instance)(p.h)}),_layoutMetricsObserver:null,_updateWhenLayoutMetricsChange:function(){var e=this._changedKeys;e.clear();for(var t=this._layoutMetricsKeys,i=t.length,n=this._previousLayoutMetrics,r=this.layoutMetrics,a=0;a<i;a++){var s=t[a],o=r[s];o!==n[s]&&(e.add(s),n[s]=o)}0!==e.size&&this.update(l.a.create({layoutMetricsChanged:e}))},viewportWidth:Object(p.T)(0),viewportHeight:Object(p.T)(0),layoutMetrics:Object(p.T)({strong:!0}),layoutController:Object(p.T)({strong:!0,defaultValue:Object(a.instance)(s.a),downstreamBindings:{collection:"(owner).collection",viewportWidth:"(owner).viewportWidth",viewportHeight:"(owner).viewportHeight",layoutDelegate:"(owner).layoutDelegate",presenter:"(owner).presenter",layoutMetrics:"(owner).layoutMetrics"}}),_updateWhenContentsChange:Object(p.S)("collection.contentsDidChange","collection.handleProvider.handlesDidUpdate",function(e){e&&this.update(l.a.create({itemsChanges:e.context}))}),_updateWhenCollectionChanges:Object(p.S)("collection",function(e){this.update(l.a.create({collectionChanged:!0}))}),layoutDelegate:Object(p.T)({strong:!0}),contentSize:Object(p.T)({strong:!0,dependencies:["collection","collection.contentsDidChangeUntracked","layoutController.spaceAroundViewport"],readOnly:!0,get:Object.assign(function(){var e=this.layoutController,t=this.collection,i=this.layoutDelegate;if(0<e.visibleCells.length){var n=this.getPath("layoutController.spaceAroundViewport"),r=this.viewportWidth+n.left+n.right,a=this.viewportHeight+n.top+n.bottom;return p.G.create(r,a)}if(t&&0<t.length){var s=i.setUpFirstCell(e,t).retain(this,"CollectionViewController#contentSize: cell"),o=s.bottom+i.spaceBelowCell(e,s),c=p.G.create(s.width,o);return s.release(this,"CollectionViewController#contentSize: cell"),c}return p.G.create(0,0)},{__CW__getter:function(e,t,i,n){var r=this.layoutController,a=this.collection,s=this.layoutDelegate;if(0<r.visibleCells.length){var o=n.internalGetPath(this,t[2+i]),c=this.viewportWidth+o.left+o.right,l=this.viewportHeight+o.top+o.bottom;return p.G.create(c,l)}if(a&&0<a.length){var u=s.setUpFirstCell(r,a).retain(this,"CollectionViewController#contentSize: cell"),d=u.bottom+s.spaceBelowCell(r,u),h=p.G.create(u.width,d);return u.release(this,"CollectionViewController#contentSize: cell"),h}return p.G.create(0,0)}})}),presenter:Object(p.T)({strong:!0,downstreamBindings:{views:"(owner).view.itemViews",layoutMetrics:"(owner).layoutMetrics"}}),layoutContext:n.a.sharedInstance.window,_measureViewport:Object(p.U)({inputs:["isAttached","view.isAttached","layoutContext.width","layoutContext.height"],callback:function(e,t){e&&t?this.measureViewport():this.update(l.a.create({everythingChanged:!0}))}}),measureViewport:function(){if(this.isAttached){var e=this.view;if(e){var t=e.element,i=1,n=1;t&&(i=t.offsetWidth,n=t.offsetHeight);var r=this.viewportWidth,a=this.viewportHeight;r===i&&a===n||(this.beginBatchSet().set("viewportWidth",i).set("viewportHeight",n).end(),0<i&&0<n&&(this._changedWhileHidden?(this.update(l.a.create({everythingChanged:!0})),this._changedWhileHidden=!1):this.update(l.a.create({sizeChangedBy:p.G.create({width:i-r,height:n-a})})),this.updateScrollBounds()))}}},collection:Object(p.T)({strong:!0}),update:function(e){if(this.isViewLoaded){var t=this.viewportWidth,i=this.viewportHeight;if(0!==i||0!==t){var n=this.view;n.height=i,n.width=t,this.layoutController.update(e)}else this._changedWhileHidden=!0}},_changedWhileHidden:!1,_update:function(){Object(c.J)(this.update,arguments,this)},updateScrollBounds:Object(p.U)("layoutController.spaceAroundViewport.left","layoutController.spaceAroundViewport.top","layoutController.spaceAroundViewport.right","layoutController.spaceAroundViewport.bottom",function(e,t,i,n){if(void 0!==e&&void 0!==i&&void 0!==t&&void 0!==n){var r=this.viewportHeight,a=-e,s=i+this.viewportWidth,o=-t,c=n+r,l=this.view;l.beginBatchSet().set("scrollMinX",a).set("scrollMaxX",s).set("scrollMinY",o).set("scrollMaxY",c).end(),l.validateScrollPosition(0,0)}}),scrollBy:function(e,t){var i=l.a.create();i.movedBy=p.z.create(e,t),this.update(i)},didScroll:function(e,t){this.scrollBy(-e,-t)},showItem:function(e,t,i){this.layoutController.showItem(e,t,i)},scrollToItem:function(e){var t=this.layoutController;if(0===t.visibleCells.length){var i=this.collection;if(!i||!i.length)return;this.update()}var n=t.rectForItem(e);if(n){n.retain(this,"CollectionViewController#scrollToItem: rect");var r=p.C.create(n).retain(this,"CollectionViewController#scrollToItem: rect");n.release(this,"CollectionViewController#scrollToItem: rect"),n=r;var a=this.view;n.x=n.x+a.scrollX,n.y=n.y+a.scrollY,a.scrollToRect(n),n.release(this,"CollectionViewController#scrollToItem: rect")}},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionViewController"},__superMap:{_$1qT$init:"init"}})},function(e,r,c){"use strict";(function(e){c.d(r,"a",function(){return n});var a=c(3),t=c(1),s=c(2),o=c(137),i=c(547),n=t.CoreObject.extend(a.q,{collection:Object(a.T)(),layoutDelegate:Object(a.T)({strong:!0}),layoutMetrics:Object(a.T)({strong:!0}),presenter:Object(a.T)({strong:!0}),viewportWidth:Object(a.T)(1024),viewportHeight:Object(a.T)(768),horizontalOverdraw:Object(a.T)(0),verticalOverdraw:Object(a.T)(0),_updateViewportBounds:Object(a.U)("viewportWidth","viewportHeight","horizontalOverdraw","verticalOverdraw",function(e,t,i,n){var r=this.viewportBounds;a.i.pause(),r.x=-i,r.y=-n,r.width=e+2*i,r.height=t+2*n,a.i.resume()}),viewportBounds:Object(a.T)(function(){return a.C.create({x:-this.horizontalOverdraw,y:-this.verticalOverdraw})}),spaceAroundViewport:Object(a.T)(Object(t.instance)(i.a)),visibleCells:Object(a.T)(a.f.create()),_tmp_cellsArray:Object(t.instance)(e.Array),showItem:function(e,t,i){var n=this.layoutDelegate.getHandleForItem(this,this.collection,e);if(n.isValid){var r=a.z.create(t,i);this.update(o.a.create({itemShown:n,itemShownAt:r}))}else s.T.warn("LayoutController: Attempted to scroll to item not in collection",{item:e})},rectForItem:function(e){var t=this.visibleCells;if(0===t.length)return null;var i=this.layoutDelegate.getCellForItem(this,this.collection,t,e);return i?i.rect:void 0},_beginUpdate:function(e,t,i){return this._isUpdating&&Object(s.y)("LayoutController cannot update while an update is already in progress.",{invalidationContext:e}),this._isUpdating=!0,i||Object(s.y)("LayoutController#_beginUpdate: layoutDelegate is required",{invalidationContext:e}),i.acquireVisibleCells(this,t,e)},_finishUpdate:function(e,t,i,n,r){this.visibleCells=r,this._handleItemEnters(r),this._handleItemMoves(r),this._handleItemExits(n),n.clear(),this._isUpdating=!1,this.computeSpaceAroundViewport(e)},update:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o.a.create({everythingChanged:!0});e.retain(this,"LayoutController#update: invalidationContext");var t=this.collection,i=this.layoutDelegate;if(i){var n=this._beginUpdate(e,t,i),r=this.visibleCells;r&&0<r.length&&i.reusePreviousVisibleCells(this,t,n,r,e),0===n.length&&i.initializeVisibleCells(this,t,n,r,e),0!==n.length&&i.completeVisibleCells(this,t,n,e),0!==n.length&&i.cleanupVisibleCells(this,t,n,e),this._finishUpdate(e,t,i,r,n),e.release(this,"LayoutController#update: invalidationContext")}else e.release(this,"LayoutController#update: invalidationContext")},_handleItemExits:function(e){var t,i,n=e.length,r=this._tmp_cellsArray;for(t=r.length=0;t<n;t++)(i=e.objectAt(t)).isLaidOut||r.push(i);var a=this.presenter;for(a.cellsWillExit(r),n=r.length,t=0;t<n;t++)(i=r[t]).wasLaidOut=!1,a.cellDidExit(i);a.cellsDidExit(r)},_handleItemEnters:function(e){var t,i,n=e.length,r=this._tmp_cellsArray;for(t=r.length=0;t<n;t++)(i=e.objectAt(t)).wasLaidOut||r.push(i);var a=this.presenter;for(a.cellsWillEnter(r),n=r.length,t=0;t<n;t++)i=r[t],a.cellDidEnter(i),i.wasLaidOut=!0;a.cellsDidEnter(r),r.length=0},_handleItemMoves:function(e){var t=this.presenter;t.cellsWillMove(e);for(var i=0,n=e.length;i<n;i++){var r=e.objectAt(i);t.cellDidMove(r)}t.cellsDidMove(e)},computeSpaceAroundViewport:function(e){var t=this.spaceAroundViewport;return a.i.pause(),0===this.visibleCells.length?(t.left=0,t.right=0,t.top=0,t.bottom=0):(t=this.layoutDelegate.computeSpaceAroundViewport(this,e),this.spaceAroundViewport=t),a.i.resume(),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionLayoutController"}})}).call(r,c(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(3),a=n.CoreObject.extend(r.q,{left:Object(r.T)(0),top:Object(r.T)(0),right:Object(r.T)(0),bottom:Object(r.T)(0),isEstimated:Object(r.T)(!1),toString:function(){var e=this.left,t=this.top,i=this.right,n=this.bottom;return this.__s._$h4$toString.call(this)+" { left: "+e+", top: "+t+", right: "+i+", bottom: "+n+" }"},staticMembers:{__QUALIFIED_CLASS_NAME__:"SpaceAroundViewport"},__superMap:{_$h4$toString:"toString"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(1),r=i(3),a=i(2),s=i(549),o=n.CoreObject.extend(r.m,{init:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e._firstRange,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t?t.start:NaN;this._source=e,this._range=t,this._index=i,this.__s._$9D$init.call(this)},_source:null,_range:null,_index:NaN,isValid:Object(n.property)({readOnly:!0,get:function(){return!!this._range}}),encodedValue:Object(n.property)({readOnly:!0,get:function(){return this._index}}),moveToNext:function(){var e=this._index,t=this._range;e===t.end?e=(t=this._range=t.next)?t.start:NaN:e++,this._index=e},clone:function(){return this.constructor.create(this._source,this._range,this._index)},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexIterator"},__superMap:{_$9D$init:"init"}}),c=n.CoreObject.extend(r.m,{init:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e._firstRange;this._source=e,this._range=t,this.__s._$OV$init.call(this)},_source:null,_range:null,isValid:Object(n.property)({readOnly:!0,get:function(){return!!this._range}}),value:Object(n.property)({readOnly:!0,get:function(){return this.encodedValue}}),encodedValue:Object(n.property)({readOnly:!0,get:function(){return this._range}}),moveToNext:function(){this.isValid&&(this._range=this._range.next)},clone:function(){return this.constructor.create(this._source,this._range)},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexRangeIterator"},__superMap:{_$OV$init:"init"}}),l=n.CoreObject.extend(r.q,r.n,s.a,n.CloneableProtocol,{init:function(){var e=arguments;this._firstRange=null,this.__s._$fM$init.apply(this,e)},length:Object(r.T)({cacheable:!0,get:function(){for(var e=this._firstRange,t=0;e;)t+=e.end-e.start+1,e=e.next;return t}}),iteratorClass:Object(n.property)(o),toArray:function(e){for(var t,i,n,r=e||[],a=this._firstRange;a;){for(i=a.start,n=a.end,t=i;t<=n;t++)r.push(t);a=a.next}return r},clear:function(){for(var e=this._firstRange,t=null;e;)t=e.next,e.next=null,e.start=e.end=-1,e=t;this._firstRange=null,this.propertyChanged("length")},add:function(e,t){return this.encodedAdd(this.encode(e),t?this.encode(t):void 0)},encodedAdd:function(e,t){if(void 0===t)t=e;else if(t<e){var i=[t,e];e=i[0],t=i[1]}for(var n=this._firstRange,r=null,a=0;n&&!(n.end>=e);)n=(r=n).next;if(n&&n.start<=t){var s=Math.min(n.start,e),o=Math.max(n.end,t);a+=n.start-s,a+=o-n.end,n.start=s,n.end=o}else n=new p(e,t,n||null),a=t-e+1,r?r.next=n:this._firstRange=n;r&&r.end>=n.start-1&&(a-=r.end-n.start+1,r.end=n.end,r.next=n.next,n=r);var c=n;for(n=n.next;n&&n.start<=c.end+1;)c.end=Math.max(c.end,n.end),a-=Math.min(t,n.end)-Math.max(e,n.start)+1,c.next=n.next,n=n.next;return this.propertyChanged("length"),a},remove:function(e,t){return this.encodedRemove(this.encode(e),t?this.encode(t):void 0)},encodedRemove:function(e,t){if(void 0===t)t=e;else if(t<e){var i=[t,e];e=i[0],t=i[1]}for(var n=this._firstRange,r=null,a=0;n&&!(n.start>t);){if(n.end>=e)if(n.start>=e&&n.end<=t)r?r.next=n.next:this._firstRange=n.next,a+=n.end-n.start+1;else{var s,o,c=n.start,l=Math.min(n.end,e-1),u=Math.max(n.start,t+1),d=n.end,h=n.next;a+=Math.min(t,n.end)-Math.max(e,n.start)+1,0<=l-c&&(s=new p(c,l,h),r?r.next=s:this._firstRange=s,r=n=s),0<=d-u&&(o=new p(u,d,h),r?r.next=o:this._firstRange=o,r=n=o)}n=(r=n).next}return this.propertyChanged("length"),a},contains:function(e,t){return this.encodedContains(this.encode(e),t?this.encode(t):void 0)},encodedContains:function(e,t){void 0===t&&(t=e);for(var i=this._firstRange;i;){if(i.start<=e&&i.end>=t)return!0;i=i.next}return!1},containsSome:function(e,t){Object(a.y)("not implemented")},rangeStart:function(e){var t=this._rangeForIndex(e);return t?t.start:-1},rangeEnd:function(e){var t=this._rangeForIndex(e);return t?t.end:-1},lastIndexBefore:function(e){for(var t,i=this._firstRange,n=-1,r=e-1;i&&!(i.start>r);)i=(t=i).next;return t&&(n=Math.min(r,t.end)),n},firstIndexAfter:function(e){for(var t=this._firstRange,i=-1,n=e+1;t&&!(t.end>=n);)t=t.next;return t&&(i=Math.max(n,t.start)),i},itemsInsertedAtIndex:function(e,t){for(var i=this._firstRange;i;)this._updateRangeForInsertion(i,e,t),i=i.next;this.remove(e,e+t-1)},itemsRemovedAtIndex:function(e,t){for(var i=this._firstRange,n=null;i;)this._updateRangeForRemoval(i,e,t),i.end>=i.start?n&&n.end>=i.start-1&&(n.end=i.end,n.next=i.next):n?n.next=i.next:this._firstRange=i.next,i=(n=i).next;this.propertyChanged("length")},_updateRangeForInsertion:function(e,t,i){e.start>=t&&(e.start+=i),e.end>=t&&(e.end+=i)},_updateRangeForRemoval:function(e,t,i){var n=t+i-1;e.start>=t&&(e.start<=n?e.start=t:e.start-=i),e.end>=t&&(e.end<=n?e.end=t-1:e.end-=i)},_rangeForIndex:function(e){for(var t=this._firstRange;t;){if(t.start<=e&&t.end>=e)return t;t=t.next}return null},ranges:function(){return c.create(this)},union:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s.ranges(),c=Array.isArray(o),l=0;for(o=c?o:o[Symbol.iterator]();;){var u;if(c){if(l>=o.length)break;u=o[l++]}else{if((l=o.next()).done)break;u=l.value}var d=u,h=d.start,p=d.end;this.add(h,p)}}return this},clone:function(){return l.create().union(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexSet"},__superMap:{_$fM$init:"init"}});function p(e,t,i){this.start=e,this.end=t,this.next=i}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[n.Protocol],itemsInsertedAtIndex:Object(n.define)(n.RequiredMethod),itemsRemovedAtIndex:Object(n.define)(n.RequiredMethod)}},function(e,c,l){"use strict";(function(e){l.d(c,"a",function(){return o});var t=l(3),i=l(1),n=l(7),a=l(2),r=l(551),s={mixinDependencies:[t.q],mappedViews:Object(i.instance)(t.f),activeViews:Object(i.instance)(t.f),viewsToCells:Object(i.instance)(e.Map),cellsToViews:Object(i.instance)(e.Map),pools:Object(i.instance)(e.Map),viewForCell:function(e,t){var i=this.cellsToViews.get(e);if(!i){if(!t)return null;i=this._getViewOfClass(t),this.cellsToViews.set(e,i),this.viewsToCells.set(i,e)}return i},cellForView:function(e){return this.viewsToCells.get(e)},releaseViewForItem:function(e){var t=this.cellsToViews.get(e);t||Object(a.y)("No view for cell"),this._releaseView(t,e),this._poolView(t)},releaseView:function(e){var t=this.viewsToCells.get(e);e||Object(a.y)("No cell for view"),this._releaseView(e,t),this._poolView(e)},_getViewOfClass:function(e){var t=this.pools.get(e);t||(t=[],this.pools.set(e,t));var i=void 0;return 0<t.length?i=t.pop():(i=this.viewForViewClass(e),this.mappedViews.push(i)),i.isPooledInDom=!1,this.activeViews.push(i),i},viewForViewClass:function(e){return e.create()},_releaseView:function(e,t){this.activeViews.remove(e),this.cellsToViews.delete(t),this.viewsToCells.delete(e)},_poolView:function(e){this.pools.get(e.constructor).push(e),e.isPooledInDom=!0}},o=i.CoreObject.extend(s,r.a,{itemViewClass:Object(t.T)(n.m),_oldItemViewClass:null,_clearItemViewCache:Object(t.U)("itemViewClass",function(e){var t=this._oldItemViewClass;t&&this.replaceViewsOfClass(t),this._oldItemViewClass=e}),replaceViewsOfClass:function(e){for(var t=this.activeViews,i=t.length-1;0<=i;i--){var n=t.objectAt(i);if(Object(a.G)(n,e)){var r=this.viewsToCells.get(n);this.cellDidExit(r),this.cellDidEnter(r)}}},views:Object(t.T)(),dataProperty:"content",viewClassKeysByCellType:{item:"itemViewClass"},itemViewClassForItem:function(e){var t=e.cellType,i=this.viewClassKeysByCellType[t],n=this[i];return n||Object(a.y)('ItemViewPresenter: no view class for cell type "%{cellType}" and view class key "%{viewClassKey}"',{cellType:t,viewClassKey:i}),n},viewForViewClass:function(e){return e.create({layoutMetrics:this.bindingFor("layoutMetrics")})},cellDidEnter:function(e){var t=this.viewForCell(e,this.itemViewClassForItem(e));this.itemViewDidEnter(t,e),t.isAttached||this.views.push(t),t.layout=e},cellDidMove:function(e){var t=this.viewForCell(e);t&&this.itemViewDidMove(t,e)},cellDidExit:function(e){var t=this.viewForCell(e);this.itemViewDidExit(t,e),this.releaseViewForItem(e)},itemViewDidEnter:function(e,t){e.set(this.dataProperty,t.value)},itemViewDidMove:function(e,t){},itemViewDidExit:function(e,t){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemViewPresenter"}})}).call(c,l(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(1),a={mixinDependencies:[r.Protocol,n.q],layoutMetrics:Object(n.T)({strong:!0}),cellsWillEnter:function(e){},cellDidEnter:Object(r.define)(r.RequiredMethod),cellsDidEnter:function(e){},cellsWillMove:function(e){},cellDidMove:Object(r.define)(r.RequiredMethod),cellsDidMove:function(e){},cellsWillExit:function(e){},cellDidExit:Object(r.define)(r.RequiredMethod),cellsDidExit:function(e){}}},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(7),r=i(1),a=i(3),s=i(300),o=i(545),c=i(302),l=i(179),u=o.a.extend({viewClass:Object(r.accumulator)({additionalClassNames:Object(r.accumulator)(["cw-list-view"]),mixinDependencies:[n.j]}),view:Object(a.T)({downstreamBindings:{topInset:"(owner).layoutMetrics.topInset"}}),layoutDelegate:Object(r.instance)(c.a),collection:Object(a.T)(),presenter:Object(a.T)({defaultValue:Object(r.instance)(s.a.extend({itemViewDidMove:function(e,t){var i=t.width;e.style.set("width",i===this.owner.viewportWidth?"100%":i).set("height",t.height).translateDevicePixels(t.x,t.y)}})),downstreamBindings:{itemViewClass:"(owner).itemViewClass"}}),itemViewClass:Object(a.T)({readOnly:!0,defaultValue:l.a}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ListViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(14),r={mixinDependencies:[n.g,n.b],staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"cw-selected",falsevalue:"cw-not-selected",attributes:{}}]}}}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var l=i(3),n=i(1),r=i(303),b=i(548),a=i(305),u=l.h.create(),s=r.a.extend({_tempIndexSet:Object(n.instance)(b.a),selectedIndices:Object(l.T)({dependencies:[],writeDependencies:["selectionDidChange","pivot"],get:function(){return this._selectedIndices},set:Object.assign(function(e){var t=this.delegate,i=this.collection,n=this._selectedIndices,r=n.length;1===r?t.selectionControllerDidDeselectItem(this,i.startHandle.at(n.firstIndexAfter(-1))):1<r&&t.selectionControllerDidSelectRange(this,n),e||(e=n);var a=this.getPath("collection.length");if(!this.isEmptySelectionEnabled&&i&&a&&0===e.length){this._selectedIndices=b.a.create();for(var s=i.startHandle;s.isValid&&!this.selectItemAtHandle(s);s=s.next);e=this._selectedIndices}else if(!this.isMultipleSelectionEnabled&&1<e.length){this._selectedIndices=b.a.create();var o=e,c=Array.isArray(o),l=0;for(o=c?o:o[Symbol.iterator]();;){var u;if(c){if(l>=o.length)break;u=o[l++]}else{if((l=o.next()).done)break;u=l.value}var d=u,h=i.startHandle.at(d).retain(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),p=this.selectItemAtHandle(h);if(h.release(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),p)break}e=this._selectedIndices}else this._selectedIndices=e=t.selectionControllerShouldSelectRange(this,e),t.selectionControllerDidSelectRange(this,e);var f=this._pivot,_=f;return f&&e.contains(f.position)||(_=0<e.length?i?i.startHandle.at(e.lastIndexBefore(1/0)):null:i?i.startHandle:null),this.pivot=_,this.selectionDidChange=!0,e},{__CW__setter:function(e,t,i,n,r){var a=this.delegate,s=this.collection,o=this._selectedIndices,c=o.length;1===c?a.selectionControllerDidDeselectItem(this,s.startHandle.at(o.firstIndexAfter(-1))):1<c&&a.selectionControllerDidSelectRange(this,o),e||(e=o);var l=this.getPath("collection.length");if(!this.isEmptySelectionEnabled&&s&&l&&0===e.length){this._selectedIndices=b.a.create();for(var u=s.startHandle;u.isValid&&!this.selectItemAtHandle(u);u=u.next);e=this._selectedIndices}else if(!this.isMultipleSelectionEnabled&&1<e.length){this._selectedIndices=b.a.create();var d=e,h=Array.isArray(d),p=0;for(d=h?d:d[Symbol.iterator]();;){var f;if(h){if(p>=d.length)break;f=d[p++]}else{if((p=d.next()).done)break;f=p.value}var _=f,m=s.startHandle.at(_).retain(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),g=this.selectItemAtHandle(m);if(m.release(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled"),g)break}e=this._selectedIndices}else this._selectedIndices=e=a.selectionControllerShouldSelectRange(this,e),a.selectionControllerDidSelectRange(this,e);var v=this._pivot,y=v;return v&&e.contains(v.position)||(y=0<e.length?s?s.startHandle.at(e.lastIndexBefore(1/0)):null:s?s.startHandle:null),i[1+n]=y,i[0+n]=!0,e}}),writeDependencySetPathMap:["false","false"]}),_maintainFlags:Object(l.U)({inputs:["delegate","isEmptySelectionEnabled","isMultipleSelectionEnabled"],callback:function(e){e&&(this.selectedIndices=this._selectedIndices)}}),_selectedIndices:Object(n.instance)(b.a),updateSelectionForCollectionChange:function(e){var t=this._selectedIndices,i=e.itemsChanges,n=!1;if(i){if(0<t.length){u.serializer=this.collection.serializer;for(var r=i.length,a=0;a<r;a++){var s=i[a],o=s.index;if(s.operation===l.r.REMOVE)t.contains(o)&&u.encodedAdd(s.encodedItem),t.itemsRemovedAtIndex(o,1);else if(t.itemsInsertedAtIndex(o,1),0<u.length){var c=s.encodedItem;u.encodedContains(c)&&(t.add(o),u.encodedRemove(c))}}u.length&&(n=!0,u.clear())}}else e.collectionChanged&&t.length&&(n=!0,t.clear());0!==t.length||this.isEmptySelectionEnabled||(n=!0),n&&(this.selectedIndices=t)},selection:Object(l.T)({dependencies:["selectedIndices"],set:Object.assign(function(e){var t=this.collection,i=b.a.create();if(e&&t)if(e.serializer===t.serializer)for(var n=e.createIterator();n.isValid;n.moveToNext())i.add(t.encodedIndexOf(n.encodedValue));else e.forEach(function(e){i.add(t.indexOf(e))});return this.selectedIndices=i,e},{__CW__setter:function(e,t,i,n,r){var a=this.collection,s=b.a.create();if(e&&a)if(e.serializer===a.serializer)for(var o=e.createIterator();o.isValid;o.moveToNext())s.add(a.encodedIndexOf(o.encodedValue));else e.forEach(function(e){s.add(a.indexOf(e))});return i[0+n]=s,e}}),get:Object.assign(function(){var t=this.collection,i=l.h.create();return t&&(i.serializer=t.serializer,this.selectedIndices.forEach(function(e){i.encodedAdd(t.encodedObjectAt(e))})),i},{__CW__getter:function(e,t,i,n){var r=this.collection,a=l.h.create();return r&&(a.serializer=r.serializer,n.internalGet(this,t[0+i]).forEach(function(e){a.encodedAdd(r.encodedObjectAt(e))})),a}}),writeDependencySetPathMap:["false"]}),isItemAtHandleSelected:function(e){return this.selectedIndices.contains(e.position)},selectItemAtHandle:function(e){var t=this.delegate;return!!t.selectionControllerShouldSelectItem(this,e)&&(this._selectedIndices.add(e.position),this.propertyChanged("selectedIndices"),t.selectionControllerDidSelectItem(this,e),!0)},deselectItemAtHandle:function(e){this._selectedIndices.remove(e.position),this.propertyChanged("selectedIndices");var t=this.collection;return this.pivot=t?t.startHandle:null,this.delegate.selectionControllerDidDeselectItem(this,e),!0},clearSelection:function(){var e=this.collection,t=this.selectedIndices;this.delegate.selectionControllerDidDeselectRange(this,t),this.selectedIndices.clear(),this.pivot=e?e.startHandle:null},selectRange:function(e,t){var i=e.position,n=t.position,r=this._selectedIndices,a=this._tempIndexSet;a.clear(),a.add(i,n);var s=this.delegate.selectionControllerShouldSelectRange(this,a);r.union(s),this.delegate.selectionControllerDidSelectRange(this,s)},getSelectableHandleInDirection:function(e,t){var i;switch(t){case a.a.UP:i=-1;break;case a.a.DOWN:i=1;break;default:return null}for(var n=e.retain(this,"getSelectableHandleInDirection: selectableItem");;){var r=n.atDistance(i).retain(this,"getSelectableHandleInDirection: selectableItem");if(n.release(this,"getSelectableHandleInDirection: selectableItem"),!r.isValid)return r.release(this,"getSelectableHandleInDirection: selectableItem"),null;if(n=r,this.delegate.selectionControllerShouldSelectItem(this,n)&&!this.isItemAtHandleSelected(n))return n.autorelease(this,"getSelectableHandleInDirection: selectableItem")}},staticMembers:{__QUALIFIED_CLASS_NAME__:"IndexedSelectionController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(2),r={mixinDependencies:[i(306).a],selectionControllerShouldSelectRange:function(e,t){return t},selectionControllerDidSelectRange:n.e,selectionControllerDidDeselectRange:n.e}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(3),a=i(306),s={mixinDependencies:[n.Protocol,r.q],selection:Object(r.T)(Object(r.R)("selectionController.selection")),selectedItem:Object(r.T)(Object(r.R)("selectionController.selectedItem")),selectionController:Object(r.T)({strong:!0,downstreamBindings:{collection:"(owner).collection",delegate:"(owner).selectionDelegate",isEmptySelectionEnabled:"(owner).isEmptySelectionEnabled",isMultipleSelectionEnabled:"(owner).isMultipleSelectionEnabled"}}),selectionDelegate:Object(r.T)({defaultValue:Object(n.instance)(n.CoreObject.extend(a.a))}),collection:Object(n.define)(r.E),isSelectionEnabled:Object(r.T)({defaultValue:!0,didChange:function(e){e||(this.selection=null,this.update())}}),update:function(e){var t=arguments;Object(n.retainValueIfNeeded)(e,this,"SelectionSupportProtocol: invalidationContext"),this.__s._$mW$update.apply(this,t),e&&(e.itemsChanges||e.collectionChanged)&&this.selectionController.updateSelectionForCollectionChange(e),Object(n.releaseValueIfNeeded)(e,this,"SelectionSupportProtocol: invalidationContext")},isEmptySelectionEnabled:Object(r.T)(!0),isMultipleSelectionEnabled:Object(r.T)(!0),selectItem:function(e){this.selectedItem=e},userPerformedSelectionOperation:function(e,t){if(this.isSelectionEnabled)return this.selectionController.userPerformedSelectionOperation(e,t)},isItemAtHandleSelected:function(e){return!!this.isSelectionEnabled&&this.selectionController.isItemAtHandleSelected(e)},userPerformedSelectionOperationInDirection:function(e,t){if(this.isSelectionEnabled)return this.selectionController.userPerformedSelectionOperationInDirection(e,t)},selectAll:function(){if(this.isSelectionEnabled)return this.selectionController.selectAll()},clearSelection:function(){if(this.isSelectionEnabled)return this.userPerformedSelectionOperation()},_updateWhenSelectionChanges:Object(r.S)("selectionController.selectionDidChange",function(){this.update()}),__superMap:{_$mW$update:"update"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1127),r=(i.n(n),i(7).m.extend({staticMembers:{className:"cw-ui-collections-list-footer-view",__QUALIFIED_CLASS_NAME__:"ListFooterView"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1128),r=(i.n(n),i(7).m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFloatingToTop",truevalue:"is-floating",attributes:{}}]}},className:"cw-ui-collections-list-header-view",__QUALIFIED_CLASS_NAME__:"ListHeaderView"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(1),a=n.M.extend({delegate:Object(r.property)(),firstChild:Object(r.property)({get:function(){var e=this.isValid,t=this.delegate,i=this.value;if(e&&t.isItemExpanded(i))return this.__s._$BX$get.call(this);var n=this._provider,r=this._nodeHandle,a=this._offset;return n.atNode(r,this,a+1)},__superMap:{_$BX$get:"get"}}),hasFirstChild:Object(r.property)({get:function(){var e=this.isValid,t=this.delegate,i=this.value;return!(!e||!t.isItemExpanded(i))&&this.__s._$I4$get.call(this)},__superMap:{_$I4$get:"get"}}),lastChild:Object(r.property)({get:function(){var e=this.isValid,t=this.delegate,i=this.value;if(e&&t.isItemExpanded(i))return this.__s._$Mp$get.call(this);var n=this._provider,r=this._nodeHandle,a=this._offset;return n.atNode(r,this,a+1)},__superMap:{_$Mp$get:"get"}}),hasLastChild:Object(r.property)({get:function(){var e=this.isValid,t=this.delegate,i=this.value;return!(!e||!t.isItemExpanded(i))&&this.__s._$TL$get.call(this)},__superMap:{_$TL$get:"get"}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"OutlineHandle"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(559),a=n.O.extend({HandleClass:r.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"OutlineHandleProvider"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(3),a={mixinDependencies:[n.Protocol,r.N],isItemExpandable:Object(n.define)(n.RequiredMethod),isItemExpanded:Object(n.define)(n.RequiredMethod),itemWasExpanded:Object(n.define)(n.RequiredMethod),itemWasCollapsed:Object(n.define)(n.RequiredMethod),itemWasRemoved:Object(n.define)(n.RequiredMethod)}},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(7),r=i(1),a=i(3),s=i(179),o=i(563),c=s.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"toggleView"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"}],classes:["outline-item-content-view"]}],classes:["outline-item-container"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"_outlineLevelClassname",attributes:{}}]}},className:"cw-ui-collections-outline-expandable-item-view",__QUALIFIED_CLASS_NAME__:"OutlineExpandableItemView"},toggleView:Object(a.T)({defaultValue:Object(r.instance)(o.a),downstreamBindings:{isExpanded:"(owner).isExpanded",content:"(owner).content"}}),_outlineLevelClassname:Object(a.T)({readOnly:!0,dependencies:["level"],get:Object.assign(function(){return"outline-level-"+this.level},{__CW__getter:function(e,t,i,n){return"outline-level-"+n.internalGet(this,t[0+i])}})}),level:Object(a.T)(0),isExpanded:Object(a.T)(!1),isExpandable:Object(a.T)(!0),content:Object(a.T)(),contentView:Object(a.T)({defaultValue:Object(r.instance)(n.m),downstreamBindings:{content:"(owner).content"}})})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(7),r=i(3),a=n.m.extend(n.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"polygon",children:[],namespace:"http://www.w3.org/2000/svg",attributes:{points:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"_points",attributes:{},attribute:"points"}}}],namespace:"http://www.w3.org/2000/svg",name:"_svg",classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"is-expanded",falsevalue:"is-collapsed",attributes:{}}],attributes:{width:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},attribute:"width"},height:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"height",attributes:{},attribute:"height"},"pointer-events":"none",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}]}},className:"cw-ui-collections-toggle-view",__QUALIFIED_CLASS_NAME__:"OutlineToggleView"},_points:Object(r.T)({readOnly:!0,dependencies:["height","width"],get:Object.assign(function(){var e=this.width;return s(0,0,e,0,e/2,this.height)},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]);return s(0,0,r,0,r/2,n.internalGet(this,t[0+i]))}})}),height:Object(r.T)(7),width:Object(r.T)(10),content:Object(r.T)(),isExpanded:Object(r.T)(!1),context:Object(r.R)("content"),action:Object(r.T)({readOnly:!0,dependencies:["isExpanded"],get:Object.assign(function(){return this.isExpanded?"__spi__userDidRequestItemCollapse":"__spi__userDidRequestItemExpand"},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?"__spi__userDidRequestItemCollapse":"__spi__userDidRequestItemExpand"}})}),_heightWidthObserver:Object(r.U)("height","width",function(){var e=this.height,t=this.width;this._svg.setAttribute("viewBox","0 0 "+t+" "+e)})});function s(e,t,i,n,r,a){return e+","+t+" "+i+","+n+" "+r+","+a}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(7),r=i(1),a=i(3),s=i(179).a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"}],classes:["outline-item-container"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"_outlineLevelClassname",attributes:{}}]}},className:"cw-ui-collections-outline-non-expandable-item-view",__QUALIFIED_CLASS_NAME__:"OutlineNonExpandableItemView"},_outlineLevelClassname:Object(a.T)({readOnly:!0,dependencies:["level"],get:Object.assign(function(){return"outline-level-"+this.level},{__CW__getter:function(e,t,i,n){return"outline-level-"+n.internalGet(this,t[0+i])}})}),level:Object(a.T)(0),isExpandable:Object(a.T)(!1),content:Object(a.T)(),contentView:Object(a.T)({defaultValue:Object(r.instance)(n.m),downstreamBindings:{content:"(owner).content"}})})},function(e,a,s){"use strict";(function(e){s.d(a,"a",function(){return r});var t=s(1),i=s(3),n=s(561),r=t.CoreObject.extend(n.a,i.q,{_expandedItems:Object(i.T)(Object(t.instance)(e.Set)),childrenKey:Object(i.T)(),isItemExpandable:function(e){var t=this.childrenKey;return e[t]&&0<e[t].length},isItemExpanded:function(e){return this._expandedItems.has(e)},itemWasExpanded:function(e){this._expandedItems.add(e)},itemWasCollapsed:function(e){this._expandedItems.delete(e)},itemWasRemoved:function(e){this._expandedItems.delete(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"OutlineViewExpansionDelegate"}})}).call(a,s(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(7),r=i(3),a=i(300).a.extend({expandableItemViewClass:Object(r.T)(n.m),nonExpandableItemViewClass:Object(r.T)(n.m),delegate:Object(r.T)(),itemViewClassForItem:function(e){var t=e.handle.value;return this.delegate.isItemExpandable(t)?this.expandableItemViewClass:this.nonExpandableItemViewClass},itemViewDidEnter:function(e,t){var i=arguments;this.__s._$Nq$itemViewDidEnter.apply(this,i);var n=t.handle,r=this._levelForHandle(n);e.set("level",r);var a=t.handle.value;this._setUpViewProperties(e,a)},itemViewDidMove:function(e,t){var i=arguments;this.__s._$SE$itemViewDidMove.apply(this,i);var n=t.handle,r=this._levelForHandle(n);e.set("level",r);var a=t.handle.value;this._setUpViewProperties(e,a)},_setUpViewProperties:function(e,t){var i=this.delegate;i.isItemExpandable(t)?(e.set("isExpandable",!0),i.isItemExpanded(t)?e.set("isExpanded",!0):e.set("isExpanded",!1)):(e.set("isExpandable",!1),e.set("isExpanded",!1))},_levelForHandle:function(e){for(var t=-1;e.isValid;)e=e.parent,t++;return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"OutlineViewPresenter"},__superMap:{_$Nq$itemViewDidEnter:"itemViewDidEnter",_$SE$itemViewDidMove:"itemViewDidMove"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(2),a=n.Class.extend({head:null,tail:null,length:0,insertBetween:function(e,t,i){return i&&t||Object(r.y)("_DoublyLinkedList: invalid insertion",{item:e,next:i,prev:t}),(t._nextDoublyLinkedItem=e)._previousDoublyLinkedItem=t,e._nextDoublyLinkedItem=i,e._owningDoublyLinkedList=this,i._previousDoublyLinkedItem=e,this.length++,e},remove:function(e){var t=e._previousDoublyLinkedItem,i=e._nextDoublyLinkedItem,n=this.head,r=this.tail;if(i&&t&&n&&r)return this.length--,e===n&&e===r?this.head=this.tail=null:(e===n?this.head=i:e===r&&(this.tail=t),(i._previousDoublyLinkedItem=t)._nextDoublyLinkedItem=i),e._nextDoublyLinkedItem=null,e._previousDoublyLinkedItem=null,e._owningDoublyLinkedList=null,e},push:function(e){return this.insertBetween(e,this.tail||e,this.head||e),this.tail=e,this.head||(this.head=e),this},pop:function(){return this.remove(this.tail)},unshift:function(e){return this.insertBetween(e,this.tail||e,this.head||e),this.head=e,this.tail||(this.tail=e),this},shift:function(){return this.remove(this.head)},staticMembers:{__QUALIFIED_CLASS_NAME__:"_DoublyLinkedList"}});a.prototype.enqueue=a.prototype.unshift,a.prototype.dequeue=a.prototype.pop;var s={mixinDependencies:[{_nextDoublyLinkedItem:null,_previousDoublyLinkedItem:null,_owningDoublyLinkedList:null}],staticMembers:{maxUnusedInstanceCount:200,shouldKeepInstanceAlive:function(e){return!0},shouldKeepFlushingCacheQueue:function(e){return e.length>this.maxUnusedInstanceCount},flushCacheQueue:function(){for(var e=this._keepaliveQueue;this.shouldKeepFlushingCacheQueue(e);){var t=e.dequeue();t._isInKeepaliveQueue=!1,t.release(this,c)}},_keepaliveQueue:null,init:function(){var e=arguments;this._keepaliveQueue=a.create(),this.__s._$1qL$init.apply(this,e)},create:function(){var e=arguments,t=this.__s._$1x6$create.apply(this,e);return t.retain(this,o),t},_enqueueInstanceForEviction:function(e){this.shouldKeepInstanceAlive(e)?(this._keepaliveQueue.enqueue(e),e.retain(this,c),e._isInKeepaliveQueue=!0,e.release(this,o),this.flushCacheQueue()):e.release(this,o)},_rescueInstanceFromEviction:function(e){return this._keepaliveQueue.remove(e),e._isInKeepaliveQueue=!1,e.retain(this,o),e.release(this,c),e},__superMap:{_$1qL$init:"init",_$1x6$create:"create"}},_isInKeepaliveQueue:!1,retain:function(e,t){var i=arguments,n=this.__s._$2W4$retain.apply(this,i);return this._isInKeepaliveQueue&&e!==this.constructor&&t!==o?this.constructor._rescueInstanceFromEviction(this):n},release:function(){var e=arguments,t=this.__s._$2gQ$release.apply(this,e);return 1!==this._retainCount||this._isInKeepaliveQueue||this.constructor._enqueueInstanceForEviction(this),t},__superMap:{_$2W4$retain:"retain",_$2gQ$release:"release"}},o="CW._CacheableSupport self-reference: Not queued for eviction.",c="CW._CacheableSupport self-reference: queued for eviction."},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(3),a=i(2),s=i(105),o=n.CoreObject.extend(r.q,n.SerializerProtocol,{store:Object(r.T)(),modelClass:Object(r.T)(),encode:function(e){if(!Object(a.x)(e))return e;var t=this.store.constructor;return Object(a.G)(e,s.a)?t.getStoreIdForPrimaryKey(e.constructor,e.getPrimaryKey()):Object(a.O)(e)?t.getStoreIdForPrimaryKey(e.type,e.id):t.getStoreIdForPrimaryKey(this.modelClass,e)},decode:function(e){return Object(a.x)(e)?this.store.materializeModel(e):e},staticMembers:{__QUALIFIED_CLASS_NAME__:"ModelStoreIdSerializer"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var c=i(3),n=i(1),r=c.y.extend({transactions:Object(n.property)({get:function(){return this._array}}),add:function(e){var t=arguments;if(this.__s._$An$add.apply(this,t)){var i=e.storeIds;if(i)for(var n=this._storeIdSet,r=0,a=i.length;r<a;r++){var s=i[r],o=n[s];o||(o=n[s]=c.h.create()),o.add(e)}}},remove:function(e){var t=arguments;if(this.__s._$MX$remove.apply(this,t)){var i=e.storeIds;if(i)for(var n=this._storeIdSet,r=0,a=i.length;r<a;r++){var s=i[r],o=n[s];o&&(o.remove(e),0===o.length&&delete n[s])}}},containsStoreId:function(e){var t=this._storeIdSet;if(t.hasOwnProperty(e)){var i=t[e];return i&&0<i.length}return!1},getTransactionsForStoreId:function(e){var t=this._storeIdSet;if(t.hasOwnProperty(e)){var i=t[e];return i&&i.toArray()}},_storeIdSet:Object(n.instance)(Object),staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionList"},__superMap:{_$An$add:"add",_$MX$remove:"remove"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(1),s=i(62),n=a.CoreObject.extend(a.SharedInstance,{action:function(e,t){var i=t.storeId;if(t.changeType===s.a.WRITE.DESTROY)return e.deleteData.bind(e,i);var n=t.newData;for(var r in n)e.writeDataProperty(i,r,n[r]);return a.CorePromise.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"OverwriteMergeStrategy"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(572).a.extend({maximumActiveTransactions:1,prioritizeReads:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"SerializedTransactionProcessor"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(181).TransactionProcessor.extend({maximumActiveTransactions:6,prioritizeReads:!1,process:function(e,t){if(!(t.length>=this.maximumActiveTransactions)){var i=e[0];if(this.prioritizeReads)for(var n=0,r=e.length;n<r;n++){var a=e[n];if(a.isRead){i=a;break}}i&&this.sendTransaction(i)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ParallelTransactionProcessor"}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ThreeWayMergeDelegateSupport",function(){return n});var o=i(2),c=i(574),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={valueForChange:function(e,t){if(e.type!==c.c.REMOVE){var i=e.direction;if(i===c.a.RIGHT)return e.rightValue;if(i===c.a.LEFT)return e.leftValue;var n=e.baseValue,r=e.leftValue,a=e.rightValue;if("object"===(void 0===n?"undefined":l(n))&&e.type===c.c.UPDATE){var s=t?t+"."+e.key:e.key;return Object(c.d)(r,a,n,this,s)}return Object(o.s)(r,a)?r:c.b}}}},function(e,t,Y){"use strict";Y.d(t,"a",function(){return h}),Y.d(t,"b",function(){return Z}),Y.d(t,"c",function(){return S}),t.d=function(e,t,i,n,r){null==n&&((n=ee)||(n=ee=J.CoreObject.extend(Y(573).ThreeWayMergeDelegateSupport).create()));var a=Object(X.t)(i,e),s=Object(X.t)(i,t),o=null!=n.valueForChangeInChangeSets,c=void 0,l=void 0,u=void 0;o&&(c={},l={},u={});var d,h,p,f,_,m,g,v,y,b,I,S,w,C,E,T,A,O,D,F,M,N,L,x,P,R,k,j,V,U,B,$,W,G,z,H,K,Q=Object(X.r)(i),q=!1;return M=e,N=t,L=i,x=n,P=Q,k=s,j=c,V=r,U=!0,(R=a)&&(U=re(M,N,L,x,P,R,k,j,0,0,V)),U&&k&&(U=re(M,N,L,x,P,k,R,j,0,0,V)),U&&(I=e,S=t,w=i,C=n,E=Q,A=s,O=l,D=r,F=!0,(T=a)&&(F=ne(I,S,w,C,E,T,A,O,D)),F&&A&&(F=ne(I,S,w,C,E,A,T,O,D)),F)&&(d=e,h=t,p=i,f=n,_=Q,g=s,v=u,y=r,b=!0,(m=a)&&(b=ie(d,h,p,f,_,m,g,v,y)),b&&g&&(b=ie(d,h,p,f,_,g,m,v,y)),q=b),q&&o&&(K=!1,te(B=n,$=Q,W=c,W,G=l,z=u,H=r)&&te(B,$,G,W,G,z,H)&&(K=te(B,$,z,W,G,z,H)),q=K),q?Q:Z};var J=Y(1),X=Y(2),h=Object(J.createEnumGroup)("MERGE_DIRECTION",["LEFT","RIGHT","BOTH"]),Z=Object(J.createEnumItem)("MERGE_FAILED_RESULT"),S=Object(J.createEnumGroup)("MERGE_TYPE",["ADD","REMOVE","UPDATE","UPDATE_AND_REMOVE"]),ee=void 0,p={baseValue:null,direction:null,key:null,leftValue:null,rightValue:null,type:null},w="Failed to merge objects: ",C="A value was rejected.",E="The objects had logically impossible differences (e.g. left added a property that right claims to have removed).";function te(e,t,i,n,r,a,s){for(var o=Object.keys(i),c=o.length-1;0<=c;c--){var l=i[o[c]],u=l.key,d=l.type,h=e.valueForChangeInChangeSets(l,n,r,a,s);if(h===Z)return X.T.debug(w+C,{change:l,parentKeyPath:s}),!1;Array.isArray(t)?d===S.ADD?t.push(h):d===S.REMOVE||d===S.UPDATE_AND_REMOVE&&void 0===h?t.pop():t[u]=h:d===S.REMOVE||d===S.UPDATE_AND_REMOVE&&void 0===h?delete t[u]:t[u]=h}return!0}function ie(e,t,i,n,r,a,s,o,c){for(var l=a.added,u=l.length,d=0;d<u;d++){var h=l[d];if(s){if(0<=s.updated.indexOf(h)||0<=s.removed.indexOf(h))return X.T.debug(w+E,{checkingDiff:a,againstDiff:s,parentKeyPath:c}),!1;var p=s.added,f=p.indexOf(h);0<=f&&p.splice(f,1)}var _=T(S.ADD,n,e,t,i,h);if(null==n.valueForChangeInChangeSets){var m=n.valueForChange(_,c);if(m===Z)return X.T.debug(w+C,{change:_,parentKeyPath:c}),!1;var g=Object(X.r)(m);Array.isArray(r)?r.push(g):r[h]=g}else o[h]=_}return!0}function ne(e,t,i,n,r,a,s,o,c){for(var l=a.removed,u=l.length,d=0;d<u;d++){var h=l[d];if(s){if(0<=s.added.indexOf(h))return X.T.debug(w+E,{checkingDiff:a,againstDiff:s,parentKeyPath:c}),!1;var p=s.removed,f=p.indexOf(h);0<=f&&p.splice(f,1)}var _=T(S.REMOVE,n,e,t,i,h);if(null==n.valueForChangeInChangeSets){var m=n.valueForChange(_,c);if(m===Z)return X.T.debug(w+C,{change:_,parentKeyPath:c}),!1;void 0===m?Array.isArray(r)?r.pop():delete r[h]:r[h]=Object(X.r)(m)}else o[h]=_}return!0}function re(e,t,i,n,r,a,s,o,c,l,u){for(var d=a.updated,h=d.length,p=0;p<h;p++){var f=d[p],_=!1;if(s){if(0<=s.added.indexOf(f))return X.T.debug(w+E,{checkingDiff:a,againstDiff:s,parentKeyPath:u}),!1;var m=s.removed,g=m.indexOf(f);0<=g&&(m.splice(g,1),_=!0);var v=s.updated,y=v.indexOf(f);0<=y&&v.splice(y,1)}var b=T(_?S.UPDATE_AND_REMOVE:S.UPDATE,n,e,t,i,f);if(null==n.valueForChangeInChangeSets){var I=n.valueForChange(b,u);if(I===Z)return X.T.debug(w+C,{change:b,parentKeyPath:u}),!1;void 0===I?Array.isArray(r)?r.pop():delete r[f]:r[f]=Object(X.r)(I)}else o[f]=b}return!0}function T(e,t,i,n,r,a){var s=r[a],o=i[a],c=n[a],l=void 0,u=void 0;e===S.ADD?(l=void 0!==o,u=void 0!==c):e===S.REMOVE?(l=void 0===o||void 0,u=void 0===c||void 0):e===S.UPDATE?(l=!Object(X.s)(s,o),u=!Object(X.s)(s,c)):e===S.UPDATE_AND_REMOVE?l=u=!0:Object(X.y)("Unrecognized merge type: "+e);var d=void 0;return(d=null==t.valueForChangeInChangeSets?p:{}).baseValue=s,d.direction=l&&u?h.BOTH:l?h.LEFT:h.RIGHT,d.key=a,d.leftValue=o,d.rightValue=c,d.type=e,d}},function(e,t,i){"use strict";t.a=function(e,t){if("*"===e||"*"===t)return!0;var i=o.a.parse(e),n=o.a.parse(t);if(Object(s.M)(i.protocol)||Object(s.M)(n.protocol)||i.protocol!==n.protocol)return!1;if(Object(s.M)(i.hostname)||Object(s.M)(n.hostname)||i.hostname!==n.hostname)return!1;if(e===t)return!0;var r=i.port;Object(s.M)(r)&&(r="https:"===i.protocol?"443":"80");var a=n.port;return Object(s.M)(a)&&(a="https:"===n.protocol?"443":"80"),r===a};var s=i(2),o=i(320)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(2),a=n.CoreObject.extend({maximumConcurrentIFrames:10,msToWaitForDownloadToStart:5e3,downloadFromURL:function(e){this._queue.push(e);var t=n.CorePromise.create();return this._promiseQueue.push(t),this._downloadFiles(),t},downloadFromURLs:function(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=this.downloadFromURL(e[n]);return i},_queue:Object(n.instance)(Array),_promiseQueue:Object(n.instance)(Array),_iframesAvailable:Object(n.instance)(Array),_urlsBusy:Object(n.instance)(Array),_iframesBusy:Object(n.instance)(Array),_promisesBusy:Object(n.instance)(Array),_createIFrame:function(){var e=document.createElement("iframe");return e.style.display="none",document.body.appendChild(e),e},_downloadFiles:function(){for(var e=this.maximumConcurrentIFrames,t=this._iframesAvailable,i=this._iframesBusy,n=this._queue;0<n.length&&e>i.length;){var r,a=n.shift(),s=this._promiseQueue.shift();r=0<t.length?t.pop():this._createIFrame();var o=a.toString();r.id=o,r.src=o,i.push(r),this._urlsBusy.push(a),this._promisesBusy.push(s),this._scheduleWrapup(a)}},_wrapUpForUrl:function(e){var t=this._urlsBusy.indexOf(e);if(-1!==t){this._urlsBusy.splice(t,1);var i=this._iframesBusy.splice(t,1)[0];this._promisesBusy.splice(t,1)[0].resolve(e),this._iframesAvailable.push(i)}},_scheduleWrapup:function(e){var t=this;Object(r._8)(function(){t._wrapUpForUrl(e),t._downloadFiles()},this.msToWaitForDownloadToStart)},staticMembers:{__QUALIFIED_CLASS_NAME__:"IFrameDownloader"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=n.CoreObject.extend({downloadFromURL:function(e){return this._createLinkAndTrigger(e.toString()),n.CorePromise.resolve(e)},downloadFromURLs:function(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=this.downloadFromURL(e[n]);return i},_createLinkAndTrigger:function(e){var t=document.createElement("a");t.href=e,t.download="";var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),t.dispatchEvent(i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"LinkDownloader"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(3),a=i(106),s=0,o=n.CoreObject.extend(r.q,{id:Object(n.property)({get:function(){return this._id||(this._id=++s)}}),body:null,bodySerializer:Object(n.property)(function(){return n.JSONSerializer.get("sharedInstance")}),timeout:null,state:Object(r.T)(a.b.UNSENT),staticMembers:{__QUALIFIED_CLASS_NAME__:"Message"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r={mixinDependencies:[n.Protocol],jsonRpcVersion:"0",generateCallMessageFor:n.RequiredMethod.define(),generateErrorMessageFor:n.RequiredMethod.define(),generateNotificationMessageFor:n.RequiredMethod.define(),generateResultMessageFor:n.RequiredMethod.define()}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),s=i(2),o=i(322),r=i(579),a=n.CoreObject.extend(n.SharedInstance,r.a,{jsonRpcVersion:"2.0",generateCallMessageFor:function(e){for(var t={jsonrpc:this.jsonRpcVersion,id:"CW.JsonRpcMessageFormatterV2:"+ ++c,method:e},i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return 0<n.length&&(t.params=n),t},generateNotificationMessageFor:function(e){for(var t={jsonrpc:this.jsonRpcVersion,method:e},i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return 0<n.length&&(t.params=n),t},generateErrorMessageFor:function(e,t){var i=t.code;Object(s.P)(i)||(i=o.a.INTERNAL_ERROR);var n=t.message,r=t.data,a={jsonrpc:this.jsonRpcVersion,id:e,error:{code:i,message:n}};return Object(s.O)(r)&&(a.error.data=r),a},generateResultMessageFor:function(e,t){return{jsonrpc:this.jsonRpcVersion,id:e,result:t}},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcMessageFormatterV2"}}),c=0},function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(1),r=i(3),d=i(2),h=n.CoreObject.extend(r.q,{staticMembers:{setAsMirror:function(e,t){e.didChange=function(){t.setMultipleValues({bytesTotal:e.get("bytesTotal"),bytesTransferred:e.get("bytesTransferred"),isDeterminate:e.get("isDeterminate")})}},__QUALIFIED_CLASS_NAME__:"NetworkProgress"},init:function(){var e=arguments;this.__s._$Oy$init.apply(this,e),this._children=[],this._childListeners={},this.set("childPropertiesToObserve",["bytesTransferred","bytesTotal","isDeterminate"])},isComposite:Object(r.T)({defaultValue:!1}),addChild:function(e){e.instanceOf(h)||Object(d.y)("Must provide a Progress instance.");for(var t=this,i=Object(d.D)(e),n=t._childListeners,r=this.childPropertiesToObserve,a=function(e){t.childDidChange()},s=0,o=r.length;s<o;s++){var c=r[s],l=n[i]||[],u=e.observe(c,a);l.push(u),n[i]=l}this._children.push(e),this.set("isComposite",!0),this.childDidChange()},removeChild:function(e){var t=this._children;e.instanceOf(h)||Object(d.y)("Must provide a Progress instance.");var i=this._childListeners[Object(d.D)(e)];i&&i.forEach(function(e){e.disconnect()});var n=t.indexOf(e);-1!==n&&t.splice(n,1),0===t.length&&(this.set("isComposite",!1),this.setMultipleValues({bytesTotal:0,bytesTransferred:0,isDeterminate:!1})),this.childDidChange()},removeChildren:function(){for(var e;e=this._children.pop();)this.removeChild(e)},childDidChange:Object(r.V)(),childPropertiesToObserve:null,bytesTransferred:Object(r.T)({defaultValue:0}),bytesTotal:Object(r.T)({defaultValue:0}),isDeterminate:Object(r.T)({defaultValue:!1}),setMultipleValues:function(e){var t=this.beginBatchSet();for(var i in e)e.hasOwnProperty(i)&&t.set(i,e[i]);t.end()},bitRateString:Object(r.T)({readOnly:!0,dependencies:["bytesPerSecond"],get:Object.assign(function(){return(Object(d.m)(this.bytesPerSecond)+"ps").replace("bytes","B")},{__CW__getter:function(e,t,i,n){return(Object(d.m)(n.internalGet(this,t[0+i]))+"ps").replace("bytes","B")}})}),bytesPerSecond:Object(r.T)({readOnly:!0,dependencies:["bytesTransferred","percentComplete"],get:Object.assign(function(){var e=this.get("_startTime"),t=Date.now();void 0===e&&(this.set("_startTime",t),e=t);var i=(t-e)/1e3;return 0===i?0:this.bytesTransferred/i},{__CW__getter:function(e,t,i,n){var r=this.get("_startTime"),a=Date.now();void 0===r&&(this.set("_startTime",a),r=a);var s=(a-r)/1e3;return 0===s?0:n.internalGet(this,t[0+i])/s}})}),percentComplete:Object(r.T)({readOnly:!0,dependencies:["bytesTotal","bytesTransferred","isDeterminate"],get:Object.assign(function(){var e=this.bytesTransferred,t=this.bytesTotal;return t&&0!==t?e/t:0},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]),a=n.internalGet(this,t[0+i]);return a&&0!==a?r/a:0}})}),toString:function(){return("[Progress Instance #"+Object(d.D)(this)+"] "+100*this.get("percentComplete")+"% ("+this.get("bytesTransferred")+" of "+this.get("bytesTotal")+") "+(this.get("isDeterminate")?"":"???")).trim()},didChange:Object(r.V)(),_startTime:null,_valuesDidChange:Object(r.U)("bytesTransferred","bytesTotal","isDeterminate",function(){this.didChange(arguments)}),_children:null,_childListeners:null,_calculateCompositeChildValues:Object(r.U)("childDidChange",function(){if(this.get("isComposite")){for(var e=this.get("childPropertiesToObserve"),t=this._children,i={},n=0,r=e.length;n<r;n++){var a=e[n];i[a]||(i[a]=0);for(var s=0,o=t.length;s<o;s++){var c=t[s];i[a]+=c.get(a)}}this.setMultipleValues(i),t.length||this.set("isComposite",!1)}}),__superMap:{_$Oy$init:"init"}})},function(e,h,p){"use strict";(function(a){p.d(h,"a",function(){return l});var e=p(1),s=p(2),t=p(3),c=p(106),i=p(578),r=p(581),n=p(320),o=p(323),l=i.a.extend({staticMembers:{nextRequestSequenceNumber:1,requestLoggingLevel:null,__QUALIFIED_CLASS_NAME__:"Request"},URLClass:n.a,url:Object(t.T)({get:function(){return this._urlObject},set:function(e){var t;if(e){var i=this.URLClass;t=Object(s.G)(e,i)?e:i.create(e)}this._urlObject=t}}),method:c.a.GET,useCredentialsIfCrossOrigin:!1,response:Object(t.T)(),responseSerializer:Object(e.property)({get:function(){return this._responseSerializer||this.get("serializer")}}),isCrossDomain:Object(e.property)({readOnly:!0,get:function(){var e=this.get("url");if(!e)return!1;var t=e.get("protocol"),i=e.get("host");if(!i)return!1;var n=a.location;return n.protocol!==t||n.host!==i}}),transport:Object(e.property)({get:function(e){return e||o.a.get("sharedInstance")}}),allowsCredentialsInURL:!1,shouldTrackUploadProgress:Object(t.T)({defaultValue:!1,didChange:function(){this.state!==c.b.UNSENT&&Object(s.y)("Cannot change `shouldTrackUploadProgress` once a request is sent.")}}),shouldTrackProgress:Object(t.T)({defaultValue:!1,didChange:function(){this.state!==c.b.UNSENT&&Object(s.y)("Cannot change `shouldTrackProgress` once a request is sent.")}}),uploadProgress:Object(t.T)({readOnly:!0,dependencies:["shouldTrackUploadProgress"],get:Object.assign(function(){return this.shouldTrackUploadProgress?r.a.create():null},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?r.a.create():null}})}),progress:Object(t.T)({readOnly:!0,dependencies:["shouldTrackProgress"],get:Object.assign(function(){return this.shouldTrackProgress?r.a.create():null},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?r.a.create():null}})}),_fireDidProgress:Object(t.S)("progress.didChange","uploadProgress.didChange",function(){this.triggerStatusEvent(c.b.PROGRESS)}),headers:Object(e.property)(),setHeader:function(e,t){var i=this.get("headers");if(!i){if(null==t)return;i={}}Object(s._7)(i,e,t),this.set("headers",i)},setMultipleHeaders:function(e){var t=this.get("headers")||{};for(var i in e)Object(s._7)(t,i,e[i]);this.set("headers",t)},removeHeader:function(e){this.setHeader(e,null)},on:function(e,t){d(this,e,t)},onStatus:function(e,t){/^[\d*]{3}$/.test(e)?d(this,e,t):Object(s.y)(e+" is an invalid status code listener for request",this)},delegate:null,sequenceNumber:Object(e.property)({readOnly:!0,defaultValue:function(){return this.constructor.nextRequestSequenceNumber++}}),sentAt:null,willSend:null,didSend:null,didProgress:null,didSucceed:null,didAbort:null,didFail:null,didComplete:null,shouldFinalizeWithResponse:null,_logRequestIfAppropriate:function(){this.sentAt=a.performance.now();var e,t=this.constructor.requestLoggingLevel;t&&(e=this.get("bodyShouldBeLogged")?this.get("encodedBody")||"(empty)":"(omitted)",s.T[t]("--\x3e Request "+this.get("sequenceNumber")+": "+this.get("method")+" to "+this.getPath("url.href")+", headers: "+(this.get("headers")||"(empty)")+", body: "+e))},bodyShouldBeLogged:!1,_logResponseIfAppropriate:function(){var e=this.constructor.requestLoggingLevel,t=this.get("sequenceNumber");if(e)if(this.get("state")!==c.b.TIMEDOUT){var i,n=this.get("response"),r=a.performance.now()-this.sentAt;i=this.get("bodyShouldBeLogged")?n.get("encodedBody")||"(empty)":"(omitted)",s.T[e]("<-- Response "+t+": "+n.get("status")+" ("+r+"ms), headers: "+(n.get("headers")||"(empty)")+", body: "+i)}else s.T[e]("<-- Response "+t+": (timed out)")},send:function(){return this._promise=e.CorePromise.create(),u(this),this._promise},sendSynchronously:function(){this.get("timeout")&&Object(s.y)("Cannot send a synchronous request with a timeout",this),u(this,!0)},abort:function(){if(this.get("state")===c.b.SENDING){var e=this.get("transport");this.get("method")!==c.a.GET&&s.T.warn("A non-GET network request was aborted. Data may have already been changed on the server.",this),e.abort(this),this.set("state",c.b.ABORTED),this.triggerStatusEvent(c.b.ABORTED),this.finalize()}},triggerStatusEvent:function(e){var t,i,n,r,a=this.get("delegate")||this,s=this._statusEventListeners;if(e===c.b.SENT&&this._logRequestIfAppropriate(),e===c.b.COMPLETED&&this._logResponseIfAppropriate(),(i=a[e])&&i.call&&i.call(a,this),s&&(t=s[e]))for(n=0,r=t.length;n<r;n++)(i=t[n])&&i(this);var o=this._promise;o&&(e===c.b.SUCCEEDED?o.resolve(this.get("response")):e===c.b.FAILED&&o.reject(this.get("response")))},triggerStatusEvents:function(){for(var e=0,t=arguments.length;e<t;e++)this.triggerStatusEvent(arguments[e])},finalize:function(){this._isFinalized=!0,this.get("transport").finalize(this),this.triggerStatusEvent(c.b.FINALIZED),delete this._statusEventListeners},toJSON:function(){return this.getPropertiesAsObject("url","method","body","headers","response")}});function u(e,t){(e.get("state")!==c.b.UNSENT||e._isFinalized)&&Object(s.y)("Cannot send a request more than once",e);var i=e.get("url");i?i.get("auth")&&!e.get("allowsCredentialsInURL")&&Object(s.y)("This request is not allowed to use authentication",e):Object(s.y)("Cannot send a request without a URL",e);var n=e.get("transport");e.set("state",c.b.SENDING),e._synchronous=t,n.send(e)}function d(e,t,i){var n=e._statusEventListeners||(e._statusEventListeners={});(n[t]||(n[t]=[])).push(i)}}).call(h,p(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(2),a=i(106),s=i(584),o=n.CoreObject.extend(s.a,{staticMembers:{_TransportClass:null,__QUALIFIED_CLASS_NAME__:"BaseTransport"},send:function(e,t){var i;e||Object(r.y)("No request to send",this),t?i=e.__transport:(e._retryCount=0,((i=e.__transport=new this.constructor._TransportClass)._request=e).triggerStatusEvent(a.b.WILLSEND)),this.prepare(e,t);var n=this.getBodyText(e);i.send(n),t||e._synchronous||e.triggerStatusEvent(a.b.SENT)},getBodyText:function(e){var t=e.get("bodySerializer"),i=e.get("body");return t&&(i=t.encode(i)),i},abort:function(e){e||Object(r.y)("No request to abort",this);var t=e.__transport;t?t.abort():r.T.warn("Cannot abort request because it is not in transit",e)},handleResponse:function(e,t){var i=this.createResponse(t);if(this._shouldFinalizeWithResponse(e,i)){e.set("response",i),e.set("state",a.b.COMPLETED);var n=this.computeStatuses(t);e._synchronous&&e.triggerStatusEvent(a.b.SENT),n&&e.triggerStatusEvents.apply(e,n),e.finalize()}},_shouldFinalizeWithResponse:function(e,t){var i=!0;if(e.shouldFinalizeWithResponse){var n=e._pendingRetryCallback=function(){n===e._pendingRetryCallback&&(delete e._pendingRetryCallback,e._retryCount++,this.send(e,!0))}.bind(this);i=e.shouldFinalizeWithResponse(t,n,e._retryCount)}return i},handleTimeout:function(e){this.abort(e);var t=this.createResponse(null);t.status=a.b.TIMEDOUT,this._shouldFinalizeWithResponse(e,t)&&(e.set("response",t),e.set("state",a.b.TIMEDOUT),e.triggerStatusEvent(a.b.FAILED),e.triggerStatusEvent(a.b.COMPLETED),e.finalize())},finalize:function(e){e&&(e.__transport&&(delete e.__transport._request,delete e.__transport),delete e._pendingRetryCallback,e._retryCount=0)}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(2),r=i(1),a={mixinDependencies:[r.Protocol,r.SharedInstance],prepare:r.RequiredMethod.create(),send:r.RequiredMethod.create(),abort:r.RequiredMethod.create(),createResponse:r.RequiredMethod.create(),computeStatuses:r.RequiredMethod.create(),finalize:n.e}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=n.CoreObject.extend(n.SerializationSupport,{status:0,headers:"",body:Object(n.property)({get:function(){return this._cachedBody||(this._cachedBody=this.deserialize(this.get("encodedBody")))}}),encodedBody:null,toJSON:function(){return this.getPropertiesAsObject("status","headers","encodedBody")},staticMembers:{__QUALIFIED_CLASS_NAME__:"Response"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(7),r=i(1),a=n.n.extend({viewClass:n.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"subject"}],styles:{position:"absolute",left:"0",top:"0",height:"200px",width:"200px"}}},className:"cw-responder-container"},isRootView:!0}),subject:Object(n.o)("subject"),isRootViewController:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"ContainerViewController"}}),s=r.CoreObject.extend({init:function(e){this.__s._$BQ$init.call(this);var t=this.container;document.body.appendChild(t.view.element),t._setIsAttached(!0),t.view.isAttached=!0,(e.instanceOf(n.n)?t:t.view).subject=e},container:Object(r.property)({strong:!0,defaultValue:Object(r.instance)(a)}),dispose:function(){var e=this.container;document.body.removeChild(e.view.element),this.__s._$KM$dispose.call(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DOMInjector"},__superMap:{_$BQ$init:"init",_$KM$dispose:"dispose"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(14),r=i(1),a=i(2),s=i(324),o={},c=s.a.extend({pointerId:null,eventType:n.n,eventKeys:Object(r.accumulator)(["pointerId","clientX","clientY","screenX","screenY"]),init:function(){var e=arguments;this.__s._$DW$init.apply(this,e);var t=this.pointerId;o[t]?Object(a.y)("cannot create another cycle with this same pointerId"):o[t]=!0,this.generateEvent("pointerDown")},moveTo:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),i&&(this.target=i),this.clientX=e,this.screenX=e,this.clientY=t,this.screenY=t,this.generateEvent("pointerMove"),this},move:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),i&&(this.target=i),this.clientX+=e,this.screenX+=e,this.clientY+=t,this.screenY+=t,this.generateEvent("pointerMove"),this},_end:function(){return o[this.pointerId]=!1,this.parent},end:function(){return this.generateEvent("pointerUp"),this._end()},cancel:function(){return this.generateEvent("pointerCancel"),this._end()},finish:function(){return this.end().finish()},staticMembers:{__QUALIFIED_CLASS_NAME__:"PointerCycle"},__superMap:{_$DW$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(14),r=n.c.extend({staticMembers:{nativePropertiesToCopy:n.c.nativePropertiesToCopy.concat(["type","data","inputType"]),__QUALIFIED_CLASS_NAME__:"InputEvent"},init:function(e){var t=arguments,i=e.nativeEvent||e;"function"==typeof i.getTargetRanges&&(this.ranges=i.getTargetRanges()),this.__s._$7O$init.apply(this,t)},stopped:!1,stopPropagation:function(){this.stopped=!0},getTargetRanges:function(){return this.ranges},__superMap:{_$7O$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(14),r=n.c.extend({staticMembers:{nativePropertiesToCopy:n.c.nativePropertiesToCopy.concat(["type","key","code","which","isComposing","repeat","location"]),__QUALIFIED_CLASS_NAME__:"KeyEvent"},stopped:!1,stopPropagation:function(){this.stopped=!0}})},function(e,t,i){"use strict";(function(c){i.d(t,"a",function(){return e});try{new c.KeyboardEvent("keydown",{key:"a"})}catch(e){c.KeyboardEvent=function(e,t){this.type=e,t&&Object.assign(this,t)}}try{new c.InputEvent("beforeinput",{data:"b"})}catch(e){c.InputEvent=function(e,t){if(this.type=e,t){var i=(t||{}).ranges;Object.assign(this,{getTargetRanges:function(){return i}},t)}}}var e=function e(t){for(var i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var a=t;if("function"==typeof t?t=a.name:a=c[t],"function"!=typeof a)throw new Error("Can't produce nativeEvent without a constructor");var s=new(Function.prototype.bind.apply(a,[null].concat(n))),o=e[t];return"function"==typeof o?o.apply(void 0,[s].concat(n)):s};e.InputEvent=function(e,t,i){if(!e.inputType){var n=i.inputType;e.__defineGetter__("inputType",function(){return n})}var r=i.ranges;return r&&e.getTargetRanges().length!==r.length&&e.__defineGetter__("getTargetRanges",function(){return function(){return r}}),e}}).call(t,i(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(176).g.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuDividerItemCell"}})},function(e,v,y){"use strict";(function(S){y.d(v,"a",function(){return g});var e,t,i,n=y(176),r=y(1),a=y(2),s=y(14),w=y(3),u=y(7),o=y(182),c=y(328),l=y(329),d=y(325),h=y(591),p=y(330),f=y(331),_=y(327),m=y(593),C="divider-item",g=n.c.extend({commitDurations:Object(r.property)({defaultValue:Object(r.instance)(Array,[50,50]),type:Array}),commitOnPointerDown:Object(w.T)({defaultValue:!1,type:Boolean}),commitTimeoutId:Object(w.T)(null),desiredSize:Object(w.T)({strong:!0,dependencies:["collection","collection.contentsDidChangeUntracked","isAttached","layoutController","layoutDelegate","layoutMetrics","layoutMetrics.bottomPadding","layoutMetrics.rowHeight","layoutMetrics.dividerRowHeight","layoutMetrics.rowSpacing","layoutMetrics.topPadding","maximumWidth","minimumWidth"],readOnly:!0,get:Object.assign(function(){var e=0,t=0,i=this.collection;if(i&&this.isAttached){var n=this.layoutController,r=this.layoutDelegate,a=this.layoutMetrics,s=this.maximumWidth,o=this.minimumWidth,c=this.view;if(a){t+=a.topPadding+a.bottomPadding;var l=i.length;t+=a.rowSpacing*(l-1)}var u=c.style,d=u.getInline("position"),h=u.getInline("width"),p=u.getInline("height");u.set({position:"absolute",width:S.innerWidth+"px",height:S.innerHeight+"px"});var f=void 0;for(f=i.startHandle;f.isValid;f=f.next){var _=r.cellForHandle(f),m=_.cellType,g=("item"===m?r.sizeForItemNaturally:m===C?r.sizeForDividerItem:r.sizeForCell).call(r,n,_);e=Math.max(g.width,e),t+=g.height}e=Math.min(Math.max(e,o),s),u.set({position:d,width:h,height:p})}return w.G.create(e,t)},{__CW__getter:function(e,t,i,n){var r=0,a=0,s=n.internalGet(this,t[0+i]);if(s&&n.internalGet(this,t[2+i])){var o=this.layoutController,c=this.layoutDelegate,l=this.layoutMetrics,u=this.maximumWidth,d=this.minimumWidth,h=this.view;if(l){a+=l.topPadding+l.bottomPadding;var p=s.length;a+=l.rowSpacing*(p-1)}var f=h.style,_=f.getInline("position"),m=f.getInline("width"),g=f.getInline("height");f.set({position:"absolute",width:S.innerWidth+"px",height:S.innerHeight+"px"});var v=void 0;for(v=s.startHandle;v.isValid;v=v.next){var y=c.cellForHandle(v),b=y.cellType,I=("item"===b?c.sizeForItemNaturally:b===C?c.sizeForDividerItem:c.sizeForCell).call(c,o,y);r=Math.max(I.width,r),a+=I.height}r=Math.min(Math.max(r,d),u),f.set({position:_,width:m,height:g})}return w.G.create(r,a)}})}),dividerItemViewClass:Object(w.T)(p.a),highlightedCell:Object(w.T)({dependencies:["collection","highlightedItem","layoutDelegate"],type:n.g,writeDependencies:["highlightedItem"],get:function(){var e=null,t=this.collection,i=this.highlightedItem,n=this.layoutDelegate;if(t&&n){var r=t.indexOf(i);if(0<=r){var a=t.startHandle.at(r);e=n.cellForHandle(a)}}return e},set:Object.assign(function(e){this.highlightedItem=e?e.handle.value:null},{__CW__setter:function(e,t,i,n,r){i[0+n]=e?e.handle.value:null}}),writeDependencySetPathMap:["false"]}),highlightedItem:Object(w.T)(),isCommitting:Object(w.T)({dependencies:["commitTimeoutId"],readOnly:!0,get:Object.assign(function(){return Object(a.x)(this.commitTimeoutId)},{__CW__getter:function(e,t,i,n){return Object(a.x)(n.internalGet(this,t[0+i]))}})}),isFocusable:!0,itemViewClass:Object(w.T)(f.a),maximumWidth:Object(w.T)(1/0),minimumWidth:Object(w.T)(50),previousHighlightedCell:null,menuDelegate:Object(w.T)({defaultValue:Object(r.instance)(r.CoreObject.extend(l.a)),type:c.a}),layoutDelegate:Object(w.T)({defaultValue:Object(r.instance)(n.d.extend({staticMembers:{LayoutMetricsClass:_.a},dividerItemCellClass:h.a,cellClassKeysByCellType:Object(r.accumulator)((e={},e[C]="dividerItemCellClass",e)),sizeKeyByCellType:Object(r.accumulator)((t={},t[C]="sizeForDividerItem",t)),cellForHandle:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"item";return e.value.instanceOf(d.a)&&(t=C),this.__s._$3Kx$cellForHandle.call(this,e,t)},sizeForItemNaturally:function(l,e){return w.G.create({height:l.layoutMetrics.rowHeight,width:Math.ceil(function(e,t){var i=l.presenter,n=i.itemViewClassForItem(t),r=i.viewForCell(t,n),a=!r.isAttached;a&&(i.cellDidEnter(t),i.cellDidMove(t));var s=r.style,o=s.get("width");s.set("width","");var c=Object(u.p)(r.element);return s.set("width",o),a&&i.cellDidExit(t),c.width}(0,e))})},sizeForDividerItem:function(e,t){return w.G.create({height:e.layoutMetrics.dividerRowHeight,width:"100%"})},__superMap:{_$3Kx$cellForHandle:"cellForHandle"}}))}),presenter:Object(w.T)({defaultValue:Object(r.instance)(n.a.extend({itemViewClass:Object(w.T)(f.a),dividerItemViewClass:Object(w.T)(p.a),viewClassKeysByCellType:Object(r.accumulator)((i={},i[C]="dividerItemViewClass",i)),itemViewDidMove:function(e,t){var i=arguments;this.__s._$3wl$itemViewDidMove.apply(this,i),t===this.owner.highlightedCell?e.isHighlighted=!0:e.isHighlighted=!1},__superMap:{_$3wl$itemViewDidMove:"itemViewDidMove"}})),downstreamBindings:{itemViewClass:"(owner).itemViewClass",dividerItemViewClass:"(owner).dividerItemViewClass"}}),viewLayout:Object(w.T)({type:Object}),cellForEvent:function(e){var t=Object(s.v)(e);return this.presenter.cellForView(t)},commit:function(){var e=this.highlightedCell;e?this.commitWithCell(e):this.completeCommitWithItem()},commitWithCell:function(e){var t=e.handle.value,i=this.menuDelegate;if(i.shouldCommitMenuWithItem(this,t)){i.willCommitMenuWithItem&&i.willCommitMenuWithItem(this,t);var n=this.presenter.viewForCell(e);if(n){var r=this.commitDurations;this.flashCommittingViewAndComplete(n,r,t)}else this.completeCommitWithItem(t)}},completeCommitWithItem:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;this.commitTimeoutId=Object(a._8)(function(){var e=t.menuDelegate;t.owner.dismissWithItem(i).then(function(){t.isDisposed||(t.commitTimeoutId=null)}),e.didCommitMenuWithItem&&e.didCommitMenuWithItem(t,i)},e)},didScrollBy:function(e,t,i){if(i&&!this.isCommitting){var n=void 0,r=this.collection,a=this.highlightedCell,s=this.layoutController,o=this.layoutDelegate;if(a)n=a;else{var c=s.visibleCells;n=o.topMostItem(s,c)}var l=i.nativeEvent.clientY-(this.viewLayout.top+n.top);if(0<l&&(l=Math.max(l-n.height,0)),0!==l){var u=o.setUpCellAtDistance(s,r,n,0,l);this.highlightCell(u)}}},flashCommittingViewAndComplete:function(e,t,i){var n=this;t.length?this.commitTimeoutId=Object(a._8)(function(){e.isHighlighted=!e.isHighlighted,n.flashCommittingViewAndComplete(e,t.slice(1),i)},t[0]):this.completeCommitWithItem(i,50)},highlightCell:function(e){var t=!1,i=this.highlightedCell;if(e&&e!==i){var n=this.beginBatchSet();if(this.unhighlightHighlightedCell()){var r=this.menuDelegate,a=e.handle.value;r.shouldHighlightMenuItem(this,a)&&(r.willHighlightMenuItem&&r.willHighlightMenuItem(this,a),this.highlightedCell=e,r.didHighlightMenuItem&&r.didHighlightMenuItem(this,a),t=!0)}n.end()}return t},unhighlightHighlightedCell:function(){var e=!0,t=this.highlightedCell;if(t&&t.isLaidOut){var i=this.menuDelegate,n=t.handle.value;i.shouldUnhighlightMenuItem(this,n)?(i.willUnhighlightMenuItem&&i.willUnhighlightMenuItem(this,n),this.highlightedCell=null,i.didUnhighlightMenuItem&&i.didUnhighlightMenuItem(this,n)):e=!1}return e},measureViewport:function(){var e=arguments;if(this.__s._$6E3$measureViewport.apply(this,e),this.isAttached){var t=this.view;if(t){var i=t.element;i&&(this.viewLayout=i.getBoundingClientRect())}}},pointerMove:function(e){if(this.isCommitting)return!1;var t=this.cellForEvent(e);this.highlightCell(t)},pointerDown:function(e){if(this.isCommitting)return!1;this.commitOnPointerDown&&this.commit()},pointerUp:function(e){if(this.isCommitting)return!1;this.commit()},pointerCancel:function(e){this.unhighlightHighlightedCell()},pointerOut:function(e){this.unhighlightHighlightedCell()},scrollInDirection:function(e){switch(e){case o.a.NORTH:this.scrollAnItemBack();break;case o.a.SOUTH:this.scrollAnItemForward();break;default:throw new a.b("CW.MenuListViewController does not support scrolling in the direction, "+e+".")}},viewClass:m.a,highlightNextItem:function(){var e=this.highlightedCell,t=void 0;for(t=e?e.handle.next:this.collection.startHandle;t&&t.isValid;){var i=this.layoutDelegate.cellForHandle(t);if(i.instanceOf(h.a))t=t.next;else{if(this.highlightCell(i)){this.scrollToItem(t.value);break}t=t.next}}},highlightPreviousItem:function(){var e=this.highlightedCell,t=void 0;for(t=e?e.handle.previous:this.collection.handleProvider.endHandle;t&&t.isValid;){var i=this.layoutDelegate.cellForHandle(t);if(i.instanceOf(h.a))t=t.previous;else{if(this.highlightCell(i)){this.scrollToItem(t.value);break}t=t.previous}}},keyDown:function(e){if(this.isCommitting)return!1;var t=!0,i=this.highlightedCell;switch(e.which){case s.i.DOWN:this.highlightNextItem();break;case s.i.UP:this.highlightPreviousItem();break;case s.i.LEFT:case s.i.RIGHT:e.preventDefault();break;case s.i.ENTER:case s.i.SPACE:i?this.commitWithCell(i):t=!1;break;default:t=!1}return t},scrollAnItemBack:function(){var e=this.layoutController.visibleCells.objectAt(0),t=this.layoutDelegate.positionNextCell(this.layoutController,e,-1);t?this.scrollBy(0,t.height+10):this.scrollBy(0,e.height+10),this.update()},scrollAnItemForward:function(){var e=this.layoutController.visibleCells.lastItem,t=this.layoutDelegate.positionNextCell(this.layoutController,e,1);t?this.scrollBy(0,-t.height-10):this.scrollBy(0,-e.height-10),this.update()},highlightedCellDidChange:Object(w.U)("highlightedCell",function(e){var t=this.presenter,i=this.previousHighlightedCell;if(i){var n=t.viewForCell(i);n&&(n.isHighlighted=!1)}if(e){var r=t.viewForCell(e);r&&(r.isHighlighted=!0,this.view.activeDescendant=r.elementGUID)}this.previousHighlightedCell=e}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuListViewController"},__superMap:{_$6E3$measureViewport:"measureViewport"}})}).call(v,y(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(7),r=i(1),a=i(3),s=i(182),o=i(594),c=n.m.extend(n.k,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"startScrollButton"},{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"itemViews",classes:["collection-content"]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"endScrollButton"}],classes:["cw-collection-view","cw-menu-list-view"],attributes:{role:"menu","aria-activedescendant":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"activeDescendant",attributes:{},attribute:"aria-activedescendant"}}},__QUALIFIED_CLASS_NAME__:"MenuListView"},activeDescendant:Object(a.T)({type:String}),isFocusable:!0,endScrollButton:Object(a.T)({defaultValue:Object(r.instance)(o.a.extend({direction:s.a.SOUTH})),strong:!0,downstreamBindings:{isDisabled:"(owner).endScrollButtonIsDisabled"}}),endScrollButtonIsDisabled:Object(a.T)({readOnly:!0,dependencies:["canScrollVertically","height","scrollMaxY"],get:Object.assign(function(){return!this.canScrollVertically||this.scrollMaxY===this.height},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])||n.internalGet(this,t[2+i])===n.internalGet(this,t[1+i])}})}),startScrollButton:Object(a.T)({defaultValue:Object(r.instance)(o.a.extend({direction:s.a.NORTH})),strong:!0,downstreamBindings:{isDisabled:"(owner).startScrollButtonIsDisabled"}}),startScrollButtonIsDisabled:Object(a.T)({readOnly:!0,dependencies:["canScrollVertically","scrollHeight","scrollMaxY"],get:Object.assign(function(){return!this.canScrollVertically||this.scrollHeight===this.scrollMaxY},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])||n.internalGet(this,t[1+i])===n.internalGet(this,t[2+i])}})}),didScrollBy:function(e,t,i){this.viewController.sendEvent("didScrollBy",e,t,i)},_scrollBy:function(e,t){this.viewController.sendEvent("didScroll",e,t)}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(7),r=i(3),a=i(1),s=i(182),o=n.m.extend(n.a,{staticMembers:{template:{type:"ELEMENT",tagname:"cw-repeater-button",children:[]},__QUALIFIED_CLASS_NAME__:"RepeaterButton"},additionalClassNames:Object(a.instance)([]),period:Object(r.T)({defaultValue:16.66666667,didChange:function(e){this.timer.delay=e}}),timer:Object(a.property)({defaultValue:Object(a.instance)(r.K,{action:"triggerButtonAction",target:this,timesToFire:1/0}),strong:!0}),pointerEnter:function(e){this.timer.start()},pointerLeave:function(e){this.timer.stop()}}).extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["arrow"]}],classes:["scroll",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"directionClassname",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"none",falsevalue:"flex",attributes:{},unit:null,property:"display"}}}},__QUALIFIED_CLASS_NAME__:"ScrollRepeaterButton"},action:"scrollInDirection",contextKeys:Object(a.instance)(["direction"]),period:60,direction:Object(r.T)({defaultValue:s.a.NORTH,type:s.a}),directionClassname:Object(r.T)({dependencies:["direction"],readOnly:!0,type:"string",get:Object.assign(function(){return"direction-"+this.direction.value+""},{__CW__getter:function(e,t,i,n){return"direction-"+n.internalGet(this,t[0+i]).value+""}})})})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1162),r=(i.n(n),i(7)),a=i(3),s=r.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"}],name:"container",classes:["cw-popover-content"]}],classes:["cw-popover-view"],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},unit:null,property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"height",attributes:{},unit:null,property:"height"}}}},className:"cw-ui-popover-view",__QUALIFIED_CLASS_NAME__:"PopoverView"},layout:Object(a.T)(),left:Object(a.T)(Object(a.R)("layout.left")),top:Object(a.T)(Object(a.R)("layout.top")),_transformObserver:Object(a.U)("left","top",function(e,t){this.style.translateDevicePixels(e,t)}),height:Object(a.T)(Object(a.R)("layout.height")),width:Object(a.T)(Object(a.R)("layout.width")),verticalAlignment:Object(a.T)({type:r.l}),horizontalAlignment:Object(a.T)({type:r.f})})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(1163),r=(i.n(n),i(7)),a=i(1),s=i(3),o=i(183),c=r.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"popoverView"}],classes:["cw-modal"]}},className:"cw-ui-modal-arrow-popover-view",__QUALIFIED_CLASS_NAME__:"ModalArrowPopoverView"},layout:Object(s.T)(),anchorLayout:Object(s.T)(),arrowLength:Object(s.T)(),arrowWidth:Object(s.T)(),arrowAlignment:Object(s.T)(),verticalAlignment:Object(s.T)(),horizontalAlignment:Object(s.T)(),contentView:Object(s.T)(),popoverView:Object(s.T)({defaultValue:Object(a.instance)(o.b),type:o.b,downstreamBindings:{layout:"(owner).layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",contentView:"(owner).contentView",arrowAlignment:"(owner).arrowAlignment",verticalAlignment:"(owner).verticalAlignment",horizontalAlignment:"(owner).horizontalAlignment"}}),pointerDown:function(e){var t=e.targetView.element;this.popoverView.element.contains(t)?this.sendEvent("modalContentWasClicked",this):this.sendEvent("modalBackgroundWasClicked",this)}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(3),a=n.CoreObject.extend(r.q,{config:Object(r.T)(),anchorLayout:Object(r.T)(Object(r.R)("config.anchorLayout")),spaceLayout:Object(r.T)(Object(r.R)("config.spaceLayout")),desiredSize:Object(r.T)({strong:!0,binding:"config.desiredSize"}),minimumSize:Object(r.T)({strong:!0,binding:"config.minimumSize"}),layout:Object(r.T)(),fit:Object(r.T)({readOnly:!0,dependencies:["layout.height","layout.width"],get:Object.assign(function(){var e=this.getPath("layout.width"),t=this.getPath("layout.height");if(!t||!e)return 0;var i=this.minimumSize.width;return t<this.minimumSize.height?0:e<i?0:e*t},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[1+i]),a=n.internalGetPath(this,t[0+i]);if(!a||!r)return 0;var s=this.minimumSize.width;return a<this.minimumSize.height?0:r<s?0:r*a}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverLayout"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1164),r=(i.n(n),i(7).m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"}]}},className:"cw-ui-popup-view",__QUALIFIED_CLASS_NAME__:"PopupView"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return l}),i.d(t,"b",function(){return u});var n=i(334),r=i(600),c=i(3),a=i(1),s=i(7),o=1,l=s.m.extend(r.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}],classes:["message"],attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledByID",attributes:{},attribute:"id"},tabindex:"0"}},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description"],attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedByID",attributes:{},attribute:"id"},tabindex:"0"}}],name:"contentWrapper",classes:["alert-text-container"]}],classes:["alert-main-content"]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"accessoryView",classes:["alert-accessory-view"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"primaryButtonView",classes:["primary-btn"]},{type:"ELEMENT",tagname:"span",children:[],classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateButtonView",truevalue:"",falsevalue:"cw-hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"alternateButtonView",classes:["alternate-btn"]}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"otherButtonView",classes:["other-btn"]}],name:"buttonContainer",classes:["alert-button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"primaryButtonView",truevalue:"has-primary-btn",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateButtonView",truevalue:"has-alternate-btn",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"otherButtonView",truevalue:"has-other-btn",attributes:{}}]}],classes:["cw-alert"]}},__QUALIFIED_CLASS_NAME__:"AlertContentView"},ariaLabelledByID:Object(c.T)({readOnly:!0,get:function(){return"alert-m-"+ ++o}}),ariaDescribedByID:Object(c.T)({readOnly:!0,get:function(){return"alert-d-"+o++}}),message:Object(c.T)(),description:Object(c.T)(),iconNames:Object(c.T)(),_iconNamesDidChange:Object(c.U)("iconNames",function(e){var t=this.get("alertIcon");this._originalClassName?t.className=this._originalClassName:this._originalClassName=t.className,e&&(e instanceof Array?e.forEach(function(e){t.classList.add(e)}):t.classList.add(e))}),_buttonViews:Object(c.T)({readOnly:!0,dependencies:["primaryButtonView","alternateButtonView","otherButtonView"],get:Object.assign(function(){var e=this.__buttonViews,t=this.primaryButtonView,i=this.alternateButtonView,n=this.otherButtonView;return e.length<=0?(e=c.r.create(),t&&e.push(t),i&&e.push(i),n&&e.push(n)):(t&&e.objectAt(0)!==t&&e.setIndex(0,t),i&&e.objectAt(1)!==i&&e.setIndex(1,i),n&&e.objectAt(2)!==n&&e.setIndex(2,n)),this.__buttonViews=e},{__CW__getter:function(e,t,i,n){var r=this.__buttonViews,a=n.internalGet(this,t[0+i]),s=n.internalGet(this,t[1+i]),o=n.internalGet(this,t[2+i]);return r.length<=0?(r=c.r.create(),a&&r.push(a),s&&r.push(s),o&&r.push(o)):(a&&r.objectAt(0)!==a&&r.setIndex(0,a),s&&r.objectAt(1)!==s&&r.setIndex(1,s),o&&r.objectAt(2)!==o&&r.setIndex(2,o)),this.__buttonViews=r}})}),disableAllButtons:function(){this._buttonViews.forEach(function(e){e.isDisabled=!0})},enableAllButtons:function(){this._buttonViews.forEach(function(e){e.isDisabled=!1})},__buttonViews:Object(c.T)(Object(a.instance)(c.r))}),u=n.a.extend({additionalClassNames:Object(a.accumulator)(["cw-ui-alert-view","cw-alert-modal"]),buttonDidActivate:function(e){this.sendEvent("alertWillDismiss"),this.contentView&&this.contentView.disableAllButtons(),this.animateClosed()},staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(3),r={staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:["cw-modal-dialog"],attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"modalDialogRole",attributes:{},attribute:"role"},"aria-labelledby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabelledByID",attributes:{},attribute:"aria-labelledby"},"aria-describedby":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaDescribedByID",attributes:{},attribute:"aria-describedby"},tabindex:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tabIndex",attributes:{},attribute:"tabindex"}}}}},isFocusable:!0,tabIndex:Object(n.T)(-1),ariaLabelledByID:Object(n.T)(),ariaDescribedByID:Object(n.T)(),modalDialogRole:Object(n.T)("dialog")}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(333),r=i(334),a=n.a.extend({modalDialogDidDismiss:function(){this.hide()},dismissModalDialog:function(){this.view&&this.view.instanceOf(r.a)&&this.view.animateClosed()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ModalDialogViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(3),r=i(603).a.extend({masterView:Object(n.T)(),detailView:Object(n.T)(),masterViewLayout:Object(n.T)({didChange:function(e){this.setLayout(0,e)}}),detailViewLayout:Object(n.T)({didChange:function(e){this.setLayout(1,e)}}),splitsDidChange:Object(n.U)("splits","masterView","detailView",function(e,t,i){e&&t&&i&&(e.setIndex(0,t),e.setIndex(1,i))}),staticMembers:{className:"cw-ui-master-detail-view",__QUALIFIED_CLASS_NAME__:"MasterDetailView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var h,n=i(1169),f=(i.n(n),i(3)),r=i(7),a=i(1),_=i(2),s=i(604),m=i(185),o=Object(a.createEnumGroup)("SPLIT_VIEW_DIRECTIONS",function(e){e("VERTICAL"),e("HORIZONTAL")}),c=r.m.extend({staticMembers:{template:{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"_contents",classes:["split-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVertical",truevalue:"split-view-vertical",falsevalue:"split-view-horizontal",attributes:{}}]},VERTICAL:o.VERTICAL,HORIZONTAL:o.HORIZONTAL,className:"cw-ui-split-view",__QUALIFIED_CLASS_NAME__:"SplitView"},direction:Object(f.T)(o.VERTICAL),isVertical:Object(f.T)({readOnly:!0,dependencies:["direction"],get:Object.assign(function(){return this.direction===o.VERTICAL},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===o.VERTICAL}})}),resizeHandleViewClass:Object(f.T)(s.a),splits:Object(f.T)(Object(a.instance)(f.r)),constraintsDidChange:Object(f.V)(),userDidMoveResizeHandle:Object(f.V)(),sizesDidUpdateInDOM:Object(f.V)(),getLayout:function(e){return this._layouts[e]},setLayout:function(e,t){this._layouts[e]=t,this._layoutsDidChange()},_constraints:null,_layouts:Object(a.instance)(Array),_layoutsDidChange:Object(f.V)(),_updateContentsAndConstraints:Object(f.U)("splits","resizeHandleViewClass","splits.contentsDidChange","_layoutsDidChange",function(e,t){var i,n,r=f.c.begin(),a=!0;if(e){i=[],n=[];for(var s,o=this.get("_contents"),c=e.get("length"),l=0;l<c;l++){if(s&&t){var u=o.objectAt(2*l-1);u&&Object(_.G)(u,t)?u.set("managedConstraint",s):u=t.create({managedConstraint:s}),i.push(u),n.push(u)}var d=e.objectAt(l),h=d.get("parent");h&&Object(_.G)(h,g)||(h=g.create({split:d})),i.push(h);var p=this.getLayout(l)||m.a.AUTO.create();n.push(p),r.set(p,"splitView",this),a=!1,r.set(p,"managedView",h),s=p}}r.set(this,"_contents",i),r.set(this,"_constraints",n),r.end(),a&&this.constraintsDidChange()}),_updateSizes:Object(f.U)("isAttached","isVertical","constraintsDidChange",function(e,t){var i=e&&this.get("rect"),n=i&&(t?i.width:i.height);if(n){var r=this._constraints;if(r)for(var a=function(e,t){var i=h;i||(i=h=[]),i.length=0;var n,r,a,s,o,c=e,l=t.length,u=0,d=0;for(s=0;s<l;s++)(a=(n=t[s]).get("constraintStyle"))===p?r=n.get("size")||0:a===v?(r=n.get("preferredSize")||0,r=Math.max(n.get("minimumSize")||-1/0,r),r=Math.min(n.get("maximumSize")||1/0,r),d++):(r=n.get("minimumSize")||0,u++),c-=i[s]=r;if(0<c&&0<u)for(o=c/u,s=0;s<l;s++)(a=(n=t[s]).get("constraintStyle"))!==p&&a!==v&&(r=i[s],c-=(i[s]=Math.min(r+o,n.get("maximumSize")||1/0))-r);if(0<c&&0<d)for(o=c/d,s=0;s<l;s++)(a=(n=t[s]).get("constraintStyle"))===v&&(r=i[s],c-=(i[s]=Math.min(r+o,n.get("maximumSize")||1/0))-r);if(c<0&&0<d)for(o=c/d,s=0;s<l;s++)(a=(n=t[s]).get("constraintStyle"))===v&&(r=i[s],c-=(i[s]=Math.max(r+o,n.get("minimumSize")||-1/0))-r);if(0!==c&&0<u)for(o=c/u,s=0;s<l;s++)(a=(n=t[s]).get("constraintStyle"))!==p&&a!==v&&(r=i[s],c-=(i[s]=r+o)-r);return i}(n,r),s=0,o=a.length;s<o;s++)r[s].set("size",a[s])}this.sizesDidUpdateInDOM()})}),g=r.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"split"}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},unit:null,property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"height",attributes:{},unit:null,property:"height"}},classes:["split-wrapper"]}},className:"cw-ui-split-wrapper-view",__QUALIFIED_CLASS_NAME__:"SplitWrapperView"}}),p=m.a.FIXED_STYLE,v=m.a.MANUAL_STYLE},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(7),r=i(3),a=i(1),s=i(185),o=n.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},unit:null,property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"height",attributes:{},unit:null,property:"height"}},classes:["split-resize-handle"]}},className:"cw-ui-resize-handle-view",__QUALIFIED_CLASS_NAME__:"ResizeHandleView"},size:Object(a.property)(1),width:Object(r.T)({readOnly:!0,dependencies:["parent.isVertical"],get:Object.assign(function(){return this.getPath("parent.isVertical")?this.get("size"):"100%"},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])?this.get("size"):"100%"}})}),height:Object(r.T)({readOnly:!0,dependencies:["parent.isVertical"],get:Object.assign(function(){return this.getPath("parent.isVertical")?"100%":this.get("size")},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])?"100%":this.get("size")}})}),constraintStyle:Object(a.property)(s.a.FIXED_STYLE),managedConstraint:Object(a.property)(null),pointerDown:function(e){if(0===e.button){var t=this.get("managedConstraint");if(t){this.setPointerCapture(e.pointerId);var i=this.get("parent"),n=i&&i.get("isVertical");return this._cursorStartedAt=n?e.clientX:e.clientY,this._sizeStartedAt=t.get("size"),this.sendEvent("lockCursor",n?"vertical-resize":"horizontal-resize"),!0}}return!1},pointerUp:function(e){var t=e.pointerId;return this.getPointerCapture(t)===this&&(this.releasePointerCapture(t),this._cursorStartedAt=this._sizeStartedAt=null,this.sendEvent("releaseCursor"),!0)},pointerMove:function(e){if(this.getPointerCapture(e.pointerId)===this){var t=this.get("managedConstraint");if(t){var i=this.get("parent"),n=(i&&i.get("isVertical")?e.clientX:e.clientY)-this._cursorStartedAt,r=this._sizeStartedAt;return t.set("preferredSize",r+n),i.userDidMoveResizeHandle(),!0}}return!1}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1171),r=(i.n(n),i(7)),a=i(3),s=r.m.extend(r.a,{staticMembers:{className:!1,templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"circle",children:[],namespace:"http://www.w3.org/2000/svg",classes:["shadow"],attributes:{cx:"14",cy:"16",r:"14"}},{type:"ELEMENT",tagname:"circle",children:[],namespace:"http://www.w3.org/2000/svg",classes:["border"],attributes:{cx:"14",cy:"14",r:"14"}},{type:"ELEMENT",tagname:"circle",children:[],namespace:"http://www.w3.org/2000/svg",classes:["container"],attributes:{cx:"14",cy:"14",r:"12"}},{type:"ELEMENT",tagname:"circle",children:[],namespace:"http://www.w3.org/2000/svg",classes:["container","hdpr"],attributes:{cx:"14",cy:"14",r:"13"}},{type:"ELEMENT",tagname:"circle",children:[],namespace:"http://www.w3.org/2000/svg",classes:["dot"],attributes:{cx:"14",cy:"14",r:"6"}},{type:"ELEMENT",tagname:"rect",children:[],namespace:"http://www.w3.org/2000/svg",classes:["bar"],attributes:{x:"6",y:"12",width:"16",height:"4"}}],namespace:"http://www.w3.org/2000/svg",classes:["icon"],attributes:{viewBox:"0 0 28 28"}},{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]}],classes:["cw-radio-button"],attributes:{role:"radio","aria-checked":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"isChecked",attributes:{},attribute:"aria-checked"},tabindex:"0"}}},__QUALIFIED_CLASS_NAME__:"RadioButton"},title:Object(a.T)({type:"string",defaultValue:""}),value:Object(a.T)(),isChecked:Object(a.T)({type:"boolean",readOnly:!0,dependencies:["_isChecked"],get:Object.assign(function(){return this._isChecked},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),_isChecked:Object(a.T)({type:"boolean",defaultValue:!1}),action:"selectRadioItemByValue",contextKeys:["value"],_isAttachedDidChange:Object(a.U)("isAttached",function(e){var t;e?(t=this._registeredParent=this.parent).sendEvent("registerRadioButton",this):(t=this._registeredParent)&&t.sendEvent("unregisterRadioButton",this)})})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(7),r=i(3),a=i(332),s=i(184),o=i(2),c=i(607),l=n.m.extend(n.h,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"cw-capacity-bar-item",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{}}],styles:{"flex-grow":{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"percentage",attributes:{},unit:null,property:"flex-grow"},"background-color":{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"color",attributes:{},unit:null,property:"background-color"}}}},className:!1,__QUALIFIED_CLASS_NAME__:"CapacityMeterBarItemView"},percentage:Object(r.T)({type:Number,readOnly:!0,get:function(){return this._percentage}}),color:Object(r.T)({type:String}),nameForDisplay:Object(r.T)({type:String}),legendNameForDisplay:Object(r.T)({type:String}),valueForDisplay:Object(r.T)({binding:"value",type:String}),value:Object(r.T)({type:Number}),guidForTooltip:Object(r.T)({type:String,defaultValue:function(){return Object(o.D)(this)+"BarItemTooltip"}}),ariaDescribedBy:Object(r.T)({binding:"guidForTooltip"}),ariaLabel:Object(r.T)({readOnly:!0,type:String,dependencies:["legendNameForDisplay","nameForDisplay"],get:Object.assign(function(){return this.legendNameForDisplay||this.nameForDisplay},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])||n.internalGet(this,t[1+i])}})}),tooltipContentViewClass:Object(r.T)(c.a),tooltipPopover:Object(r.T)({readOnly:!0,get:function(){return this._tooltip||(this._tooltip=this.createTooltip())},strong:!0}),createTooltip:function(){var e=this.tooltipContentViewClass.extend({title:this.bindingFor("nameForDisplay"),subtitle:this.bindingFor("valueForDisplay"),idRelationshipGuid:this.bindingFor("guidForTooltip"),staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemTooltipContentView"}}),t=n.n.create({viewClass:e});return a.b.create({contentController:t,allowedLayouts:[s.d,s.a],shouldAutosize:!0,inheritsFocusLayer:!0,shouldFocusPaneOnAttach:!1})},ariaRole:"tab",isFocusable:!0,_percentage:Object(r.T)({type:Number}),_isBeingHoveredObserver:Object(r.U)("isBeingHovered","isFocused",function(e,t){var i=this.tooltipPopover;e||t?i.show(this):i.hide(this)})})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(7),r=i(3),a=i(1),s=n.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"titleView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"subtitleView"}],attributes:{role:"tooltip",id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"idRelationshipGuid",attributes:{},attribute:"id"}}}},className:"cw-tooltip-content",__QUALIFIED_CLASS_NAME__:"TooltipContentView"},idRelationshipGuid:Object(r.T)({type:String}),title:Object(r.T)({type:String}),subtitle:Object(r.T)({type:String}),titleView:Object(r.T)({defaultValue:Object(a.instance)(n.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title"]}}}})),downstreamBindings:{title:"(owner).title"}}),subtitleView:Object(r.T)({defaultValue:Object(a.instance)(n.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}],classes:["subtitle"]}}}})),downstreamBindings:{subtitle:"(owner).subtitle"}})})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(7),r=i(3),a=n.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"cw-capacity-legend-item",children:[{type:"ELEMENT",tagname:"span",children:[],classes:["color-indicator"],styles:{"background-color":{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"color",attributes:{},unit:null,property:"background-color"}}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"legendNameForDisplay",attributes:{}}],classes:["label"]}]}},__QUALIFIED_CLASS_NAME__:"CapacityMeterLegendItemView"},color:Object(r.T)({type:String}),nameForDisplay:Object(r.T)({type:String}),legendNameForDisplay:Object(r.T)({binding:"nameForDisplay",type:String})})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(3),r=i(186).a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOn",truevalue:"cw-on",attributes:{}}],attributes:{"aria-pressed":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"ariaPressed",truevalue:"true",falsevalue:"false",attributes:{},attribute:"aria-pressed"}}}},className:"cw-ui-views-controls-toggle-button",__QUALIFIED_CLASS_NAME__:"ToggleButton"},isOn:Object(n.T)(!1),wasActivated:function(){this.set("isOn",!this.get("isOn"))},ariaPressed:Object(n.R)("isOn")})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend({items:n._107({readOnly:!0,get:function(){}}),length:n._107({readOnly:!0,get:function(){return this._length}}),init:function(e){this.__s._$67$init.call(this,e),this._startIndex=0,this._length=0,this._queue=new Array(20),this.clear()},add:function(e){var t=this._startIndex,i=this._length,n=this._queue,r=t+i;r<=n.length?n[r]=e:n.push(e),this._length++},clear:function(){this._startIndex=0,this._length=0;for(var e=this._queue,t=e.length,i=0;i<t;i++)e[i]=null},hasNext:function(){return 0<this._length},next:function(){if(0===this._length)return null;var e=this._startIndex,t=this._queue,i=t[e];return t[this._startIndex]=null,this._length--,0===this._length?this._startIndex=0:this._startIndex++,i},staticMembers:{__QUALIFIED_CLASS_NAME__:"Queue"},__superMap:{_$67$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=i(612),a=i(336),s=["x","y","width","height"],o={x:"left",y:"top",width:"width",height:"height"},c=n._67("BRKit.DOMLayerFrameValueType",["Native","Assigned"]),l=c.Native,u=c.Assigned,d=r.a.extend({dataSource:null,getScreenBounds:n._107({readOnly:!0,get:function(){return this._getNativeFrameRect()}}),init:function(e){this.__s._$CU$init.call(this,e),this._reset()},didAttachToSuperlayer:function(e){this.__s._$EA$didAttachToSuperlayer.call(this,e),this._updateStyle()},didDetachFromSuperlayer:function(e){this.__s._$G2$didDetachFromSuperlayer.call(this,e),this._nativeDOMFrameRect=null},display:function(){var e=this._framePropertyValueType,t=this.get("frame");e.x===u&&this._updateStyleForFrameProperty("x",t.get("x")),e.y===u&&this._updateStyleForFrameProperty("y",t.get("y"))},frameShouldProxyProperty:function(e,t){return this._framePropertyValueType[t]===l},frameGetProxyValueForProperty:function(e,t){return this._framePropertyValueType[t]===l?this._getNativeFrameRect()[t]:null},frameDidInvalidate:function(e){this.__s._$Tb$frameDidInvalidate.call(this,e),this._nativeDOMFrameRect=null},frameDidReset:function(e){this.__s._$VL$frameDidReset.call(this,e),this._reset()},framePropertyDidChange:function(e,t,i){this.__s._$X8$framePropertyDidChange.call(this,e,t,i),this._applyFramePropertyChange(t,i)},frameGetRectRelativeToWindow:function(){return this._getNativeFrameRect()},_reset:function(){this._nativeDOMFrameRect=null,this._framePropertyValueType={x:l,y:l,width:l,height:l};var e=this._getStyle();e.left=null,e.right=null,e.width=null,e.height=null},_applyFramePropertyChange:function(e,t){this._framePropertyValueType[e]=u,this._updateStyleForFrameProperty(e,t)},_updateStyleForFrameProperty:function(e,t){var i=this.get("superlayer"),n=this._getStyle();if(n&&i){var r=o[e],a=i.get("boundsOffset"),s=!1;switch(e){case"x":t-=a.get("x"),s=!0;break;case"y":t-=a.get("y"),s=!0}s&&(n.position="absolute"),n[r]=t+"px"}},_getStyle:function(){var e=this._style;if(!e){var t=this._getElement();e=this._style=t?t.style:null}return e},_getElement:function(){var e=this._element;if(!e){var t=this.dataSource;e=this._element=t?t.getBackingElementForDOMLayer(this):null}return e},_getNativeFrameRect:function(){var e=this._nativeDOMFrameRect;if(!e){var t=this._getElement();if(!t)return null;var i=t.getBoundingClientRect(),n=Math.ceil(i.width),r=Math.ceil(i.height);e=this._nativeDOMFrameRect=a.a.create({x:i.left,y:i.top,width:n,height:r})}return e},_updateStyle:function(){for(var e=this._framePropertyValueType,t=this.get("frame"),i=s,n=0,r=i.length;n<r;n++){var a=i[n];e[a]===u&&this._updateStyleForFrameProperty(a,t.get(a))}},staticMembers:{__QUALIFIED_CLASS_NAME__:"DOMLayer"},__superMap:{_$CU$init:"init",_$EA$didAttachToSuperlayer:"didAttachToSuperlayer",_$G2$didDetachFromSuperlayer:"didDetachFromSuperlayer",_$Tb$frameDidInvalidate:"frameDidInvalidate",_$VL$frameDidReset:"frameDidReset",_$X8$framePropertyDidChange:"framePropertyDidChange"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(613),a=n.v.extend({x:n._107({readOnly:!0,get:function(){return this._x}}),y:n._107({readOnly:!0,get:function(){return this._y}}),delegate:null,init:function(e){this.__s._$6w$init.call(this,e),this._x=0,this._y=0},adjust:function(e,t){this._x=e,this._y=t,this.delegate.boundsOffsetDidChange(this,e,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"LayerBoundsOffset"},__superMap:{_$6w$init:"init"}}),s=n.v.extend({superlayer:null,sublayers:n._107({readOnly:!0,get:function(){return this._sublayers}}),boundsOffset:n._107({readOnly:!0,get:function(){return this._boundsOffset}}),frame:n._107({readOnly:!0,get:function(){return this._frame}}),getScreenBounds:n._107({readOnly:!0}),init:function(e){this._layerInitialized=!1,this.__s._$Jy$init.call(this,e),this._layerInitialized=!0,this._frame=r.a.create({delegate:this}),this._boundsOffset=a.create({delegate:this}),this._sublayers=[]},adjustPosition:function(e,t){this._frame.adjustPosition(e,t)},adjustSize:function(e,t){this._frame.adjustSize(e,t)},adjustBoundsOffset:function(e,t){this._boundsOffset.adjust(e,t)},addSublayer:function(e){this._sublayers.push(e),e.superlayer=this,e.didAttachToSuperlayer(this),this.didAddSublayer(e)},didAddSublayer:function(e){},didAttachToSuperlayer:function(e){},removeSublayer:function(e){e.superlayer=null,n._110(e,this._sublayers),this.didRemoveSublayer(e),e.didDetachFromSuperlayer(this)},didRemoveSublayer:function(e){},didDetachFromSuperlayer:function(e){},display:function(){},frameShouldProxyProperty:function(e,t){return!1},frameGetProxyValueForProperty:function(e,t){return null},frameDidInvalidate:function(e){},frameDidReset:function(e){},framePropertyDidChange:function(e,t,i){},boundsOffsetDidChange:function(e,t,i){for(var n=this._sublayers,r=0,a=n.length;r<a;r++)n[r].display()},staticMembers:{__QUALIFIED_CLASS_NAME__:"Layer"},__superMap:{_$Jy$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(107),a=i(108),s=n.v.extend({delegate:null,x:n._107({get:function(){return this._getPropertyValue("x")},set:function(e){this._setPropertyValue("x",e)}}),y:n._107({get:function(){return this._getPropertyValue("y")},set:function(e){this._setPropertyValue("y",e)}}),width:n._107({get:function(){return this._getPropertyValue("width")},set:function(e){this._setPropertyValue("width",e)}}),height:n._107({get:function(){return this._getPropertyValue("height")},set:function(e){this._setPropertyValue("height",e)}}),position:n._107({readOnly:!0,get:function(){return r.a.create(this.get("x"),this.get("y"))}}),size:n._107({readOnly:!0,get:function(){return a.a.create(this.get("width"),this.get("height"))}}),init:function(e){this.__s._$MJ$init.call(this,e),this._props={x:0,y:0,width:0,height:0}},_getPropertyValue:function(e){var t=this.delegate;return t.frameShouldProxyProperty(this,e)?t.frameGetProxyValueForProperty(this,e):this._props[e]},_setPropertyValue:function(e,t){void 0!==t&&(this._props[e]=t,this.delegate.framePropertyDidChange(this,e,t))},invalidate:function(){this.delegate.frameDidInvalidate(this)},reset:function(){var e=this._props;e.x=0,e.y=0,e.width=0,e.height=0,this.delegate.frameDidReset(this)},adjustPosition:function(e,t){this._setPropertyValue("x",e),this._setPropertyValue("y",t)},adjustSize:function(e,t){this._setPropertyValue("width",e),this._setPropertyValue("height",t)},adjust:function(e){4===arguments.length?(this._setPropertyValue("x",e),this._setPropertyValue("y",arguments[1]),this._setPropertyValue("width",arguments[2]),this._setPropertyValue("height",arguments[3])):(void 0!==e.x&&this._setPropertyValue("x",e.x),void 0!==e.y&&this._setPropertyValue("y",e.y),void 0!==e.width&&this._setPropertyValue("width",e.width),void 0!==e.height&&this._setPropertyValue("height",e.height))},adjustBounds:function(e,t){n._100.warn(this+" `adjustBounds` is deprecated. used `adjustSize` instead"),this.adjustSize(e,t)},adjustOffset:function(e,t){n._100.warn(this+" `adjustOffset` is deprecated. used `adjustPosition` instead"),this.adjustPosition(e,t)},bounds:n._107({readOnly:!0,get:function(){n._100.warn(this+" `bounds` is deprecated. Use `size` instead");var e=this.get("width"),t=this.get("height");return a.a.create(e,t)}}),offset:n._107({readOnly:!0,get:function(){n._100.warn(this+" `offset` is deprecated. Use `position` instead");var e=this.get("x"),t=this.get("y");return r.a.create(e,t)}}),offsetRelativeToWindow:function(){return this.delegate.frameGetRectRelativeToWindow().origin},getOriginRect:function(){return this.delegate.frameGetRectRelativeToWindow()},staticMembers:{__QUALIFIED_CLASS_NAME__:"Frame"},__superMap:{_$MJ$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(188),a=function(e){this._element=e};a.create=function(e,t){return e||n._75("DOMProxy: Cannot create. Requires an element."),new a(t?c(e,t):e)};var s=a.prototype;function o(e,t,i){e.style[t]=null===i?null:i+"px"}function c(e,t){return e?e.querySelector(t):null}s.element=function(){return this._element},s.empty=function(){return!!this._element},s.addClass=function(e){return r.a.addClass(this._element,e),this},s.removeClass=function(e){return r.a.removeClass(this._element,e),this},s.toggleClass=function(e,t){return r.a.toggleClass(this._element,e,t),this},s.text=function(e){return r.a.setElementText(this._element,e),this},s.top=function(e){return o(this._element,"top",e),this},s.left=function(e){return o(this._element,"left",e),this},s.right=function(e){return o(this._element,"right",e),this},s.bottom=function(e){return o(this._element,"bottom",e),this},s.width=function(e){return o(this._element,"width",e),this},s.height=function(e){return o(this._element,"height",e),this},s.appendChild=function(e){return n._86(e,a)&&(e=e.element()),this._element.appendChild(e),this},s.removeChild=function(e){return n._86(e,a)&&(e=e.element()),this._element.removeChild(e),this},s.style=function(e,t){return this._element.style[e]=t,this},s.attr=function(e,t){return this._element[e]=t,this},s.query=function(e){return new a(c(this._element,e))},s.insertBefore=function(e,t){return this._element.insertBefore(e,t),this},s.firstChild=function(){return this._element.firstChild},s.$=s.query},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),a=i(338),r=n.v.extend(n._8,{idKey:n._107({readOnly:!0,get:function(){return this._idKey}}),size:n._107({readOnly:!0,get:function(){return this._count}}),isChanging:n._107({readOnly:!0,get:function(){return 0<this._batchChangeCounter}}),changed:n._118(),init:function(e){this.__s._$Ag$init.call(this,e),Object.defineProperty(this,"_idKey",{value:e&&e.idKey||"id",writable:!0}),Object.defineProperty(this,"_entities",{value:{},writable:!0}),Object.defineProperty(this,"_count",{value:0,writable:!0}),Object.defineProperty(this,"_batchChangeCounter",{value:0,writable:!0}),Object.defineProperty(this,"_isInitializing",{value:!1,writable:!0});var t=e?e.entities:null;t&&(this._isInitializing=!0,this.addEntities(t),this._isInitializing=!1)},createIterator:function(){return s.create(this._entities)},containsEntity:function(e){var t=this.getIdentifierForEntity(e),i=this._entities[t];return!!i&&i===e},containsEntityWithID:function(e){return!!this._entities[e]},getEntityWithID:function(e){return this._entities[e]||null},beginBatchChanges:function(){this._batchChangeCounter++,1!==this._batchChangeCounter||this._isInitializing||(this._changeSet=a.a.create().retain())},endBatchChanges:function(){if(this._batchChangeCounter<1&&n._75("Cannot end batch changes. Invalid state"),this._batchChangeCounter--,0===this._batchChangeCounter&&!this._isInitializing){var e=this._changeSet;this._changeSet=null,0<e.get("length")&&this.changed(e)}},batchChanges:function(e){this.beginBatchChanges(),e(this),this.endBatchChanges()},addEntity:function(e){var t=this.getIdentifierForEntity(e);if(!this.containsEntityWithID(t)){var i=this._changeSet;i||this._isInitializing||(i=a.a.create()),this._count++,this._entities[t]=e,this.didAddEntityWithId(e,t,i),0===this._batchChangeCounter&&this.changed(i)}},addEntities:function(e){var t=this;this.beginBatchChanges(),e.forEach(function(e){t.addEntity(e)}),this.endBatchChanges()},didAddEntityWithId:function(e,t,i){i&&o(i,a.b.Insert,e)},removeEntity:function(e){var t=this.getIdentifierForEntity(e);if(this.containsEntityWithID(t)){var i=this._changeSet;i||this._isInitializing||(i=a.a.create()),this.willRemoveEntityWithId(e,t,i),this._count--,delete this._entities[t],0===this._batchChangeCounter&&this.changed(i)}},removeEntityWithID:function(e){var t=this._entities[e];t&&this.removeEntity(t)},removeEntities:function(e){this.beginBatchChanges();var t=this;e.forEach(function(e){t.removeEntity(e)}),this.endBatchChanges()},removeEntitiesWithIDs:function(e){this.beginBatchChanges();var t=this;e.forEach(function(e){t.removeEntityWithID(e)}),this.endBatchChanges()},willRemoveEntityWithId:function(e,t,i){i&&o(i,a.b.Remove,e)},updateEntity:function(e){var t=this.getIdentifierForEntity(e),i=null;if(this.containsEntityWithID(t)){var n=this._changeSet;n||this._isInitializing||(n=a.a.create());var r=this._entities;i=r[t],r[t]=e,this.didUpdateEntityWithId(e,t,n),0===this._batchChangeCounter&&this.changed(n)}return i},didUpdateEntityWithId:function(e,t,i){i&&o(i,a.b.Update,e)},toArray:function(){for(var e=this._entities,t=Object.keys(e),i=t.length,n=new Array(i),r=0;r<i;r++)n[r]=e[t[r]];return n},forEach:function(e,t){for(var i=this.createIterator();i.hasNext();){var n=i.next();e.call(t,n)}},find:function(e,t){for(var i=this.createIterator();i.hasNext();){var n=i.next();if(e.call(t,n))return n}return null},getIdentifierForEntity:function(e){var t=this._idKey;return e.get?e.get(t):e[t]},staticMembers:{__QUALIFIED_CLASS_NAME__:"EntitySet"},__superMap:{_$Ag$init:"init"}}),s=n.v.extend({init:function(e){this.__s._$2FH$init.call(this);for(var t=Object.keys(e),i=t.length,n=new Array(i),r=0;r<i;r++)n[r]=e[t[r]];this._entities=n,this._counter=0},hasNext:function(){return this._counter<this._entities.length},next:function(){var e=this._entities[this._counter];return this._counter++,e},staticMembers:{__QUALIFIED_CLASS_NAME__:"EntitySetIterator"},__superMap:{_$2FH$init:"init"}});function o(e,t,i){switch(t){case a.b.Insert:e.recordInsert(i);break;case a.b.Remove:e.recordRemove(i);break;case a.b.Update:e.recordUpdate(i);break;default:n._75("Cannot update change set. Invalid item action",{changeSetItemAction:t})}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],getInstance:n._31.define()}},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a});var n=i(0),r=n.v.extend({id:null,sender:null,context:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"Notification"}}),a=n.v.extend({staticMembers:{addTargetActionForNotification:function(e,t,i){var n=c[i];n||(n=c[i]=[]),n.push({target:e,action:t})},removeTargetActionForNotification:function(e,t,i){var n=c[i];if(n){for(var r=null,a=0,s=n.length;a<s;a++){var o=n[a];if(o.target===e&&o.action===t){r=a;break}}0<=r&&n.splice(r,1)}},dispatchNotification:function(e){var t=e.get("id"),i=c[t];if(i)for(var n=0,r=i.length;n<r;n++){var a=i[n],s=a.target;s[a.action].call(s,e)}},__QUALIFIED_CLASS_NAME__:"NotificationCenter"}}),c={}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),h=i(339),d=i(140),p=function(e,t){this.range=e,this.next=t||null},r=n.v.extend(n._8,{size:n._107({readOnly:!0,get:function(){for(var e,t=this._root,i=0;t;)i+=(e=t.range)?e.get("size"):0,t=t.next;return i}}),first:n._107({readOnly:!0,get:function(){return this._root.next.range.minValue}}),firstRange:n._107({readOnly:!0,get:function(){var e=this._root.next;return e?e.range:null}}),isEmpty:n._107({readOnly:!0,get:function(){return!this._root.next}}),changed:n._118(),init:function(e){this.__s._$KB$init.call(this,e),this._root=new p(h.a)},containsValue:function(e){for(var t=this._root;t;){if(t.range.containsValue(e))return!0;t=t.next}return!1},forEachRange:function(e){for(var t=this._root.next;t;)e(t.range),t=t.next},forEachValue:function(i){this.forEachRange(function(e){for(var t=e.minValue;t<=e.maxValue;t++)i(t)})},count:function(e){for(var t=this._root,i=0;t;){for(var n=t.range,r=n.minValue;r<=n.maxValue;r++)!0===e(r)&&i++;t=t.next}return i},all:function(e){return this.count(e)===this.get("size")},any:function(e){return 0<this.count(e)},one:function(e){return 1===this.count(e)},none:function(e){return 0===this.count(e)},filter:function(e){for(var t=this.clone(),i=this._root;i;){for(var n=i.range,r=n.minValue;r<=n.maxValue;r++)!0!==e(r)&&t.removeValue(r);i=i.next}return t},collectItemsFromList:function(t){var i=[];return this.forEachValue(function(e){i.push(t[e])}),i},addRange:function(e){if(e!==h.a){for(var t=this._root,i=!1;t;){var n=t.range,r=t.next,a=r?r.range:null;if(n.intersectsRange(e)||n.maxValueAdjacentToRange(e)){t.range=n.mergeWithRange(e),n=t.range,r&&(n.intersectsRange(a)||n.maxValueAdjacentToRange(a))&&(t.range=n.mergeWithRange(a),t.next=r.next),i=!0;break}if(!r){t.next=new p(e),i=!0;break}if(e.betweenRanges(n,a)){t.next=new p(e,r),i=!0;break}if(n===h.a&&e.maxValue<a.minValue){t.next=new p(e,r),i=!0;break}t=r}i&&this._notifyChanged()}},removeRange:function(e){if(e!==h.a){for(var t=null,i=this._root,n=!1;i;){var r=i.range,a=i.next,s=a?a.range:null;if(r.intersectsRange(e)){var o=r.subtractRange(e),c=o[0],l=o[1]||null;if(c===h.a)(i=t).next=a;else if(l){var u=new p(c),d=new p(l,a);u.next=d,t.next=u,i=d,t=u}else i.range=c;n=!0}if(a&&e.betweenRanges(r,s))break;t=i,i=a}n&&this._notifyChanged()}},addValue:function(e){this.addRange(d.a.createAsPoint(e))},removeValue:function(e){this.removeRange(d.a.createAsPoint(e))},addRangeSet:function(e){var t=this;e.forEachRange(function(e){t.addRange(e)})},removeRangeSet:function(e){var t=this;e.forEachRange(function(e){t.removeRange(e)})},increaseFromValue:function(e,t){1===arguments.length&&(t=1);for(var i=this._root;i;){var n=i.range;if(e<=n.minValue)i.range=n.increment(t);else if(n.containsValue(e)){var r=d.a.create(n.minValue,e-1),a=d.a.create(e+t,n.maxValue+t),s=new p(a);s.next=i.next,i.range=r,i.next=s,i=s}i=i.next}this._notifyChanged()},decreaseFromValue:function(e,t){1===arguments.length&&(t=1);for(var i,n=d.a.create(e,e+t-1),r=this._root;r;){var a=r.range,s=i?i.range:null;if(s&&a.subsetOfRange(n))r=i.next=r.next;else{if(a.intersectsRange(n)){var o,c=a.subtractRange(n);o=2===c.length?c[0].mergeWithRange(c[1].decrement(t)):c[0].minValue>e?c[0].decrement(t):c[0],a=r.range=o}else if(n.maxValue<a.minValue){var l=a.minValue-t,u=a.maxValue-t;a=r.range=d.a.create(l,u)}s&&s.maxValueAdjacentToRange(a)&&(i.range=s.mergeWithRange(a),i.next=r.next,r=i),r=(i=r).next}}this._notifyChanged()},clear:function(){var e=this._root;e.next&&(e.next=null,this._notifyChanged())},prepareForChange:function(){this._preparingForChange&&n._75("cannot prepare. Already preparing for change"),this._preparingForChange=!0},finalizeChange:function(){this._preparingForChange||n._75("cannot finalize. Not prepared for change."),this._preparingForChange=!1,this._hasChanges&&(this._hasChanges=!1,this.changed(this))},_notifyChanged:function(){this._preparingForChange?this._hasChanges=!0:this.changed(this)},clone:function(){var e=r.create();return e.addRangeSet(this),e},toString:function(){for(var e="[RangeSet: ",t=this._root;t;){var i=t.range,n=t.next;i!==h.a?(i.isPoint?e+=i.start:e+="<"+i.start+", "+i.end+">",(t=n)&&(e+=", ")):(n||(e+="<EMPTY>"),t=n)}return e+"]"},staticMembers:{__QUALIFIED_CLASS_NAME__:"RangeSet"},__superMap:{_$KB$init:"init"}});r.extend=function(){n._75("Cannot extend range set")}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRKit.RunState",function(e){e("Pending"),e("Running"),e("Cancelled"),e("Completed",function(e){e("Failed"),e("Succeeded")})})},function(e,t,i){"use strict";t.a=function(e,t,i){3!==arguments.length&&c._75("#indexOfItemInSortedArray: Requires valid arguments");for(var n,r,a,s=0,o=((a=t).hasOwnProperty("length")?a.length:c._92(a.get)?a.get("length"):void 0)-1;;){if(s===o)return 0<=(r=i(l(s,t),e))?s:s+1;if(o<s)return o+1;if((r=i(l(n=Math.round((o-s)/2)+s,t),e))<0)s=n+1;else{if(!(0<r))return n;o=n-1}}};var c=i(0);function l(e,t){return c._89(t)?t[e]:c._92(t.objectAt)?t.objectAt(e):void 0}},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),t.b=function(e,t){s.get("default").trace(e,t)};var n=i(0),r=n.v.extend({isDisposed:n._107({readOnly:!0,get:function(){return this._disposed}}),init:function(e){this.__s._$4L$init.call(this,e),this._tracer=e.tracer,this._traceGroupTag=e.traceGroupTag,this._observer=e.observer,this._disposed=!1},dispose:function(){if(!this._disposed){var e=this._tracer,t=this._traceGroupTag,i=this._observer;e.removeObserver(t,i),this._disposed=!0}},staticMembers:{__QUALIFIED_CLASS_NAME__:"TraceObserveHandler"},__superMap:{_$4L$init:"init"}}),a=null,s=n.v.extend({staticMembers:{default:n._107({readOnly:!0,get:function(){return a||(a=s.create()),a}}),__QUALIFIED_CLASS_NAME__:"Tracer"},init:function(){this.__s._$IZ$init.call(this),this._observers={}},addObserver:function(e,t){var i=this._observers,n=i[e];if(n||(n=i[e]=[]),!(0<=n.indexOf(t)))return n.push(t),r.create({tracer:this,traceGroupTag:e,observer:t})},removeObserver:function(e,t){var i=this._observers[e];i&&n._110(t,i)},trace:function(e,t){var i=this._observers[e];if(i){t.groupTag=e;for(var n=0,r=i.length;n<r;n++)(0,i[n])(t)}},__superMap:{_$IZ$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return c});var n=i(0),r=n._67("BRKit.ContentSizeConstraintType",["Fixed","Dynamic"]),a=n.v.extend({type:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ContentSizeConstraint"}});a.Type=r;var s=a.extend({type:r.Fixed,value:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"FixedContentSizeConstraint"}}),o=a.extend({type:r.Dynamic,max:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"DynamicContentSizeConstraint"}});a.Fixed=function(e){return s.create({value:e})},a.Dynamic=function(e){return o.create(e)};var c=n.v.extend({widthConstraint:null,heightConstraint:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ContentSizeConstraints"}});c.DYNAMIC_UNBOUNDED=a.create({widthConstraint:a.Dynamic(),heightConstraint:a.Dynamic()})},function(e,t,i){"use strict";var n=i(1206);i.d(t,"f",function(){return n.a});var r=i(1208);i.d(t,"c",function(){return r.a});var a=i(343);i.d(t,"b",function(){return a.a});var s=i(1209);i.d(t,"a",function(){return s.a});var o=i(1210);i.d(t,"e",function(){return o.a});var c=i(624);i.d(t,"d",function(){return c.layoutCollapser})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"LayoutCollapseFunction",function(){return a}),i.d(t,"layoutCollapser",function(){return s});var n=i(0),r=i(343),a=n._3.extend({requiresSupport:r.a,priority:0,call:function(e,t){return 0},getFunctionForObject:function(e){var t=this.call.bind(e);return t.priority=this.priority,t},staticMembers:{__QUALIFIED_CLASS_NAME__:"LayoutCollapseFunction"}}),s=function(e,t){return a.create({priority:e,call:t})}},function(e,t,i){"use strict";i.d(t,"c",function(){return r}),i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o});var n=i(0),r=function(e){var t=this.effectAllowed=e.effectAllowed||null,i=this.type=e.type||null;this.data=e.data||null,this.meta=e.meta||{},c.has(t)||null===t||n._75("DragSourceInfos effectAllowed attribute must either be a value in DRAG_SOURCE_INFO_EFFECT_ALLOWED or falsy"),s.has(i)||null===i||n._75("DragSourceInfos type attribute must either be a value in DRAG_SOURCE_INFO_TYPE or falsy")};r.prototype.get=function(e){return this[e]},r.create=function(e){var t=new r(e);return Object.freeze(t),t};var a={MOVE_ITEMS_INFO:"move-items-info",FILE_SYSTEM:"file-system",NONE:"none"},s=n.x.create(Object.values(a));Object.freeze(a);var o={COPY:"copy",NONE:"none",MOVE:"move"},c=n.x.create(Object.values(o));Object.freeze(o)},function(e,t,i){"use strict";t.a=function(e,t){var i=e.pageX,n=e.pageY,r=t&&t.get("frame"),a=r&&r.offsetRelativeToWindow();return a&&(i-=a.x,n-=a.y),s.a.create(i,n)};var s=i(107)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(192),a=r.a.extend({taps:1,throttleDelay:0,_ignoreNextTap:!1,init:function(e){this.__s._$Bo$init.call(this,e),this._tapsTimeoutHandler=this._tapsTimeout.bind(this),this._timeoutHandle=null},reset:function(){var e=arguments;switch(this._tapCount=0,this._capturedEventTarget=null,this._clearTimeoutIfNeeded(),this.get("state")){case r.a.STATE_POSSIBLE:var t=this._capturedPointerId;null!==t&&this.get("view").releasePointerCapture(t);break;case r.a.STATE_BEGAN:this.set("state",r.a.STATE_FAILED),this.performTargetAction()}this.__s._$PV$reset.apply(this,e)},pointerDown:function(e){switch(this.__s._$QQ$pointerDown.call(this,e),this.get("state")){case r.a.STATE_POSSIBLE:this._capturedEventTarget=e.target,this.setPointerCapture(e.pointerId),this._tapCount=0,this._startTimeoutIfNeeded(),this.set("state",r.a.STATE_BEGAN),this.performTargetAction()}},pointerUp:function(e){if(this.__s._$Y8$pointerUp.call(this,e),!this._ignoreNextTap)switch(this.get("state")){case r.a.STATE_BEGAN:this.releasePointerCapture(e.pointerId),this._tapCount++,this._tapCount===this.taps&&(this._clearTimeoutIfNeeded(),e.target===this._capturedEventTarget?(this.set("state",r.a.STATE_RECOGNIZED),this.performTargetAction(),this._ignoreNextTap=!0,this._throttleTimeout=n._116(function(){this._ignoreNextTap=!1}.bind(this),this.throttleDelay)):this.set("state",r.a.STATE_POSSIBLE))}},pointerCancel:function(e){var t=arguments;switch(this.__s._$10O$pointerCancel.apply(this,t),this.get("state")){case r.a.STATE_BEGAN:this.set("state",r.a.STATE_FAILED),this.performTargetAction()}},_tapsTimeout:function(){switch(this.get("state")){case r.a.STATE_BEGAN:this.set("state",r.a.STATE_FAILED),this.performTargetAction()}},_startTimeoutIfNeeded:function(){1<this.get("taps")&&(this._timeoutHandle=n._116(this._tapsTimeoutHandler,650))},_clearTimeoutIfNeeded:function(){var e=this._timeoutHandle;null!==e&&(clearTimeout(e),this._timeoutHandle=null)},staticMembers:{__QUALIFIED_CLASS_NAME__:"TapGestureRecognizer"},__superMap:{_$Bo$init:"init",_$PV$reset:"reset",_$QQ$pointerDown:"pointerDown",_$Y8$pointerUp:"pointerUp",_$10O$pointerCancel:"pointerCancel"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(1223),a=(i.n(r),i(190)),s=i(12),o=s.a.extend({additionalClassNames:n._60(["menu"]),menu:null,preferredSize:n._107({readOnly:!0,get:function(){return this.get("frame").get("size")}}),delegate:null,menuItemViews:n._107({readOnly:!0,get:function(){return this._menuItemViews}}),loadSubviews:function(){var e,t,i,n=this.get("menu").get("groups"),r=n.length,a=[];this._menuItemViews=a;for(var s=0;s<r;s++){t=(e=n[s]).length;for(var o=0;o<t;o++)i=c.create({menuItem:e[o],target:this,action:"_performActionForMenuItemView"}),a.push(i),this.addSubview(i);s<r-1&&this.addSubview(l.create())}},_performActionForMenuItemView:function(e){var t=e.menuItem;if(t.disableFlash)this._performActionForMenuItem(t);else{if(u.isFlashing())return;e.flash(function(){this._performActionForMenuItem(t)}.bind(this))}},_performActionForMenuItem:function(e){this.delegate.menuViewPerformActionForMenuItem(this,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuView"}}),c=s.a.extend(a.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["checkmark"]},{type:"ELEMENT",tagname:"div",children:[],classes:["title"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"active",truevalue:"active",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"pressed",truevalue:"pressed",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"MenuItemView"},additionalClassNames:n._60(["menu-item"]),menuItem:n._105(null),_menuItemDidChange:n._106(".menuItem.checked",function(){this.refresh()}),refresh:function(){var e=this.get("menuItem");e&&(this.$(".checkmark").toggleClass("checked",e.get("checked")),this.$(".title").text(e.get("title")))},didMoveToParentView:function(e){this.__s._$vY$didMoveToParentView.call(this,e),e?this.refresh():this.set("menuItem",null)},flash:function(e){u.flashMenuItemView(this,e)},didMoveToWindow:function(e){this.__s._$_F$didMoveToWindow.call(this,e),e||(this.set("active",!1),this.set("pressed",!1))},__superMap:{_$vY$didMoveToParentView:"didMoveToParentView",_$_F$didMoveToWindow:"didMoveToWindow"}}),l=s.a.extend({additionalClassNames:n._60(["separator"]),staticMembers:{__QUALIFIED_CLASS_NAME__:"SeparatorView"}}),u={_flashState:0,flashMenuItemView:function(e,t){0!==this._flashState&&n._75("Flasher: Cannot flash menu item view. Invalid state"),this._view=e,this._callback=t,this._flashCount=0,this._flashOut()},isFlashing:function(){return 0!==this._flashState},_flashOut:function(){this._flashState=1;var e=this._view.$();e.toggleClass("flash-out",!0),e.toggleClass("flash-in",!1),n._116(function(){this._flashIn()}.bind(this),60)},_flashIn:function(){this._flashState=2;var e=this._view.$();e.toggleClass("flash-out",!1),e.toggleClass("flash-in",!0),this._flashCount++,n._116(function(){this._nextFlashCycle()}.bind(this),60)},_nextFlashCycle:function(){this._flashCount<2?this._flashOut():this._completeFlashing()},_completeFlashing:function(){var e=this._callback,t=this._view.$();t.toggleClass("flash-out",!1),t.toggleClass("flash-in",!1),this._callback=null,this._view=null,e(),this._flashState=0}}},function(e,f,_){"use strict";(function(l){_.d(f,"a",function(){return a});var h=_(0),S=_(622),e=_(630),t=_(191),u=_(107),p=_(345),d=_(336),w=_(108),i=_(64),n=_(12),r=_(1225),s=(_.n(r),[p.a.Left,p.a.Up,p.a.Right,p.a.Down]),a=h.v.extend(h._8,{delegate:null,additionalClassNames:h._60([]),popoverContentSizeConstraints:h._107({defaultValue:S.b.DYNAMIC_UNBOUNDED,set:function(e){return e||(e=S.b.DYNAMIC_UNBOUNDED),e}}),contentViewController:h._105(null),popoverLayoutMargins:t.a.ZERO,popoverDirectionArrow:h._107({defaultValue:p.a.Unknown,readOnly:!0}),isShowing:h._105({defaultValue:!1}),popoverVisible:h._107({defaultValue:!1,readOnly:!0}),init:function(e){this.__s._$Si$init.call(this,e),this._popoverLayoutStrategy=c.create({popoverController:this}),this._popoverRootView=this.loadPopoverRootView(),(this._popoverBackgroundView=this.loadPopoverBackgroundView()).set("delegate",this)},loadPopoverBackgroundView:function(){return e.a.create()},loadPopoverRootView:function(){return o.create({additionalClassNames:h._60(this.get("additionalClassNames")),viewController:this,delegate:this})},presentPopoverForView:function(e,t){this.get("popoverVisible")&&h._75("Cannot present popover. Popover is visible",{controller:this}),this._anchorView=e,this._permittedArrowDirections=this._normalizePermittedArrowDirections(t);var i=this.get("contentViewController");e.isAttached||h._75("Cannot present popover. View must be visible in window",{controller:this,view:e}),i||h._75("Cannot present popover. Requires content view controller",{controller:this}),i.beginAppearanceTransition(!0);var n=this._popoverRootView;n.anchorView=e,n.set("isModal",i.get("modalInPopover"));var r=this._popoverBackgroundView,a=this._popoverLayoutStrategy;a.anchorView=e,(a.popoverBackgroundView=r).set("contentView",i.get("view")),r.$().style("visibility","hidden"),n.addSubview(r),this._deferInitialPopoverLayout=!0,h.e.application._paneManager.addRootView(n),i.endAppearanceTransition(!0),this._popoverVisible=!0,this.set("isShowing",!0)},dismissPopover:function(){var e=this.get("contentViewController"),t=h.e.application._paneManager,i=this._popoverRootView,n=this._popoverBackgroundView;e.beginAppearanceTransition(!1),n.set("contentView",null),i.anchorView=null,i.set("isModal",!0),i.removeSubview(n),t.removeRootView(i);var r=this._popoverLayoutStrategy;r.anchorView=null,r.popoverBackgroundView=null,this.hidePopoverLayoutMargins(),e.endAppearanceTransition(!1),this._anchorView=null,this._permittedArrowDirections=null,this._popoverVisible=!1,this.set("isShowing",!1)},refreshLayout:function(){this.get("popoverVisible")&&this._refreshLayout()},viewWillLayoutSubviews:function(){this._refreshLayout()},viewDidLayoutSubviews:function(){},popoverRootViewShouldPerformAction:function(e){return!0},popoverRootViewPerformAction:function(e){var t=this.delegate,i=null;(!(i=t?t.popoverControllerShouldDismissPopover:null)||i.call(t,this))&&(this.dismissPopover(),(i=t?t.popoverControllerDidDismissPopover:null)&&i.call(t,this))},popoverRootViewShouldDeferLayout:function(e){return this._deferInitialPopoverLayout},popoverRootViewDidDeferLayout:function(e){if(this._deferInitialPopoverLayout){var t=this._popoverLayoutStrategy,i=this._permittedArrowDirections;t.preparePopoverForInitialLayout(),t.fitPopoverForArrowDirections(i),this._deferInitialPopoverLayout=!1,this._popoverBackgroundView.$().style("visibility","visible")}},popupBackgroundViewContentViewDidChangeDynamicContent:function(e,t){var i=this._permittedArrowDirections,n=this._popoverLayoutStrategy;n.preparePopoverForInitialLayout(),n.fitPopoverForArrowDirections(i)},_refreshLayout:function(){if(this.get("isShowing")&&!this._deferInitialPopoverLayout){var e=this._permittedArrowDirections;this._popoverLayoutStrategy.fitPopoverForArrowDirections(e)}},_normalizePermittedArrowDirections:function(e){for(var t,i=[],n=h._89(e)?e:[e],r=n.length,a=0;a<r;a++){if((t=n[a])===p.a.Any){i=s;break}s.indexOf(t)<0&&h._75("Invalid arrow direction: "+t,{controller:this}),i.push(t)}return i},_contentViewControllerDidChange:h._106("contentViewController",function(e){e!==this._cachedContentViewController&&(this._transitionContentViewControllers(this._cachedContentViewController,e),this._cachedContentViewController=e)}),_transitionContentViewControllers:function(e,t){var i=this._popoverBackgroundView;this.get("popoverVisible")&&(e.beginAppearanceTransition(!1),t.beginAppearanceTransition(!0),i.set("contentView",t.get("view")),t.endAppearanceTransition(!0),e.endAppearanceTransition(!1))},showPopoverLayoutMargins:function(){if(!this._isShowingPopoverLayoutMargins){var e=this.get("popoverLayoutMargins"),t=this._popoverLayoutMarginsDiv;t||((t=this._popoverLayoutMarginsDiv=document.createElement("div")).className="popover-layout-margins");var i=t.style;i.left=e.left+"px",i.top=e.top+"px",i.right=e.right+"px",i.bottom=e.bottom+"px",this._popoverRootView.get("element").appendChild(t),this._isShowingPopoverLayoutMargins=!0}},hidePopoverLayoutMargins:function(){this._isShowingPopoverLayoutMargins&&(this._popoverRootView.get("element").removeChild(this._popoverLayoutMarginsDiv),this._isShowingPopoverLayoutMargins=!1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverController"},__superMap:{_$Si$init:"init"}}),o=n.a.extend({additionalClassNames:h._60(["popover-root"]),delegate:null,isModal:h._105(!0),pointerDown:function(e){return this._capturedEventPointerDown=!0,this.setPointerCapture(e.pointerId),!0},pointerUp:function(e){if(!this._capturedEventPointerDown)return!1;this._capturedEventPointerDown=!1,this.releasePointerCapture(e.pointerId);var t=this.delegate;return t.popoverRootViewShouldPerformAction(this)&&t.popoverRootViewPerformAction(this),!0},frameDidInvalidate:function(){var e=this.delegate;if(e.popoverRootViewShouldDeferLayout(this)){var t=this;i.a.setTimeout(function(){t.setNeedsLayout()}),e.popoverRootViewDidDeferLayout(this)}else this.setNeedsLayout()},_isModalDidChange:h._106("element","isModal",function(e,t){if(e){var i=e.classList;t?(i.add("modal"),i.remove("nomodal")):(i.add("nomodal"),i.remove("modal"))}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverRootView"}}),c=h.v.extend({popoverController:null,popoverBackgroundView:null,popoverContentSizeConstraints:h._107({get:function(){return this.get("popoverController").get("popoverContentSizeConstraints")}}),anchorView:null,init:function(e){this.__s._$3Pd$init.call(this,e),this._preferredPopoverBodySize=null},preparePopoverForInitialLayout:function(){var e=this.get("popoverController").get("contentViewController"),t=this.get("popoverBackgroundView"),i=t.get("contentViewInsets"),n=this.get("popoverContentSizeConstraints"),r=n.get("widthConstraint"),a=n.get("heightConstraint"),s=!1,o=!1,c=0,l=0;switch(r.get("type")){case S.a.Fixed:c=r.get("value");break;case S.a.Dynamic:o=!0}switch(a.get("type")){case S.a.Fixed:l=a.get("value");break;case S.a.Dynamic:s=!0}var u=s||o,d=c+i.left+i.right,h=l+i.top+i.bottom;if(u){t.get("frame").reset(),t.adjustPosition(0,0);var p=e.get("view"),f=p.get("preferredSize");if(s&&o)return d=f.width+i.left+i.right,h=f.height+i.top+i.bottom,void(this._preferredPopoverBodySize=w.a.create(d,h));s?t.adjustSize(d,h):o&&t.adjustSize(f.width,h);var _=p.get("preferredSize"),m=s?_.height:l,g=o?_.width:c;if(s){var v=a.get("max");0<v&&v<m&&(m=v)}if(o){var y=r.get("max");0<y&&y<I&&(g=y)}var b=m+i.top+i.bottom,I=g+i.left+i.right;this._preferredPopoverBodySize=w.a.create(I,b)}else this._preferredPopoverBodySize=w.a.create(d,h)},fitPopoverForArrowDirections:function(e){var t=e.length;0===t&&h._75("Cannot fit popover. Requires arrow directions",{controller:this}),1===t&&this.layoutPopoverForArrowDirection(e[0]);for(var i,n,r=this.getWindowBoundingRect(),a=e[0],s=!1,o=0;o<t;o++)if(i=e[o],n=this.getInitialEnclosingPopoverRectForArrowDirection(i),s=this.enclosingPopoverRectFitsInsideWindowBoundingRectForArrowDirection(n,r,i)){this.layoutPopoverForArrowDirection(i);break}s||this.layoutPopoverForArrowDirection(a)},layoutPopoverForArrowDirection:function(e){var t=this.getWindowBoundingRect(),i=this.getInitialEnclosingPopoverRectForArrowDirection(e),n=this.getOffsetForRectInsideWindowBoundingRectForArrowDirection(i,t,e),r=this.popoverBackgroundView,a=r.get("arrowHeight"),s=0,o=0,c=0,l=0;switch(e){case p.a.Left:s=i.origin.x+a,o=i.origin.y+n,c=i.size.width-a,l=i.size.height;break;case p.a.Right:s=i.origin.x,o=i.origin.y+n,c=i.size.width-a,l=i.size.height;break;case p.a.Up:s=i.origin.x+n,o=i.origin.y+a,c=i.size.width,l=i.size.height-a;break;case p.a.Down:s=i.origin.x+n,o=i.origin.y,c=i.size.width,l=i.size.height-a;break;default:h._75("Cannot try fitting popover. Invalid arrow direction",{controller:this})}var u=-n,d=0;switch(this.get("popoverContentSizeConstraints").get("heightConstraint").get("type")){case S.a.Dynamic:if(t.origin.y>o)switch(l-=d=t.origin.y-o,o+=d,e){case p.a.Left:case p.a.Right:u-=d}else if(o+l>t.origin.y+t.size.height)switch(l-=d=o+l-(t.origin.y+t.size.height),e){case p.a.Left:case p.a.Right:u+=d/2}}r.set("arrowDirection",e),r.set("arrowOffset",u),r.adjustPosition(s,o),r.adjustSize(c,l)},enclosingPopoverRectFitsInsideWindowBoundingRectForArrowDirection:function(e,t,i){var n=0,r=!1;switch(i){case p.a.Left:n=t.origin.x+t.size.width,r=e.origin.x+e.size.width>n;break;case p.a.Right:n=t.origin.x,r=e.origin.x<n;break;case p.a.Up:n=t.origin.y+t.size.height,r=e.origin.y+e.size.height>n;break;case p.a.Down:n=t.origin.y,r=e.origin.y<n;break;default:h._75("Cannot detect if encluding popover rect fits inside window bounding rect. Invalid arrow direction",{controller:this})}return!r},getOffsetForRectInsideWindowBoundingRectForArrowDirection:function(e,t,i){var n=this.popoverBackgroundView,r=n.get("arrowBase"),a=n.get("capInsets"),s=Math.round(e.size.height/2),o=Math.round(e.size.width/2),c=Math.round(r/2),l=0,u=0;switch(i){case p.a.Left:case p.a.Right:t.origin.y>e.origin.y?(l=t.origin.y-e.origin.y,u=e.origin.y+s-c-a.top,e.origin.y+l>u&&(l=u-e.origin.y)):e.origin.y+e.size.height>t.origin.y+t.size.height&&(l=t.origin.y+t.size.height-e.origin.y-e.size.height,u=e.origin.y+e.size.height-s+c+a.bottom,e.origin.y+e.size.height+l<u&&(l=-(e.origin.y+e.size.height-u)),e.origin.y+l<t.origin.y&&(l+=t.origin.y-(e.origin.y+l)));break;case p.a.Up:case p.a.Down:t.origin.x>e.origin.x?(l=t.origin.x-e.origin.x,u=e.origin.x+o-c-a.left,e.origin.x+l>u&&(l=u-e.origin.x)):e.origin.x+e.size.width>t.origin.x+t.size.width&&(l=t.origin.x+t.size.width-e.origin.x-e.size.width,u=e.origin.x+e.size.width-o+c+a.right,e.origin.x+e.size.width+l<u&&(l=-(e.origin.x+e.size.width-u)),e.origin.x+l<t.origin.x&&(l+=t.origin.x-(e.origin.x+l)));break;default:h._75("Cannot get offset for rect inside window bounding rect. Invalid arrow direction",{controller:this})}return l},getWindowBoundingRect:function(){var e=l.innerWidth,t=l.innerHeight,i=this.popoverController.get("popoverLayoutMargins"),n=i.top,r=i.left,a=e-r-i.right,s=t-n-i.bottom,o=u.a.create(r,n),c=w.a.create(a,s);return d.a.create(o,c)},getPopoverBodySize:function(){return this._preferredPopoverBodySize},getEnclosingPopoverSizeForArrowDirection:function(e){var t,i=this.popoverBackgroundView.arrowHeight,n=this.getPopoverBodySize();switch(e){case p.a.Left:case p.a.Right:t=w.a.create(n.width+i,n.height);break;case p.a.Up:case p.a.Down:t=w.a.create(n.width,n.height+i);break;default:h._75("Cannot get enclosing popover size. Invalid arrow direction",{controller:this})}return t},getInitialEnclosingPopoverRectForArrowDirection:function(e){var t=this.getEnclosingPopoverSizeForArrowDirection(e),i=Math.round(t.width/2),n=Math.round(t.height/2),r=this.anchorView.get("layer").get("getScreenBounds"),a=Math.round(r.size.width/2),s=Math.round(r.size.height/2),o=0,c=0;switch(e){case p.a.Left:o=r.origin.x+r.size.width,c=r.origin.y+s-n;break;case p.a.Right:o=r.origin.x-t.width,c=r.origin.y+s-n;break;case p.a.Up:o=r.origin.x+a-i,c=r.origin.y+r.size.height;break;case p.a.Down:o=r.origin.x+a-i,c=r.origin.y-t.height;break;default:h._75("Cannot get enclosing popover rect at init position. Invalid arrow direction",{controller:this})}var l=u.a.create(o,c);return d.a.create(l,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PopoverLayoutStrategy"},__superMap:{_$3Pd$init:"init"}})}).call(f,_(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var d=i(0),n=i(191),h=i(345),r=i(12),a=i(1224),s=(i.n(a),r.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["container"]},{type:"ELEMENT",tagname:"div",children:[],classes:["arrow"]}]},__QUALIFIED_CLASS_NAME__:"PopoverBackgroundView"},additionalClassNames:d._60(["popover"]),arrowHeight:0,arrowBase:0,arrowOffset:d._105({defaultValue:0}),arrowDirection:d._105({defaultValue:h.a.Left}),contentViewInsets:n.a.ZERO,capInsets:n.a.ZERO,contentView:d._105(null),delegete:null,_layoutArrow:function(){var e=this.get("frame"),t=this.get("arrowBase"),i=this.get("arrowDirection"),n=this.get("arrowOffset"),r=Math.round(t/2),a=null,s=null,o=this._getArrowElement().style;switch(i){case h.a.Up:case h.a.Down:a=Math.round(e.get("width")/2)-r+n,o.left=a+"px";break;case h.a.Left:case h.a.Right:s=Math.round(e.get("height")/2)-r+n,o.top=s+"px";break;default:d._75("Cannot lay out. Invalid arrow direction: "+i,{view:this})}},_changeArrowElementFromDirectionToDirection:function(e,t){var i=this._getArrowElement(),n=i.classList;e&&n.remove(e.name.toLowerCase()),n.add(t.name.toLowerCase());var r,a,s,o,c=-1*this.get("arrowHeight"),l=this.get("contentViewInsets");switch(t){case h.a.Up:r=c+l.top;break;case h.a.Down:o=c+l.bottom;break;case h.a.Left:a=c+l.left;break;case h.a.Right:s=c+l.right;break;default:d._75("Cannot position arrow. Invalid direction: "+t,{view:this})}var u=i.style;u.top=r?r+"px":null,u.bottom=o?o+"px":null,u.left=a?a+"px":null,u.right=s?s+"px":null},_arrowDirectionDidChange:d._106("element","arrowDirection",function(e,t){t!==this._cachedArrowDirection&&(t&&(this._changeArrowElementFromDirectionToDirection(this._cachedArrowDirection,t),this._cachedArrowDirection=t),this.layout())}),_arrowOffsetDidChange:d._106("element","arrowOffset",function(e,t){t!==this._cachedArrowOffset&&(this._cachedArrowOffset=t,this.layout())}),_contentViewDidChange:d._106("element","contentView",function(e,t){if(e){var i=this._cachedContentView;i&&this.removeSubview(i,".container"),t&&this.addSubview(t,".container"),this._cachedContentView=t}}),_getArrowElement:function(){var e=this._arrowElem||null;if(!e){var t=this.get("element");if(!t)return;e=this._arrowElem=t.querySelector(".arrow")}return e},layout:function(){this._layoutArrow(),this.__s._$1Ll$layout.call(this)},frameDidInvalidate:function(){this.__s._$1Mm$frameDidInvalidate.call(this),this.layout()},frameBoundsDidChange:function(){this.__s._$1OB$frameBoundsDidChange.call(this),this.layout()},pointerDown:function(e){return!0},pointerUp:function(e){return!0},subviewDidChangeDynamicContent:function(e){var t=this.get("contentView");if(e===t){var i=this.get("delegate"),n=i?i.popupBackgroundViewContentViewDidChangeDynamicContent:null;n&&n.call(i,this,t)}},__superMap:{_$1Ll$layout:"layout",_$1Mm$frameDidInvalidate:"frameDidInvalidate",_$1OB$frameBoundsDidChange:"frameBoundsDidChange"}}).extend({additionalClassNames:d._60(["default"]),arrowHeight:14,arrowBase:29,contentViewInsets:n.a.create(1,1,1,1),capInsets:n.a.create(5,5,5,5),staticMembers:{__QUALIFIED_CLASS_NAME__:"DefaultPopoverBackgroundView"}}))},function(e,t,i){"use strict";i.d(t,"b",function(){return d}),i.d(t,"a",function(){return g});var n=i(1226),a=(i.n(n),i(0)),r=i(632),s=i(194),o=i(652),c=i(141),l=i(195),u=i(15),d=Object(l.a)("CloudOS Application",function(e){e("NotLoaded"),e("Loading",function(e){e("Init"),e("Prepare"),e("Finalize")}),e("Loaded",function(e){e("Prepared"),e("Activating"),e("Active"),e("Suspending"),e("Suspended")}),e("Unloading"),e("FatalError")}),h=d.NotLoaded,p=d.Loading,f=d.Loaded,_=d.Unloading,m=d.FatalError,g=a.e.extend(c.a,s.a,{name:a._105({readOnly:!0}),cloudOSState:a._105({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup(d)}}),driver:a._107({readOnly:!0,get:function(){var e=this._driver;return e||(e=this._driver=this.loadDriver())||a._75("Error loading cloud OS application driver."),e}}),cloudOSService:a._105({readOnly:!0,strong:!0,get:function(){var e=this._cloudOSService;return e||(e=this._cloudOSService=this.loadCloudOSService())||a._75("Error loading cloud OS service"),e}}),isBeta:a._107({readOnly:!0,get:function(){return"beta.icloud.com"===window.location.host}}),isCarry:a._107({readOnly:!0,get:function(){return"carry.icloud.com"===window.location.host}}),isFuture:a._107({readOnly:!0,get:function(){return"future.icloud.com"===window.location.host}}),init:function(e){this.redirectToCloudOSIfNeeded(),e.name||a._75("Cannot create application. Requires a name"),this.registerStateEnumGroup(d,h,m),this.__s._$s7$init.call(this,e),a._100.outputMessagePrefix=this.get("capitalizedName")+":  ",u.a.set("cloudOSApplication",this)},capitalizedName:a._105({dependencies:["name"],readOnly:!0,get:Object.assign(function(){var e=this.name;return e&&(e="i"!==e.charAt(0)?a._66(e):"i"+a._66(e.substring(1))),e},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r&&(r="i"!==r.charAt(0)?a._66(r):"i"+a._66(r.substring(1))),r}})}),loadDriver:function(){var e=window["cosk.application.loadDriverDelegate"];return e?(this.logTrace("using delegate to load driver"),e(this)):r.a.create({application:this})},loadCloudOSService:function(){var e=window["cosk.application.loadCloudOSServiceDelegate"];return e?(this.logTrace("using delegate to load CloudOS service"),e(this)):this.get("driver")},load:function(){this.transitionFromStateToState(h,p.Init),this.get("driver").activate()},prepareForLoad:function(){this.transitionFromStateToState(p.Init,p.Prepare)},didPrepareForLoad:function(){this.transitionFromStateToState(p.Prepare,p.Finalize),this.get("driver").applicationDidPrepareForLoad()},didBecomeLoaded:function(){this.transitionFromStateToState(p.Finalize,f.Prepared)},willBecomeActive:function(){this.fatalErrorIfNotInState(f.Prepared,f.Suspended),this.setState(f.Activating)},didBecomeActive:function(){this.transitionFromStateToState(f.Activating,f.Active)},willBecomeSuspended:function(){this.transitionFromStateToState(f.Active,f.Suspending)},didBecomeSuspended:function(){this.transitionFromStateToState(f.Suspending,f.Suspended)},willBecomeUnloaded:function(){this.setState(_),this.get("driver").didStartDeactivation()},didBecomeUnloaded:function(){this.transitionFromStateToState(_,h),this.get("driver").didFinishDeactivation()},didFetchStartup:function(e,t,i){},quotaDataDidChange:a._6,receiveMeCard:a._6,didReceiveNotification:a._6,isReadyToTerminate:a._105(!0),setIsReadyToTerminateBlock:function(e){a._74(e)||a._75("You must call setIsReadyToTerminateBlock with an identifying token.",this);var t=this._suddenTerminationBlockTokenSet;t||(t=this._suddenTerminationBlockTokenSet=new Set),t.add(e),this.isReadyToTerminate=!1},removeIsReadyToTerminateBlock:function(e){a._74(e)||a._75("You must call removeIsReadyToTerminateBlock with an identifying token.",this);var t=this._suddenTerminationBlockTokenSet;t||(t=this._suddenTerminationBlockTokenSet=new Set),t.delete(e),0===t.size&&(this.isReadyToTerminate=!0)},_suddenTerminationBlockTokenSet:null,shouldRefresh:function(){},toString:function(){return"["+a._80(this)+": "+this._name+"]"},fatalExceptionHandlerClass:o.a,handleException:function(e){var t=arguments;this.__s._$2pY$handleException.apply(this,t),this.fatalExceptionHandlerClass.create({error:e}).handleException()},_isReadyToTerminateDidChange:a._98("isReadyToTerminate",function(e){this._isReadyToTerminate=e;var t=this.get("cloudOSService");t&&t.isReadyToTerminateDidChange(e)}),transitionFromStateToState:function(){var e=arguments;this.__s._$2_G$transitionFromStateToState.apply(this,e),this.propertyChanged("cloudOSState")},setState:function(){var e=arguments;this.__s._$30o$setState.apply(this,e),this.propertyChanged("cloudOSState")},redirectToCloudOSIfNeeded:function(){var e=window.location.pathname;if(window===window.top&&"/"!==e){var t=e.match(/\/applications\/(.*?)\//);t&&t[1]&&(window.location="https://"+window.location.hostname+"/#"+t[1])}},appPreferencesDidChange:a._6,accountPreferencesDidChange:a._6,userDidRevalidate:a._6,didFetchAppUrl:a._6,willResolveCKShortGUID:a._6,didResolveCKShortGUID:a._6,didFailToResolveCKShortGUID:a._6,didResolveCKShortGUIDWithoutAcceptance:a._6,ckShortGUIDDidChange:a._6,_sleep:a._6,_wake:a._6,_hasReceivedFocus:a._6,_mouseMove:a._6,_mouseUp:a._6,staticMembers:{__QUALIFIED_CLASS_NAME__:"Application"},__superMap:{_$s7$init:"init",_$2pY$handleException:"handleException",_$2_G$transitionFromStateToState:"transitionFromStateToState",_$30o$setState:"setState"}})},function(e,t,i){"use strict";i.d(t,"d",function(){return g}),i.d(t,"c",function(){return v}),i.d(t,"b",function(){return y}),i.d(t,"a",function(){return b});var u=i(0),n=i(633),r=i(636),a=i(638),s=i(142),o=i(639),c=i(640),l=i(649),d=i(347),h=i(349),p=i(15),f={"https://www.icloud.com":!0,"https://beta.icloud.com":!0,"https://future.icloud.com":!0,"https://carry.icloud.com":!0},_=window,m=n.a.Activating.Init.createSubstate("WaitingForCloudOSRunMessage"),g=2,v=3,y=4,b=n.b.extend(o.a,{_rpcCallbacks:u._85(Object),initiatedCloudKitJSLoading:!1,inputChannel:u._107({readOnly:!0}),outputChannel:u._107({readOnly:!0}),cloudOSMethodNames:null,cloudOSState:null,originForIO:null,environment:u._105(u._85(c.a)),init:function(e){var t=arguments;this.__s._$1y2$init.apply(this,t),window.CloudOS=a.a,window.CK=r.a,this._cosMessageHandlers={};var i=this.application;this.setCloudMessageHandler("_applicationShouldInvokeMain",this,this._cosMessagePrepareApplicationForLoad),this.setCloudMessageHandler("_cloudOSStateChange",this,this._cosMessageCloudOSStateChange),this.setCloudMessageHandler("_clearUserState",this,this._cosMessageClearUserState),this.setCloudMessageHandler("applicationWillBecomeActive",i,i.willBecomeActive),this.setCloudMessageHandler("applicationDidBecomeActive",i,i.didBecomeActive),this.setCloudMessageHandler("applicationWillSuspend",i,i.willBecomeSuspended),this.setCloudMessageHandler("applicationDidSuspend",i,i.didBecomeSuspended),this.setCloudMessageHandler("applicationShouldRefresh",i,i.shouldRefresh),this.setCloudMessageHandler("didFetchStartup",i,i.didFetchStartup),this.setCloudMessageHandler("receiveMeCard",i,i.receiveMeCard),this.setCloudMessageHandler("userDidRevalidate",i,i.userDidRevalidate),this.setCloudMessageHandler("quotaDataDidChange",i,i.quotaDataDidChange),this.setCloudMessageHandler("accountPreferencesDidChange",i,i.accountPreferencesDidChange),this.setCloudMessageHandler("didReceiveNotification",i,i.didReceiveNotification),this.setCloudMessageHandler("willResolveCKShortGUID",i,i.willResolveCKShortGUID),this.setCloudMessageHandler("didResolveCKShortGUID",i,i.didResolveCKShortGUID),this.setCloudMessageHandler("didFailToResolveCKShortGUID",i,i.didFailToResolveCKShortGUID),this.setCloudMessageHandler("didResolveCKShortGUIDWithoutAcceptance",i,i.didResolveCKShortGUIDWithoutAcceptance),this.setCloudMessageHandler("ckShortGUIDDidChange",i,i.ckShortGUIDDidChange),this.setCloudMessageHandler("didFetchAppUrl",i,i.didFetchAppUrl),this.setCloudMessageHandler("_sleep",i,i._sleep),this.setCloudMessageHandler("_wake",i,i._wake),this.setCloudMessageHandler("_hasReceivedFocus",i,i._hasReceivedFocus),this.setCloudMessageHandler("_mouseMove",i,i._mouseMove),this.setCloudMessageHandler("_mouseUp",i,i._mouseUp)},loadInputChannelForWindow:function(e){var t=window["cosk.system.applicationDriver.loadInputChannelDelegate"];return t?(this.logTrace("using delegate to load input channel"),t(this,e)):l.a.create({window:e})},loadOutputChannelForWindowWithOrigin:function(e,t){var i=window["cosk.system.applicationDriver.loadOutputChannelDelegate"];return i?(this.logTrace("using delegate to load output channel"),i(this,e,this.originForIO)):d.a.create({window:e,origin:this.originForIO})},setCloudMessageHandler:function(e,t,i){this._cosMessageHandlers[e]={target:t,action:i}},didStartInitialActivation:function(){var e=arguments;this.__s._$2xL$didStartInitialActivation.apply(this,e);var t=this._getInputChannelWindow(),i=void 0;for(i in f){var n=f[i]=this.loadInputChannelForWindow(t);n.addTargetActionForOrigin(this,"_handleIncomingCloudOSMessage",i),n.open()}this.logTrace("waiting for initial CloudOS message"),this.setState(m)},didStartFinalizingActivation:function(){var e=arguments;this.__s._$358$didStartFinalizingActivation.apply(this,e),this._sendCloudOSMessage("applicationIsReady"),this.didFinishFinalizingActivation()},isReadyToTerminateDidChange:function(e){this._sendCloudOSMessage("isReadyToTerminateDidChange",e)},sendCloudOSMessage:function(e){e||(e={}),e.isCloudOSMessage||(e.isCloudOSMessage=!0),e.appName||(e.appName=this.application.name);var t=u._125();e.id=t;var i=this._rpcCallbacks,n=u.w.create();i[t]=n,u._116(function(e){var t=new Error("Timed out.");e.reject(t)},15e3,n);var r=this.outputChannel;return r?r.sendMessage(e):u._100.warn("Could not send message.",e),n},_handleIncomingCloudOSMessage:function(e){var t=e.data;if(!this.originForIO){var i=void 0;for(i in f)i!==e.origin?(f[i].close(),f[i]=!1):this._inputChannel=f[i];this.originForIO=e.origin}if(t.isCloudOSMessage){if(!this._outputChannel){var n=this.getIOChannelOrigin(),r=this._outputChannel=this.loadOutputChannelForWindowWithOrigin(e.source,n);this.logTrace("loaded output channel"),r.open()}var a=t.methodName,s=t.args;this.logTrace("Received CloudOS message "+a),this._dispatchCloudOSMessageForMethodName(a,s)}else u._100.debug("ApplicationDriver._handleIncomingCloudOSMessage: Received message not from CloudOS, ignoring.")},_dispatchCloudOSMessageForMethodName:function(e,t){var i=t[0],n=this._rpcCallbacks,r=n[i];if(r){delete n[i],this._rpcCallbacks=n,t.shift();var a=t.shift();try{r.resolve(a)}catch(e){this.handleApplicationCrash({error:e.message||""+e},u._100.stringifyRecordedLogMessages())}}else{var s=this._cosMessageHandlers[e];if(s){var o=s.target,c=s.action,l=u._95(c)?o[c]:c;try{l.apply(o,t)}catch(e){this.handleApplicationCrash({error:e.message||""+e,action:c.toString(),isMethod:!!o[c]},u._100.stringifyRecordedLogMessages())}}else u._100.info(this+" No handler for CloudOS message "+e)}},_sendCloudOSMessage:function(e){this.logTrace("sending CloudOS message "+e);var t=u._119(arguments,1),i=this._createMessageForCloudOS(e,t),n=this.outputChannel;n?n.sendMessage(i):u._100.warn("Could not send message. "+i)},_sendCloudOSMessageWithPromise:function(e){this.logTrace("sending CloudOS message with promise "+e);var t=u._119(arguments,1),i=this._createMessageForCloudOS(e,t);return this.sendCloudOSMessage(i)},_createMessageForCloudOS:function(e,t){return{isCloudOSMessage:!0,methodName:e,appName:this.application.name,args:t,buildNumber:window.__CW_BUILD_INFO.buildNumber,masteringNumber:window.__CW_BUILD_INFO.masteringNumber}},getIOChannelOrigin:function(){return window["cosk.system.applicationDriver.ioChannelOrigin"]||this.originForIO},_getInputChannelWindow:function(){return window["cosk.system.applicationDriver.inputChannelWindow"]||_},_cosMessagePrepareApplicationForLoad:function(e,t,i,n){var r=this;this.fatalErrorIfNotInState(m),this.cloudOSMethodNames=e,this.cloudOSState=t,this.environment.processCloudOSEnvironment(t).then(function(){window.addEventListener("unload",function(){r.appWillUnload()}),r.didFinishInitialActivation()})},_cosMessageCloudOSStateChange:function(e){var t=this.environment;this._checkIfAppPreferencesChanged(e),t.processCloudOSEnvironment(e)},_cosMessageClearUserState:function(){this.environment.clearUserState()},_checkIfAppPreferencesChanged:function(e){var t=e.appPreferences,i=this.application,n=void 0;if(t)for(n in t)n===i.get("name")&&i.appPreferencesDidChange()},showAppSwitcher:function(e){e||(e=I),this._sendCloudOSMessage("showAppSwitcher",{top:e.get("top"),left:e.get("left"),width:e.get("width"),height:e.get("height")})},showSpringBoard:function(){this._sendCloudOSMessage("showSpringBoard")},showAccountSettings:function(){this._sendCloudOSMessage("showAccountSettings")},performLogout:function(){this._sendCloudOSMessage("performLogout"),this.get("application").willBecomeUnloaded()},reload:function(){this._sendCloudOSMessage("reload"),this.get("application").willBecomeUnloaded()},appWillUnload:function(){var e=u._100.stringifyRecordedLogMessages();this._sendCloudOSMessage("appWillUnload",e)},recordStat:function(e,t){this._sendCloudOSMessage("recordStat",e,t)},requestSent:function(){this._sendCloudOSMessage("requestSent")},requestReceived:function(e,t,i,n){this._sendCloudOSMessage("requestReceived",e,t,i,n)},beginStat:function(e,t){this._sendCloudOSMessage("beginStat",e,t)},endStat:function(e,t){this._sendCloudOSMessage("endStat",e,t)},invokeMethodOnCloudOS:function(e){this._sendCloudOSMessage.apply(this,arguments)},handleApplicationCrash:function(e,t){var i=p.a.authBag,n=p.a.currentUser,r={};r.applicationName=p.a.cloudOSApplication.name,r.type="exception",r.applicationBuildNumber=__CW_BUILD_INFO.buildNumber,r.applicationMasteringNumber=__CW_BUILD_INFO.masteringNumber,r.environment=i.get("iCloudEnvironment"),r.isFatal=!0,r.time=new Date+"        ("+Date.now()+")",r.host=window.location.host,r.userAgent=navigator.userAgent+"",n&&(r.dsid=n.dsid),Object.assign(r,e),this._sendCloudOSMessage("handleApplicationCrash",r,t)},exit:function(e,t){this.get("state")!==n.a.Deactivating&&(this._sendCloudOSMessage("exit",e,t),this.get("application").willBecomeUnloaded())},showHelp:function(e){var t=p.a.currentUser.statusCode===h.a.statusCodes.LITE,i=u._81(),n="en"===i?"":"?lang="+i,r=u.j.sharedInstance.isChrome?705:675,a="http://help.apple.com/"+(t?"icloudwebonly":"icloud");a=a+"/"+n,e&&(a+="#"+e),window.open(a,"help","height="+r+",width=875,location=0,status=0,scrollbars=0")},setAppBanner:function(e){var t=this.application;this._sendCloudOSMessage("setAppBanner",e,t.name)},openIWorkFile:function(e){var t=e.appName;t=t.replace(/-tef$/,"");var i=e.sharingToken,n=e.zone,r=e.documentId,a=p.a.currentUser.dsid,s=void 0;i?s=u._77("//www.icloud.com/%{appName}/%{sharingToken}",{appName:t,sharingToken:i}):r&&(s=u._77("//www.icloud.com/%{appName}/docws:%{dsid}:%{zone}:%{docId}",{appName:t,dsid:a,zone:n,docId:r})),window.open(s,"_blank")},getValidateToken:function(){return u.t.create().getCookie("X-APPLE-WEBAUTH-VALIDATE")},setStartupUrl:function(e){this._sendCloudOSMessage("setStartupUrl",e),this.environment.requestedStartupUrl=e},setStartupInfo:function(e){this._sendCloudOSMessage("setStartupInfo",e),this.environment.requestedStartupInfo=e},refreshQuotaData:function(){this._sendCloudOSMessage("refreshQuotaData")},fetchIcon:function(e,t,i,n){return i||(i=u.C.sharedInstance.devicePixelRatio),this._sendCloudOSMessageWithPromise("fetchIcon",e,t,i,n)},getConformingTypes:function(e){return this._sendCloudOSMessageWithPromise("getConformingTypes",e)},fetchBlankFolderIcon:function(e,t,i){return i||(i="web"),this.fetchIcon("public.folder",e,t,i)},fetchBlankFileIcon:function(e,t,i){return i||(i="web"),this.fetchIcon("public.item",e,t,i)},requestMeCard:function(){this._sendCloudOSMessage("requestMeCard")},setRoute:function(e){this._sendCloudOSMessage("setRoute",e)},openIWorkDocument:function(e,t,i){var n={isCloudOSMessage:!0,methodName:"openFromSource",isWindowApplicationMessage:!0,args:{fileName:e,url:t,source:this.getPath("application.name")}},r="/iw/#open_from_source/"+i,a=s.a.openWindowApplication(r,"_blank");s.a.passWindowApplicationMessage(a,"openFromSource",n.args)},setAppPreferences:function(e){this._sendCloudOSMessage("setAppPreferences",e)},setAccountPreference:function(e,t){this._sendCloudOSMessage("setAccountPreference",e,t)},revalidateUser:function(){return this._sendCloudOSMessageWithPromise("revalidateUser")},didReceiveSpecialResponse:function(e,t,i){this._sendCloudOSMessage("didReceiveSpecialResponse",e,t,i)},sendLocalNotification:function(e,t,i,n){this._sendCloudOSMessage("sendLocalNotification",e,t,i,n)},loadCloudKitJS:function(e){var t=this.initiatedCloudKitJSLoading;if(!window.CloudKit&&!t){var i=e||p.a.environment.versions.cloudkitjs,n="cdn.apple-cloudkit.com";p.a.environment.isCarry&&(n="carry.icloud.com");var r="https://"+n+"/ck/"+i+"/cloudkit.js",a=document.createElement("script");a.setAttribute("src",r),document.head.appendChild(a),this.initiatedCloudKitJSLoading=!0}},isHostReachable:function(e){var t=u._53.create(e);return t.pathname="/blank.png",u._29.create({url:t}).send()},replaceCurrentApp:function(e){this._sendCloudOSMessage("replaceCurrentApp",e)},fetchAppUrl:function(e,t){this._sendCloudOSMessage("fetchAppUrl",e,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationDriver"},__superMap:{_$1y2$init:"init",_$2xL$didStartInitialActivation:"didStartInitialActivation",_$358$didStartFinalizingActivation:"didStartFinalizingActivation"}}),I={top:0,left:0,width:0,height:0,get:function(e){return this[e]}}},function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return p});var n=i(0),r=i(194),a=i(141),s=i(195),o=Object(s.a)("Application Driver",function(e){e("Inactive"),e("Activating",function(e){e("Init"),e("WaitAppPrepared"),e("Finalize")}),e("Active",function(e){e("Ready")}),e("Deactivating"),e("FatalError")}),c=o.Inactive,l=o.Activating,u=o.Active,d=o.Deactivating,h=o.FatalError,p=n.v.extend(a.a,r.a,{application:n._107({readOnly:!0}),state:n._107({readOnly:!0,get:function(){return this.getCurrentStateForStateEnumGroup(o)}}),init:function(e){if(this.__s._$KS$init.call(this,e),!e||!e.application)throw n._75("Cannot create driver. Requires application");this.registerStateEnumGroup(o,c,h)},activate:function(){this.transitionFromStateToState(c,l.Init),this.didStartInitialActivation()},applicationDidPrepareForLoad:function(){this.transitionFromStateToState(l.WaitAppPrepared,l.Finalize),this.didStartFinalizingActivation()},didStartInitialActivation:function(){},didFinishInitialActivation:function(){this.transitionFromStateToState(l.Init,l.WaitAppPrepared),this.get("application").prepareForLoad()},didStartFinalizingActivation:function(){},didFinishFinalizingActivation:function(){this.transitionFromStateToState(l.Finalize,u.Ready),this.get("application").didBecomeLoaded()},didStartDeactivation:function(){this.setState(d)},didFinishDeactivation:function(){this.setState(c)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BaseApplicationDriver"},__superMap:{_$KS$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(635),r=[4278190080,4294901760,4294967040,4294967280,4294967295],o=[24,16,8,4,0],a=function(e,t,i,n,r){this.name=e,this.value=t,this.level=n,this.parent=i||null,this.group=r||null;var a,s=t<<o[n];this.fullValue=i?i.fullValue+s:s,this.fullName=i?i.fullName+"."+e:e,this._nextSubstateValue=(a=0,function(){return a+=1}),r||Object.freeze(this)},s=a.prototype;s.equals=function(e){return e.fullValue===this.fullValue},s.substateOf=function(e){return!(this.level<=e.level)&&(this.fullValue&r[e.level])===e.fullValue},s.superstateOf=function(e){return!(this.level>=e.level)&&(e.fullValue&r[this.level])===this.fullValue},s.contains=function(e){return this.equals(e)||e.substateOf(this)},s.createSubstate=function(e){return new a(e,this._nextSubstateValue(),this,this.level+1,this.group)},s.toString=function(){var e=this.group,t=e?e.name+" State":"StateEnum",i=e?"":" <"+Object(n.a)(this.fullValue,!0)+">";return"["+t+": "+this.fullName+i+"]"}},function(e,t,i){"use strict";t.a=function(e,t){var i="";t=!!t;for(var n=0;n<=7;n++){t&&0<n&&n%2==0&&(i+=" "),i+=r[(e&4026531840>>>4*n)>>>4*(7-n)]}return i};var r="0123456789ABCDEF"},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(142),r={windowApplicationDidInitialize:function(e){var t=n.a.resolveInstanceIfNeeded(e);n.a.windowApplicationDidInitialize(t)},passPendingWindowApplicationMessages:function(e){var t=n.a.resolveInstanceIfNeeded(e);n.a.passPendingWindowApplicationMessages(t)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(348).a.extend({origin:n._107({readOnly:!0}),init:function(e){this.__s._$3k$init.call(this,e),e.origin||n._75("Cannot create output channel. Requires origin")},sendMessage:function(e){},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseOutputChannel"},__superMap:{_$3k$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(142),a=i(15),n={windowApplicationHasInitialized:function(e,t,i){e=r.a.resolveInstanceIfNeeded(e);var n=a.a.getPath("cloudOSApplication.driver");r.a.windowApplicationDidInitialize(e),i||r.a.passWindowApplicationMessage(e,"_applicationShouldInvokeMain",n.get("cloudOSMethodNames"),n.get("cloudOSState")),r.a.passPendingWindowApplicationMessages(e)},windowApplicationIsKnown:function(e){return e=r.a.resolveInstanceIfNeeded(e),r.a.windowApplicationIsRegistered(e)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._8],environment:null,showAppSwitcher:function(e){},showSpringBoard:function(){},showAccountSettings:function(){},performLogout:function(){},reload:function(){},showHelp:function(e){},recordStat:function(e,t){},beginStat:function(e,t){},endStat:function(e,t){},showLocalNotification:function(e){},invokeMethodOnCloudOS:function(e){},handleApplicationCrash:function(e,t){},exit:function(e,t){},setAppBanner:function(e){},openIWorkFile:function(e){},openIWorkDocument:function(e,t,i){},getValidateToken:function(){},isReadyToTerminateDidChange:function(e){},setStartupUrl:function(e){},setStartupInfo:function(e){},requestReceived:function(e,t,i){},refreshQuotaData:n._6,requestMeCard:n._6,setRoute:function(e){},setAppPreferences:function(e){},setAccountPreference:function(e,t){},revalidateUser:function(){},getConformingTypes:function(e){},fetchIcon:function(e,t,i,n){},fetchBlankFolderIcon:function(e,t,i){},fetchBlankFileIcon:function(e,t,i){},sendLocalNotification:function(e,t,i,n){},didReceiveSpecialResponse:function(e,t,i){},loadCloudKitJS:function(e){},replaceCurrentApp:function(e){},fetchAppUrl:function(e,t){}}},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var s=i(0),n=i(641),r=i(644),a=i(647),o=i(648),c=s._10.extend({cloudOSEnvironmentKey:null,processCloudOSValue:function(e,t){return e},clearUserState:function(e){return e},staticMembers:{__QUALIFIED_CLASS_NAME__:"EnvironmentProperty"}}),l=s._67("AuthenticationState",{NOT_AUTHENTICATED:0,PARTIALLY_AUTHENTICATED_HSA:1,AUTHENTICATED:2,PARTIALLY_AUTHENTICATED_MANAGED_APPLE_ID:3}),u=s.v.extend(s._8,{accountMenu:c.create(),activeXFileVersion:c.create(),authBag:c.create({defaultValue:function(){return r.a.create()},processCloudOSValue:function(e,t){return t.processAuthBag(e),t},clearUserState:function(){return r.a.create()}}),clientId:c.create(),versions:c.create(),currentlyActiveApplication:c.create(),route:c.create(),displayName:c.create(),accountPreferences:c.create(),appPreferences:c.create(),appParameters:c.create(),iCloudEnvironment:c.create({cloudOSEnvironmentKey:"environment"}),hostname:c.create(),isBeta:c.create(),isDeveloper:c.create(),isFuture:c.create(),isCarry:c.create(),isCarryUser:c.create(),requestedStartupUrl:c.create(),requestedStartupInfo:c.create(),userAuthenticationState:c.create(),userStatusCode:c.create(),pushToken:c.create(),useAdditionalTopLevelClassNamesProvidedByCloudOS:c.create({defaultValue:!0}),isUserNotAuthenticated:s._105({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign(function(){return this.userAuthenticationState===l.NOT_AUTHENTICATED.value},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===l.NOT_AUTHENTICATED.value}})}),isUserPartiallyAuthenticated:s._105({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign(function(){return this.userAuthenticationState===l.PARTIALLY_AUTHENTICATED_HSA.value},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===l.PARTIALLY_AUTHENTICATED_HSA.value}})}),isUserAuthenticated:s._105({readOnly:!0,dependencies:["userAuthenticationState"],get:Object.assign(function(){return this.userAuthenticationState===l.AUTHENTICATED.value},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===l.AUTHENTICATED.value}})}),isLiteAccount:s._105({readOnly:!0,dependencies:["userStatusCode"],get:Object.assign(function(){return 4===this.userStatusCode},{__CW__getter:function(e,t,i,n){return 4===n.internalGet(this,t[0+i])}})}),userIsAuthenticated:s._105({readOnly:!0,dependencies:["isUserAuthenticated"],get:Object.assign(function(){return this.get("isUserAuthenticated")},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),quotaData:c.create({defaultValue:function(){return a.a.create()},processCloudOSValue:function(e,t){return a.a.create(e)},clearUserState:function(){return a.a.create()}}),isUserOverQuota:s._105({readOnly:!0,dependencies:["quotaData"],get:Object.assign(function(){var e=this.quotaData;return e?e.get("overQuota"):null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.get("overQuota"):null}})}),_environmentProperties:null,initializeClass:function(){var e=arguments;this.__s._$1fl$initializeClass.apply(this,e);var t=this.getMetadataByType(c),i=this._environmentProperties={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];n=r.cloudOSEnvironmentKey||n,i[r.cloudOSEnvironmentKey=n]=r}},processCloudOSEnvironment:function(i){var n=this,r=s.w.create();return i?(this._processRegionFormattingRules(i).then(function(){var e=i.additionalClassNamesForBody;for(var t in e&&n._setupAdditionalClassNamesProvidedByCloudOS(e),i)i.hasOwnProperty(t)&&n._processCloudOSEnvironmentProperty(t,i[t]);r.resolve()}),r):r.resolve()},_processRegionFormattingRules:function(e){var t=s.w.create(),i=e.regionFormattingRules;if(i)if(e.regionFormattingRulesVersion===o.a.rulesVersion)s._100.info("RegionFormatter: registering CloudOS rules"),o.a.registerRegionFormat(i),t.resolve();else{var n=i.locale,r=e.regionFormattingRulesBaseUrl,a=this._getRegionFormattingHostInfo(r);s._100.info("RegionFormatter: version mismatch - loading new rules"),o.a.loadFormattingRules(a,n).then(function(){s._100.info("RegionFormatter: version mismatch - new rules loaded"),t.resolve()}).catch(function(e){s._75("Could not load default formatting rules (en-US)",e)})}else t.resolve();return t},_processCloudOSEnvironmentProperty:function(e,t){var i=this._environmentProperties[e];if(i&&i.processCloudOSValue){e=i.key;var n=this.get(e),r=i.processCloudOSValue.call(this,t,n);s._113(this,e,r)}},_setupAdditionalClassNamesProvidedByCloudOS:function(e){if(this.useAdditionalTopLevelClassNamesProvidedByCloudOS&&e){var t=e.split(",");document.documentElement.classList.add(t)}},_getRegionFormattingHostInfo:function(e){return e||(e="https://www.icloud.com/locales/"),n.a.create({urlString:e+o.a.rulesVersion,requestProperties:{useCredentialsIfCrossOrigin:!1}})},clearUserState:function(){var e=this.getMetadataByType(c);for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];this.set(t,i.clearUserState(this.get(t)))}},staticMembers:{__QUALIFIED_CLASS_NAME__:"Environment"},__superMap:{_$1fl$initializeClass:"initializeClass"}})},function(e,t,i){"use strict";var n=i(1227);i.d(t,"a",function(){return n.a}),i(642);var r=i(643);i.d(t,"b",function(){return r.RegionFormatter}),i(1230)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._20.extend({message:"INVALID_URL_ERROR",pattern:/[a-zA-Z0-9]{1,256}:\/\/[a-zA-Z0-9\-\.\/]{1,256}/i,staticMembers:{__QUALIFIED_CLASS_NAME__:"URLValidator"}})},function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){r.d(n,"RegionFormatter",function(){return t}),r.d(n,"region",function(){return i});var l=r(0),a=(r(1228),e.IntlPolyfill),t=l.v.extend({_region:null,_cachedNumberInstances:{},_cachedDateTimeInstances:{},_pendingRegionsToRegister:{},_is12HourTimeForRegions:{},SHORT_DATE:{month:"numeric",day:"numeric",year:"numeric"},MEDIUM_DATE:{month:"short",day:"numeric",year:"numeric"},LONG_DATE:{month:"long",day:"numeric",year:"numeric"},FULL_DATE:{weekday:"long",month:"long",day:"numeric",year:"numeric"},SHORT_TIME:{hour:"numeric",minute:"numeric"},MEDIUM_TIME:{hour:"numeric",minute:"numeric",second:"numeric"},LONG_TIME:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},FULL_TIME:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},registerRegionFormat:function(e){if(e&&a){var t=e.locale.toLowerCase();this._region=t,this._pendingRegionsToRegister[t]=e}else l._100.info("No Intl polyfill or region rules. Skipping RegionFormatter initialization.")},loadFormattingRules:function(n,r,a){n.validate()||l._75("Invalid hostInfo",n.errors);var e=l._53.create(n.urlString),t=l._29.create(n.requestProperties);a||(a={});var s=a.fallbackRegionFormat||"en-us",o="maxRetries"in a?a.maxRetries:3,i=e.pathname;"/"!==i.charAt(i.length-1)&&(e.pathname=i+"/");var c=this._getISOnameForRegion(r);return e.pathname=e.pathname+c+".json",t.url=e,t.send().then(function(e){var t=e.body;return this.registerRegionFormat(t),r}.bind(this)).catch(function(e){var t=r.split("-"),i=s;if(404===e.status&&r!==s&&1<t.length&&(t.pop(),i=t.join("-")),0<o)return i===s&&(a.maxRetries=o-1),this.loadFormattingRules(n,i,a);throw new Error("Cannot load region formatting rules from host.")}.bind(this))},getNumberFormatter:function(e){a||l._75("Cannot use Intl without polyfill."),this._registerPendingRegionFormats();var t=this._getCacheKeyForOptions(e),i=this._cachedNumberInstances[t];return i||(i=new a.NumberFormat(this._region,e),this._cachedNumberInstances[t]=i),i},getDateTimeFormatter:function(e){a||l._75("Cannot use Intl without polyfill."),this._registerPendingRegionFormats();var t=this._getCacheKeyForOptions(e),i=this._cachedDateTimeInstances[t];return i||(i=new a.DateTimeFormat(this._region,e),this._cachedDateTimeInstances[t]=i),i},is12HourTime:function(e){this._registerPendingRegionFormats();var t=e?e.toLowerCase():this._region;return this._is12HourTimeForRegions[t]},_registerPendingRegionFormats:function(){for(var e=this._pendingRegionsToRegister,t=Object.keys(e),i=0;i<t.length;i++){var n=e[t[i]];a.__addLocaleData(n);var r=n.locale.toLowerCase();this._is12HourTimeForRegions[r]=n.date.hour12,delete this._pendingRegionsToRegister[r]}},_getCacheKeyForOptions:function(e){return e?this._region+":"+l._83(e):this._region+":default"},_getISOnameForRegion:function(e){var t="",i=e?e.split("-"):["en","us"];return t=i[0].toLowerCase(),2<i.length?(t+="-"+this._capitalizeFirstLetter(i[1]),t+="-"+i[2].toUpperCase()):1<i.length&&(t+=2<i[1].length?"-"+this._capitalizeFirstLetter(i[1]):"-"+i[1].toUpperCase()),t},_capitalizeFirstLetter:function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RegionFormatter"}}),i=t.create()}.call(n,r(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i(0),r=i(645),n=i(349),s=a.v.extend(a._8,{user:a._105(a._85(n.a)),clientInfo:a._107(),processAuthBag:function(e){if(e){var t=e.hasMinimumDeviceForPhotosWeb;void 0===t&&(t=!0),this.set("hasMinimumDeviceForPhotosWeb",t);var i=this.user;i.loadInfo(e.dsInfo),i.loadInfo(e.iCloudInfo),this.set("iCloudEnvironment",e.environment),this.set("isAppleInternal",!(!e.requestInfo||!e.requestInfo.isAppleInternal)),this.set("clientInfo",e.requestInfo),this.set("hsaTrustedBrowser",e.hsaTrustedBrowser),this.loadServicesInfo(e.webservices)}},iCloudEnvironment:null,isAppleInternal:a._105(null),hsaTrustedBrowser:a._105(null),loadServicesInfo:function(e){var t,i,n;for(i in e||a._75("User.loadServicesInfo: `webservices` must be supplied"),t={},e)t[(n=a._68(e[i])).name=i]=r.a.create(n);this.set("servicesInfo",t)},getServiceInfoFor:function(e){e||a._100.warn("User.getServiceInfoFor(): `serviceName` must be specified");var t=this.get("servicesInfo");return t?t[e]:null},getServiceUrlFor:function(e,t){var i,n=this.getServiceInfoFor(e),r=null;return n?(r=n.get("url")||null)||(i=a._77("User.getServiceUrlFor(): Could not find the URL for %{name}",{name:e})):i=a._77("User.getServiceUrlFor(): Could not find service information for %{name}",{name:e}),i&&(t?a._75(i):a._100.error(i)),r},servicesInfo:a._105(),hasMinimumDeviceForPhotosWeb:a._105(!1),staticMembers:{__QUALIFIED_CLASS_NAME__:"AuthBag"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{name:n._107(),url:n._105(),status:n._105(),staticMembers:{__QUALIFIED_CLASS_NAME__:"ServiceInfo"}})},function(e,t,i){"use strict";t.a=function(e){return/^([A-Z0-9\.\-\_\+])*([A-Z0-9\+\-\_])+\@[A-Z0-9]+([\-][A-Z0-9]+)*([\.][A-Z0-9\-]+){1,8}$/i.test(e)},t.b=function e(t){var i=e._phoneNumberRegex;if(!i){var n="0-9\\uff10-\\uff19\\u0660-\\u0669\\u06F0-\\u06F9\\u0966-\\u096F\\u09E6-\\u09FF\\u0E50-\\u0E59";e._phoneNumberRegexAllDigits=new RegExp("^s*\\+?(["+n+"]+)s*$","gi"),i=e._phoneNumberRegex=new RegExp("^s*([+\\(])?((["+n+"]+)([\\(\\)\\s\\-\\+\\.\\,\\#]{1,3}|x|ext))+(["+n+"]+)s*$","gi")}var r=e._phoneNumberRegexAllDigits;return i.lastIndex=0,r.lastIndex=0,i.test(t)||r.test(t)},t.c=function(e){return e&&e.replace(/[^0-9]/g,"")}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{timeStamp:n._105((new Date).getTime()),storageUsageByMedia:n._105(),totalStorageInBytes:n._105(),commerceStorageInBytes:n._105(),usedStorageInBytes:n._105(),compStorageInBytes:n._105(),overQuota:n._105(),paidQuota:n._105(),staticMembers:{__QUALIFIED_CLASS_NAME__:"QuotaInfo"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(641).b.create({rulesVersion:4})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i(0),n=i(650),s=i(651),r=n.a.extend({init:function(e){this.__s._$3v$init.call(this,e),this._receivedMessageHandler=function(e){var t=e.data,i=e.origin,n=e.source;if(t&&i&&n){a._95(t)&&(t=JSON.parse(t));var r=s.a.create({data:t,origin:i,originalEvent:e});r.set("source",n),this.dispatchMessage.call(this,r)}}.bind(this)},willOpen:function(){a._61(this.window,"message",this._receivedMessageHandler),this.didOpen()},willClose:function(){a._109(this.window,"message",this._receivedMessageHandler),this.didClose()},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCInputChannel"},__superMap:{_$3v$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var l=i(0),n=i(348).a.extend({init:function(e){this.__s._$2x$init.call(this,e),this._allRegistedReceivers=[],this._registeredReceivers={}},addTargetActionForOrigin:function(e,t,i){var n=this._registeredReceivers[i];n||(n=this._registeredReceivers[i]=[]);var r={target:e,action:t};n.push(r),this._allRegistedReceivers.push(r)},removeTargetActionForOrigin:function(e,t,i){var n=this._registeredReceivers[i];this._removeTargetActionFromArray(e,t,n),this._removeTargetActionFromArray(e,t,this._allRegistedReceivers)},getTargetActionsForOrigin:function(e){return"*"===e?this._allRegistedReceivers:this._registeredReceivers[e]||null},dispatchMessage:function(e){var t=e.origin,i=this.getTargetActionsForOrigin(t),n=i?i.length:0,r=!1;this.logTrace("dispatching message from origin "+t);for(var a=0;a<n;a++){var s=i[a],o=s.target,c=s.action;l._95(c)&&(c=o[c],l._92(c)||l._75("Cannot dispath message. No method '"+c+"' for target",{channel:this,action:c,message:e})),this.logTrace("dispatching message to target "+o),c.call(o,e),r=!0}r||this.logTrace("No target-action pair for message")},_removeTargetActionFromArray:function(e,t,i){for(var n=i.length,r=null,a=0;a<n;a++){var s=i[a];if(s.target===e&&s.action===t){r=s;break}}r&&l._110(r,i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCBaseInputChannel"},__superMap:{_$2x$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({data:null,origin:null,source:null,originalEvent:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"RPCMessageEvent"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(15);Error.stackTraceLimit=1/0;var a=n.v.extend({init:function(){var e=arguments;this.__s._$64$init.apply(this,e)},error:null,handleException:function(){var e=this.get("_errorReportRequestBody");this.createModifiedErrorBodyBeforeSend&&(e=this.createModifiedErrorBodyBeforeSend(e)),r.a.get("cloudOSService").handleApplicationCrash(e,n._100.stringifyRecordedLogMessages())},createModifiedErrorBodyBeforeSend:null,_errorReportRequestBody:n._107({get:function(){var e=this.get("error"),t={};return t.error=e.message||""+e,t.errorContext=n._121(e.context),t.stack=this._truncateStack(e.stack),t.line=this._getErrorLineNumber(e),t}}),_truncateStack:function(e){if(!e)return e;var t=(e=e.trim()).split("\n"),i=t.length;if(i<=501)return e;var n=i-400-100;return t.splice(400,n,"... "+n+" lines truncated ..."),t.join("\n")},_getErrorLineNumber:function(e){var t=e.lineNumber||e.line;if(!t)try{var i=e.stack.split("\n")[1].split(":");t=i[i.length-2]}catch(e){t="Unknown"}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"FatalExceptionHandler"},__superMap:{_$64$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var a=i(0),n=i(654),r=i(655),s=i(15),o=a._67("EmbeddedCloudOSHost.State",["Inactive","LoggedOut","LoggingIn","LoggedIn","LoggingOut","Validating","FetchingPreferences"]),c=[{action:"showAccountSettings",disableWhenCurrentApp:"settings",target:"CloudOS",title:"iCloud Settings"},{action:"performLogout",target:"CloudOS",title:"Sign Out"}],l="_cloudOSStateChange",u=a.v.extend(a._8,a._34,{staticMembers:{State:o,__QUALIFIED_CLASS_NAME__:"CloudOSHost"},state:a._107({readOnly:!0,get:function(){return this._state}}),isActive:a._107({readOnly:!0,get:function(){return this._state!==o.Inactive}}),isLoggedOut:a._107({readOnly:!0,get:function(){return this._state===o.LoggedOut}}),isLoggingOut:a._107({readOnly:!0,get:function(){return this._state===o.LoggingOut}}),isLoggedIn:a._107({readOnly:!0,get:function(){return this._state===o.LoggedIn}}),isLoggingIn:a._107({readOnly:!0,get:function(){return this._state===o.LoggingIn}}),isFetchingPrefs:a._107({readOnly:!0,get:function(){return this._state===o.FetchingPreferences}}),origin:a._107({set:function(e){this._origin=e||null},get:function(){var e=this._origin;return e||(e=this._origin=this.loadDefaultOrigin()),e}}),accountMenuItems:a._107({set:function(e){this._accountMenuItems=e||null},get:function(){var e=this._accountMenuItems;return e||(e=this._accountMenuItems=this.loadDefaultAccountMenuItems()),e}}),setupService:null,regionFormatProvider:null,init:function(e){this.__s._$sL$init.call(this,e),this._messageHandlers={},this._appWindowProxy=this.loadApplicationWindowProxy(),this._cloudOSWindowProxy=this.loadCloudOSWindowProxy(),this._state=o.Inactive,this._userSession={},(this.logoutAlertViewController.nextResponder=this).addMessageHandler("performLogout",this.performLogout.bind(this)),this.addMessageHandler("setAccountPreference",this.setAccountPreference.bind(this))},addMessageHandler:function(e,t){e&&t||d("Invalid arguments. Cannot add message handler");var i=this._messageHandlers,n=i[e];n||(n=i[e]=[]),n.push(t)},activate:function(){this.isActive&&d("Cannot activate. Invalid state");var e=this.origin,t=this._appWindowProxy,i=this._cloudOSWindowProxy;e||d("Cannot activate. Host requires a valid origin"),t||d("Cannot activate. Host requires an application window proxy object"),i||d("Cannot activate. Host requires a CloudOS window proxy object"),this.regionFormatProvider||d("Cannot activate. Host requires a region format provider"),i.target=this,i.action=this._handleIncomingCloudOSApplicationMessage,t.origin=e,t.cloudOSHost=i,window["cosk.system.applicationDriver.inputChannelWindow"]=t,this._state=o.LoggedOut},loadApplicationWindowProxy:function(){return n.a.create()},loadCloudOSWindowProxy:function(){return p.create()},loadDefaultAccountMenuItems:function(){return c},loadDefaultOrigin:function(){var e=location.host.match(/^(www|beta|carry|future)\.icloud\.com$/);return"https://"+(e?e[0]:"www.icloud.com")},login:function(i,n){var r=this;this.isLoggedOut||d("Cannot login. Invalid state"),i&&n||d("Cannot login. Host requires a user name and password"),this._state=o.LoggingIn;var e=this.setupService;return e||d("Cannot login. Host requires a setup service"),e.login(i,n).then(function(e){return r._completeLogin(e),a.w.resolve()}).catch(function(e){r._state=o.LoggedOut;var t=h("Failed to log in");return t.nextError=e,t.username=i,t.password=n,a.w.reject(t)})},_filterPreferences:function(e){for(var n=e.apps,r={accountPreferences:{},appPreferences:{}},t=function(){var e=n[a],t=e["app-id"],i=e["registry-version"];"account"===t?(e.keys.forEach(function(e){r.accountPreferences[e.name]=e.data}),r.accountPreferences.preferencesVersion=i):(r.appPreferences[t]={},e.keys.forEach(function(e){r.appPreferences[t][e.name]=e.data}),r.appPreferences[t].preferencesVersion=i)},a=0;a<n.length;a++)t();return r},_completeLogin:function(e,t){var i=this._userSession={authorizationBag:e};this._state=o.LoggedIn;var n=this.regionFormatProvider.getFormattingRulesForLocale("en-us"),r={items:this.accountMenuItems},a=this._filterPreferences(t);this._accountPreferences=a.accountPreferences,this._appPreferences=a.appPreferences;var s={authBag:i.authorizationBag,regionFormattingRules:n,accountMenu:r,accountPreferences:a.accountPreferences,appPreferences:a.appPreferences};this._appWindowProxy.sendMessage("_applicationShouldInvokeMain",[null,s,null,null])},logout:function(){var n=this;this.isLoggedIn||this.isFetchingPrefs||d("Cannot logout user. Invalid state"),this._state=o.LoggingOut;var e={};s.a.currentUser.hsaEnabled&&(e.trustBrowser=this.hsaTrustedBrowser);var t=this.setupService;return t||d("Cannot login. Host requires a setup service"),t.logout(e).then(function(){return n._state=o.LoggedOut,n._userSession={},window.location.href="https://www.icloud.com/#postLoginRedirectUrl="+encodeURI(window.location.href),a.w.resolve()}).catch(function(e){n._state=o.LoggedIn;var t=h("Failed to log out");t.nextError=e;var i=self._userSession;return t.username=i.username,t.password=i.password,a.w.reject(t)})},validate:function(){var i=this;this._state=o.Validating;var e=this.setupService;return e||d("Cannot validate. Host requires a setup service"),e.validate().then(function(e){return i.fetchPreferences(e),a.w.resolve()}).catch(function(e){i._state=o.LoggedOut;var t=h("Not logged in, redirecting to CloudOS to sign in...");return t.nextError=e,window.location.href="https://www.icloud.com/#postLoginRedirectUrl="+encodeURI(window.location.href),a.w.reject(t)})},fetchPreferences:function(t){var i=this;this._state=o.FetchingPreferences;var e=this.keyValueService;return e||d("Cannot fetch preferences. Host requires a Key Value Service"),e.getPreferences(t).then(function(e){return i._completeLogin(t,e),a.w.resolve()}).catch(function(e){a._100.warn("Unable to fetch preferences"),i.logout()})},sendMessage:function(e,t){this.isLoggedIn||d("Cannot send message to application. Invalid state"),this._appWindowProxy.sendMessage(e,t)},sendWillBecomeActiveMessage:function(){this.sendMessage("applicationWillBecomeActive")},sendDidBecomeActiveMessage:function(){this.sendMessage("applicationDidBecomeActive")},sendQuotaDidChangeMessage:function(){this.sendMessage("quotaDataDidChange")},sendQuotaDataMessage:function(e){var t=[{quotaData:e}];this.sendMessage(l,t)},_handleIncomingCloudOSApplicationMessage:function(t,i){var e=t.methodName;switch(e){case"applicationIsReady":return this.sendWillBecomeActiveMessage(),void this.sendDidBecomeActiveMessage()}var n=this._messageHandlers[e];n?n.forEach(function(e){e.call(null,t,i)}):a._100.warn("EmbeddedCloudOSHost: Unhandled application message '"+e+"'")},showingLogoutAlert:a._105(!1),hsaTrustedBrowser:a._105(s.a.bindingFor("authBag.hsaTrustedBrowser")),logoutAlertViewController:a._105({defaultValue:a._85(r.a),downstreamBindings:{showingLogoutAlert:"(owner).showingLogoutAlert",hsaTrustedBrowser:"(owner).hsaTrustedBrowser"},strong:!0}),performLogout:function(){this.isLoggedOut||this.isLoggingOut||this.showingLogoutAlert?a._100.warn("Either the user is not logged in or logout process has already started. Ignoring new logout call."):(this.logoutAlertViewController.show(),this.showingLogoutAlert=!0)},setAccountPreference:function(e){var i=this,t=this.keyValueService;if(t||d("Cannot set Account Preference. Host requires a setup service"),e.args){var n=e.args[0],r=e.args[1];return t.setAccountPreference(n,r).then(function(e){var t=i._filterPreferences(e).accountPreferences;i._accountPreferences.preferencesVersion=t.preferencesVersion,i.sendMessage(l,[{accountPreferences:i._accountPreferences}]),a._100.info("Successfully saved account preference")}).catch(function(e){var t=h("Failed to set account preference");return t.nextError=e,a.w.reject(t)})}a._100.info("No account preference to save")},__superMap:{_$sL$init:"init"}});function d(e){a._75("EmbeddedCloudOSHost: "+e)}function h(e){return new Error("EmbeddedCloudOSHost: "+e)}var p=a.v.extend({target:null,action:null,postMessage:function(e,t){var i=this.target;this.action.call(i,e,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CloudOSWindowProxy"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({origin:null,cloudOSHost:null,init:function(e){this.__s._$2u$init.call(this,e),this._registeredEventListeners=[],this._messageQueue=[],this._sendingMessage=!1},addEventListener:function(e,t){this._registeredEventListeners.push(t)},removeEventListener:function(e,t){var i=this._registeredEventListeners,n=i.indexOf(t);0<=n&&i.splice(n,1)},sendMessage:function(e,t){this._messageQueue.push({methodName:e,args:t||[]}),this._trySendingNextMesssage()},_trySendingNextMesssage:function(){if(!this._sendingMessage){var e=this._messageQueue;if(0!==e.length){var s=e.shift(),o=this;this._sendingMessage=!0,setTimeout(function(){s.isCloudOSMessage=!0;for(var e=o.origin,t=o.cloudOSHost,i=o._registeredEventListeners,n=0,r=i.length;n<r;n++){var a=i[n];a&&a.call(window,{data:s,source:t,origin:e})}o._sendingMessage=!1,o._trySendingNextMesssage()})}}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ApplicationWindowProxy"},__superMap:{_$2u$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.c.extend({viewClass:n.b.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"hsaTrustedBrowserCheckbox"}]}],classes:["alert-text-container"]}],classes:["alert-main-content"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"primaryButtonView"},{type:"ELEMENT",tagname:"span",children:[],classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateButtonView",truevalue:"",falsevalue:"cw-hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"alternateButtonView"}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"otherButtonView"}],name:"buttonContainer",classes:["alert-button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"primaryButtonView",truevalue:"has-primary-btn",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"alternateButtonView",truevalue:"has-alternate-btn",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"otherButtonView",truevalue:"has-other-btn",attributes:{}}]}],name:"alertView",classes:["cw-alert"],attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"modalDialogRole",attributes:{},attribute:"role"},"aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"alertViewArialLabel",attributes:{},attribute:"aria-label"},tabindex:"-1"}}],name:"modalView",classes:["cw-alert-modal",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOpen",truevalue:"is-open",falsevalue:"is-closing",attributes:{}}]}}}),view:n._105({downstreamBindings:{hsaTrustedBrowserCheckbox:"(owner).hsaTrustedBrowserCheckbox"}}),showingLogoutAlert:n._105(),hsaTrustedBrowser:n._105(),iconNames:"icon-icloud",message:n._99("HSA.SignoutDialog.Title"),primaryButton:{title:n._99("HSA.SignoutDialog.SignoutButton"),action:"logout"},alternateButton:{title:n._99("Button.Cancel")},hsaTrustedBrowserCheckbox:n._105({defaultValue:n._85(n.m,{label:n._99("HSA.SignoutDialog.CheckboxTitle"),additionalClassNames:["cw-theme","cw-checkbox","hsa-trusted-browser"]}),downstreamBindings:{isChecked:"(owner).hsaTrustedBrowser"}}),logout:function(){return!1},modalDialogDidDismiss:function(){var e=arguments;this.__s._$dz$modalDialogDidDismiss.apply(this,e),this.showingLogoutAlert=!1,this.view.enableAllButtons()},staticMembers:{__QUALIFIED_CLASS_NAME__:"LogoutAlertViewController"},__superMap:{_$dz$modalDialogDidDismiss:"modalDialogDidDismiss"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend({rules:n._107({set:function(e){this._regionFormattingRules=e},get:function(){var e=this._regionFormattingRules;return e||(e=this._regionFormattingRules=this.loadRegionFormattingRules(),this.didLoadRegionFormattingRules(e)),e}}),loadRegionFormattingRules:function(){return{locale:"en-US",date:{ca:["gregory","buddhist","chinese","coptic","dangi","ethioaa","ethiopic","generic","hebrew","indian","islamic","islamic-rgsa","islamic-tbla","islamic-umalqura","islamicc","japanese","persian","roc"],hourNo0:!0,hour12:!0,formats:[{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",pattern:"{weekday}, {month} {day}, {year}, {hour}:{minute}:{second}",pattern12:"{weekday}, {month} {day}, {year}, {hour}:{minute}:{second} {ampm}"},{weekday:"short",month:"short",day:"numeric",year:"numeric",pattern:"{weekday}, {month} {day}, {year}"},{month:"short",day:"numeric",year:"numeric",pattern:"{month} {day}, {year}"},{month:"numeric",day:"numeric",year:"numeric",pattern:"{month}/{day}/{year}"},{month:"numeric",year:"numeric",pattern:"{month}/{year}"},{month:"short",year:"numeric",pattern:"{month} {year}"},{month:"short",day:"numeric",pattern:"{month} {day}"},{month:"numeric",day:"numeric",pattern:"{month}/{day}"},{hour:"numeric",minute:"2-digit",second:"2-digit",pattern:"{hour}:{minute}:{second}",pattern12:"{hour}:{minute}:{second} {ampm}"},{hour:"numeric",minute:"2-digit",pattern:"{hour}:{minute}",pattern12:"{hour}:{minute} {ampm}"}],calendars:{buddhist:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["BE"],short:["BE"],long:["BE"]},dayPeriods:{am:"AM",pm:"PM"}},chinese:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},coptic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"],long:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"],long:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},dangi:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},ethiopic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},ethioaa:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0"],short:["ERA0"],long:["ERA0"]},dayPeriods:{am:"AM",pm:"PM"}},generic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},gregory:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["B","A","BCE","CE"],short:["BC","AD","BCE","CE"],long:["Before Christ","Anno Domini","Before Common Era","Common Era"]},dayPeriods:{am:"AM",pm:"PM"}},hebrew:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13","7"],short:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"],long:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13","7"],short:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"],long:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AM"],short:["AM"],long:["AM"]},dayPeriods:{am:"AM",pm:"PM"}},indian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"],long:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"],long:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Saka"],short:["Saka"],long:["Saka"]},dayPeriods:{am:"AM",pm:"PM"}},islamic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},islamicc:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-rgsa":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-tbla":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},"islamic-umalqura":{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},japanese:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Taika (645-650)","Hakuchi (650-671)","Hakuh (672-686)","Shuch (686-701)","Taih (701-704)","Keiun (704-708)","Wad (708-715)","Reiki (715-717)","Yr (717-724)","Jinki (724-729)","Tempy (729-749)","Tempy-kamp (749-749)","Tempy-shh (749-757)","Tempy-hji (757-765)","Temph-jingo (765-767)","Jingo-keiun (767-770)","Hki (770-780)","Ten- (781-782)","Enryaku (782-806)","Daid (806-810)","Knin (810-824)","Tench (824-834)","Jwa (834-848)","Kaj (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","Jgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy (889-898)","Shtai (898-901)","Engi (901-923)","Ench (923-931)","Shhei (931-938)","Tengy (938-947)","Tenryaku (947-957)","Tentoku (957-961)","wa (961-964)","Kh (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","Jgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Shryaku (990-995)","Chtoku (995-999)","Chh (999-1004)","Kank (1004-1012)","Chwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Chgen (1028-1037)","Chryaku (1037-1040)","Chky (1040-1044)","Kantoku (1044-1046)","Eish (1046-1053)","Tengi (1053-1058)","Khei (1058-1065)","Jiryaku (1065-1069)","Enky (1069-1074)","Shho (1074-1077)","Shryaku (1077-1081)","Eiho (1081-1084)","toku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich (1096-1097)","Shtoku (1097-1099)","Kwa (1099-1104)","Chji (1104-1106)","Kash (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh (1131-1132)","Chsh (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","Kji (1142-1144)","Teny (1144-1145)","Kyan (1145-1151)","Ninpei (1151-1154)","Kyju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","ho (1161-1163)","Chkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka (1169-1171)","Shan (1171-1175)","Angen (1175-1177)","Jish (1177-1181)","Ywa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky (1190-1199)","Shji (1199-1201)","Kennin (1201-1204)","Genky (1204-1206)","Ken-ei (1206-1207)","Shgen (1207-1211)","Kenryaku (1211-1213)","Kenp (1213-1219)","Shky (1219-1222)","J (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","Jei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En- (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","Hji (1247-1249)","Kench (1249-1256)","Kgen (1256-1257)","Shka (1257-1259)","Shgen (1259-1260)","Bun- (1260-1261)","Kch (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","Kan (1278-1288)","Sh (1288-1293)","Einin (1293-1299)","Shan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","ch (1311-1312)","Shwa (1312-1317)","Bunp (1317-1319)","Gen (1319-1321)","Genky (1321-1324)","Shch (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","Kkoku (1340-1346)","Shhei (1346-1370)","Kentoku (1370-1372)","Bunch (1372-1375)","Tenju (1375-1379)","Kryaku (1379-1381)","Kwa (1381-1384)","Gench (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K (1389-1390)","Meitoku (1390-1394)","ei (1394-1428)","Shch (1428-1429)","Eiky (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","Htoku (1449-1452)","Kytoku (1452-1455)","Ksh (1455-1457)","Chroku (1457-1460)","Kansh (1460-1466)","Bunsh (1466-1467)","nin (1467-1469)","Bunmei (1469-1487)","Chky (1487-1489)","Entoku (1489-1492)","Mei (1492-1501)","Bunki (1501-1504)","Eish (1504-1521)","Taiei (1521-1528)","Kyroku (1528-1532)","Tenmon (1532-1555)","Kji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh (1573-1592)","Bunroku (1592-1596)","Keich (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Shho (1644-1648)","Keian (1648-1652)","Sh (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp (1673-1681)","Tenwa (1681-1684)","Jky (1684-1688)","Genroku (1688-1704)","Hei (1704-1711)","Shtoku (1711-1716)","Kyh (1716-1736)","Genbun (1736-1741)","Kanp (1741-1744)","Enky (1744-1748)","Kan-en (1748-1751)","Hryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Kywa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp (1830-1844)","Kka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky (1861-1864)","Genji (1864-1865)","Kei (1865-1868)","M","T","S","H"],short:["Taika (645-650)","Hakuchi (650-671)","Hakuh (672-686)","Shuch (686-701)","Taih (701-704)","Keiun (704-708)","Wad (708-715)","Reiki (715-717)","Yr (717-724)","Jinki (724-729)","Tempy (729-749)","Tempy-kamp (749-749)","Tempy-shh (749-757)","Tempy-hji (757-765)","Temph-jingo (765-767)","Jingo-keiun (767-770)","Hki (770-780)","Ten- (781-782)","Enryaku (782-806)","Daid (806-810)","Knin (810-824)","Tench (824-834)","Jwa (834-848)","Kaj (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","Jgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy (889-898)","Shtai (898-901)","Engi (901-923)","Ench (923-931)","Shhei (931-938)","Tengy (938-947)","Tenryaku (947-957)","Tentoku (957-961)","wa (961-964)","Kh (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","Jgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Shryaku (990-995)","Chtoku (995-999)","Chh (999-1004)","Kank (1004-1012)","Chwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Chgen (1028-1037)","Chryaku (1037-1040)","Chky (1040-1044)","Kantoku (1044-1046)","Eish (1046-1053)","Tengi (1053-1058)","Khei (1058-1065)","Jiryaku (1065-1069)","Enky (1069-1074)","Shho (1074-1077)","Shryaku (1077-1081)","Eiho (1081-1084)","toku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich (1096-1097)","Shtoku (1097-1099)","Kwa (1099-1104)","Chji (1104-1106)","Kash (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh (1131-1132)","Chsh (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","Kji (1142-1144)","Teny (1144-1145)","Kyan (1145-1151)","Ninpei (1151-1154)","Kyju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","ho (1161-1163)","Chkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka (1169-1171)","Shan (1171-1175)","Angen (1175-1177)","Jish (1177-1181)","Ywa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky (1190-1199)","Shji (1199-1201)","Kennin (1201-1204)","Genky (1204-1206)","Ken-ei (1206-1207)","Shgen (1207-1211)","Kenryaku (1211-1213)","Kenp (1213-1219)","Shky (1219-1222)","J (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","Jei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En- (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","Hji (1247-1249)","Kench (1249-1256)","Kgen (1256-1257)","Shka (1257-1259)","Shgen (1259-1260)","Bun- (1260-1261)","Kch (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","Kan (1278-1288)","Sh (1288-1293)","Einin (1293-1299)","Shan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","ch (1311-1312)","Shwa (1312-1317)","Bunp (1317-1319)","Gen (1319-1321)","Genky (1321-1324)","Shch (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","Kkoku (1340-1346)","Shhei (1346-1370)","Kentoku (1370-1372)","Bunch (1372-1375)","Tenju (1375-1379)","Kryaku (1379-1381)","Kwa (1381-1384)","Gench (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K (1389-1390)","Meitoku (1390-1394)","ei (1394-1428)","Shch (1428-1429)","Eiky (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","Htoku (1449-1452)","Kytoku (1452-1455)","Ksh (1455-1457)","Chroku (1457-1460)","Kansh (1460-1466)","Bunsh (1466-1467)","nin (1467-1469)","Bunmei (1469-1487)","Chky (1487-1489)","Entoku (1489-1492)","Mei (1492-1501)","Bunki (1501-1504)","Eish (1504-1521)","Taiei (1521-1528)","Kyroku (1528-1532)","Tenmon (1532-1555)","Kji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh (1573-1592)","Bunroku (1592-1596)","Keich (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Shho (1644-1648)","Keian (1648-1652)","Sh (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp (1673-1681)","Tenwa (1681-1684)","Jky (1684-1688)","Genroku (1688-1704)","Hei (1704-1711)","Shtoku (1711-1716)","Kyh (1716-1736)","Genbun (1736-1741)","Kanp (1741-1744)","Enky (1744-1748)","Kan-en (1748-1751)","Hryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Kywa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp (1830-1844)","Kka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky (1861-1864)","Genji (1864-1865)","Kei (1865-1868)","Meiji","Taish","Shwa","Heisei"],long:["Taika (645-650)","Hakuchi (650-671)","Hakuh (672-686)","Shuch (686-701)","Taih (701-704)","Keiun (704-708)","Wad (708-715)","Reiki (715-717)","Yr (717-724)","Jinki (724-729)","Tempy (729-749)","Tempy-kamp (749-749)","Tempy-shh (749-757)","Tempy-hji (757-765)","Temph-jingo (765-767)","Jingo-keiun (767-770)","Hki (770-780)","Ten- (781-782)","Enryaku (782-806)","Daid (806-810)","Knin (810-824)","Tench (824-834)","Jwa (834-848)","Kaj (848-851)","Ninju (851-854)","Saiko (854-857)","Tennan (857-859)","Jgan (859-877)","Genkei (877-885)","Ninna (885-889)","Kampy (889-898)","Shtai (898-901)","Engi (901-923)","Ench (923-931)","Shhei (931-938)","Tengy (938-947)","Tenryaku (947-957)","Tentoku (957-961)","wa (961-964)","Kh (964-968)","Anna (968-970)","Tenroku (970-973)","Ten-en (973-976)","Jgen (976-978)","Tengen (978-983)","Eikan (983-985)","Kanna (985-987)","Ei-en (987-989)","Eiso (989-990)","Shryaku (990-995)","Chtoku (995-999)","Chh (999-1004)","Kank (1004-1012)","Chwa (1012-1017)","Kannin (1017-1021)","Jian (1021-1024)","Manju (1024-1028)","Chgen (1028-1037)","Chryaku (1037-1040)","Chky (1040-1044)","Kantoku (1044-1046)","Eish (1046-1053)","Tengi (1053-1058)","Khei (1058-1065)","Jiryaku (1065-1069)","Enky (1069-1074)","Shho (1074-1077)","Shryaku (1077-1081)","Eiho (1081-1084)","toku (1084-1087)","Kanji (1087-1094)","Kaho (1094-1096)","Eich (1096-1097)","Shtoku (1097-1099)","Kwa (1099-1104)","Chji (1104-1106)","Kash (1106-1108)","Tennin (1108-1110)","Ten-ei (1110-1113)","Eiky (1113-1118)","Gen-ei (1118-1120)","Hoan (1120-1124)","Tenji (1124-1126)","Daiji (1126-1131)","Tensh (1131-1132)","Chsh (1132-1135)","Hoen (1135-1141)","Eiji (1141-1142)","Kji (1142-1144)","Teny (1144-1145)","Kyan (1145-1151)","Ninpei (1151-1154)","Kyju (1154-1156)","Hogen (1156-1159)","Heiji (1159-1160)","Eiryaku (1160-1161)","ho (1161-1163)","Chkan (1163-1165)","Eiman (1165-1166)","Nin-an (1166-1169)","Ka (1169-1171)","Shan (1171-1175)","Angen (1175-1177)","Jish (1177-1181)","Ywa (1181-1182)","Juei (1182-1184)","Genryuku (1184-1185)","Bunji (1185-1190)","Kenky (1190-1199)","Shji (1199-1201)","Kennin (1201-1204)","Genky (1204-1206)","Ken-ei (1206-1207)","Shgen (1207-1211)","Kenryaku (1211-1213)","Kenp (1213-1219)","Shky (1219-1222)","J (1222-1224)","Gennin (1224-1225)","Karoku (1225-1227)","Antei (1227-1229)","Kanki (1229-1232)","Jei (1232-1233)","Tempuku (1233-1234)","Bunryaku (1234-1235)","Katei (1235-1238)","Ryakunin (1238-1239)","En- (1239-1240)","Ninji (1240-1243)","Kangen (1243-1247)","Hji (1247-1249)","Kench (1249-1256)","Kgen (1256-1257)","Shka (1257-1259)","Shgen (1259-1260)","Bun- (1260-1261)","Kch (1261-1264)","Bun-ei (1264-1275)","Kenji (1275-1278)","Kan (1278-1288)","Sh (1288-1293)","Einin (1293-1299)","Shan (1299-1302)","Kengen (1302-1303)","Kagen (1303-1306)","Tokuji (1306-1308)","Enkei (1308-1311)","ch (1311-1312)","Shwa (1312-1317)","Bunp (1317-1319)","Gen (1319-1321)","Genky (1321-1324)","Shch (1324-1326)","Kareki (1326-1329)","Gentoku (1329-1331)","Genk (1331-1334)","Kemmu (1334-1336)","Engen (1336-1340)","Kkoku (1340-1346)","Shhei (1346-1370)","Kentoku (1370-1372)","Bunch (1372-1375)","Tenju (1375-1379)","Kryaku (1379-1381)","Kwa (1381-1384)","Gench (1384-1392)","Meitoku (1384-1387)","Kakei (1387-1389)","K (1389-1390)","Meitoku (1390-1394)","ei (1394-1428)","Shch (1428-1429)","Eiky (1429-1441)","Kakitsu (1441-1444)","Bun-an (1444-1449)","Htoku (1449-1452)","Kytoku (1452-1455)","Ksh (1455-1457)","Chroku (1457-1460)","Kansh (1460-1466)","Bunsh (1466-1467)","nin (1467-1469)","Bunmei (1469-1487)","Chky (1487-1489)","Entoku (1489-1492)","Mei (1492-1501)","Bunki (1501-1504)","Eish (1504-1521)","Taiei (1521-1528)","Kyroku (1528-1532)","Tenmon (1532-1555)","Kji (1555-1558)","Eiroku (1558-1570)","Genki (1570-1573)","Tensh (1573-1592)","Bunroku (1592-1596)","Keich (1596-1615)","Genwa (1615-1624)","Kan-ei (1624-1644)","Shho (1644-1648)","Keian (1648-1652)","Sh (1652-1655)","Meiryaku (1655-1658)","Manji (1658-1661)","Kanbun (1661-1673)","Enp (1673-1681)","Tenwa (1681-1684)","Jky (1684-1688)","Genroku (1688-1704)","Hei (1704-1711)","Shtoku (1711-1716)","Kyh (1716-1736)","Genbun (1736-1741)","Kanp (1741-1744)","Enky (1744-1748)","Kan-en (1748-1751)","Hryaku (1751-1764)","Meiwa (1764-1772)","An-ei (1772-1781)","Tenmei (1781-1789)","Kansei (1789-1801)","Kywa (1801-1804)","Bunka (1804-1818)","Bunsei (1818-1830)","Tenp (1830-1844)","Kka (1844-1848)","Kaei (1848-1854)","Ansei (1854-1860)","Man-en (1860-1861)","Bunky (1861-1864)","Genji (1864-1865)","Kei (1865-1868)","Meiji","Taish","Shwa","Heisei"]},dayPeriods:{am:"AM",pm:"PM"}},persian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],long:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},standaloneMonths:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],long:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AP"],short:["AP"],long:["AP"]},dayPeriods:{am:"AM",pm:"PM"}},roc:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},standaloneMonths:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},standaloneDays:{narrow:["Su","Mo","Tu","We","Th","Fr","Sa"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Before R.O.C.","Minguo"],short:["Before R.O.C.","Minguo"],long:["Before R.O.C.","Minguo"]},dayPeriods:{am:"AM",pm:"PM"}}},defaultTimeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultDateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"}},number:{nu:["latn"],patterns:{decimal:{positivePattern:"{number}",negativePattern:"-{number}"},currency:{positivePattern:"{currency}{number}",negativePattern:"-{currency}{number}"},percent:{positivePattern:"{number}%",negativePattern:"-{number}%"}},symbols:{latn:{decimal:".",group:",",nan:"NaN",percent:"%",infinity:"",exponent:"E"}},currencies:{AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN",EUR:"",GBP:"",HKD:"HK$",ILS:"",INR:"",JPY:"",KRW:"",MXN:"MX$",NZD:"NZ$",THB:"",TWD:"NT$",USD:"$",VND:"",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF"},currencyCode:"USD"}}},didLoadRegionFormattingRules:function(e){},getFormattingRulesForLocale:function(e){return this.rules},staticMembers:{__QUALIFIED_CLASS_NAME__:"MockRegionFormatProvider"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var r=i(0),n=i(352),a=(i(196),r.v.extend(n.a,{clientBuildNumber:null,clientMasteringNumber:null,login:function(e,t){var i={apple_id:e,password:t,extended_login:!1},n=r._29.create({url:this._generateURLForPath("/setup/ws/1/login"),method:"POST",body:i,useCredentialsIfCrossOrigin:!0});return n.setHeader("Content-Type","text/plain"),n.send().then(function(){return{authorizationBag:n.response.body,sessionInfo:{}}}).catch(function(e){var t=s("Failed login request",e);return t.request=n,t.status=n.response.status,r.w.reject(t)})},logout:function(e){var i=this._request=r._29.create({url:this._generateURLForPath("/setup/ws/1/logout"),method:"POST",body:e,useCredentialsIfCrossOrigin:!0});return i.setHeader("Content-Type","text/plain"),i.send().catch(function(e){var t=s("Failed logout request",e);return t.request=i,t.status=i.response.status,r.w.reject(t)})},validate:function(){var i=r._29.create({url:this._generateURLForPath("/setup/ws/1/validate"),method:"POST",body:{},useCredentialsIfCrossOrigin:!0,shouldReportSuccess:!0,shouldReportFailure:!0});return i.send().then(function(){return i.response.body}).catch(function(e){var t=s("Faild validate request",e);return t.request=i,t.status=i.response.status,r.w.reject(t)})},_generateURLForPath:function(e){return this.__s._$lW$_generateURLForPath.call(this,"https://setup.icloud.com",e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RuntimeSetupService"},__superMap:{_$lW$_generateURLForPath:"_generateURLForPath"}}));function s(e,t){var i=new Error("RuntimeSetupService: "+e);return i.nextError=t,i}},function(e,n,r){"use strict";(function(t){r.d(n,"a",function(){return i});var o=r(0),e=r(354),c=r(15),i=o._53.extend(e.a,{isCOSKUrl:!0,serviceName:o._107({defaultValue:function(){var e=c.a.get("cloudOSApplication"),t=e.get("primaryServiceName");return t||(t=e.name),this.configureServiceURL(t),t},set:function(e){return this.configureServiceURL(e),e}}),clientIdQueryParamKey:o._105("clientId"),includeDSID:o._107({defaultValue:!0}),init:function(e){var t=arguments;this.__s._$W_$init.apply(this,t),this.setCOSQueryParameters(),this.configureServiceURL()},setCOSQueryParameters:function(){var e=t.__CW_BUILD_INFO;this.setQueryParameter("clientBuildNumber",e.buildNumber),this.setQueryParameter("clientMasteringNumber",e.masteringNumber),this.setQueryParameter(this.get("clientIdQueryParamKey"),c.a.getPath("environment.clientId")),this.includeDSID&&this.setQueryParameter("dsid",c.a.getPath("currentUser.dsid"))},configureServiceURL:function(e){var t=e||this.serviceName;if(t){var i=c.a.getPath("authBag.servicesInfo");if(!i)return o._100.warn("COSK.Network.URL: Missing servicesInfo from COSK.globals.authBag.servicesInfo");var n=c.a.getPath("cloudOSApplication.name"),r=i[t];if(r){var a=r.url;if(a&&o._95(a)){var s=o._53.create(a);this.protocol=s.protocol,this.hostname=s.hostname,this.port=s.port}}else if(t!==n)return o._100.warn("COSK.Network.URL: Invalid URL for service: "+t)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"URL"},__superMap:{_$W_$init:"init"}})}).call(n,r(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var u=i(0),d=i(15),n={shouldReportSuccess:u._107(!1),shouldReportFailure:u._107(!0),reportingPathname:u._107({defaultValue:"REDACTED"}),reportingMethod:null,_timeSent:null,send:function(){var e=arguments;this._timeSent=window.performance.now();var t=this.__s._$P7$send.apply(this,e);return d.a.get("cloudOSService").requestSent(),t},didComplete:function(){this.sendReport()},sendReport:function(e){var t=this.get("response");if(t){var i=this.get("url"),n=t.get("encodedBody"),r=this.get("method"),a=this.get("reportingMethod"),s=null,o=t.get("status").toString()[0],c=this.get("shouldReportSuccess"),l="5"===o||"0"===o;(this.get("shouldReportFailure")&&("4"===o||l)||c&&"2"===o)&&(s={httpMethod:a?a+" VIA "+r:r,statusCode:t.get("status"),hostname:i.get("hostname"),clientTiming:window.performance.now()-this._timeSent,uncompressedResponseSize:n?n.length:null,timedOut:this.get("state")===u._30.TIMEDOUT,urlPath:this.get("reportingPathname")||i.get("pathname")},Object.assign(s,e)),d.a.get("cloudOSService").requestReceived(s,t.get("status"),i.get("href"),l?n:void 0)}},__superMap:{_$P7$send:"send"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var o=i(0),c=i(8),n=i(352),l=(i(196),"/json/sync"),r=o.v.extend(n.a,{clientBuildNumber:null,clientMasteringNumber:null,getPreferences:function(e){var i=this,t=e.appsOrder;t.unshift("account");var n=o._29.create({url:this._generateURLForPath(l,e),method:"POST",body:this._generateBodyForPrefs(t),useCredentialsIfCrossOrigin:!0});return n.setHeader("Content-Type","text/plain"),n.send().then(function(){return n.response.body}).catch(function(e){var t=i.createError("Failed key value service request",e);return t.request=n,t.status=n.response.status,o.w.reject(t)})},setAccountPreference:function(e,t){var i=this,n=c.o.environment.accountPreferences,r=n.preferencesVersion,a={},s=void 0;return a[e]=t,n[e]=t,(s=o._29.create({url:this._generateURLForPath(l),method:"POST",body:this._generateBodyForPrefs(["account"],a,r),useCredentialsIfCrossOrigin:!0})).setHeader("Content-Type","text/plain"),s.send().then(function(){return s.response.body}).catch(function(e){var t=i.createError("Failed key value service request",e);return t.request=s,t.status=s.response.status,o.w.reject(t)})},createError:function(e,t){var i=new Error("KeyValueService: "+e);return i.nextError=t,i},_generateURLForPath:function(e,t){var i;if(i=t?t.webservices.keyvalue.url:c.o.environment.authBag.servicesInfo.keyvalue.url)return this.__s._$iT$_generateURLForPath.call(this,i,e)},_generateBodyForPrefs:function(e,n,r){return{"service-id":"appleprefs",apps:e.map(function(e){var t={"app-id":e,"registry-version":r||""};if(n){t.keys=[];var i=void 0;for(i in n)t.keys.push({name:i,data:n[i]})}return t})}},staticMembers:{__QUALIFIED_CLASS_NAME__:"KeyValueService"},__superMap:{_$iT$_generateURLForPath:"_generateURLForPath"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(662),a=n._21.extend({allowedLayouts:[n._12],viewClass:n.f.extend({additionalClassNames:n._60(["cosk-account-menu-popover"])}),arrowLength:26,desiredSize:n._64("contentController.view.desiredSize"),minimumSize:n._64("contentController.view.minimumSize"),createView:function(){var e=arguments,t=this.__s._$9l$createView.apply(this,e);return s.create({popoverView:t})},accountMenuItemWasSelected:function(e){return this.hide(),!0},updateLayout:function(){this.propertyChanged("anchor")},contentController:n._105({defaultValue:function(){return r.a.create()}}),modalTap:function(){this.toggle()},staticMembers:{__QUALIFIED_CLASS_NAME__:"AccountMenuPopoverViewController"},__superMap:{_$9l$createView:"createView"}}),s=n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"popoverView"}],classes:["cosk-account-menu-modal"]},className:"cosk-ui-title-bar-view-controllers-modal-view",__QUALIFIED_CLASS_NAME__:"ModalView"},layout:n._105(),anchorLayout:n._105(),arrowLength:n._105(),arrowWidth:n._105(),arrowAlignment:n._105(),horizontalAlignment:n._105(),verticalAlignment:n._105(),popoverView:n._105({downstreamBindings:{layout:"(owner).layout",anchorLayout:"(owner).anchorLayout",arrowLength:"(owner).arrowLength",arrowWidth:"(owner).arrowWidth",arrowAlignment:"(owner).arrowAlignment",horizontalAlignment:"(owner).horizontalAlignment",verticalAlignment:"(owner).verticalAlignment"}}),contentView:n._105(n._64("popoverView.contentView")),pointerDown:function(e){return this.sendEvent("modalTap"),!0}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(663),a=i(15),s=n._58.extend({viewClass:r.a,accountMenuItems:n._105({dependencies:[a.a.bindingFor("environment.accountMenu")],readOnly:!0,get:Object.assign(function(){var e=a.a.environment.accountMenu;return e&&e.items?e.items:[]},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]);return r&&r.items?r.items:[]}})}),createView:function(){return this.get("viewClass").create({accountMenuItems:this.bindingFor("accountMenuItems")})},accountMenuItemWasSelected:function(e){return a.a.get("cloudOSService").invokeMethodOnCloudOS(e),!1},showAccountSettings:function(){var e=a.a.get("cloudOSService");e.showAccountSettings.call(e)},signOut:function(){var e=a.a.get("cloudOSService");e.performLogout.call(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AccountMenuViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(1243),a=(i.n(r),i(664)),s=n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"accountMenuItemViews"}],classes:["cosk-account-menu"]},className:"cosk-ui-title-bar-account-menu-view",__QUALIFIED_CLASS_NAME__:"AccountMenu"},desiredSize:n._105({strong:!0,defaultValue:n._85(n._43,{width:100,height:100})}),minimumSize:n._105({strong:!0,binding:n._64("desiredSize")}),accountMenuItemViews:n._85(n._9),accountMenuItems:n._105(n._85(Array)),_accountMenuItemsObserver:n._106("accountMenuItems",function(e){var t=this.get("accountMenuItemViews");if(t.splice(0,t.get("length")),e){var i=e.length,n=0;for(n=0;n<i;n++)t.push(a.a.create(e[n]))}}),_remeasureIfNeeded:n._106("isAttached","_accountMenuItemsObserver",function(){if(this.get("isAttached")){this.get("style").set("width","auto").set("height","auto");var e=this.get("element"),t=this.get("desiredSize");t.set("width",e.offsetWidth),t.set("height",e.offsetHeight),this.get("style").set("width","").set("height","")}})})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).k.extend({action:null,callAction:function(){this.sendEvent("accountMenuItemWasSelected",this.action)},staticMembers:{className:"cosk-ui-title-bar-account-menu-item-view",__QUALIFIED_CLASS_NAME__:"AccountMenuItemView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(666),r=(i.n(n),i(355)),a=(i.n(r),i(0)),s=i(356),o=i(15),c=i(1245),l=i(1246),u=a._57.extend(a.l,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"span",children:[],classes:["cosk-icloud-logo"],name:"logoEl"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"appName",attributes:{signal:"appNameDidRender"}}],classes:["cosk-app-display-name"],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"appSwitcherTooltip",attributes:{},attribute:"title"}}},{type:"VIEWOUTLET",tagname:"view",children:[],name:"chevronView"}],classes:["cosk-app-switcher-trigger"]},className:"cosk-ui-title-bar-app-switcher-trigger-view",__QUALIFIED_CLASS_NAME__:"AppSwitcherButton"},additionalClassNames:a._60(["large-display-text"]),init:function(){var e=arguments;this.__s._$Fw$init.apply(this,e),this.logoEl.innerHTML=o.a.currentUser.isChineseAccount?l:c},chevronView:s.a.create(),appName:a._105(),appSwitcherTooltip:a._105({get:function(){return a._99("Toolbar.AppSwitcher.Tooltip")}}),action:"showAppSwitcher",showAppSwitcher:function(e){var t=this.getPath("parent.rect"),i=o.a.get("cloudOSService"),n=a._27.create({top:t.bottom,left:t.left+t.width/2,width:1,height:1});i.showAppSwitcher(n)},__superMap:{_$Fw$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(661),a=i(356),s=n._57.extend(n.l,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"displayName",attributes:{}}],classes:["cosk-display-name"]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"chevronView"}],classes:["cosk-user-display-name-wrapper"]},className:"cosk-ui-title-bar-display-name-view",__QUALIFIED_CLASS_NAME__:"AccountNameButton"},additionalClassNames:n._60(["large-display-text"]),chevronView:n._85(a.a),displayName:n._105(),action:"toggleAccountMenu",accountMenuPopoverController:n._105({defaultValue:function(){return r.a.create().retain()}}),tooltip:n._99("Toolbar.Button.Action.UserAction"),dispose:function(){var e=arguments;this.get("accountMenuPopoverController").release(),this.__s._$Ho$dispose.apply(this,e)},updateLayout:function(){this.get("accountMenuPopoverController").updateLayout()},toggleAccountMenu:function(){this.get("accountMenuPopoverController").toggle(this)},writeNameToDOMForMeasurement:function(e){this.get("element").querySelector(".cosk-display-name").childNodes[0].data=e},__superMap:{_$Ho$dispose:"dispose"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(15),a=i(1247),s=n._57.extend(n.l,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:["cosk-help-icon"],name:"iconEl"},className:"cosk-ui-title-bar-help-view",__QUALIFIED_CLASS_NAME__:"HelpButton"},init:function(){var e=arguments;this.__s._$6J$init.apply(this,e),this.iconEl.innerHTML=a},action:"showHelp",tooltip:n._99("Button.Help.Tooltip"),owner:n._105(),showHelp:function(e){r.a.get("cloudOSService").get("showHelp").call(this,this.get("helpAnchor"))},__superMap:{_$6J$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(15),a=function(e,t){Storage.setValueInSessionStorage("reloadReason",e),"PROD"!==r.a.environment.iCloudEnvironment&&Storage.setValueInSessionStorage("preReloadLogMessages",n._100.stringifyRecordedLogMessages()),t?window.location=t:window.location.reload(),r.a.isReloading=!0}},function(e,t,i){"use strict";t.a=function(e){var t=e.clientX,i=e.clientY;return n.a.create(t,i)};var n=i(107)},function(e,t,i){"use strict";t.a=function(e,t){n||((n=document.createElement("canvas")).width=10,n.height=10,n.style.hidden=!0,document.body.appendChild(n));var i=n.getContext("2d");return i.font=t,i.measureText(e)};var n=null},function(e,t,i){"use strict";t.a=function e(t){if(t){var i=t.getAttribute&&t.getAttribute("tabindex");if(null!==i&&isFinite(i)&&t.focus)t.focus();else for(var n=t.firstChild;n;n=n.nextSibling)e(n)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(189),r=i(0),a=r.v.extend({init:function(e){this.__s._$2e$init.call(this,e),this._pool=n.a.create()},dequeueCanvas:function(e){return this._pool.dequeueItemForKeyIdentifier(e)||null},enqueueCanvas:function(e,t){this._pool.queueItemForKeyIdentifier(e,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CanvasCache"},__superMap:{_$2e$init:"init"}}),s=r.v.extend({service:r._107({readOnly:!0,get:function(){return this._service}}),init:function(){this.__s._$DX$init.call(this),this._service=this.loadService()},loadService:function(){return a.create()},__superMap:{_$DX$init:"init"}}).create().get("service")},function(e,a,c){"use strict";(function(s){c.d(a,"a",function(){return r});var e=c(43),t=c(0),i=c(12),n=c(682),r=(c.n(n),i.a.extend({additionalClassNames:t._60(["navigation-bar"]),items:t._107({set:function(e){return e.slice()}}),topItem:t._107({readOnly:!0,get:function(){var e=this._items;return e[e.length-1]}}),spacing:10,minTitleWidth:60,init:function(e){this._items=[],this.__s._$Dd$init.call(this,e)},pushNavigationItem:function(e,t){var i=h(t,"animate",!0),n=this.get("items"),r=n.length,a=this.get("topItem"),s=this._leftButton,o=this._rightButton,c=this._titleLabel,l=this,u=i?function(e){l._fadeInSubview(e,1)}:function(e){l.addSubview(e)},d=i?function(e){l._fadeOutSubview(e,1)}:function(e){l.removeSubview(e)};s&&d(s),o&&d(o),c&&d(c),a&&delete a._cachedTitleLabelWidth,n.push(e),s=null,1<++r&&u(s=a.get("leftButton")),this._leftButton=s,o=this._rightButton=e.get("rightButton"),c=this._titleLabel=e.get("titleLabel"),o&&u(o),u(c),delete e._cachedTitleLabelWidth,this.setNeedsLayout()},popNavigationItem:function(e){var t=h(e,"animate",!0),i=this.get("items"),n=i.length,r=this,a=t?function(e){r._fadeInSubview(e,-1)}:function(e){r.addSubview(e)},s=t?function(e){r._fadeOutSubview(e,-1)}:function(e){r.removeSubview(e)};if(0!==n){var o=this._leftButton,c=this._rightButton,l=this._titleLabel;o&&s(o),c&&s(c),s(l),l=c=o=null;var u=0<(n=i.length=n-1)?i[n-1]:null,d=1<n?i[n-2]:null;u&&(c=u.get("rightButton"),l=u.get("titleLabel"),c&&a(c),a(l),delete u._cachedTitleLabelWidth),d&&(a(o=d.get("leftButton")),delete d._cachedTitleLabelWidth),this._leftButton=o,this._rightButton=c,this._titleLabel=l,this.setNeedsLayout()}},titleLblWidthAlreadyGrew:!1,layoutSubviews:function(){var e=this.get("topItem");if(e){var t=this._leftButton,i=this._rightButton,n=this._titleLabel,r=t?t.get("frame"):null,a=i?i.get("frame"):null,s=n.get("frame"),o=this.get("frame").get("width"),c=r?r.get("width"):0,l=s.get("width");this.titleLblWidthAlreadyGrew||(l+=4,this.titleLblWidthAlreadyGrew=!0);var u=a?a.get("width"):0,d=this.spacing,h=this.minTitleWidth;e._cachedTitleLabelWidth||(e._cachedTitleLabelWidth=l);var p=e._cachedTitleLabelWidth,f=o-u,_=Math.round(o/2)-Math.round(p/2);_<c+d&&(_=c+d),f-d<_+l&&(l-=l+_-(f-d))<h&&(f=_+(l=h)+d),r&&t.adjustPosition(0,0),a&&i.adjustPosition(f,0),n.adjustPosition(_,0),n.adjustSize(l,this.get("frame").get("height"))}},frameDidInvalidate:function(e,t){t&&this._clearTopItemCache(),this.setNeedsLayout()},subviewDidChangeDynamicContent:function(e){e._nbv_transitioningOut||(e.get("frame").reset(),this._clearTopItemCache(),this.setNeedsLayout())},_clearTopItemCache:function(){var e=this.get("topItem");e&&(e._cachedTitleLabelWidth=null)},_fadeInSubview:function(e,t){var i=e._animator;i||(i=e._animator=o.create({view:e})),++i.transitionIdx,e._nbv_transitioningOut=!1,e._nbv!==this&&(this.addSubview(e),e._nbv=this);var n=250;s.event&&s.event.shiftKey&&(n*=10),i.set("offsetX",150*t),i.animate("opacity",1,n),i.animate("offsetX",0,n)},_fadeOutSubview:function(e,t){var i=e._animator;i||(i=e._animator=o.create({view:e}));var n=++i.transitionIdx,r=this;e._nbv_transitioningOut=!0;var a=250;s.event&&s.event.shiftKey&&(a*=10),i.animate("opacity",0,a,function(){i.transitionIdx===n&&(r.removeSubview(e),e._nbv=null,e._nbv_transitioningOut=!1,e.get("style").translateX(0))}),i.animate("offsetX",150*-t,a)},staticMembers:{__QUALIFIED_CLASS_NAME__:"NavigationBarView"},__superMap:{_$Dd$init:"init"}})),o=t.v.extend(e.a,{view:t._105(null),opacity:e.b(0),offsetX:e.b(0),transitionIdx:0,_update:t._106("view","opacity","offsetX",function(e,t,i){e&&e.get("style").set("opacity",t).translateX(i).translateZ(0)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"NavigationBarItemAnimator"}});function h(e,t,i){return e&&void 0!==e[t]?e[t]:i}}).call(a,c(5))},function(e,t,i){"use strict";i.d(t,"f",function(){return f}),t.b=m,t.a=function(e){var t=e+8,i=y(t);t=Math.pow(2,i);var n=g[i],r=-1;return 0<=n?(n=o[1+((r=n)>>2)],g[i]=n):(r=m(t,8),o[r>>2]=t),r<=0&&CW.fatalError("Allocated a bad block"),r},t.c=function(e){e<=0&&CW.fatalError("Tried to free a block that doesn't exist");var t=y(o[e>>2]);o[1+(e>>2)]=g[t],g[t]=e},t.e=function(e,t,i){var n=e>>2,r=n+i,a=0,s=0;for(a=n,s=t>>2;a<r;a++,s++)o[s]=o[a]},t.g=function(e){b.push(e)},t.h=function(e,t){I[e]=t},t.d=function(e){return I[e]};var n=0,r=0,a=null,s=null,o=null,c=null,l=null,u=null,d=null,h=new Float64Array(1),p=null,f={INT_8:a,INT_16:s,INT_32:o,UINT_8:c,UINT_16:l,UINT_32:u,FLOAT_32:d,FLOAT_64:h,typeCount:0};function _(e){p=new ArrayBuffer(e);var t=new Float64Array(p);t.set(h),h=t,f.INT_8=a=new Int8Array(p),f.INT_16=s=new Int16Array(p),f.INT_32=o=new Int32Array(p),f.UINT_8=c=new Uint8Array(p),f.UINT_16=l=new Uint16Array(p),f.UINT_32=u=new Uint32Array(p),f.FLOAT_32=d=new Float32Array(p),f.FLOAT_64=h=new Float64Array(p),r=e}function m(e,t){var i=n=Math.ceil(n/t)*t;for(n+=e;r<n;)_(2*r);return i}_(8388608),m(128,128);for(var g=new Int32Array(32),v=0;v<32;v++)g[v]=-1;function y(e){return Math.ceil(Math.log(e)/Math.LN2)}var b=[],I=[{}]},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var h=i(198),n=i(677),p=i(201),r=h.a.defineAnimator(n.a,{createData:function(e,t,i){var n=this.alloc();return this.setDuration(n,t),this.setEndValue(n,e),this.setStartValue(n,void 0===i?Number.MAX_VALUE:i),n},start:function(e,t){this.setElapsedTime(e,0);var i=this.getStartValue(e);i===Number.MAX_VALUE&&(i=p.a.getValue(t));var n=this.getEndValue(e),r=n-i,a=this.getDuration(e),s=p.a.getVelocity(t),o=p.a.getAcceleration(t),c=(10*r-3*a*(o*a+2*s))/Math.pow(a,3),l=(a*(3*o*a+8*s)-15*r)/Math.pow(a,4),u=(6*r-a*(o*a+3*s))/Math.pow(a,5);this.setStartValue(e,i),this.setStartVelocity(e,s),this.setStartAcceleration(e,o),this.setStartJerk(e,c),this.setStartSnap(e,l),this.setStartCrackle(e,u),p.a.setFinalValue(t,n),h.a.requestFrameForVariable(t)},tick:function(e,t,i){if((i+=this.getElapsedTime(e))<this.getDuration(e)){var n,r=this.getStartValue(e),a=this.getStartVelocity(e),s=this.getStartAcceleration(e),o=this.getStartJerk(e),c=this.getStartSnap(e),l=this.getStartCrackle(e);n=r+a*i+s*Math.pow(i,2)+o*Math.pow(i,3)+c*Math.pow(i,4)+l*Math.pow(i,5);var u=a+2*s*i+3*o*Math.pow(i,2)+4*c*Math.pow(i,3)+5*l*Math.pow(i,4),d=2*s+6*o*i+12*c*Math.pow(i,2)+20*l*Math.pow(i,3);p.a.setValue(t,n),p.a.setVelocity(t,u),p.a.setAcceleration(t,d),h.a.requestFrameForVariable(t)}else p.a.setValue(t,this.getEndValue(e)),p.a.setVelocity(t,0),p.a.setAcceleration(t,0),h.a.stopAnimatingVariable(t);this.setElapsedTime(e,i)},stop:function(e,t){}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),o=i(109),r=-1,a=++o.f.typeCount,s={memory:o.f,typeId:a,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"SmoothAnimatorData: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return 0<r?(e=r,0===(r=this.memory.INT_32[e>>2])&&n._75("Next free item is NULL; this is not right.")):(e=o.b(128,8),this.count++),this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0,this.activeCount++,e},allocArray:function(e){var t=128*e,i=o.a(t);return this.memory.INT_32[1+(i>>2)]=e,this._initArray(i),this.arrayCount++,i},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=r,r=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=r,r=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),o.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0)},clearShallow:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+128*i;this.clear(n)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+128*i;this.clearShallow(n)}},clone:function(e){var t=this.alloc();return o.e(e,t,32),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){},dump:function(e,t){if(t||(t=[]),0<=t.indexOf(e))return"Circular reference";t.push(e);var i={duration:this.memory.FLOAT_64[e+0>>3],elapsedTime:this.memory.FLOAT_64[e+8>>3],startValue:this.memory.FLOAT_64[e+16>>3],endValue:this.memory.FLOAT_64[e+24>>3],startVelocity:this.memory.FLOAT_64[e+32>>3],startAcceleration:this.memory.FLOAT_64[e+40>>3],startJerk:this.memory.FLOAT_64[e+48>>3],startSnap:this.memory.FLOAT_64[e+56>>3],startCrackle:this.memory.FLOAT_64[e+64>>3]};return t.pop(),i},dumpArray:function(e,t){for(var i=this.memory.INT_32[1+(e>>2)],n=[],r=0;r<i;r++)n.push(this.dump(e+8+128*r,t));return{array:n,length:i,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var i=e.length,n=this.allocArray(i),r=0;r<i;r++){var a=e[r],s=n+8+128*r;o.e(a,s,32),t?this.freeShallow(a):this._cloneFieldsFrom(s,a)}return n},putArrayIntoJSArray:function(e,t,i){var n=this.memory.INT_32[1+(e>>2)];t.length=n;for(var r=0;r<n;r++)t[r]=e+8+128*r},itemAtIndex:function(e,t){return e+8+128*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getDuration:function(e){return this.memory.FLOAT_64[e+0>>3]},setDuration:function(e,t){this.memory.FLOAT_64[e+0>>3]=t},getElapsedTime:function(e){return this.memory.FLOAT_64[e+8>>3]},setElapsedTime:function(e,t){this.memory.FLOAT_64[e+8>>3]=t},getStartValue:function(e){return this.memory.FLOAT_64[e+16>>3]},setStartValue:function(e,t){this.memory.FLOAT_64[e+16>>3]=t},getEndValue:function(e){return this.memory.FLOAT_64[e+24>>3]},setEndValue:function(e,t){this.memory.FLOAT_64[e+24>>3]=t},getStartVelocity:function(e){return this.memory.FLOAT_64[e+32>>3]},setStartVelocity:function(e,t){this.memory.FLOAT_64[e+32>>3]=t},getStartAcceleration:function(e){return this.memory.FLOAT_64[e+40>>3]},setStartAcceleration:function(e,t){this.memory.FLOAT_64[e+40>>3]=t},getStartJerk:function(e){return this.memory.FLOAT_64[e+48>>3]},setStartJerk:function(e,t){this.memory.FLOAT_64[e+48>>3]=t},getStartSnap:function(e){return this.memory.FLOAT_64[e+56>>3]},setStartSnap:function(e,t){this.memory.FLOAT_64[e+56>>3]=t},getStartCrackle:function(e){return this.memory.FLOAT_64[e+64>>3]},setStartCrackle:function(e,t){this.memory.FLOAT_64[e+64>>3]=t}};o.g(s),o.h(s.typeId,s)},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var u=i(0),n=i(679),r=u._10.extend({type:u._58,defaultTransitionClass:n.a,init:function(e){var t=arguments;return"string"==typeof e?this.__s._$mb$init.call(this,{viewOutlet:e}):this.__s._$mb$init.apply(this,t)},initializeMember:function(e,t){var i=arguments,n=this.__s._$rL$initializeMember.apply(this,i),r=this,a="_"+t+"DidChange",s="_"+t,o="_"+t+"_view";return this._internalValueKey=s,this._internalViewKey=o,e.registerMetadata(a,u._106(t,t+".view",function(e,t){r._transitionToChildViewControllerAndView(this,e,t)})),n},transitionToChildViewController:function(e,t,i,n){return this._transitionToChildViewControllerAndView(e,t,t&&t.view,i,n)},_transitionToChildViewControllerAndView:function(e,t,i,n,r){var a=e[this._internalValueKey],s=e[this._internalViewKey];if(e[this._internalValueKey]=t,e[this._internalViewKey]=i,a===t&&s===i)return u.w.resolve();n||(n=this.transitionClassForTransition.call(e,a,s,t,i,this));var o=u._102(this.options,r||{},{parentViewController:e,fromViewController:a,toViewController:t,fromView:s,toView:i}),c=this.createTransition.call(e,n,o,this);c.delegate=this,c.delegateContext=e;var l=this.performTransition.call(e,c,this);return e[this.key]!==t&&(e[this.key]=t),l},inheritFrom:function(e){var t=arguments;this.__s._$1SP$inheritFrom.apply(this,t),this.viewOutlet||(this.viewOutlet=e.viewOutlet)},performTransition:function(e){return e.run()},transitionClassForTransition:function(e,t,i,n,r){return r.defaultTransitionClass},createTransition:function(e,t,i){return e.create(t)},transitionWillStart:function(e){},transitionDidFinish:function(e){},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildViewControllerProperty"},__superMap:{_$mb$init:"init",_$rL$initializeMember:"initializeMember",_$1SP$inheritFrom:"inheritFrom"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n=i(357).a.extend({viewOutlet:null,start:function(){var e=arguments,t=this.parentViewController.view,i=this.toView,n=this.viewOutlet;n?t[n]=i:r._75("ViewOutletViewControllerTransition expects a `viewOutlet` property"),this.__s._$EM$start.apply(this,e),this.didFinish()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ViewOutletViewControllerTransition"},__superMap:{_$EM$start:"start"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),o=i(109),r=-1,a=++o.f.typeCount,s={memory:o.f,typeId:a,count:0,activeCount:0,arrayCount:0,dumpStats:function(){return"BezierAnimatorData: "+this.count+"; "+this.activeCount+" active"},alloc:function(){var e=-1;return 0<r?(e=r,0===(r=this.memory.INT_32[e>>2])&&n._75("Next free item is NULL; this is not right.")):(e=o.b(128,8),this.count++),this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0,this.memory.FLOAT_64[e+72>>3]=0,this.activeCount++,e},allocArray:function(e){var t=128*e,i=o.a(t);return this.memory.INT_32[1+(i>>2)]=e,this._initArray(i),this.arrayCount++,i},free:function(e){e<0||(this.clear(e),this.memory.INT_32[e>>2]=r,r=e,this.activeCount--)},freeShallow:function(e){e<0||(this.clearShallow(e),this.memory.INT_32[e>>2]=r,r=e,this.activeCount--)},freeArray:function(e){e<0||(this._disposeArray(e),o.c(e),this.arrayCount--)},clear:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0,this.memory.FLOAT_64[e+72>>3]=0)},clearShallow:function(e){e<0||(this.memory.FLOAT_64[e+0>>3]=0,this.memory.FLOAT_64[e+8>>3]=0,this.memory.FLOAT_64[e+16>>3]=0,this.memory.FLOAT_64[e+24>>3]=0,this.memory.FLOAT_64[e+32>>3]=0,this.memory.FLOAT_64[e+40>>3]=0,this.memory.FLOAT_64[e+48>>3]=0,this.memory.FLOAT_64[e+56>>3]=0,this.memory.FLOAT_64[e+64>>3]=0,this.memory.FLOAT_64[e+72>>3]=0)},_disposeArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+128*i;this.clear(n)}},_initArray:function(e){if(!(e<0))for(var t=this.memory.INT_32[1+(e>>2)],i=0;i<t;i++){var n=e+8+128*i;this.clearShallow(n)}},clone:function(e){var t=this.alloc();return o.e(e,t,32),this._cloneFieldsFrom(t,e),t},_cloneFieldsFrom:function(e,t){},dump:function(e,t){if(t||(t=[]),0<=t.indexOf(e))return"Circular reference";t.push(e);var i={duration:this.memory.FLOAT_64[e+0>>3],elapsedTime:this.memory.FLOAT_64[e+8>>3],startValue:this.memory.FLOAT_64[e+16>>3],endValue:this.memory.FLOAT_64[e+24>>3],aX:this.memory.FLOAT_64[e+32>>3],aY:this.memory.FLOAT_64[e+40>>3],bX:this.memory.FLOAT_64[e+48>>3],bY:this.memory.FLOAT_64[e+56>>3],cX:this.memory.FLOAT_64[e+64>>3],cY:this.memory.FLOAT_64[e+72>>3]};return t.pop(),i},dumpArray:function(e,t){for(var i=this.memory.INT_32[1+(e>>2)],n=[],r=0;r<i;r++)n.push(this.dump(e+8+128*r,t));return{array:n,length:i,allocatedSpace:this.memory.INT_32[e>>2]}},arrayFromJSArray:function(e,t){for(var i=e.length,n=this.allocArray(i),r=0;r<i;r++){var a=e[r],s=n+8+128*r;o.e(a,s,32),t?this.freeShallow(a):this._cloneFieldsFrom(s,a)}return n},putArrayIntoJSArray:function(e,t,i){var n=this.memory.INT_32[1+(e>>2)];t.length=n;for(var r=0;r<n;r++)t[r]=e+8+128*r},itemAtIndex:function(e,t){return e+8+128*t},lengthForArray:function(e){return this.memory.INT_32[1+(e>>2)]},getDuration:function(e){return this.memory.FLOAT_64[e+0>>3]},setDuration:function(e,t){this.memory.FLOAT_64[e+0>>3]=t},getElapsedTime:function(e){return this.memory.FLOAT_64[e+8>>3]},setElapsedTime:function(e,t){this.memory.FLOAT_64[e+8>>3]=t},getStartValue:function(e){return this.memory.FLOAT_64[e+16>>3]},setStartValue:function(e,t){this.memory.FLOAT_64[e+16>>3]=t},getEndValue:function(e){return this.memory.FLOAT_64[e+24>>3]},setEndValue:function(e,t){this.memory.FLOAT_64[e+24>>3]=t},getAX:function(e){return this.memory.FLOAT_64[e+32>>3]},setAX:function(e,t){this.memory.FLOAT_64[e+32>>3]=t},getAY:function(e){return this.memory.FLOAT_64[e+40>>3]},setAY:function(e,t){this.memory.FLOAT_64[e+40>>3]=t},getBX:function(e){return this.memory.FLOAT_64[e+48>>3]},setBX:function(e,t){this.memory.FLOAT_64[e+48>>3]=t},getBY:function(e){return this.memory.FLOAT_64[e+56>>3]},setBY:function(e,t){this.memory.FLOAT_64[e+56>>3]=t},getCX:function(e){return this.memory.FLOAT_64[e+64>>3]},setCX:function(e,t){this.memory.FLOAT_64[e+64>>3]=t},getCY:function(e){return this.memory.FLOAT_64[e+72>>3]},setCY:function(e,t){this.memory.FLOAT_64[e+72>>3]=t}};o.g(s),o.h(s.typeId,s)},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(357).a.extend({viewsOutlet:null,_viewsArray:null,start:function(){var e=this.viewsOutlet,t=this.parentViewController.view.get(e);t||n._75("ViewsArrayViewControllerTransition expects a `viewsOutlet` property"),this._viewsArray=t,this.fromView;var i=this.toView;i&&(t.add(i),this.notifyDidMoveToViewController()),this.startAnimation()},startAnimation:function(){this.animationDidFinish()},animationDidFinish:function(){if(!this.animationIsFinished){this.animationIsFinished=!0;var e=this.fromView;e&&this._viewsArray.remove(e),this.didFinish()}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ViewsArrayViewControllerTransition"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var l=i(0),n=i(1268),r=(i.n(n),i(12)),u=i(672),a=r.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}],classes:["message"],attributes:{id:"ariaAlertMessage"}},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description"],attributes:{id:"ariaAlertDescription"}}],classes:["content-wrapper"]}],classes:["alert-main-content"]},{type:"ELEMENT",tagname:"div",children:[],attributes:{id:"alertAccessoryView"}},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"buttonViews"}],classes:["alert-button-container"]}],name:"alertView",classes:["br-alert"],attributes:{role:"dialog","aria-labelledby":"ariaAlertMessage","aria-describedby":"ariaAlertDescription"}}],classes:["br-view","br-alert-modal"]},__QUALIFIED_CLASS_NAME__:"BRKitAlertView"},message:l._105(),description:l._105(),iconNames:l._105(),buttonViews:null,suppressedKeyCodes:null,_updatePositionOnChange:l._106("message","description",function(){this.updatePosition()}),updatePosition:function(){var e=this.get("alertView");l._115(e,{"margin-left":-e.offsetWidth/2,"margin-top":-e.offsetHeight/2})},animateOpen:function(e){this.updatePosition(),this.get("style").set("opacity",1),e&&l._116(e,200),this._showForScreenReader(!0)},animateClosed:function(e){this.get("style").set("opacity",0),e&&l._116(e,200),this._showForScreenReader(!1)},_iconNamesDidChange:l._106("iconNames",function(e){var t=this.get("alertIcon");e&&(e instanceof Array?e.forEach(function(e){t.classList.add(e)}):t.classList.add(e))}),handleKeyDown:function(e){for(var t=this.buttonViews,i=0,n=t.length,r=this.suppressedKeyCodes;i<n;i++)if(t.objectAt(i).handleKeyDown(e))return!0;if(r)for(i=0,n=r.length;i<n;i++)if(e.which===r[i])return e.preventDefault(),!0;return!1},_showForScreenReader:function(e){e?(this.previousFocus=document.activeElement,Object(u.a)(this.get("element"))):this.previousFocus&&this.previousFocus.focus&&this.previousFocus.focus();for(var t=l.e.application.rootResponder,i=t&&t.get("window"),n=i&&i.get("rootViews"),r=e?this:null,a=n&&n.length||0;a--;){var s=n[a],o=s&&s.get("element"),c=r&&s!==r;o&&o.setAttribute("aria-hidden",c?"true":"false")}}})},function(e,t,i){"use strict";i.d(t,"b",function(){return v}),i.d(t,"a",function(){return l});var m=i(0),n=i(1274),r=(i.n(n),i(192)),a=i(189),g=i(140),s=i(618),o=i(358),c=i(627),v=m._67("BRKit.CollectionViewSelectionMode",function(e){e("None"),e("Individual"),e("Multiple")}),l=o.a.extend(m._8,{staticMembers:{SelectionMode:v,__QUALIFIED_CLASS_NAME__:"CollectionView"},additionalClassNames:m._60(["collection"]),delegate:null,visibleIndexRange:m._107({readOnly:!0,get:function(){var e=this._visibleIndexRange;return e?g.a.create(e.start,e.end):g.a.EMPTY}}),visibleCells:m._107({readOnly:!0,get:function(){return this._currentCellList}}),selectedIndexes:m._105({readOnly:!0,get:function(){return this._selectedIndexes}}),selectionMode:v.Multiple,init:function(e){this.__s._$PK$init.call(this,e),this._selectedIndexes=s.a.create(),this._currentCellList=[],this._nextCellList=[],this._lastSelectedIndex=null,this._lastSelectedRange=null,this._cursorIndex=-1,this._selectingCell=null,this._visibleIndexRange=null,this._scrollCellUpdateStrategy=d.create({view:this}),this._contentChangeCellUpdateStrategy=h.create({view:this}),this._currentCellUpdateStrategy=this._scrollCellUpdateStrategy;var t=this._singleTapGestureRecognizer=c.a.create({target:this,action:this._handleSingleTapGesture}),i=this._doubleTapGestureRecognizer=c.a.create({taps:2,target:this,action:this._handleDoubleTapGesture,throttleDelay:500});this.brAddGestureRecognizer(t),this.brAddGestureRecognizer(i),this._cellsCache=a.a.create()},selectItemAtIndex:function(e){var t=this.selectionMode,i=t!==v.None,n=t===v.Individual,r=this._selectedIndexes;if(i){n&&this.deselectAllItems(),r.addValue(e);var a=this.getVisibleCellAtItemIndex(e);a&&(a.selected=!0)}},deselectItemAtIndex:function(e){if(this.selectionMode!==v.None){this._selectedIndexes.removeValue(e);var t=this.getVisibleCellAtItemIndex(e);t&&(t.selected=!1)}},deselectAllItems:function(){var e=this._selectedIndexes;e.isEmpty||(e.clear(),this.refreshCellSelection())},reload:function(){this.clearAllVisibleCells()},reloadItemAtIndex:function(e){this._reloadRange(g.a.createAsPoint(e))},reloadItemsInRange:function(e){this._reloadRange(e)},reloadVisibleItems:function(){this._reloadRange(this.visibleIndexRange)},reloadForContentChanges:function(e,t){this._contentChangesReloadInfo={changes:e,completionCallback:t},this.didBeginReloadForContentChanges(e)},didBeginReloadForContentChanges:function(e){},didEndReloadForContentChanges:function(e){},getVisibleCellAtItemIndex:function(e){var t=this.visibleIndexRange,i=this.visibleCells;return t!==g.a.EMPTY&&t.containsValue(e)?i[e-t.minValue]:null},getItemIdentifierForCell:function(e){return this.delegate.collectionViewGetItemIdentifierForCell(this,e)},getItemIdentifierForIndex:function(e){return this.delegate.collectionViewGetItemIdentifierForIndex(this,e)},clearAllVisibleCells:function(){for(var e,t,i=this._currentCellList,n=this.delegate,r=i.length,a=this._cellsCache,s=0;s<r&&(e=i[s]);s++)n.collectionViewShouldReuseCell(this,e)&&(t=n.collectionViewGetReuseIdentifierForCell(this,e),n.collectionViewPrepareReusableCell(this,e),a.queueItemForKeyIdentifier(e,t),e.endDisplay(),e.index=null,e.selected=!1),i[s]=null;this._visibleIndexRange=null},adjustVisibleIndexRange:function(e,t){this.willAdjustVisibleIndexRange(e,t);var i=this._visibleIndexRange||null,n=this._currentCellList,r=this._nextCellList,a=this.getCellUpdateStrategy();r[t-e+1]=null,a.fromVisibleIndexRange=i,a.fromCellList=n,a.toCellList=r,a.updateCellsForVisibleIndexRange(e,t);for(var s=n.length,o=0;o<s;o++)n[o]=null;i||(this._visibleIndexRange=i={}),i.start=e,i.end=t,this._currentCellList=r,this._nextCellList=n,this.didAdjustVisibleIndexRange()},getCellUpdateStrategy:function(){var e=this._scrollCellUpdateStrategy;return this._contentChangesReloadInfo&&(e=this._contentChangeCellUpdateStrategy),e},willAdjustVisibleIndexRange:function(e,t){},didAdjustVisibleIndexRange:function(){var e=this._contentChangesReloadInfo;if(e){var t=e.changes,i=e.completionCallback;this._contentChangesReloadInfo=null,this.didEndReloadForContentChanges(t),i&&i(this)}},didGetCellForIndex:function(e,t){},didReloadCells:function(){},wheel:function(e){return this._selectingCell?(e.preventDefault(),!0):this.__s._$2CL$wheel.call(this,e)},_reloadRange:function(e){var t=this.visibleIndexRange;if(t.intersectsRange(e)){for(var i,n,r=t.minValue,a=t.maxValue,s=this._currentCellList,o=r;o<a;o++)e.containsValue(o)&&(n=s[i=o-r],this.releaseCellForVisibleIndex(n,o),n=this.acquireCellForVisibleIndex(o),s[i]=n);this.didReloadCells()}},releaseCellForVisibleIndex:function(e,t){var i,n=this.delegate,r=this._cellsCache;e.endDisplay(),n.collectionViewDidEndDisplayingCellForIndex(this,e,t),n.collectionViewShouldReuseCell(this,e)?(i=n.collectionViewGetReuseIdentifierForCell(this,e),n.collectionViewPrepareReusableCell(this,e),r.queueItemForKeyIdentifier(e,i)):(this.removeSubview(e),e.release(this,"CollectionView - Cell"))},acquireCellForVisibleIndex:function(e){var t,i=this.delegate,n=this._cellsCache,r=i.collectionViewGetCellReuseIdentifierForIndex(this,e);return r&&(t=n.dequeueItemForKeyIdentifier(r)),t?(t.beginDisplay(),i.collectionViewWillDisplayReusableCellForIndex(this,t,e)):((t=i.collectionViewGetCellForIndex(this,e))||m._75("Require a grid view cell for index "+e,{view:this}),t.retain(this,"CollectionView - Cell"),t.beginDisplay(),this.didGetCellForIndex(t,e),this.addSubview(t)),t.index=e,t.selected=this.selectedIndexes.containsValue(e),t},refreshCellSelection:function(){for(var e,t=this.selectedIndexes,i=this.visibleCells,n=i.length,r=0;r<n&&(e=i[r]);r++)e.selected=t.containsValue(e.index)},_handleSingleTapGesture:function(e){if(2!==e.event.button)switch(e.state){case r.a.STATE_BEGAN:1===this.getPath("selectedIndexes.size")&&(this._mayBeActivatingIndex=this.getPath("selectedIndexes.first")),this._beginSelectionForEvent(e.event);break;case r.a.STATE_RECOGNIZED:if(this._endSelectionForEvent(e.event),1===this.getPath("selectedIndexes.size")&&this.getPath("selectedIndexes.first")===this._mayBeActivatingIndex&&0<=this._mayBeActivatingIndex){var t=this.delegate,i=this.getPath("selectedIndexes.first"),n=this.getVisibleCellAtItemIndex(i);n&&t.collectionViewCellDidActivateAtIndex&&t.collectionViewCellDidActivateAtIndex(this,n,i,e.event)}this._mayBeActivatingIndex=-1;break;case r.a.STATE_FAILED:this._cancelSelectionForEvent(e.event),this._mayBeActivatingIndex=-1}},_handleDoubleTapGesture:function(e){switch(e.state){case r.a.STATE_RECOGNIZED:this._performActionForEvent(e.event)}},_beginSelectionForEvent:function(e){var t=this._findCellForElement(e.target);this._beginSelectionForCellWithModifiers(t,e)},_endSelectionForEvent:function(e){var t=this._findCellForElement(e.target);this._endSelectionForCellWithModifiers(t,e)},_beginSelectionForCellWithModifiers:function(e,t){var i=null;e&&(i=e.index),this._beginSelectionForItemAtIndexWithModifiers(i,t)},_endSelectionForCellWithModifiers:function(e,t){var i=null;e&&(i=e.index),this._endSelectionForItemAtIndexWithModifiers(i,t)},_beginSelectionForItemAtIndexWithModifiers:function(e,t){var i=this.selectionMode,n=this._selectedIndexes;if(i===v.None)return this._selectingIndex=null,this._lastSelectedIndex=null,this._cursorIndex=-1,void(this._lastSelectedRange=g.a.EMPTY);if(null===e||e<0)return this._clearSelectedIndexes(),this._cursorIndex=-1,this._lastSelectedRange=null,void(this._lastSelectedIndex=null);var r=this.getVisibleCellAtItemIndex(e);if(this.shouldSelectItemAtIndex(e)){var a=i===v.Multiple,s=t.shiftKey&&a,o=t.metaKey&&m.C.sharedInstance.isMac,c=t.ctrlKey&&m.C.sharedInstance.isWindows,l=(o||c)&&a,u=s||l,d=this._lastSelectedRange||g.a.EMPTY,h=this._lastSelectedIndex,p=n.containsValue(e);if(u||!p){if(s){var f=g.a.create(h||0,e),_=this;d.forEach(function(e){e!==h&&_.shouldDeselectItemAtIndex(e)&&(_.deselectItemAtIndex(e),_.didDeselectItemAtIndex(e))}),f.forEach(function(e){e!==h&&_.shouldSelectItemAtIndex(e)&&(_.selectItemAtIndex(e),_.didSelectItemAtIndex(e))}),this._lastSelectedRange=f,this._cursorIndex=e}else l?(this._lastSelectedRange=g.a.EMPTY,this._lastSelectedIndex=e,p?(this.deselectItemAtIndex(e),this.didDeselectItemAtIndex(e)):(this.selectItemAtIndex(e),this.didSelectItemAtIndex(e),this._cursorIndex=e)):this.shouldHighlightCellForIndex(e)&&r&&(r.highlighted=!0);this._selectingIndex=u?null:e}else this._selectingIndex=e}},_endSelectionForItemAtIndexWithModifiers:function(e,t){var i=this._selectingIndex,n=this._selectedIndexes,r=this.selectionMode===v.Multiple,a=t.metaKey&&r;if(!((this._selectingIndex=null)===i||i<0)){var s=this.getVisibleCellAtItemIndex(i);this.getVisibleCellAtItemIndex(e)===s?(this._lastSelectedIndex=i,this._lastSelectedRange=g.a.EMPTY,n.containsValue(i)?a?(this.deselectItemAtIndex(i),this.didDeselectItemAtIndex(i)):(this._clearSelectedIndexes(),this.selectItemAtIndex(i),this.didSelectItemAtIndex(i),this._cursorIndex=i):(s&&s.highlighted&&(s.highlighted=!1),this._clearSelectedIndexes(),this.selectItemAtIndex(i),this.didSelectItemAtIndex(i),this._cursorIndex=i)):s&&s.highlighted&&(s.highlighted=!1)}},_cancelSelectionForEvent:function(e){var t=this._findCellForElement(e.target),i=this._selectingIndex,n=this._selectedIndexes;if(!((this._selectingIndex=null)===i||i<0)){var r=this.getVisibleCellAtItemIndex(i);t===r?n.containsValue(i)||(this._clearSelectedIndexes(),n.addValue(i),this.didSelectItemAtIndex(i),this._cursorIndex=i):r&&r.highlighted&&(r.highlighted=!1)}},_clearSelectedIndexes:function(){var e=this._selectedIndexes,t=this;e.isEmpty||e.filter(function(e){return t.shouldDeselectItemAtIndex(e)}).forEachValue(function(e){t.deselectItemAtIndex(e),t.didDeselectItemAtIndex(e)})},_performActionForEvent:function(e){var t=this._findCellForElement(e.target);if(t){var i=t.index;this.shouldPerformActionForItemAtIndex(i)&&this.performActionForItemAtIndex(i)}},shouldPerformActionForItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewShouldPerformActionForItemAtIndex:null;return!!i&&i.call(t,this,e)},performActionForItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewPerformActionForItemAtIndex:null;i&&i.call(t,this,e)},_findCellForElement:function(n){for(var e=function(e){for(var t,i=n;i;){if(t=i.view)return t;i=i.parentElement}return null}();e;){if(e.isCollectionViewCell)return e;if(e===this)return null;e=e.parent}return null},shouldHighlightCellForIndex:function(e){var t=this.delegate,i=t?t.collectionViewShouldHighlightCellForIndex:null;i&&i.call(t,this,e)},shouldSelectItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewShouldSelectItemAtIndex:null;return!i||i.call(t,this,e)},shouldDeselectItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewShouldDeselectItemAtIndex:null;return!i||i.call(t,this,e)},didSelectItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewDidSelectItemAtIndex:null;i&&i.call(t,this,e)},didDeselectItemAtIndex:function(e){var t=this.delegate,i=t?t.collectionViewDidDeselectItemAtIndex:null;i&&i.call(t,this,e)},__superMap:{_$PK$init:"init",_$2CL$wheel:"wheel"}}),u=m.v.extend({view:null,fromVisibleIndexRange:null,fromCellList:null,toCellList:null,updateCellsForVisibleIndexRange:function(e,t){},releaseCellForVisibleIndex:function(e,t){this.view.releaseCellForVisibleIndex(e,t)},acquireCellForVisibleIndex:function(e){return this.view.acquireCellForVisibleIndex(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionViewCellUpdateStrategy"}}),d=u.extend({updateCellsForVisibleIndexRange:function(e,t){var i,n,r,a=this.fromVisibleIndexRange,s=a?a.start:null,o=a?a.end:null,c=this.fromCellList,l=this.toCellList;if(a)for(i=s;i<=o;i++)(i<e||t<i)&&(n=c[r=i-s],this.releaseCellForVisibleIndex(n,i));for(i=e;i<=t;i++)r=i-e,n=a&&s<=i&&i<=o?c[i-s]:this.acquireCellForVisibleIndex(i),l[r]=n},staticMembers:{__QUALIFIED_CLASS_NAME__:"ScrollCellUpdateStrategy"}}),h=u.extend({updateCellsForVisibleIndexRange:function(e,t){var i,n,r,a,s=this.fromCellList,o=this.toCellList,c={},l=this._getItemIDsForCells(s),u=this._getItemIDsForIndexRange(e,t);for(i=0,n=l.length;i<n;i++)c[r=l[i]]=s[i];for(i=0,n=u.length;i<n;i++)c[r=u[i]]?((a=c[r]).index=i+e,o[i]=a,c[r]=null):(a=this.acquireCellForVisibleIndex(i+e),o[i]=a);for(i=0,n=l.length;i<n;i++)c[r=l[i]]&&(a=c[r],this.releaseCellForVisibleIndex(a,a.index))},_getItemIDsForCells:function(e){for(var t=[],i=0,n=e.length;i<n&&e[i];i++){var r=this.view.getItemIdentifierForCell(e[i]);t.push(r)}return t},_getItemIDsForIndexRange:function(e,t){for(var i=[],n=e;n<=t;n++){var r=this.view.getItemIdentifierForIndex(n);i.push(r)}return i},staticMembers:{__QUALIFIED_CLASS_NAME__:"ContentChangeCellUpdateStrategy"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return h}),i.d(t,"b",function(){return s});var n=i(43),r=i(0),a=i(12),d=i(670),h=r._67("ScrollBarOrientationEnum",function(e){e("Vertical"),e("Horizontal")}),l=new Array(3),s=a.a.extend(n.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["track"],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"trackOpacity",attributes:{},unit:null,property:"opacity"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"trackThickness",attributes:{},unit:"px",property:"width"}}},{type:"ELEMENT",tagname:"div",children:[],classes:["handle"],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbOpacity",attributes:{},unit:null,property:"opacity"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"thumbThickness",attributes:{},unit:"px",property:"width"}}}]},__QUALIFIED_CLASS_NAME__:"ScrollBarView"},additionalClassNames:r._60(["scrollbar"]),trackOpacity:n.b(0),thumbOpacity:n.b(0),thumbThickness:n.b(7),trackThickness:n.b(11),hasHandle:r._105(!1),isShowing:r._105({readOnly:!0,writeDependencies:[],dependencies:["thumbOpacity","hasHandle"],get:Object.assign(function(){return this.hasHandle&&0<this.thumbOpacity},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])&&0<n.internalGet(this,t[0+i])}}),didChange:function(e){e!==this._lastIsShowing&&this.setNeedsRender(),this._lastIsShowing=e}}),isHovering:r._105(!1),isExpanded:r._105(!1),delegate:null,orientation:h.Vertical,contentSize:r._107({defaultValue:0,render:!0}),contentClipSize:r._107({defaultValue:0,render:!0}),contentOffset:r._107({defaultValue:0,render:!0}),isDragging:r._107({readOnly:!0,get:function(){return this._draggingHandle}}),dragging:r._118(),minHandleSize:15,init:function(e){this.__s._$gh$init.call(this,e),this.$().addClass("vertical"),this._handle=this.$(".handle"),this._draggingHandle=!1,this.show()},show:function(){this.isShowing||(this._isShowing=!0,this.animate("thumbOpacity",1,200)),this._scheduleHide()},_scheduleHide:function(){this._scheduledHide&&(clearTimeout(this._scheduledHide),this._scheduledHide=null);var e=this;this._scheduledHide=r._116(function(){e._scheduledHide=null,e.hide()},500)},hide:function(){if(this._scheduledHide&&(clearTimeout(this._scheduledHide),this._scheduledHide=null),this.isShowing){if(this.isHovering)return;this.isExpanded=!1,this._isShowing=!1,this.animate("thumbOpacity",0,200)}},render:function(){var e=this._handle,t=this.contentSize,i=this.contentClipSize<t;if(this.hasHandle!==i&&(this.hasHandle=i),i){var n=this._getCurrentHandleInfo(),r=n[1],a=n[2];e.top(Math.round(a)),e.height(Math.round(r)),this._lastHandleOffset===a&&this._lastHandleSize===r||this.show(),this._lastHandleOffset=a,this._lastHandleSize=r}},didMoveToWindow:function(e){this.__s._$1Br$didMoveToWindow.call(this,e),e&&this.setNeedsRender()},pointerDown:function(e){if(this.isShowing)return e.target===this._handle.element()&&(this.setPointerCapture(e.pointerId),this._capturedPointerId=e.pointerId,this._lastCoord=Object(d.a)(e),this._draggingHandle=!0)},pointerUp:function(e){return!(!this._draggingHandle||(this._draggingHandle=!1,this.releasePointerCapture(this._capturedPointerId),this._capturedPointerId=null))},pointerOver:function(e){this.isShowing&&(this.isHovering=!0)},pointerOut:function(e){this.isHovering=!1},pointerMove:function(e){if(!this._draggingHandle)return!1;var t=this._lastCoord,i=Object(d.a)(e),n=0,r=this._getCurrentHandleInfo();switch(this.orientation){case h.Vertical:n=i.y-t.y}this._lastCoord=i;var a=r[0],s=r[1],o=a-s,c=r[2]+n;c<0?c=0:a<c+s&&(c=a-s);var l=this.contentSize-this.contentClipSize,u=Math.round(l*c/o);return this.set("contentOffset",u),this.dragging(),!0},frameBoundsDidChange:function(e){this.setNeedsRender()},frameDidInvalidate:function(){this.setNeedsRender()},hasHandleDidChange:r._106("isShowing",function(e){e!==this._lastIsShowing&&this.setNeedsRender(),this._lastIsShowing=e}),_getCurrentHandleInfo:function(){var e=this.contentSize,t=this.contentClipSize,i=this.frame.height,n=this.contentOffset,r=this.minHandleSize,a=t/e,s=e-t,o=Math.ceil(i*a);o<r&&(o=r);var c=0;return 0<s&&(c=n/s*(i-o)),l[0]=i,l[1]=o,l[2]=c,l},_isHoveringDidChange:r._106("isHovering",function(e){e?(this.isExpanded=!0,clearTimeout(this._scheduledHide)):this._scheduleHide()}),_isExpandedDidChange:r._106("isExpanded",function(e){var t=0,i=0,n=0;e?(t=15,i=1,n=11):(t=11,i=0,n=7),this.animate("trackThickness",t,150),this.animate("trackOpacity",i,150),this.animate("thumbThickness",n,150)}),__superMap:{_$gh$init:"init",_$1Br$didMoveToWindow:"didMoveToWindow"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(12).a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"adjustTitleLocationForDescription",truevalue:"has-description",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"showDescription",truevalue:"",falsevalue:"hide-description",attributes:{}}]}],classes:["detail-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"iconView",truevalue:"has-icon-view",attributes:{}}]}],classes:["detail-view"]},__QUALIFIED_CLASS_NAME__:"ItemDetailView"},prepareForReuse:function(){this.set("title",""),this.set("iconView",null),this.set("description","")},iconView:n._105(),title:n._105(),description:n._105(),showDescription:n._105(!1),adjustTitleLocationForDescription:n._105(!1),_iconViewDidChange:n._106("iconView",function(e){var t=this._cachedIconView;t&&this.removeSubview(t,".icon"),e&&this.addSubview(e,".icon"),this._cachedIconView=e||null})})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=function(e){return n._107(function(){return e.bind(this)})}},function(e,t,i){"use strict";t.a=function(e){return e[Object(n.a)(e.length-1)]};var n=i(359)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(0),c=i(4),l=i(143),n=o.v.extend({transport:null,_reportingWhiteList:["/retrieveItemDetailsInFolders","/retrieveItemDetails","/createFolders","/deleteItems","/moveItems","/renameItems"],_timeoutWhiteList:["/retrieveItemDetailsInFolders","/retrieveItemDetails"],init:function(e){var t=arguments;this.__s._$dC$init.apply(this,t),this._reportingWhiteList=o._87(this._reportingWhiteList),this._timeoutWhiteList=o._87(this._timeoutWhiteList)},post:function(e,t,i){var n=this,r=this.transport,a=c.c.create({useCredentialsIfCrossOrigin:!0,method:"POST",body:t});r&&(a.transport=r),a.url.pathname=e,a.setHeader("Content-Type","text/plain"),this._reportingWhiteList[e]&&(a.reportingPathname=null,a.shouldReportSuccess=!0,a.shouldReportFailure=!0),i?a.timeout=i:this._timeoutWhiteList[e]&&(a.timeout=6e5);var s=c.g.create();return a.send().then(function(e){n._requestDidSucceed(a,s)}).catch(function(e){n._requestDidFail(a,s)}),s},_requestDidSucceed:function(e,t){var i=e.response,n=i?i.status:null;return!n||0===n||400<=n?this._requestDidFail(e):t.resolve(i)},_requestDidFail:function(e,t){var i=e.response,n=i.status,r=l.a.Unknown;r=402===n?l.a.AccountNotMigrated:423===n?l.a.PCSMissing:424===n?l.a.PCSInvalid:500<=n?l.a.Server:n<400?l.a.Unknown:l.a.Client;var a=o._77("DriveWS: Request failed for %{method} %{path}",{method:e.method,path:e.url.pathname}),s=new Error(a);return s.type=r,s.status=n,s.body=i.body||null,s.request=e,t.reject(s)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DriveWebService"},__superMap:{_$dC$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(4),a=n.v.extend({scheduler:n._107({get:function(){return this._scheduler}}),init:function(e){var t=arguments;this.__s._$58$init.apply(this,t),this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){return r._3.create({trace:!1,traceId:"native file upload",allowedMaximumRunningTasks:3})},__superMap:{_$58$init:"init"}}).create().get("scheduler")},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(0),s=i(83),o=i(36),c=a._67("AccessRights",["Allow","Deny"]),l={Desktop:{parentId:"FOLDER::com.apple.CloudDocs::root",cascadeAccessRights:!1,rights:{DELETE:c.Allow,EDIT:c.Deny}},Documents:{parentId:"FOLDER::com.apple.CloudDocs::root",cascadeAccessRights:!1,rights:{DELETE:c.Allow,EDIT:c.Deny}}},n=a.v.extend({assignRightsToContent:function(e,t){this._cascadeParentFolderRestrictions(e,t);for(var i=0;i<t.length;i++){var n=t[i],r=this._getSettingsForMatchInAccessRightsAssignment(n);r&&n&&(!0!==a._86(n,s.a)&&!0!==a._86(n,o.a)||this._processSettingsForItem(n,r))}},_getSettingsForMatchInAccessRightsAssignment:function(e){var t=e.id,i=l[t];if(i)return i;var n=e.sanitizedName,r=e.parentId;if(i=l[n]){var a=i.parentId;if(a&&a===r)return i}return null},_processSettingsForItem:function(e,t){var i=t.rights;for(var n in i){var r=i[n];switch(n){case"DELETE":r===c.Deny&&(e.canDelete=!1);break;case"EDIT":r===c.Deny&&(e.canEdit=!1);break;case"EDIT_CONTENTS":r===c.Deny&&(e.canModifyContents=!1);break;case"LIST_CONTENTS":r===c.Deny&&(e.canListContents=!1)}}if(e.isFolder){var a=t.cascadeAccessRights;!1===a&&void 0!==a&&(e.cascadeAccessRights=!1)}},_cascadeParentFolderRestrictions:function(e,t){if(e.cascadeAccessRights)for(var i=e.canDelete,n=e.canEdit,r=e.canModifyContents,a=e.canListContents,s=0;s<t.length;s++){var o=t[s];i||(o.canDelete=!1),n||(o.canEdit=!1),o.isFolder&&(r||(o.canModifyContents=!1),a||(o.canListContents=!1))}},staticMembers:{__QUALIFIED_CLASS_NAME__:"AccessRightsAssignmentManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(84),a={share:n._33.define(),shareStateIsToMe:function(){return this.share===r.a.TO_ME},shareStateIsFromMe:function(){return this.share===r.a.FROM_ME}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(65),a={transactionState:n._105(r.a.Prepared),transactionStateIsPrepared:function(){return this.transactionState===r.a.Prepared},transactionStateIsStaged:function(){return this.transactionState===r.a.Staged},transactionStateIsCommitting:function(){return this.transactionState===r.a.Committing}}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var f=i(4),n=i(0),r=i(36),a=n._67("BRApp.FolderContentLoadStateEnum",function(e){e("NotLoading"),e("Loading")}),s=n._67("BRApp.FolderContentDataStateEnum",function(e){e("NotLoaded"),e("Loaded"),e("Error")}),o=n.v.extend(n._8,{folder:n._105({weak:!0,readOnly:!0,type:r.a}),_fileSystem:n._105(n._64("folder.fileSystem")),length:n._107({readOnly:!0,get:function(){return this.visibleContent.size}}),isInTrash:n._107({readOnly:!0,get:function(){return this.folder.isInTrash}}),isRemoteSyncing:n._107({readOnly:!0,get:function(){return this._remoteSyncing}}),isLoading:n._107({readOnly:!0,get:function(){return this._loadState===a.Loading}}),hasLoadedContent:n._107({readOnly:!0,get:function(){return this._dataState===s.Loaded}}),hasError:n._107({readOnly:!0,get:function(){return this._dataState===s.Error}}),loadState:n._105({readOnly:!0,get:function(){return this._loadState}}),dataState:n._105({readOnly:!0,get:function(){return this._dataState}}),transactionCount:n._105(),isChanging:n._107({readOnly:!0,get:function(){return this._contentSet.isChanging}}),changed:n._118(),init:function(e,t){this.folder=e,this.__s._$mX$init.call(this,t),this.reset()},_contentDidChange:function(e){this.changed(e),f._4.setTimeout(function(){})},visibleContent:n._107({readOnly:!0,get:function(){var e,t,i,n,r,a=this._contentSet;if(!this._filteredVisibleContentCache){for(var s=a.createIterator(),o=!1,c=!1,l=[];s.hasNext();){var u=s.next(),d=_(u),h=(r=(n=u).getDateExpiration(),_(n)&&null!==r&&1296e6<=Date.now()-r);o=o||d,c=c||h,t="."===(e=u).name.charAt(0),i=e.isFolder&&e.isTrashRoot,t||i||d||l.push(u)}this._filteredVisibleContentCache=f._0.create(a.comparator,{entities:l});var p=this._fileSystem.loggingService;o&&p.recordStat("purgeableItemsReceived"),c&&p.recordStat("purgedItemsReceived")}return this._filteredVisibleContentCache}}),allContent:n._107({readOnly:!0,get:function(){return this._contentSet}}),_filteredVisibleContentCache:n._107({strong:!0}),containsItem:function(e){return this.visibleContent.containsEntity(e)},getItemAtIndex:function(e){return this.visibleContent.getEntityAtIndex(e)},getIndexForItem:function(e){return this.visibleContent.getIndexForEntity(e)},findFirstItemMatchingName:function(e){var t=e?e.toLowerCase():"";return this._contentSet.find(function(e){return(e.name?e.name.toLowerCase():"")===t})||null},findItemMatchingShareRecordName:function(t){return this._contentSet.find(function(e){return(e.shareID?e.shareID.shareName:"")===t})||null},findFolderWithName:function(e){var n=e?e.toLowerCase():"";return this._contentSet.find(function(e){if(e.isFile)return!1;var t=e.sanitizedName?e.sanitizedName.toLowerCase():"",i=e.name?e.name.toLowerCase():"";return n===t||n===i})||null},findFileWithNameAndExtension:function(t,i){return this._contentSet.find(function(e){return!!e.isFile&&(e.name?e.name.toLowerCase():"")===(t?t.toLowerCase():"")&&(e.extension?e.extension.toLowerCase():"")===(i?i.toLowerCase():"")})||null},hasFileWithNameAndExtension:function(e,t){return!!this.findFileWithNameAndExtension(e,t)},hasItemMatchingName:function(e){return!!this.findFirstItemMatchingName(e)},reset:function(){var e;if(this._loadState=a.NotLoading,this._dataState=s.NotLoaded,this._remoteSyncing=!1,this._syncTimeoutHandle=null,this._syncScheduleStart=null,this.transactionCount=0,this._changeContentCounter=0,this._syncPromise=null,this._clearFilteredContent(),this.stopRemoteSynchronization(),!e||0!==e.size){this._contentObserver&&this._contentObserver.disconnect(),e=this._contentSet=f._0.create(c);var i=this;this._contentObserver=e.observe("changed",function(e){if(e){var t=e.context;i._contentDidChange(t)}})}},loaded:function(){this._loadState=a.NotLoading,this._dataState=s.Loaded,this.propertyChanged("loadState"),this.propertyChanged("dataState")},beginChanges:function(){this._contentSet.beginBatchChanges()},endChanges:function(){this._contentSet.endBatchChanges()},addItem:function(e){e.retain(this,"FolderContent retain"),this._contentSet.addEntity(e),this._clearFilteredContent(),e.parentId=this.folder.id},addItems:function(e){var t=this;e.forEach(function(e){t.addItem(e)})},removeItem:function(e){this._contentSet.removeEntity(e),this._clearFilteredContent(),e.parentId=null,e.release(this,"FolderContent retain")},removeItems:function(e){var t=this;e.forEach(function(e){t.removeItem(e)})},updateItem:function(e){e.retain(this,"FolderContent retain");var t=this._contentSet.updateEntity(e);this._clearFilteredContent(),t.release(this,"FolderContent retain")},_clearFilteredContent:function(){this._filteredVisibleContentCache=null},startRemoteSynchronization:function(){this._remoteSyncing||(this._remoteSyncing=!0,this._scheduleNextSync())},stopRemoteSynchronization:function(){this._remoteSyncing&&(this._cancelScheduledSync(),this._remoteSyncing=!1)},shouldAllowSync:function(){return!(!this._remoteSyncing||!this.hasLoadedContent||this.isLoading||this._isChangingContent||this._syncPromise||0<this.transactionCount)},_scheduleNextSync:function(){if(this.shouldAllowSync()){var e,t=this._syncScheduleStart;null===t?(t=this._syncScheduleStart=Date.now(),e=3e4):(e=3e4-(Date.now()-this._syncScheduleStart))<0&&(e=0);var i=this;this._syncTimeoutHandle=n._116(function(){i.sync()},e)}},_cancelScheduledSync:function(){this._syncTimeoutHandle&&(clearTimeout(this._syncTimeoutHandle),this._syncTimeoutHandle=null)},sync:function(){return this._syncScheduleStart=null,this.shouldAllowSync()?this._forceSync():f.g.resolve(!1)},_syncPromise:null,_forceSync:function(){var t=this;if(this._syncPromise)return this._syncPromise;this._cancelScheduledSync();var e=this._fileSystem.fetchFolderContentChangeSet({folder:this.folder}).then(function(e){t._fetchFolderContentChangeSetDidResolve(e)}).catch(function(e){t._fetchedFolderContentChangeSetDidReject(e)});return this._syncPromise=e},_fetchFolderContentChangeSetDidResolve:function(e){var i=this;this._syncPromise&&(this.beginChanges(),e.changes.forEach(function(e){var t=e.value;switch(e.action){case f.j.Action.Insert:i.addItem(t);break;case f.j.Action.Remove:i.removeItem(t);break;case f.j.Action.Update:i.updateItem(t)}}),this.endChanges(),this._syncPromise=null,this._scheduleNextSync())},_fetchedFolderContentChangeSetDidReject:function(e){this._syncPromise=null,n._100.error(n._77("Error synchronizing %{folder}",{folder:this.folder.id})),this._scheduleNextSync()},loadAllContent:function(){if(this.isLoading)return this._fetchFolderContentPromise;this._loadState=a.Loading,this._cancelScheduledSync(),this.propertyChanged("loadState");var t=this,e=this._fileSystem.fetchFolderContent({folder:this.folder}).then(function(e){return t._fetchFolderContentPromise=null,t._fetchFolderContentDidComplete(e),f.g.resolve(this)}).catch(function(e){return t._fetchFolderContentPromise=null,t._fetchFolderContentDidFail(e),f.g.reject(e)});return this._fetchFolderContentPromise=e},_fetchFolderContentDidComplete:function(e){this._loadState=a.NotLoading,this._dataState=s.Loaded,this.beginChanges(),this.addItems(e.items),this.endChanges(),this.propertyChanged("loadState"),this.propertyChanged("dataState"),this._scheduleNextSync()},_fetchFolderContentDidFail:function(e){this._loadState=a.NotLoading,this._dataState=s.Error,this.propertyChanged("loadState"),this.propertyChanged("dataState")},prepareForTransaction:function(e){this.transactionCount++,this._cancelScheduledSync(),this._syncPromise=null},finalizeForTransaction:function(e){this.transactionCount--,0===this.transactionCount&&this._scheduleNextSync()},_throwFatalError:function(e){n._75(e,{folderContent:this})},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderContent"},__superMap:{_$mX$init:"init"}});function _(e){var t=e.getDateExpiration();return e.isInTrash&&null!==t&&t<Date.now()}function c(e,t){return n._104(e.fullName,t.fullName)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.TransactionItemConflictType",["None","DestinationDeleted","ItemMoved","ItemModified","ItemDeleted","OutOfQuota","Unknown"])},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.FileSystemProxyConflictType",["None","QueryAlreadyActive"])},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(361),r=function(e,t){var i=n.a.getUncompressedExtensionForNativeFile(e);return t.acceptsFilesWithExtension(i)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n=function(e){var t,i;arguments.length<1&&r._75("Necessary arguments not provided.",this),t=r.w.create();try{var n=new FileReader;n.onload=r._126(function(){t.resolve(!0)}),n.onerror=r._126(function(e){t.resolve(!1)}),i=1e6<e.size?e.slice(0,1e6):e,n.readAsBinaryString?n.readAsBinaryString(i):n.readAsText&&n.readAsText(i)}catch(e){t.resolve(!1)}return t}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e){return!/^\./.test(e.name)}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=function(e){return arguments.length<1&&n._75("Necessary arguments not provided.",this),!(10737418240<e.size)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var y=i(0),b=i(4),r=i(145),I=i(147),n=i(66).a.extend({folderID:null,includeHierarchy:!1,init:function(e,t,i){this.folderID=e,this.fileSystem=t,this.__s._$FI$init.call(this,i)},run:function(){var i=this,n=b.g.create();return r.a.create(this.fileSystem,this.folderID,{partialData:!0,includeHierarchy:this.includeHierarchy}).run().then(function(e){i._completeFolderContentChangeSetQuery(e,n)}).catch(function(e){var t=new Error("Unable to query folder content change set");t.parentError=e,t.folderID=i.folderID,n.reject(e)}),n},_completeFolderContentChangeSetQuery:function(e,n){var r,t,i,a,s,o,c=e.items,l=e.hierarchy,u=e.folderInfo.id,d=this.fileSystem.getFolderById(u),h=d&&d.content,p={hierarchy:l,folderInfo:e.folderInfo},f=this.fileSystem,_=(r=f,t=h,i=c,a=b.j.create(),s={},(o=t.allContent).forEach(function(e){s[e.id]=e}),i.forEach(function(e){var t=e.id,i=s[t];if(i)i.etag!==e.etag&&a.recordUpdate(e),s[t]=null;else{var n=r.getItemById(t);n&&n.isInTrash||a.recordInsert(e)}}),o.forEach(function(e){s[e.id]&&a.recordRemove(e)}),a);if(0===(_=_.filter(function(e){var t=e.value;return!f.itemIsStaged(t)})).length)return p.changes=_,void n.resolve(p);var m=y.x.create();if(_.forEach(function(e){switch(e.action){case b.j.Action.Insert:case b.j.Action.Update:var t=e.value;m.add(t.id)}}),0===m.length)return p.changes=_,void n.resolve(p);var g=I.a.create(f,m.toArray()),v=this;g.run().then(function(e){var i=b.A.create({entities:e});_.forEach(function(e){var t=e.value.id;i.containsEntityWithID(t)?e.value=i.getEntityWithID(t):e.action=b.j.Action.Remove}),p.changes=_,n.resolve(p)}).catch(function(e){var t=new Error("Unable to process folder content change set");t.parentError=e,t.folderID=v.folderID,n.reject(e)})},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderContentChangeSetQuery"},__superMap:{_$FI$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(66),a=i(27),s=r.a.extend({folders:n._107(),run:function(){var e=this.folders.map(function(e){return{drivewsid:e.id}});return a.a.post("/retrieveSharedItemDetailsInFolders",e,5e3).then(function(e){return e.body}).catch(function(e){return null})},staticMembers:{__QUALIFIED_CLASS_NAME__:"RetrieveSharedItemDetailsInFoldersQuery"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),r=(i(4),i(145)),a=i(147),s=i(66),o=n._67("RootFolderQueryMode",function(e){e("AllContent"),e("DetailsOnly")}),c=o,l=s.a.extend({init:function(e,t){this.fileSystem=e,this.__s._$AQ$init.call(this,t)},fileSystem:null,staticMembers:{Mode:o,__QUALIFIED_CLASS_NAME__:"RootFolderQuery"},queryMode:c.AllContent,run:function(){switch(this.queryMode){case c.AllContent:return this._queryAllContent();case c.DetailsOnly:return this._queryDetailsOnly();default:n._75("Cannot query. Invalid query mode",{query:this})}},_queryAllContent:function(){return r.a.create(this.fileSystem,this.fileSystem.config.driveRootFolderId).run().then(function(e){var t=e.folder,i=t.content,n=e.items;return i.loaded(),i.beginChanges(),i.addItems(n),i.endChanges(),t})},_queryDetailsOnly:function(){return a.a.create(this.fileSystem,[this.fileSystem.config.driveRootFolderId]).run().then(function(e){return e[0]})},__superMap:{_$AQ$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(66),r=i(27),a=n.a.extend({includeShallowCount:!0,run:function(){return r.a.post("/retrieveTrashDetails",{includeShallowCount:this.includeShallowCount}).then(function(e){return e.body})},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashDetailsQuery"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(4),l=i(45),u=i(46),r=i(27),d=i(67),h=u.a.Status,a=n._2.extend({clientId:null,folderName:null,destinationId:null,loggingService:null,startRun:function(){var t=this,e={destinationDrivewsId:this.destinationId,folders:[{clientId:this.clientId,name:this.folderName}]};r.a.post("/createFolders",e).then(function(e){t._requestDidSucceed(e)}).catch(function(e){t.finishRunWithFailure(e)})},_requestDidSucceed:function(e){for(var t=e.body.folders,i=[],n=l.a.create(),r=0,a=t.length;r<a;r++){var s=t[r],o=h.getItemForValue(s.status),c=u.a.create({itemID:s.drivewsid,status:o,clientID:s.clientId});n.addInfoItem(c),o===h.OK&&i.push(s),delete s.status,delete s.clientId}Object(d.a)(i,this.loggingService),this.finishRunWithSuccess({commitInfo:n})},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderCommitTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(4),c=i(45),l=i(46),a=i(27),u=l.a.Status,s=r._2.extend({items:null,_path:n._107({readOnly:!0,get:function(){return"/emptyTrash"}}),startRun:function(){var t=this;a.a.post(this._path).then(function(e){t._requestDidSucceed(e)}).catch(function(e){t.finishRunWithFailure(e)})},_requestDidSucceed:function(e){for(var t=this.items,i=c.a.create(),n=0,r=t.length;n<r;n++){var a=t[n],s=u.getItemForValue(a.status);delete a.status;var o=l.a.create({itemID:a.drivewsid,status:s,details:a});i.addInfoItem(o)}this.finishRunWithSuccess({commitInfo:i})},staticMembers:{__QUALIFIED_CLASS_NAME__:"EmptyTrashCommitTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(363).a.extend({_path:n._107({readOnly:!0,get:function(){return"/moveItemsFromTrash"}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsFromTrashCommitTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(4),l=i(45),u=i(46),o=i(27),d=i(67),h=u.a.Status,a=r._2.extend({items:null,trashRootFolderId:null,loggingService:null,_path:n._107({readOnly:!0,get:function(){return"/moveItemsToTrash"}}),startRun:function(){for(var t=this,e=this.items,i=e.length,n=new Array(i),r=0;r<i;r++){var a=e[r];n[r]={drivewsid:a.id,etag:a.etag,clientId:a.id}}var s={items:n};o.a.post(this._path,s).then(function(e){t._requestDidSucceed(e)}).catch(function(e){t.finishRunWithFailure(e)})},_requestDidSucceed:function(e){for(var t=e.body.items,i=[],n=l.a.create(),r=0,a=t.length;r<a;r++){var s=t[r],o=h.getItemForValue(s.status);s.parentId=this.trashRootFolderId,o===h.OK&&i.push(s);var c=u.a.create({itemID:s.drivewsid,status:o,clientID:s.clientId,details:s});delete s.status,delete s.clientId,n.addInfoItem(c)}Object(d.a)(i,this.loggingService),this.finishRunWithSuccess({commitInfo:n})},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsToTrashCommitTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(362).a.extend({_path:n._107({readOnly:!0,get:function(){return"/deleteItemsInTrash"}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"PurgeRecentlyDeletedItemsCommitTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(4),l=i(45),u=i(46),r=i(27),d=i(67),h=u.a.Status,a=n._2.extend({init:function(e,t,i){this.items=e,this.loggingService=t,this.__s._$Ay$init.call(this,i)},items:null,loggingService:null,startRun:function(){var t=this,e={items:this.items.map(function(e){return{drivewsid:e.id,etag:e.etag}})};r.a.post("/putBackItemsFromTrash",e).then(function(e){t._requestDidSucceed(e)}).catch(function(e){t.finishRunWithFailure(e)})},_requestDidSucceed:function(e){for(var t=e.body.items,i=[],n=l.a.create(),r=0,a=t.length;r<a;r++){var s=t[r],o=h.getItemForValue(s.status);o===h.OK&&i.push(s);var c=u.a.create({itemID:s.drivewsid,status:o,details:s});delete s.status,delete s.clientId,n.addInfoItem(c)}Object(d.a)(i,this.loggingService),this.finishRunWithSuccess({commitInfo:n})},staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashCommitTask"},__superMap:{_$Ay$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(4),l=i(45),u=i(46),r=i(27),d=i(67),h=u.a.Status,a=n._2.extend({init:function(e,t,i){this.item=e,this.loggingService=t,this.__s._$Ak$init.call(this,i)},item:null,loggingService:null,startRun:function(){var t=this,e=this.item,i={items:[{drivewsid:e.id,etag:e.etag,name:e.sanitizedName,extension:e.extension}]};r.a.post("/renameItems",i).then(function(e){t._requestDidSucceed(e)}).catch(function(e){t.finishRunWithFailure(e)})},_requestDidSucceed:function(e){for(var t=e.body.items,i=[],n=l.a.create(),r=0,a=t.length;r<a;r++){var s=t[r],o=h.getItemForValue(s.status);o===h.OK&&i.push(s);var c=u.a.create({itemID:s.drivewsid,status:o,details:s});delete s.status,delete s.clientId,n.addInfoItem(c)}Object(d.a)(i,this.loggingService),this.finishRunWithSuccess({commitInfo:n})},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemCommitTask"},__superMap:{_$Ak$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var h=i(0),n=(i(4),i(110)),r=h.v.extend({init:function(e,t){this.fileSystem=e,this.__s._$7A$init.call(this,t)},fileSystem:null,delegate:null,resolveTransactionConflictForItem:function(e,t){switch(t.status){case n.a.DestinationDeleted:this._resolveDestinationDeletedConflict(e,t);break;case n.a.ItemDeleted:this._resolveItemDeletedConflict(e,t);break;case n.a.ItemModified:this._resolveItemModifiedConflict(e,t);break;default:e.revertChangeForCommitInfoItem(t)}},_resolveDestinationDeletedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var i=e.destinationFolder;this._deleteItem(i)},_resolveItemDeletedConflict:function(e,t){e.revertChangeForCommitInfoItem(t);var i=this.fileSystem.getItemById(t.itemID);this._deleteItem(i)},_resolveItemModifiedConflict:function(e,t){var i=this.fileSystem,n=i.getItemById(t.itemID),r=h._71(n.getDataHash(),t.details),a=!1;if(e.revertChangeForCommitInfoItem(t),r){for(var s=0,o=r.updated.length;s<o;s++){var c=r.updated[s];"parentId"!==c?n.set(c,t.details[c]):a=!0}if(a){var l=n.parent.content;l.beginChanges(),l.removeItem(n),l.endChanges();var u=i.getFolderById(t.details.parentId);if(u){var d=u.content;d.beginChanges(),d.addItem(n),d.endChanges()}n.parentId=t.details.parentId}}else h._100.error("TransactionConflictResolver: Reached unexpected condition trying to resolve item modified conflict")},_deleteItem:function(e){if(e.parentId){var t=e.parent.content;t.beginChanges(),t.removeItem(e),t.endChanges();var i=this.delegate,n=i?i.transactionConflictResolverDidDeleteItem:null;n&&n.call(i,this,e)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionConflictResolver"},__superMap:{_$7A$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(0),r=(i(4),i(705)),a=i(36),s=i(65),o=i(44),c=i(54),l=i(28),u=i(53),d=c.a.extend({init:function(e,t,i,n,r){this.folderName=i,this.destinationFolder=n,this.__s._$Ds$init.call(this,e,t,r)},type:l.a.CreateFolder,destinationFolder:null,folderName:null,stagedFolder:n._107({readOnly:!0,get:function(){return this._stagedFolder}}),committedFolder:n._107({readOnly:!0,get:function(){var e=this.commitInfo.committedInfoItems,t=e&&e[0]||null;return t?this.fileSystem.getFolderById(t.itemID):null}}),changeSetInfo:n._107({readOnly:!0,get:function(){return this._changeSetInfo}}),getTransactionItemsForFullRevert:function(){return[this.stagedFolder]},didStartPreparing:function(){this.destinationFolder.prepareForTransaction(this)},didStartStaging:function(){var e=a.a.create({id:n._125(),name:this.folderName,type:o.b.FOLDER,parentId:this.destinationFolder.id});e.fileSystem=this.fileSystem,this.addTransactionItem(e),this._stagedFolder=e;var t=this.destinationFolder.content;t.beginChanges(),t.addItem(e),t.endChanges()},run:function(){var t=this;this.__s._$ce$run.call(this);var e=this.stagedFolder,i=r.a.create({clientId:e.id,folderName:e.sanitizedName,destinationId:e.parentId,loggingService:this.fileSystem.loggingService});u.a.scheduleTask(i).then(function(e){t.completeCommitWithSuccess(e.commitInfo)}).catch(function(e){t.completeCommitWithFailure(e)})},applyChangeForCommitInfoItem:function(e){var t=this.destinationFolder.content,i=this.stagedFolder,n=this.fileSystem.getFolderById(e.itemID);t.beginChanges(),t.addItem(n),t.removeItem(i),t.endChanges()},revertChangeForCommitInfoItem:function(e){var t=this.destinationFolder.content,i=this.stagedFolder;t.beginChanges(),t.removeItem(i),t.endChanges()},didFinalize:function(){this.destinationFolder.content.finalizeForTransaction(this)},didChangeTransactionStateForItem:function(e,t){t!==s.a.Prepared&&e.parent.content.updateItem(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderTransaction"},__superMap:{_$Ds$init:"init",_$ce$run:"run"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(0),r=(i(4),i(202)),a=i(28),s=i(695),o=i(55),c=i(110),l=i(111),u=r.b.extend({type:n._107({type:o.a}),details:n._107({TransactionCommitErrorDetails:d}),staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionCommitErrorItem"}}),d=r.a.extend({init:function(e,t,i,n,r,a){this.conflictType=t,this.name=i,this.type=n,this.id=r,this.__s._$Ih$init.call(this,e,a)},conflictType:n._107({type:s.a,defaultValue:null}),name:n._107({type:"string",defaultValue:null}),type:n._107({type:a.a,defaultValue:null}),extension:n._107({type:"string",defaultValue:null}),destinationFolder:n._107({type:"string",defaultValue:null}),id:n._107({type:"string",defaultValue:null}),etag:n._107({type:"string",defaultValue:null}),size:n._107({type:"number",defaultValue:null}),zone:n._107({defaultValue:null}),docwsid:n._107({defaultValue:null}),thumbnail:n._107({defaultValue:null}),staticMembers:{__QUALIFIED_CLASS_NAME__:"TransactionCommitErrorDetails"},__superMap:{_$Ih$init:"init"}}),h=function(e){var t=e.type,i=v[t];if(i)return p(e,i);n._75("No alert generator found for transaction type: "+t)},p=function(t,i){return t.commitInfo.uncommittedInfoItems.map(function(e){return i.createErrorItem(t,e)})},f=n.v.extend({errorItemType:null,createErrorItem:function(e,t){return u.create(this.errorItemType,this.getDetails(e,t))},getDetails:function(e,t){var i=this.getTransactionItem(e,t),n=this.getConflictType(e,t),r=this.getDestinationFolderName(e,t);return d.create(i,n,i.fullName,e.type,i.id,{extension:i.extension||null,destinationFolder:r,etag:i.etag,size:i.size,zone:i.zone,docwsid:i.docwsid,thumbnail:i.thumbnail})},getTransactionItem:function(e,t){return e.item?e.item:t.getTransactionItem()},getConflictType:function(e,t){var i=void 0;switch(t.status){case c.a.DestinationDeleted:i=s.a.DestinationDeleted;break;case c.a.ItemDeleted:i=s.a.ItemDeleted;break;case c.a.ItemModified:i=t.hasTransactionItemMoved()?s.a.ItemMoved:s.a.ItemModified;break;default:i=s.a.Unknown}return i},getDestinationFolderName:function(e,t){var i=e.destinationFolder||null;return i?i.fullName:null},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorItemGenerator"}}),_=f.extend({errorItemType:o.a.CreateFolderError,getTransactionItem:function(e,t){return e.stagedFolder},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderErrorItemGenerator"}}),m=f.extend({errorItemType:o.a.UploadItemError,getDetails:function(e,t){var i=this.__s._$1il$getDetails.call(this,e,t);return i.nativeFile=e.nativeFile,i},getTransactionItem:function(e,t){return e.stagedFile},getConflictType:function(e,t){var i=void 0;switch(e.commitInfo.fatalError.type){case l.a.OutOfQuota:i=s.a.OutOfQuota;break;default:i=this.__s._$1t5$getConflictType.call(this,e,t)}return i},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileErrorItemGenerator"},__superMap:{_$1il$getDetails:"getDetails",_$1t5$getConflictType:"getConflictType"}}),g=f.extend({errorItemType:null,createErrorItem:function(e,t){var i=o.a.MoveItemError;return e.destinationFolder.isAppLibrary&&(i=o.a.MoveItemToAppLibraryError),u.create(i,this.getDetails(e,t))},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemErrorItemGenerator"}}),v={};v[a.a.DeleteItems]=f.create({errorItemType:o.a.DeleteItemError}),v[a.a.RenameItem]=f.create({errorItemType:o.a.RenameItemError}),v[a.a.PurgeRecentlyDeletedItems]=f.create({errorItemType:o.a.DeleteItemError}),v[a.a.PutItemsBackFromTrash]=f.create({errorItemType:o.a.PutItemBackFromTrashError}),v[a.a.CreateFolder]=_.create(),v[a.a.UploadItem]=m.create(),v[a.a.MoveItemsToTrash]=g.create(),v[a.a.MoveItems]=g.create()},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i(4),i(707)),a=i(364),s=i(28),o=a.a.extend({init:function(e,t,i,n,r){this.destinationFolder=n,this.__s._$Cq$init.call(this,e,t,i,r)},commitTask:n._107({readOnly:!0,get:function(){return r.a.create({destinationFolder:this.destinationFolder,items:this.items})}}),destinationFolder:n._105(),destinationFolders:n._105({dependencies:["destinationFolder","items"],readOnly:!0,type:Array,get:Object.assign(function(){return Array(this.items.length).fill(this.destinationFolder)},{__CW__getter:function(e,t,i,n){return Array(n.internalGet(this,t[1+i]).length).fill(n.internalGet(this,t[0+i]))}})}),type:s.a.MoveItemsFromTrash,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsFromTrashTransaction"},__superMap:{_$Cq$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c}),i(4);var n=i(84),r=i(708),a=i(54),s=i(28),o=i(53),c=a.a.extend({type:s.a.MoveItemsToTrash,fileSystem:null,items:null,init:function(e,t,i,n){this.items=i,this.__s._$Fm$init.call(this,e,t,n),this.destinationFolder=this.fileSystem.trashRootFolder},getTransactionItemsForFullRevert:function(){return this.items},didStartPreparing:function(){var n=this,r=this._parents={},a=this._itemToParentMap={};this.items.forEach(function(e){var t=e.parent;if(t){var i=t.id;(a[e.id]=i)in r||(r[i]=[]),t.prepareForTransaction(n),r[i].push(e)}});var e=this.destinationFolder;e&&e.prepareForTransaction(this)},didStartStaging:function(){var e=this.fileSystem,t=this.items;this.addTransactionItems(t);var i=this._parents;for(var n in i){var r=e.getItemById(n);if(r){var a=r.content;a.beginChanges(),a.removeItems(i[n]),a.endChanges()}}var s=this.destinationFolder;if(s){var o=s.content;o.beginChanges(),o.addItems(t),o.endChanges()}e.trashDetailsService.stageShallowCountChangeOf(t.length)},run:function(){var t=this;this.__s._$nG$run.call(this);var e=this.fileSystem,i=r.a.create({items:this.items,trashRootFolderId:e.config.trashRootFolderId,loggingService:e.loggingService});o.a.scheduleTask(i).then(function(e){t.completeCommitWithSuccess(e.commitInfo)}).catch(function(e){t.completeCommitWithFailure(e)})},applyChangeForCommitInfoItem:function(e){var t=this.fileSystem,i=t.getItemById(e.itemID);i.share!==n.a.TO_ME&&(this.destinationFolder||(i.parentId=t.config.trashRootFolderId),this._cleanSharingInformation(i),this.fileSystem.trashDetailsService.commitShallowCountChangeOf(1))},_cleanSharingInformation:function(e){var t=this;e.share===n.a.TO_ME?this.fileSystem.destroyItem(e):(e.share=null,e.shareID=null,e.sharingToken=null,e.isFolder&&e.content.visibleContent.forEach(function(e){t._cleanSharingInformation(e)}))},revertChangeForCommitInfoItem:function(e){var t=this.fileSystem,i=e.itemID,n=t.getItemById(i);if(n){var r=n.parent;r&&r.content.removeItem(n);var a=this._itemToParentMap[i];if(a){var s=t.getItemById(a);s&&s.content.addItem(n)}t.trashDetailsService.unstageShallowCountChangeOf(1)}},didFinalize:function(){for(var e in this._parents){var t=this.fileSystem.getItemById(e);t&&t.content.finalizeForTransaction(this)}var i=this.destinationFolder;i&&i.content.finalizeForTransaction(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsToTrashTransaction"},__superMap:{_$Fm$init:"init",_$nG$run:"run"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var l=i(0),u=(i(4),i(83)),d=i(36),n=i(363),r=i(54),a=i(28),s=i(53),o=r.a.extend({type:a.a.MoveItems,items:null,sourceFolder:l._107({readOnly:!0,get:function(){return this._sourceFolder}}),destinationFolder:null,init:function(e,t,i,n,r){this.items=i,this.destinationFolder=n,this.__s._$LI$init.call(this,e,t,r),this._sourceFolder=this.items[0].parent},_commitTask:l._107({readOnly:!0,get:function(){return l._75("MoveItemsTransaction class does not implement a _commitTask property."),null}}),getTransactionItemsForFullRevert:function(){return this.items},didStartPreparing:function(){var e=this.items,t=this._sourceFolder;t||l._75("Cannot prepare. Missing source folder",{transaction:this});for(var i=this.sourceFolder.id,n=0,r=e.length;n<r;n++)e[n].parentId!==i&&l._75("Cannot prepare. All items do not belong to the same source folder",{transaction:this});this.destinationFolder.prepareForTransaction(this),t.prepareForTransaction(this)},didStartStaging:function(){var s=this.destinationFolder,e=this.items,t=e.length,o=new Array(t),c={};e.forEach(function(e,t){var i=null,n={id:l._125(),name:e.name,parentId:s.id,etag:e.etag};if(e.isFolder)i=d.a,n.type="FOLDER";else if(e.isFile){i=u.a,n.type="FILE",n.extension=e.extension,n.thumbnail=e.thumbnail;var r=e.dateModified;s.isAppLibrary&&(r=new Date(Date.now())),n.dateModified=r}var a=i.create(n);o[t]=a,c[e.id]=c[a.id]={stagedItem:a,movedItem:e}}),this._stagedItems=o,this._stagingMap=c,this.addTransactionItems(e),this.addTransactionItems(o);var i=this._sourceFolder,n=s.content,r=i.content;r.beginChanges(),r.removeItems(e),r.endChanges(),n.beginChanges(),n.addItems(o),n.endChanges()},run:function(){var t=this;this.__s._$1pd$run.call(this);var e=n.a.create({destinationFolder:this.destinationFolder,items:this.items,stagedItems:this.stagedItems,loggingService:this.fileSystem.loggingService});s.a.scheduleTask(e).then(function(e){t.completeCommitWithSuccess(e.commitInfo)}).catch(function(e){t.completeCommitWithFailure(e)})},willBeginFinalizingItems:function(){this.destinationFolder.content.beginChanges(),this.sourceFolder.content.beginChanges()},didEndFinalizingItems:function(){this.destinationFolder.content.endChanges(),this.sourceFolder.content.endChanges()},applyChangeForCommitInfoItem:function(e){var t=this.destinationFolder,i=t.content,n=this.fileSystem.getItemById(e.itemID),r=this._stagingMap[e.clientID].stagedItem;n.etag=e.details.etag,n.parentId=t.id,n.thumbnail=r.thumbnail,i.beginChanges(),i.removeItem(r),i.addItem(n),i.endChanges()},revertChangeForCommitInfoItem:function(e){var t=this.destinationFolder.content,i=this.sourceFolder.content,n=e.itemID,r=this._stagingMap[n];i.addItem(r.movedItem),t.removeItem(r.stagedItem)},didFinalize:function(){var e=this.destinationFolder.content,t=this.sourceFolder.content;e.finalizeForTransaction(this),t.finalizeForTransaction(this),this._stagingMap=null,this._stagedItems=null},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsTransaction"},__superMap:{_$LI$init:"init",_$1pd$run:"run"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=i(4),a=i(709),s=i(365),o=i(28),c=s.a.extend({commitTaskClass:n._107({readOnly:!0,type:r._2,get:function(){return a.a}}),type:o.a.PurgeRecentlyDeletedItems,didStartStaging:function(){var e=arguments,t=this.fileSystem,i=this.parents[t.trashRootFolder.id];this.__s._$GE$didStartStaging.apply(this,e),i&&i.length&&t.trashDetailsService.stageShallowCountChangeOf(-i.length)},applyChangeForCommitInfoItem:function(e){var t=this.fileSystem,i=e.itemID,n=t.getItemById(i);this.itemToParentMap[i]===t.trashRootFolder&&t.trashDetailsService.commitShallowCountChangeOf(-1),t.destroyItem(n)},revertChangeForCommitInfoItem:function(e){var t=arguments;this.__s._$TZ$revertChangeForCommitInfoItem.apply(this,t);var i=this.fileSystem;this.itemToParentMap[e.itemID]===i.trashRootFolder&&i.trashDetailsService.unstageShallowCountChangeOf(-1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PurgeRecentlyDeletedItemsTransaction"},__superMap:{_$GE$didStartStaging:"didStartStaging",_$TZ$revertChangeForCommitInfoItem:"revertChangeForCommitInfoItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=(i(4),i(711)),a=i(54),s=i(28),o=i(53),c=a.a.extend({init:function(e,t,i,n,r){this.item=i,this.name=n,this.__s._$AS$init.call(this,e,t,r)},type:s.a.RenameItem,item:n._105(),name:null,parent:n._105({dependencies:["item"],readOnly:!0,get:Object.assign(function(){var e=this.item;return e?e.parent:null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.parent:null}})}),sourceFolder:n._107({readOnly:!0,get:function(){return this._sourceFolder}}),originalName:n._107({readOnly:!0,get:function(){return this._originalName}}),getTransactionItemsForFullRevert:function(){return[this.item]},didStartPreparing:function(){this.parent.prepareForTransaction(this);var e=this.item;this._originalName=e.name,this.addTransactionItem(e)},didStartStaging:function(){var e=this.item,t=this.name;this.addTransactionItem(e),e.name=t},run:function(){var t=this;this.__s._$St$run.call(this);var e=r.a.create(this.item,this.fileSystem.loggingService);o.a.scheduleTask(e).then(function(e){t.completeCommitWithSuccess(e.commitInfo)}).catch(function(e){t.completeCommitWithFailure(e)})},revertChangeForCommitInfoItem:function(e){var t=this.item,i=this.parent;t.name=this._originalName,i&&i.content.updateItem(t)},didFinalize:function(){this.parent.content.finalizeForTransaction(this)},didChangeTransactionStateForItem:function(e,t){var i=e.parent;i&&i.content.updateItem(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemTransaction"},__superMap:{_$AS$init:"init",_$St$run:"run"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({type:null,items:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorGroup"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("LocalEditValidationErrorGroupType",["RenameItemErrors"])},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("UploadValidationErrorGroupType",["UploadValidationErrors"])},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({filterErrorGroup:function(e){for(var t=e.type,i=e.items,n={},r=0;r<i.length;r++){var a=void 0,s=i[r],o=s.details;null===o?n[a=(t=s.type).name]=[]:void 0!==n[a=o.item.name]||(n[a]=[]),n[a].push(s)}var c=this._filterErrorItemHashByErrorType(t,n);return e.set("items",c),e},_filterErrorItemHashByErrorType:function(e,t){var i=[];for(var n in t){var r=t[n].slice().sort(this._compareErrorItemErrorTypes.bind(this));i.push(r[0])}return i},staticMembers:{__QUALIFIED_CLASS_NAME__:"ErrorGroupFilter"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return c});var n=i(0),r=(i(4),i(204)),a=i(202),s=i(44),o=a.b.extend({type:n._107({type:r.a}),details:n._107({type:c}),staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorItem"}}),c=a.a.extend({init:function(e,t,i){this.newName=t,this.__s._$CT$init.call(this,e,i)},item:n._107({type:s.a}),newName:n._107({type:"string"}),staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorDetails"},__superMap:{_$CT$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var o=i(0),n=i(8),c=i(143),r=n.h.extend({url:{serviceName:"docws",pathname:"/ws/com.apple.CloudDocs/internal/create_zone"},query:{create_metadata:!0,errorBreakdown:!0,idempotent:!0},reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0,timeout:6e5,useCredentialsIfCrossOrigin:!0,method:"POST",maxRetries:1,staticMembers:{__QUALIFIED_CLASS_NAME__:"DriveZoneInitRequest"}}),a=o.v.extend({run:function(){var t=this,i=r.create();i.setHeader("Content-Type","text/plain");var n=o.w.create();return i.send().then(function(e){t._requestDidSucceed(i,n)}).catch(function(e){t._requestDidFail(i,n)}),n},_requestDidSucceed:function(e,t){var i=e.response,n=i?i.status:null;return!n||0===n||400<=n?this._requestDidFail(e):t.resolve(i)},_requestDidFail:function(e,t){var i=e.response,n=i.status,r=c.a.Unknown;r=500<=n?c.a.Server:n<400?c.a.Unknown:c.a.Client;var a=o._77("DocWS: Request failed for %{method} %{path}",{method:e.method,path:e.url.pathname}),s=new Error(a);return s.type=r,s.status=n,s.body=i.body||null,s.request=e,t.reject(s)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DriveZoneInitService"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(4),a=i(143),s=i(367),o=n.v.extend(s.a,{fileSystem:n._107({weak:!0}),setupDriveWSService:n._107({strong:!0}),accountMigrated:n._107({readOnly:!0,get:function(){return this._accountMigrated}}),pcsMissing:n._107({readOnly:!1,get:function(){return this._pcsMissing}}),pcsInvalid:n._107({readOnly:!1,get:function(){return this._pcsInvalid}}),error:n._107({readOnly:!0,get:function(){return this._error}}),init:function(e,t,i){this.fileSystem=e,this.setupDriveWSService=t,this.__s._$Rn$init.call(this,i),this._error=null,this._accountMigrated=!1},load:function(){return this._promise||(n._116(function(){this._setupDriveWS()}.bind(this)),this._promise=r.g.create()),this._promise},_setupDriveWS:function(){this.setupDriveWSService.setup().then(this._setupDriveWSServiceDidComplete.bind(this)).catch(this._setupDriveWSServiceDidFail.bind(this))},_setupDriveWSServiceDidComplete:function(e){e.detected?this._loadRootFolder():this._finishWithResolve(null,!1)},_setupDriveWSServiceDidFail:function(e){this._finishWithReject(e)},_loadRootFolder:function(){var e=this.fileSystem,t=e.driveRootFolder;t?this._rootFolderDidCompleteLoad(t):e.fetchRootFolderDetails().then(this._rootFolderDidCompleteLoad.bind(this)).catch(this._rootFolderDidFailToLoad.bind(this))},_rootFolderDidCompleteLoad:function(e){this._finishWithResolve(e,!0)},_rootFolderDidFailToLoad:function(e){e.type!==a.a.AccountNotMigrated?e.type!==a.a.PCSMissing?e.type!==a.a.PCSInvalid?this._finishWithReject(e):this._finishWithPCSInvalid(null):this._finishWithPCSMissing(null):this._finishWithResolve(null,!1)},_finishWithPCSMissing:function(e){this.rootFolder=e,this._pcsMissing=!0,this._promise.reject(this),this._promise=null},_finishWithPCSInvalid:function(e){this.rootFolder=e,this._pcsInvalid=!0,this._promise.reject(this),this._promise=null},_finishWithResolve:function(e,t){this.rootFolder=e,this._accountMigrated=t,this._promise.resolve(this),this._promise=null},_finishWithReject:function(e){this.rootFolder=null,this._error=e,this._accountMigrated=!1,this._promise.reject(e),this._promise=null},staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadRootFolderService"},__superMap:{_$Rn$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(0),n=o.v.extend(o._42,{action:function(e,t){var i=t.storeId;if(t.changeType===o.z.WRITE.DESTROY)e.deleteData(i);else{var n=t.originalData,r=t.newData;if(e.writeData(i,r),n&&r&&void 0===r.isInTrash){var a=n.isInTrash,s=void 0!==a&&a;e.writeDataProperty(i,"isInTrash",s)}r&&("restorePath"in r||e.writeDataProperty(i,"restorePath",null),"share"in r||e.writeDataProperty(i,"share",null),"shareID"in r||e.writeDataProperty(i,"shareID",null))}return o.w.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"OverwriteEntireHashStrategy"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n=(i(4),r.v.extend({runAction:null,resolveAction:null,duration:null,_timer:null,isPolling:r._107({readOnly:!0,get:function(){return this._timer&&this._timer.isRunning}}),init:function(e,t,i,n){this.delay=e,this.runAction=t,this.resolveAction=i,this.__s._$Go$init.call(this,n),this._timer=r._52.create({delay:e,timesToFire:1/0,target:this,action:"_runAction"})},start:function(){return this.isPolling&&r._75("Cannot start. Currently polling",{service:this}),this.runAction||r._75("Cannot start. Requires a run action",{service:this}),this.resolveAction||r._75("Cannot start. Requires a resolve action",{service:this}),this._timer.start(),this._promise=r.w.create()},stop:function(){this.isPolling||r._75("Cannot stop. Not currently polling",{service:this}),this._timer.stop(),this._promise=null},_runAction:function(){this.runAction().then(this._actionDidComplete.bind(this)).catch(this._actionDidFail.bind(this))},_actionDidComplete:function(e){var t=this.resolveAction;(!t||t(e))&&(this._promise&&this._promise.resolve(e),this.isPolling&&this.stop())},_actionDidFail:function(e){this._promise.reject(e),this.stop()},staticMembers:{__QUALIFIED_CLASS_NAME__:"PollingService"},__superMap:{_$Go$init:"init"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i(144);var r=i(0),a=(i(4),i(44)),n=i(367),s=i(146),o=r.v.extend(n.a,{fileSystem:null,init:function(e,t){this.fileSystem=e,this.__s._$KK$init.call(this,t);var i=e.config.driveRootFolderId,n={drivewsid:i,name:r._99("DriveFS.RootFolderName"),type:a.b.FOLDER.value};Object(s.a)(n,e.loggingService),this.rootFolder=e.getFolderById(i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PrefetchRootFolderService"},__superMap:{_$KK$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var l=i(0),n=i(731),r=i(732),c=i(83),u=i(36),d=i(724),h=i(204),p=i(112),f=i(366),a=l.v.extend(l._8,{init:function(e,t,i){this.fileSystem=e,this.currentWorkingDirectory=t,this.__s._$eS$init.call(this,i),this.actionPolicy||(this.actionPolicy=n.a.create()),this.trashPolicy||(this.trashPolicy=r.a.create())},fileSystem:l._105({weak:!0}),actionPolicy:l._105({strong:!0}),trashPolicy:l._105({strong:!0}),currentWorkingDirectory:l._105({strong:!0}),trashRootFolder:l._105(l._64("fileSystem.trashRootFolder")),driveRootFolder:l._105(l._64("fileSystem.driveRootFolder")),changeDirectory:function(e){return e&&e.constructor.kindOf&&e.constructor.kindOf(u.a)||l._75("changeDirectory can only change directory to Folder objects"),this.actionPolicy.determineShouldAllowChangeDirectory(this.currentWorkingDirectory,e)&&(this.currentWorkingDirectory=e),l.w.resolve()},changeDirectoryUp:function(){var e=this.currentWorkingDirectory;if(e.isDriveRoot)return l.w.resolve();var t=e.parent;return t&&t.constructor.kindOf&&t.constructor.kindOf(u.a)?this.changeDirectory(t):l._75("Parent directory not found for current working directory: "+e.name)},listContents:function(){var e=this.currentWorkingDirectory.content;return e.hasLoadedContent?l.w.resolve(e):e.loadAllContent()},createFolder:function(e,t){return t=t||this.currentWorkingDirectory,this.fileSystem.generateCreateFolderTransaction(e,t).commit()},uploadFile:function(e,t,i){t=t||this.currentWorkingDirectory;var n=this.fileSystem.generateUploadFileTransaction(e,t);return this.fileSystem.commitUploadFileTransaction(n,i)},uploadFiles:function(e,t,i,n){var r=e.length;if((i=i||{}).multipleFiles=1<r,0===r){var a=f.b.create(p.a.IEFolderDropZeroFileCount,null);return l.w.resolve([n(a)])}for(var s=new Array(r),o=0;o<r;o++){var c=e[o];s[o]=this.uploadFile(c,t,i).catch(n)}return l.w.all(s)},cancelUploadForFile:function(e){this.fileSystem.cancelUploadForFile(e)},moveItems:function(e,t){var i=this.currentWorkingDirectory;return t=t||i,this.actionPolicy.determineShouldAllowMoveItemsToFolder(e,i,t)?(!t.isInTrash&&e[0].isInTrash?this.fileSystem.generateMoveItemsFromTrashTransaction(e,t):this.fileSystem.generateMoveItemsTransaction(e,t)).commit():l.w.reject("You cannot move these items from "+i.name+" to "+t.name)},moveItemsToTrash:function(e){return this.fileSystem.generateMoveItemsToTrashTransaction(e).commit()},putItemsBackFromTrash:function(e){return this.fileSystem.generatePutItemsBackFromTrashTransaction(e).commit()},renameItem:function(e,t){var i=this.validateRename(e,t);return!1!==i?l.w.reject(i):this.fileSystem.generateRenameItemTransaction(e,t).commit()},validateRenameItem:function(e,t){var i=void 0;i=e.isFile?c.a.create({name:t,isFolder:!1}):u.a.create({name:t,isFolder:!0});var n=this.currentWorkingDirectory.content,r=d.a.create(e,t),a=[];a.push({validation:i.validateItemIsVisible.bind(i),arguments:[],fail:function(){return d.b.create(h.a.HiddenFile,r)}}),a.push({validation:i.validateItemNameWhitespace.bind(i),arguments:[],fail:function(){return d.b.create(h.a.WhitespaceName,r)}}),a.push({validation:i.validateItemNameInvalidCharacters.bind(i),arguments:[],fail:function(){return d.b.create(h.a.InvalidName,r)}}),a.push({validation:e.validateItemNameIsUnique.bind(e),arguments:[t,n],fail:function(){return d.b.create(h.a.DuplicateName,r)}});for(var s=0;s<a.length;s++){var o=a[s];if(!o.validation.apply(this,o.arguments))return o.fail()}return!1},tombstoneItems:function(e){return this.fileSystem.generateTombstoneItemsTransaction(e).commit()},tombstoneRecentlyDeletedItems:function(e){return this.fileSystem.generatePurgeRecentlyDeletedItemsTransaction(e).commit()},_itemSynchronizationObserver:l._106({inputs:["fileSystem.itemsDidSynchronize"],callback:function(e){if(e){var t=e.context;t?this._fileSystemDidSynchronizeItems(t):this.changeDirectory(this.driveRootFolder)}}}),_currentWorkingDirectoryObserver:l._106({inputs:["currentWorkingDirectory"],callback:function(){this._synchronizeCurrentWorkingDirectory()}}),_fileSystemDidSynchronizeItems:function(e){var t=this.currentWorkingDirectory;if(t){var i=t.path,n={};e.forEach(function(e){n[e.id]=e}),i.find(function(e){return!!n[e.id]})&&this._synchronizeCurrentWorkingDirectory()}},_synchronizeCurrentWorkingDirectory:function(){var e=this.currentWorkingDirectory;if(!e)return!1;var i=this.fileSystem,t=e.path,n=void 0;e.isDeleted&&(t.slice().reverse().find(function(e){var t=i.getFolderById(e.id);return!(!t||t.isDeleted||(n=t,0))}),n&&!n.isDeleted?this.changeDirectory(n):l._75("Could not synchronize current working directory: Valid parent not found for deleted directory"))},staticMembers:{__QUALIFIED_CLASS_NAME__:"Session"},__superMap:{_$eS$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),a=i(65),r=n.v.extend(n._8,{isOverQuota:n._105({defaultValue:!0}),selection:n._105(null),folderContent:n._105(null),isEditing:n._105(!1),remoteActionService:n._105(),currentUser:n._105(null),determineShouldAllowMoveItemsToFolder:function(e,t,i){return i.acceptsItems(e)},determineShouldAllowChangeDirectory:function(e,t){return!0},determineShouldAllowSelection:function(e){var t=!0,i=this.selectableFileTypes;return e.isFile&&i&&!i.contains(e.extension)&&(t=!1),t},shouldAllowDragAndDropUpload:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","isEditing","_changeSignals"],get:Object.assign(function(){var e=this.folderContent;return!s(e)&&o(this.isEditing,e,this.isOverQuota)},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return!s(r)&&o(n.internalGet(this,t[1+i]),r,this.isOverQuota)}})}),shouldAllowDownloading:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection","_changeSignals"],get:Object.assign(function(){return!s(this.folderContent)&&c(this.selection)},{__CW__getter:function(e,t,i,n){return!s(n.internalGet(this,t[0+i]))&&c(n.internalGet(this,t[1+i]))}})}),shouldAllowNewFolder:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","_changeSignals"],get:Object.assign(function(){var e=this.folderContent;return!s(e)&&l(e)},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return!s(r)&&l(r)}})}),shouldAllowMoveToTrash:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection","_changeSignals"],get:Object.assign(function(){return!s(this.folderContent)&&u(this.selection)},{__CW__getter:function(e,t,i,n){return!s(n.internalGet(this,t[0+i]))&&u(n.internalGet(this,t[1+i]))}})}),shouldAllowEmailFiles:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection","currentUser","_changeSignals"],get:Object.assign(function(){return!s(this.folderContent)&&d(this.selection,this.currentUser)},{__CW__getter:function(e,t,i,n){return!s(n.internalGet(this,t[0+i]))&&d(n.internalGet(this,t[1+i]),n.internalGet(this,t[2+i]))}})}),shouldAllowSharing:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection","_changeSignals"],get:Object.assign(function(){return!s(this.folderContent)&&h(this.selection)},{__CW__getter:function(e,t,i,n){return!s(n.internalGet(this,t[0+i]))&&h(n.internalGet(this,t[1+i]))}})}),shouldAllowUploading:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","isOverQuota","_changeSignals"],get:Object.assign(function(){var e=this.folderContent;return!s(e)&&p(e,this.isOverQuota)},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return!s(r)&&p(r,n.internalGet(this,t[1+i]))}})}),selectableFileTypes:n._105({type:n._17,set:function(e){if(e instanceof Array)return n._17.create(e)}}),isItemShared:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection","_changeSignals"],get:Object.assign(function(){return!s(this.folderContent)&&f(this.selection)},{__CW__getter:function(e,t,i,n){return!s(n.internalGet(this,t[0+i]))&&f(n.internalGet(this,t[1+i]))}})}),_changeSignals:n._105({readOnly:!0,dependencies:["folderContent","selection","selection.changed","selection.memberTransactionStateDidChange","folderContent.changed","folderContent.loadState"],get:function(){return!0}}),sharingListener:n._106("shouldAllowSharing","isItemShared","remoteActionService",function(e,t,i){this.remoteActionService&&this.remoteActionService.updateSharePolicy({shouldAllowSharing:e,isItemShared:t})}),uploadListener:n._106("shouldAllowUploading",function(e){this.remoteActionService&&this.remoteActionService.updateUploadPolicy(e)}),downloadListener:n._106("shouldAllowDownloading",function(e){this.remoteActionService&&this.remoteActionService.updateDownloadPolicy(e)}),moveToTrashListener:n._106("shouldAllowMoveToTrash",function(e){this.remoteActionService&&this.remoteActionService.updateDeletePolicy(e)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ActionPolicy"}});function s(e){return!e||e.isLoading}function o(e,t,i){return!e&&p(t,i)}function c(e){return 0!==(e?e.size:0)&&!e.some(function(e){return!e.isFile||e.transactionState!==a.a.Prepared})}function l(e){var t=e.folder,i=t.getContainingAppLibrary();if(!i)return!0;switch(i.maxDepth){case"NONE":return!1;case"ONE":return t.depth-1==0;default:return!0}}function u(e){if(0===(e?e.size:0))return!1;var i=!1,n=!1,r=!1;return e.forEach(function(e){var t=e.isAppLibrary;i|=t,n|=!t,r|=e.transactionState!==a.a.Prepared}),!!(i^n)&&!r}function d(e,t){return!(!t||!t.isServiceActive("mail")||0===(e?e.size:0)||e.some(function(e){return!e.isFile||e.transactionState!==a.a.Prepared}))}function h(e){return 1===(e?e.size:0)&&!e.some(function(e){return!e.isFile||e.transactionState!==a.a.Prepared})}function p(e,t){return!t&&e&&e.hasLoadedContent}function f(e){return 1===(e?e.size:0)&&e.every(function(e){return!!e.share})}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(65),a=n.v.extend(n._8,{selection:n._105(null),folderContent:n._105(null),shouldAllowPutBackFiles:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection","_changeSignals"],get:Object.assign(function(){var e=this.folderContent,t=!o(e)&&e.isInTrash,i=c(this.shouldOperateOnAllTrashItems?e.visibleContent:this.selection);return t&&i},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=!o(r)&&r.isInTrash,s=c(this.shouldOperateOnAllTrashItems?r.visibleContent:n.internalGet(this,t[1+i]));return a&&s}})}),shouldAllowTombstoneFiles:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection","_changeSignals"],get:Object.assign(function(){var e=this.folderContent,t=!o(e)&&e.isInTrash,i=l(this.shouldOperateOnAllTrashItems?e.visibleContent:this.selection);return t&&i},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=!o(r)&&r.isInTrash,s=l(this.shouldOperateOnAllTrashItems?r.visibleContent:n.internalGet(this,t[1+i]));return a&&s}})}),shouldOperateOnAllTrashItems:n._105({defaultValue:!1,readOnly:!0,dependencies:["folderContent","selection","_changeSignals"],get:Object.assign(function(){var e=this.folderContent,t=this.selection;return o(e)||e.isInTrash&&0===t.length},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]);return o(r)||r.isInTrash&&0===a.length}})}),_changeSignals:n._105({readOnly:!0,dependencies:["selection.changed","folderContent.changed","folderContent.loadState","folderContent.transactionCount"],get:function(){return!0}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashActionPolicy"}});function o(e){return!e||e.isLoading}function c(e){return 0!==(e?e.size:0)&&!e.some(function(e){return e.transactionState!==r.a.Prepared})}function l(e){return 0!==(e?e.size:0)&&!e.some(function(e){return e.transactionState!==r.a.Prepared})}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(4),a=n.v.extend({fileSystem:n._107({weak:!0}),detected:n._107({readOnly:!0,get:function(){return this._detected}}),error:n._107({readOnly:!0,get:function(){return this._error}}),init:function(e,t){this.fileSystem=e,this.__s._$h3$init.call(this,t),this._validatedAccountMigration=!1,this._detected=!1},setup:function(){var t=this;return this._promise?this._promise:(n._116(function(e){t._runInitialDetection()}),this._promise=r.g.create())},_drivewsDetectedInEnvironment:function(){return!!this.fileSystem.environment.authBag.getServiceInfoFor("drivews")},_brMigratedDetected:function(){return this.fileSystem.environment.getPath("authBag.user").brMigrated||!1},_userAccountMigrated:function(){var e=this._drivewsDetectedInEnvironment(),t=this._brMigratedDetected();return e&&t},_runInitialDetection:function(){this._userAccountMigrated()?(this._detected=!0,this._promise.resolve(this),this._promise=null):this._runValidation()},_runValidation:function(){var e=n._29.create({url:"https://setup.icloud.com/setup/ws/1/validate",useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0}),t=this;e.send().then(function(){t._setupValidateRequestDidSucceed(e)},function(){t._setupValidateRequestDidFail(e)})},_setupValidateRequestDidSucceed:function(e){var t=e.response.body;this.fileSystem.environment.authBag.processAuthBag(t);var i=this._drivewsDetectedInEnvironment(),n=this._brMigratedDetected();this._detected=i&&n,i&&!n?this._validateAccountMigrationStatusIfNeeded():(this._promise.resolve(this),this._promise=null)},_setupValidateRequestDidFail:function(e){var t=e.response,i=new Error("iCloud setup validation failed");i.status=t.status,i.source=e,this._error=i,this._promise.reject(i),this._promise=null},_validateAccountMigrationStatusIfNeeded:function(){if(this._validatedAccountMigration)return this._promise.resolve(this),void(this._promise=null);this._validatedAccountMigration=!0,this.fileSystem.fetchRootFolderDetails().then(this._validateAccountMigrationStatusDidComplete.bind(this)).catch(this._validateAccountMigrationStatusDidFail.bind(this))},_validateAccountMigrationStatusDidComplete:function(e){var t=n._29.create({method:"POST",url:"https://setup.icloud.com/setup/ws/1/updateAccount",useCredentialsIfCrossOrigin:!0,body:{brMigrated:!0},reportingPathname:null,shouldReportSuccess:!1,shouldReportFailure:!1});t.setHeader("Content-Type","text/plain");var i=this;t.send().then(function(){i._updateAccountMigrationStatusDidComplete(t)},function(){i._updateAccountMigrationStatusDidFail(t)})},_validateAccountMigrationStatusDidFail:function(e){this._detected=!1,402===e.status?this._promise.resolve(this):(this._error=e,this._promise.reject(e)),this._promise=null},_updateAccountMigrationStatusDidComplete:function(e){this.fileSystem.environment.getPath("authBag.user").brMigrated=!0,this._detected=!0,this._promise.resolve(this),this._promise=null},_updateAccountMigrationStatusDidFail:function(e){var t=e.response.status,i=new Error("Update account migration failed");i.status=t,i.type="unknown",i.request=e,this._error=i,this._detected=!1,this._promise.reject(i),this._promise=null},staticMembers:{__QUALIFIED_CLASS_NAME__:"SetupDriveWSService"},__superMap:{_$h3$init:"init"}})},function(e,t,a){"use strict";(function(i){a.d(t,"a",function(){return e});var n=a(0),r=a(704),e=n.v.extend(n._8,{isEmpty:n._105({readOnly:!0,dependencies:["_isEmpty"],get:Object.assign(function(){return this._isEmpty},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),isPolling:n._105({defaultValue:!1,type:Boolean}),pollDelay:n._107({defaultValue:3e4,type:"integer"}),shallowCount:n._105({readOnly:!0,dependencies:["_shallowCount"],get:Object.assign(function(){return this._shallowCount},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),beginPolling:function(){this.isPolling||(this.isPolling=!0,this._refreshDetailsFromServer())},endPolling:function(){this.isPolling&&(i.clearTimeout(this._timeoutId),this._timeoutId=null,this.isPolling=!1)},stageShallowCountChangeOf:function(e){n._74(this._shallowCount)&&(this._shallowCount+=e),this._stagingCount+=Math.abs(e),this.isPolling&&this.endPolling()},unstageShallowCountChangeOf:function(e){n._74(this._shallowCount)&&(this._shallowCount-=e),this._stagingCount=Math.max(0,this._stagingCount-Math.abs(e)),0===this._stagingCount&&this.beginPolling()},commitShallowCountChangeOf:function(e){this._stagingCount=Math.max(0,this._stagingCount-Math.abs(e)),0===this._stagingCount&&this.beginPolling()},_isEmpty:n._105({type:Boolean}),_refreshDetailsFromServerQuery:null,_shallowCount:n._105({type:"integer"}),_stagingCount:0,_timeoutId:n._105({type:"integer"}),_refreshDetailsFromServer:function(){var t=this,e=this._refreshDetailsFromServerQuery;n._74(e)||(e=this._refreshDetailsFromServerQuery=r.a.create()),this.isPolling&&(i.clearTimeout(this._timeoutId),this._timeoutId=null),e.run().then(function(e){t.isPolling&&(t._shallowCount=e.shallowCount,t._isEmpty=e.isEmpty,t._timeoutId=n._116(function(){t._refreshDetailsFromServer()},t.pollDelay))})},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashDetailsService"}})}).call(t,a(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.r.extend({staticMembers:{storageKey:"DriveFS"},uploadInitPathTemplate:n.r.stringProperty("/ws/%{zone}/upload/web"),uploadCommitPathTemplate:n.r.stringProperty("/ws/%{zone}/update/documents"),driveRootFolderId:n.r.stringProperty("FOLDER::com.apple.CloudDocs::root"),trashRootFolderId:n.r.stringProperty("TRASH_ROOT")}).create()},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={binaryToBase64:function(e){for(var t=[],i=0,n=0,r=new Array(3),a=new Array(4),s=e.length,o=0;s--;)if(r[i++]=e[o++],3===i){for(a[0]=(252&r[0])>>2,a[1]=((3&r[0])<<4)+((240&r[1])>>4),a[2]=((15&r[1])<<2)+((192&r[2])>>6),a[3]=63&r[2],i=0;i<4;i++)t+=c.charAt(a[i]);i=0}if(i){for(n=i;n<3;n++)r[n]=0;for(a[0]=(252&r[0])>>2,a[1]=((3&r[0])<<4)+((240&r[1])>>4),a[2]=((15&r[1])<<2)+((192&r[2])>>6),a[3]=63&r[2],n=0;n<i+1;n++)t+=c.charAt(a[n]);for(;i++<3;)t+="="}return t},urlSafeBase64ToBase64:function(e){if(!e)return e;var t=(e=e.replace(/[-_]/g,function(e){return{"-":"+",_:"/"}[e]})).length%4;if(0<t){var i="====";return e+i.substring(t)}return e},parseContentWsSignature:function(e){var t=e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ");return this.binaryToBase64(t)},parseContentWSAsset:function(e){var t={};return e?(t.signature=this.parseContentWsSignature(e.hexFileChecksum),t.reference_signature=this.parseContentWsSignature(e.hexReferenceChecksum),t.wrapping_key=this.parseContentWsSignature(e.hexWrappingKey),t.receipt=this.urlSafeBase64ToBase64(e.receiptToken),t.size=e.size,t):null},parseContentWSPackageResponse:function(e){var t={},i=this.parseContentWSAsset(e.brManifest),n=this.parseContentWSAsset(e.ckManifest),r=[];if(e.ckSectionAssets)for(var a=0;a<e.ckSectionAssets.length;a++)r.push(this.parseContentWSAsset(e.ckSectionAssets[a]));return t.pkgSignature=this.parseContentWsSignature(e.hexBrSyntheticChecksum),t.manifest=i,t.package={sections:r,manifest:n},t},parseContentWSFileResponse:function(e){var t={};return t.data={signature:this.urlSafeBase64ToBase64(e.singleFile.fileChecksum),wrapping_key:this.urlSafeBase64ToBase64(e.singleFile.wrappingKey),reference_signature:this.urlSafeBase64ToBase64(e.singleFile.referenceChecksum),receipt:this.urlSafeBase64ToBase64(e.singleFile.receipt),size:e.singleFile.size},t}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var c=i(4),d=i(0),n=c._2.extend(d._8,{nativeFile:null,destinationZone:null,destinationFolderId:null,fileName:null,loggingService:null,hostService:null,progress:d._107({readOnly:!0,get:function(){return this._fileUploadProgress}}),init:function(e,t,i,n){this.__s._$Pg$init.call(this,n),this.nativeFileUploadTaskService=e,this.loggingService=t,this.hostService=i,this._currentRunningSubtask=null,this._prepareSubtask=this._loadPrepareSubtask(),this._transferSubtask=this._loadTransferPayloadSubtask(),this._completeSubtask=this._loadCompleteSubtask();var r=this._fileUploadProgress=c.E.create(),a=this._prepareSubtaskProgress=c._6.create({totalAmount:1}),s=this._completeSubtaskProgress=c._6.create({totalAmount:1}),o=this._transferSubtask.progress;r.addChildProgress(a),r.addChildProgress(o),r.addChildProgress(s),r.excludeAmountForChildProgress(a),r.excludeAmountForChildProgress(s),r.adjustWeightForChildProgress(a,.05),r.adjustWeightForChildProgress(s,.05)},startRun:function(){var r=this,a=this._prepareSubtask,s=this._transferSubtask,o=this._completeSubtask,e=this.nativeFile,c=this.destinationZone,l=this.destinationFolderId,u=this.fileName;a.nativeFile=e,s.nativeFile=e,o.nativeFile=e,a.destinationZone=c,a.fileName=u,this._currentRunningSubtask=a,this._schedulePrepareSubtask(a).then(function(){r._prepareSubtaskProgress.complete();var e=a.result.uploadUrl;return s.uploadUrl=e,r._currentRunningSubtask=s,r._scheduleTransferPayloadSubtask(s)}).then(function(){var e=s.result,t=a.result.documentId,i=e.commitInfo;if(o.destinationZone=c,o.destinationFolderId=l,o.documentId=t,o.transferCommitInfo=i,o.fileName=u,r.nativeFileUploadTaskService.validateCompleteSubtaskForNativeFileUploadTask(o))return r._currentRunningSubtask=o,r._scheduleCompleteSubtask(o);var n=r.nativeFileUploadTaskService.createDefaultNativeFileUploadError();return r.loggingService.recordStat("Attempted to upload a file with no size"),d.w.reject(n)}).then(function(e){r._completeSubtaskProgress.complete(),r._currentRunningSubtask=null,r.finishRunWithSuccess(e)}).catch(function(e){r._currentRunningSubtask=null,r.finishRunWithFailure(e)})},shouldAllowCancel:function(){var e=this._currentRunningSubtask;return!e||e.isCancellable},cancel:function(){var e=arguments;this.__s._$1bu$cancel.apply(this,e);var t=this._currentRunningSubtask;t&&t.cancel(),this.finishCancellingRun()},_loadPrepareSubtask:function(){return this.nativeFileUploadTaskService.createPrepareSubtaskForNativeFileUploadTask(this)},_loadTransferPayloadSubtask:function(){return this.nativeFileUploadTaskService.createTransferSubtaskForNativeFileUploadTask(this)},_loadCompleteSubtask:function(){return this.nativeFileUploadTaskService.createCompleteSubtaskForNativeFileUploadTask(this)},_schedulePrepareSubtask:function(e){return this.nativeFileUploadTaskService.schedulePrepareSubtaskForNativeFileUploadTask(e,this)},_scheduleTransferPayloadSubtask:function(e){return this.nativeFileUploadTaskService.scheduleTransferSubtaskForNativeFileUploadTask(e,this)},_scheduleCompleteSubtask:function(e){return this.nativeFileUploadTaskService.scheduleCompleteSubtaskForNativeFileUploadTask(e,this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadTask"},__superMap:{_$Pg$init:"init",_$1bu$cancel:"cancel"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var f=i(0),_=i(4),m=i(736),g=i(206),n=i(205),v=/(\.zip)$/i,r=n.a.create(),a=_._2.extend({nativeFile:null,destinationZone:null,destinationFolderId:null,documentId:null,transferCommitInfo:null,fileName:null,startRun:function(){var e,t=this,i=this.nativeFile,n=this.documentId,r=this.destinationZone,a=this.destinationFolderId,s=this.transferCommitInfo,o=this.fileName,c=g.a.fileIsPackage(i);c&&(o=o.replace(v,"")),c?(e=m.a.parseContentWSPackageResponse(s)).command="add_package":(e=m.a.parseContentWSFileResponse(s)).command="add_file",e.document_id=n,e.path={starting_document_id:a,path:o},e.allow_conflict=!0,e.file_flags={is_writable:!0,is_executable:!1,is_hidden:!1};var l=i&&i.lastModifiedDate;if(l){var u=l.getTime();e.mtime=u,e.btime=u}var d=f._77("/ws/%{zone}/update/documents?errorBreakdown=true",{zone:r}),h=_.c.create({body:e,method:"POST",useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0});h.setHeader("Content-Type","text/plain");var p=h.url;p.serviceName="docws",p.pathname=d,h.didSucceed=function(){t._cnfu_requestDidSucceed(h)},h.didFail=function(){t._cnfu_requestDidFail(h)},h.send()},_cnfu_requestDidSucceed:function(e){var t=e.response.body.results[0].document,i=f.v.create({document:{id:t.document_id,etag:t.etag,mtime:t.mtime,name:t.name,size:t.size}});this.finishRunWithSuccess(i)},_cnfu_requestDidFail:function(e){var t=r.handleResponseError(e,"Cannot complete native file upload. Request failed.");this.finishRunWithFailure(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CompleteNativeFileUploadSubtask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var p=i(0),f=i(4),_=i(368),m=i(206),o=i(148),c=i(111),n=i(205),g=i(369),v=/(\.zip)$/i,r=n.a.create(),a=f._2.extend({nativeFile:null,destinationZone:null,hostService:null,init:function(e,t){this.__s._$j1$init.call(this,t),this.hostService=e,this._attempts=0,this._request=null},startRun:function(){this._tryRequest()},_tryRequest:function(){var e,t=this,i=this.hostService,n=this.get("nativeFile"),r=this.get("destinationZone"),a=this.get("fileName"),s=encodeURI(a),o=m.a.fileIsPackage(n),c={filename:o?s.replace(v,""):s,type:o?"PACKAGE":"FILE",content_type:n.type,size:n.size},l=p._77("/ws/%{zone}/upload/web",{zone:r});try{e=Object(g.a)(i.getValidateToken())}catch(e){var u=_.a.getListOfAvailableCookiesAsConcatenatedString();p._75("Error in BRApp.PrepareNativeFileUploadSubtask requesting COSK getValidateCookie()",{error:e,cookies:u})}null==e&&p._100.error("PrepareNativeFileUploadSubtask Failed to getAuthTokenFromCookie");var d=this._request=f.c.create({method:"POST",body:c,useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0}),h=d.url;h.serviceName="docws",h.pathname=l,h.appendQueryParameter("token",e),d.setHeader("Content-Type","text/plain"),d.send().then(function(){t._pnfu_requestDidSucceed(d)}).catch(function(){t._pnfu_requestDidFail(d)})},shouldAllowCancel:function(){return!0},cancel:function(){var e=arguments;this.__s._$1NY$cancel.apply(this,e);var t=this._request;t&&t.abort(),this.finishCancellingRun()},_pnfu_requestDidSucceed:function(e){var t=e.get("response"),i=t.status;if(200===i){var n;try{n=JSON.parse(t.encodedBody)[0]}catch(e){var r=o.a.create({type:c.a.FatalError,status:0,nativeFile:this.get("nativeFile"),description:"Unable to prepare file for upload. Cannot parse file upload prepare HTTP response"});return void this.finishRunWithFailure(r)}var a=p.v.create({uploadUrl:n.url,documentId:n.document_id,ownerId:n.owner_id,owner:n.owner});this.finishRunWithSuccess(a)}else{var s=o.a.create({type:c.a.FatalError,nativeFile:this.get("nativeFile"),status:i,message:"Unable to prepare file for upload. Request failed."});this.finishRunWithFailure(s)}},_pnfu_requestDidFail:function(e){var t=e.get("response").status;if((502===t||503===t)&&this._attempts<2)return this._attempts++,void this._tryRequest();var i=r.handleResponseError(e,"Unable to prepare file for upload. Request failed.");this.finishRunWithFailure(i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PrepareNativeFileUploadSubtask"},__superMap:{_$j1$init:"init",_$1NY$cancel:"cancel"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(4),a=i(0),s=i(148),o=i(111),r=i(205).a.create(),c=n._2.extend({nativeFile:a._107({set:function(e){return this._nativeFileDidChange(e),e},get:function(){return this._nativeFile}}),uploadUrl:null,progress:a._107({readOnly:!0,get:function(){return this._progress}}),init:function(e){var t=arguments;this.willInitialize(),this.__s._$PP$init.apply(this,t),this._request=null,this._progress=n._6.create(),this.didInitialize()},willInitialize:function(){this._isInitializing=!0},didInitialize:function(){this._isInitializing=!1,this._nativeFileDidChange(this.nativeFile)},startRun:function(){var e=this.get("nativeFile"),t=this.get("uploadUrl"),i=this._request=a._54.create({body:e,url:t}),n=this;i.didSucceed=function(){n._tpnfu_requestDidSucceed(i)},i.didFail=function(){n._tpnfu_requestDidFail(i)};var r=i.get("uploadProgress");this._reqProgressObserver=r.observe("didChange",function(){n._tpnfu_requestProgressDidChange(r)}),i.send()},shouldAllowCancel:function(){return!0},cancel:function(){var e=arguments;this.__s._$kA$cancel.apply(this,e);var t=this._request;t&&t.abort(),this.finishCancellingRun()},_tpnfu_requestDidSucceed:function(e){var t=e.get("response"),i=void 0;try{i=JSON.parse(t.encodedBody)}catch(e){var n=s.a.create({type:o.a.FatalError,status:0,nativeFile:this.get("nativeFile"),message:"Cannot transfer native file payload. Unable to parse file upload transfer payload HTTP response"});return void this.finishRunWithFailure(n)}var r=a.v.create({commitInfo:i});this.finishRunWithSuccess(r)},_tpnfu_requestDidFail:function(e){var t=r.handleResponseError(e,"Cannot transfer native file payload. Request failed.");this.finishRunWithFailure(t)},_nativeFileDidChange:function(e){if(!this._isInitializing){var t=e?e.size:0;this._progress.set("totalAmount",t)}},_tpnfu_requestProgressDidChange:function(e){var t=this._progress,i=e.get("bytesTransferred")||0,n=e.get("bytesTotal")||1,r=t.get("totalAmount")||0,a=Math.round(r*i/n);t.set("amountComplete",a)},staticMembers:{__QUALIFIED_CLASS_NAME__:"TransferPayloadNativeFileUploadSubtask"},__superMap:{_$PP$init:"init",_$kA$cancel:"cancel"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],createPrepareSubtaskForNativeFileUploadTask:n._70(n._31),createTransferSubtaskForNativeFileUploadTask:n._70(n._31),createCompleteSubtaskForNativeFileUploadTask:n._70(n._31),schedulePrepareSubtaskForNativeFileUploadTask:n._70(n._31),scheduleTransferSubtaskForNativeFileUploadTask:n._70(n._31),scheduleCompleteSubtaskForNativeFileUploadTask:n._70(n._31)}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(145),a=i(146),s=r.a.extend({init:function(e,t){this.__s._$Ad$init.call(this,e,e.config.driveRootFolderId)},decline:function(){},folderID:n._107({readOnly:!0,get:function(){return this.fileSystem.config.driveRootFolderId}}),post:function(){return this._proxyPromise=n.w.create()},completeFetch:function(e,t){var i=this._proxyPromise;if(200!==t){var n=new Error("iCloud Drive root folder prefetch failed");return n.type="prefetch",n.folderId=this.folderID,n.status=status,void i.reject(n)}i.resolve({body:e})},willFinishProcessingSuccessfulResponse:function(e,t){Object(a.a)(e,this.fileSystem.loggingService)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootFolderPrefetchProxyQuery"},__superMap:{_$Ad$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(0),c=i(4),l=o._67("DocWSCommandType",{ModifyFile:"modify_file"}),n=o.v.extend(o._42,{itemWasOpened:function(e){var t=c.g.create(),i=e.zone,n={document_id:e.docwsid,lastOpenedTime:Date.now(),command:l.ModifyFile.value},r=o._77("/ws/%{zone}/update/documents?errorBreakdown=true",{zone:i}),a=this._request=c.c.create({method:"POST",body:n,useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0}),s=a.url;return s.serviceName="docws",s.pathname=r,a.setHeader("Content-Type","text/plain"),a.didSucceed=function(){200!==a.response.status?t.reject(e):t.resolve(e)},a.didFail=function(){t.reject(e)},a.send(),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemOpenedService"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n._5.extend({height:n._103(),width:n._103(),x:n._103(),y:n._103(),staticMembers:{__QUALIFIED_CLASS_NAME__:"CropRect"}})},function(e,t,i){"use strict";t.a=function(e){return(e=(e=(e||"").toLowerCase()).replace(/./g,function(e){return n[e]||e}))&&e.replace(/[^0-9+]/g,"")};var n={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",a:"2",b:"2",c:"2",d:"3",e:"3",f:"3",g:"4",h:"4",i:"4",j:"5",k:"5",l:"5",m:"6",n:"6",o:"6",p:"7",q:"7",r:"7",s:"7",t:"8",u:"8",v:"8",w:"9",x:"9",y:"9",z:"9"}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n._5.extend({label:n._103(),field:n._103(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Email"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("NameDisplayOrder",{FIRST_LAST:"first,last",LAST_FIRST:"last,first"})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n._5.extend({label:n._103(),field:n._103(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Phone"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return s});var n=i(0),r=n.v.extend({init:function(e){this.message=e,this.__s._$2T$init.call(this)},message:n._107(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Error"},__superMap:{_$2T$init:"init"}}),a=r.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"ServerTokenError"}}),s=r.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"ServerError"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(744),a=n._5.extend({crop:n._28.toOne({type:r.a,embedded:!0}),signature:n._103(),url:n._103(),staticMembers:{__QUALIFIED_CLASS_NAME__:"Photo"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(8),r=i(0),a=r._16.extend(r._8,{action:function(e,t){var i=e.lookupInfoList;return 0<i.length?this.createRequest({lookupInfos:i}).send().then(function(e){var t=e.body,i=t.results;if(r._74(t)&&r._74(i))return i},function(e){if(r._85(e,r._35)){var t=new Error;return t.originalError=e,t}throw e}):r.w.resolve([])},createRequest:function(e){var t=n.k.create({serviceName:"cksharews",pathname:"/ws/v1/autocomplete/membershipInfo",queryObject:{dsid:n.o.currentUser.dsid}});return n.h.create({method:"POST",url:t,body:e,useCredentialsIfCrossOrigin:!0,timeout:6e4,serviceName:"cksharews"})},staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadMembershipInfoHandler"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var s,o=i(0),n=o.v.extend({batchLoad:null,valueToKey:function(e){return e},load:function(r){var a=this,e=this._valueCache.get(r);if(e)return o.w.resolve(e);var t=this._promiseCache.get(r);if(t)return t;var i=new Promise(function(e,t){var i,n=a._queue;n.push({key:r,resolve:e,reject:t}),1===n.length&&(i=function(){return function(r){var e=r._queue;r._queue=[];var a={};e.forEach(function(e){a[e.key]=e});var t=e.map(function(e){return e.key});r.batchLoad(t).then(function(n){o._85(n,Error)?e.forEach(function(e){var t=e.key,i=e.resolve;r.clear(t),i(n)}):n.forEach(function(e){var t=r.valueToKey(e),i=a[t],n=i.resolve;i.reject,n(e)})})}(a)},s||(s=o.w.resolve()),s.then(function(){return o._116(i,0)}))}).then(function(e){return a._promiseCache.clear(r),a._valueCache.set(r,e),e}),n=o.w.wrapPromise(i);return this._promiseCache.set(r,n),n},loadMany:function(e){var t=this;return o.w.all(e.map(function(e){return t.load(e)}))},clear:function(e){this._valueCache.delete(e),this._promiseCache.delete(e)},_promiseCache:o._85(Map),_valueCache:o._85(Map),_queue:[],staticMembers:{__QUALIFIED_CLASS_NAME__:"BatchLoader"}})},function(e,t,i){"use strict";t.a=function(){return a(n._81())?r.a.LAST_FIRST:r.a.FIRST_LAST},t.b=a;var n=i(0),r=i(747);function a(e){return"ja-jp"===e||"ko-kr"===e||"zh-cn"===e||"zh-tw"===e||"hu-hu"===e}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(746),a=i(748),s=i(750),o=n._5.extend({staticMembers:{STATES:n._107({readOnly:!0,get:function(){return n._67("STATES",{NOT_LOADED:0,META_DATA_LOADING:1,META_DATA_LOADED:2,IMAGE_DATA_LOADING:3,IMAGE_DATA_LOADED:4})}}),__QUALIFIED_CLASS_NAME__:"Contact"},contactId:n._103({isPrimaryKey:!0}),firstName:n._103(),lastName:n._103(),middleName:n._103(),nickName:n._103(),emailAddresses:n._28.toMany({type:r.a,embedded:!0}),phones:n._28.toMany({type:a.a,embedded:!0}),photo:n._28.toOne({type:s.a,embedded:!0}),loadImageData:function(){return n._74(this.service)||n._75("Unable to load image data for contact without a service"),this.service.loadImageDataFor(this.contactId)},imageData:n._105(),imageDataUrl:n._105({dependencies:["imageData"],readOnly:!0,get:Object.assign(function(){if(this.imageData)return(window.URL||window.webkitURL).createObjectURL(this.imageData)},{__CW__getter:function(e,t,i,n){if(n.internalGet(this,t[0+i]))return(window.URL||window.webkitURL).createObjectURL(n.internalGet(this,t[0+i]))}})}),service:n._105(),state:n._107({cacheable:!1,readOnly:!0,get:function(){return this.service.getStateFor(this.contactId)}})})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(8),o=i(0),r=i(756),a=o._16.extend(o._8,{handlesType:o.z.READ.LOAD,service:o._107(),action:function(e,t){var i=this.service;o._74(i)||o._75("Unable to perform LoadImageOperationHandler action without a service");var n=e.contact;if(!n.photo)return o.w.resolve(n);var r,a=this.createRequest;function s(e){if(200===e.status)return n.imageData=e.blob,n;throw new Error("Bad server response trying to load photo for contact")}return(r=a(n.photo.url),i.processor.enqueue(function(){return r.send()})).then(s).catch(s)},createRequest:function(e){return r.a.extend(n.i).create({url:e})},staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadImageOperationHandler"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(757),a=n._29.extend({transport:n._107({readOnly:!0,get:function(){return s.sharedInstance}}),useCredentialsIfCrossOrigin:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"ImageDataRequest"}}),s=n._59.extend({prepare:function(){var e=arguments,t=this.__s._$71$prepare.apply(this,e);return t.responseType="blob",t},createResponse:function(e){return r.a.create({status:e?e.status:0,blob:e?e.response:null,headers:e?e.getAllResponseHeaders():null})},staticMembers:{__QUALIFIED_CLASS_NAME__:"ImageDataTransport"},__superMap:{_$71$prepare:"prepare"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n._35.extend({blob:null,body:n._107({get:function(){return this.blob}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ImageDataResponse"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var c=i(8),u=i(0),d=i(749),n=u._16.extend(u._8,{handlesType:u.z.READ.LIST,service:u._107(),action:function(r,a){var i=r.locale,n=r.sortOrder,s=r.includePhoneNumbers,o=r.includePhotos,c=this,l=function(){var e=c._lastSyncToken,t=c._lastPrefToken;return null!==c._lastSyncToken&&null!==c._lastPrefToken?c._syncTokenInUse=!0:c._syncTokenInUse=!1,c.createRequest(e,t,n,i,s,o).send()},e=function e(t){if(u._86(t,d.a))throw new Error("Unexpected server error trying to load contacts data.");if(u._86(t,d.b))return c._lastSyncToken=null,c._lastPrefToken=null,l().then(c.handleCompletion).then(e);if(t){var i=t.syncToken,n=t.prefToken;return i&&n?(c._lastSyncToken=i,c._lastPrefToken=n):!i&&n?(c._lastSyncToken=null,c._lastPrefToken=null,u._100.error("Autocomplete contacts response error:  no sync token found.")):i&&!n&&(c._lastSyncToken=null,c._lastPrefToken=null,u._100.errror("Autocomplete contacts response error: no prefToken found.")),!c._syncTokenInUse&&c._lastSyncToken&&c._lastPrefToken&&c.service.processor.enqueue(function(){return c.action(r,a)}),u.w.resolve(t.contacts)}},t=c.service;return l().then(c.handleCompletion).then(e).then(function(e){return u._74(e)?t.processContactRecords(e):u.w.resolve()}).catch(c.handleCompletion).then(e)},createRequest:function(e,t,i,n,r,a){var s=n.replace(/(.*)-(.*)$/,function(e,t,i){return t+"_"+i.toUpperCase()}),o=c.k.create({pathname:"/co/addressbook/",serviceName:"contacts",queryObject:{locale:s,order:i.value,includePhoneNumbers:r,includePhotos:a}});return null!==e&&null!==t&&o.setMultipleQueryParameters({syncToken:e,prefToken:t}),c.h.create({url:o,serviceName:"contacts",useCredentialsIfCrossOrigin:!0})},handleCompletion:function(e){var t=e.status,i=100*Math.floor(t/100),n=e.encodedBody;if(200===i){if(n){if(0===n.indexOf("<"))return d.a.create("Error.Generic");if("not found"===n)return d.a.create("Error.NotFound");var r=e.body;return r?r.errorValue?d.a.create(r.errorValue):r:d.a.create("Error.Generic")}return d.a.create("No encoded body in response")}switch(t){case 420:case 422:return d.b.create(n);default:return d.a.create(n)}},_syncTokenInUse:u._105(null),_lastSyncToken:u._105(null),_lastPrefToken:u._105(null),staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadOperationHandler"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var A=i(0),s=i(760),n={createFormattedString:function(e,t,i,n,r,a,s){if(!e||!t)return"";var o,c,l,u,d,h,p,f,_,m,g,v=!1,y=!1;d=e,e=(h=-1!==(p=this.getIndexOfPauses(e,",;")))?e.substr(0,p):e,c=A._74(t)?t.length:0,m=e.length,f=/[a-zA-Z*#]/.exec(e),_=e.indexOf(f),o="",g=-1!==t.indexOf("c"),r&&!g&&(o+="+"===s?s+n+" ":s+" "+n+" ",u=!(a=r=!1)),-1===t.indexOf("n")&&a&&(o+=i,u=!0);for(var b=0,I=0;b<c&&I<m;++b)switch(t[b]){case"#":isNaN(this.convertFullWidthDigits(e[I]))?(v&&A._74(/[a-zA-Z*#]/.exec(e[I]))&&(o=o.replace("(",""),v=!1),o+=e[I]):(o+=e[I],y=!0),++I;break;case"(":v=!0,o+=t[b];break;case")":v&&(o+=t[b],v=!1);break;case" ":y&&""!==o&&(-1===_||I<=_)&&(o+=t[b]);break;case"n":i&&!u&&(r||a)&&(o+=i,y=u=!(a=!1));break;case"c":n&&!l&&r&&!u&&(o+=n,y=l=!0);break;default:(-1===_||I<=_)&&(o+=t[b])}if(v){var S,w,C=t.indexOf(")")-t.indexOf("(")-1,E="";S=o.indexOf("("),w=o.length-1-S;for(var T=0;T<C-w;T++)E+=" ";o+=E,o+=")",v=!1}return r&&l&&(o="+"===s?s+o:s+" "+o),o=o.replace("()",""),(o+=h?d.substr(p):"")?o.replace(/\[\[9\]\]|\[\[8\]\]/g,""):""},getInternationalOrNationalAccessCode:function(e,t,i){var n,r,a,s,o,c,l,u,d;if(!t)return"";if(e=e.replace(" ",""),!(r=i?t.nationalAccessCode:t.internationalAccessCode))return"";a="",r=r.split(",");for(var h=0;h<r.length;++h)if(u=(o=(o=r[h])?o.replace(/\"/g,""):"").length,l=(c=this.normalizeString(o)).length,c.split("#").length,-1!==(s=c.indexOf("#"))&&(c=c.substr(0,s)),e.substr(0,c.length).trim()===c){var p=-1===s?c:e.substr(0,l);A._74(o)&&-1!==(n=o.toString().indexOf(" "))&&(p=p.substr(0,n)+" "+p.substr(n)),d=p;for(var f=0;f<u;f++)"#"===o[f]&&(d=d.substr(0,f)+"#"+d.substr(f+1));if(d===o){a=p;break}}return a},getCountryCodeFromInput:function(e,t){var i,n=s.a,r=this.normalizeString(e);if((r=r.substr(t,e.length))&&0!==t&&n){r=this.convertFullWidthDigits(r);for(var a=0;a<=3&&(i=n[r.substr(0,a)],!A._74(i));++a);return i}return null},internationalPrefixForDigits:function(e,t){if(e)return"+"===e.charAt(0)?"+":this.getInternationalOrNationalAccessCode(e,t,!1).trim()},getMatchedFormatFromFormatsArray:function(e,t,i,n,r,a,s){for(var o,c,l,u,d,h,p,f,_,m,g,v,y=n.phoneFormats,b=y.length,I=0,S=!1,w=0;w<b;w++)if(c=(o=y[w]).format,u=(e=-1!==(l=this.getIndexOfPauses(e,",;"))?e.substr(0,l):e).length,p=c?c.split("#").length-1:0,h=u<(d=o.rangeBegin.toString().length)?"":e.substr(0,d),(h=this.convertFullWidthDigits(h))>=o.rangeBegin&&h<=o.rangeEnd&&u<=p){if(S&&I<p)continue;var C=-1!==o.format.indexOf("n"),E=-1!==o.format.indexOf("c");S=!0,I=p,f=!!r,(!A._74(_)||a&&!v&&C||f&&!m&&E||!f&&!a&&g<d||g<d&&!v||g<d&&(f&E||a&C)||v&&C&&g<d)&&(_=o,m=E,v=C,g=d)}return _},getFormattedStringUsingMatchedFormat:function(e,t,i,n,r,a,s,o){var c,l=e,u=this.getMatchedFormatFromFormatsArray(e,t,i,n,r,a,s);if(A._74(u)&&(c=u.format),o&&(o.format=c,o.nationalAccessCode=t,o.countryCode=i),!A._74(c)){var d=l.indexOf("x");if(-1!==d){var h=l.substring(0,d),p=l.substring(d,l.length),f=this.getFormattedStringUsingMatchedFormat(h,t,i,n,r,a,s,o);return f&&f!==h?f+" "+p:l}var _=this.getInternationalOrNationalAccessCode(l,n,!0),m=this.normalizeString(_),g=m.length;if(_&&s&&i&&"+"===s){l=l.substr(g,l.length);var v=this.getFormattedStringUsingMatchedFormat(l,"",i,n,!1,!1,"",o);if(v&&v!==l){var y=s+i+" ("+m+") "+v;return-1!==y.indexOf(") (")&&(y=y.replace(") (","")),y}return s+i+" ("+m+") "+l}return this.createFormattedString(l,c,t,i,r,a,s)||""}return this.createFormattedString(l,c,t,i,r,a,s)||""},getIndexOfPauses:function(e,t){for(var i=e.length,n=i,r=-1,a=0;a<t.length;a++)-1!==(r=e.indexOf(t[a]))&&r<n&&(n=r);return n===i?-1:n},formatEntryforDigits:function(e,t,i,n){var r,a,s,o,c,l,u=this.normalizeString(t).length,d=this.normalizeString(e),h=d.length,p=d,f=!1,_=!1;0===u&&(i=""),a=this.getInternationalOrNationalAccessCode(d,n,!0),s=this.normalizeString(a).length,a&&0!==s&&0===u&&(_=!0,p=d.substr(s,h)),l=n.numericCountryCode,o=this.getIndexOfPauses(e,",;"),t&&i&&1!==o?(p=d.substr(u+l.length,h),f=!0):f=!1;var m={};if(0===(r=this.getFormattedStringUsingMatchedFormat(p,a,l,n,f,_,t,m)).length&&f){var g=u+l.length,v=-1!==o?e.substr(0,o):e;c=v.length===g||isNaN(v[u])?e:"+"!==t?t+" "+l+" "+p:t+l+" "+p}return{formatted:r=r?r.trim():c,canonical:"+"+l+" "+((this.getFormattedStringUsingMatchedFormat(p,"","",n,f,_,"")||"").trim()||p),nationalNumber:p,prefix:t,numericCode:l,format:m.format,nationalAccessCode:m.nationalAccessCode,countryCode:m.countryCode}},normalizeString:function(e){return e?e.replace(/[^a-zA-Z0-9--+,;@.*#\'\"<>\[\]]/g,""):""},convertFullWidthDigits:function(e){return e.replace(/[-]/g,function(e){switch(e){case"":return"0";case"":return"1";case"":return"2";case"":return"3";case"":return"4";case"":return"5";case"":return"6";case"":return"7";case"":return"8";case"":return"9";default:return e}})}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={1:"us",7:"ru",20:"eg",27:"za",30:"gr",31:"nl",32:"be",33:"fr",34:"es",36:"hu",39:"it",40:"ro",41:"ch",43:"at",44:"gb",45:"dk",46:"se",47:"no",48:"pl",49:"de",51:"pe",52:"mx",53:"cu",54:"ar",55:"br",56:"cl",57:"co",58:"ve",60:"my",61:"au",62:"id",63:"ph",64:"nz",65:"sg",66:"th",81:"jp",82:"kr",84:"vn",86:"cn",90:"tr",91:"in",92:"pk",93:"af",94:"lk",95:"mm",98:"ir",211:"ss",212:"ma",213:"dz",216:"tn",218:"ly",220:"gm",221:"sn",222:"mr",223:"ml",224:"gn",225:"ci",226:"bf",227:"ne",228:"tg",229:"bj",230:"mu",231:"lr",232:"sl",233:"gh",234:"ng",235:"td",236:"cf",237:"cm",238:"cv",239:"st",240:"gq",241:"ga",242:"cg",243:"cd",244:"ao",245:"gw",246:"io",247:"ac",248:"sc",249:"sd",250:"rw",251:"et",252:"so",253:"dj",254:"ke",255:"tz",256:"ug",257:"bi",258:"mz",260:"zm",261:"mg",262:"re",263:"zw",264:"na",265:"mw",266:"ls",267:"bw",268:"sz",269:"km",290:"sh",291:"er",297:"aw",298:"fo",299:"gl",350:"gi",351:"pt",352:"lu",353:"ie",354:"is",355:"al",356:"mt",357:"cy",358:"fi",359:"bg",370:"lt",371:"lv",372:"ee",373:"md",374:"am",375:"by",376:"ad",377:"mc",378:"sm",379:"va",380:"ua",381:"rs",382:"me",385:"hr",386:"si",387:"ba",389:"mk",420:"cz",421:"sk",423:"li",500:"fk",501:"bz",502:"gt",503:"sv",504:"hn",505:"ni",506:"cr",507:"pa",508:"pm",509:"ht",590:"gp",591:"bo",592:"gy",593:"ec",594:"gf",595:"py",596:"mq",597:"sr",598:"uy",599:"bq",672:"aq",673:"bn",674:"nr",675:"pg",676:"to",677:"sb",678:"vu",679:"fj",680:"pw",681:"wf",682:"ck",683:"nu",685:"ws",686:"ki",687:"nc",688:"tv",689:"pf",690:"tk",691:"fm",692:"mh",800:"xt",850:"kp",852:"hk",853:"mo",855:"kh",856:"la",880:"bd",886:"tw",960:"mv",961:"lb",962:"jo",963:"sy",964:"iq",965:"kw",966:"sa",967:"ye",968:"om",970:"ps",971:"ae",972:"il",973:"bh",974:"qa",975:"bt",976:"mn",977:"np",992:"tj",993:"tm",994:"az",995:"ge",996:"kg",998:"uz"}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),a=r._67("iCloudWeb.Data.CKDatabaseType",function(e){e("Public"),e("Private"),e("Shared")}),n=r.v.extend({environment:null,containerIdentifier:null,databaseType:null,partition:null,services:null,databaseInstance:r._107({readOnly:!0,get:function(){var e=this._databaseInstance;if(e)return e;var t=this.containerIdentifier,i=this.databaseType,n=window.CloudKit.getContainer(t);return i===a.Public?e=n.publicCloudDatabase:i===a.Private?e=n.privateCloudDatabase:i===a.Shared?e=n.sharedCloudDatabase:r._75("DatabaseSupport - Invalid database type: %{database}",{database:e}),this._databaseInstance=e}}),bootstrapConfiguration:r._107({readOnly:!0,get:function(){var e=this.partition,t={containers:[{containerIdentifier:this.containerIdentifier,environment:this.environment,privateDatabasePartition:e,publicDatabasePartition:e,sharedDatabasePartition:e}]},i=this.services;return i&&(t.services=i),t}}),init:function(e){var t=arguments;this.__s._$1VO$init.apply(this,t);var i=this.bootstrapConfiguration;window.CloudKit||r._75("CloudKit.js is missing"),window.CloudKit.configure(i)},_databaseInstance:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"CKDatabase"},__superMap:{_$1VO$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var u=i(0),n=i(372),c=i(374),r=n.a.extend({init:function(e){var t=arguments;this.__s._$GZ$init.apply(this,t),e&&u._93(e.methodHandlers)&&this.registerMethodHandlers(e.methodHandlers)},registerMethodHandler:function(e,t,i){return n=e,r=t,a=i=i||e,s=this.channel,o=this,c=d.get(s),(l=c&&c.has(n))&&u._75("A handler for `%{methodName}` was already registered for channel",{methodName:n,handler:r,handlerMethodName:a,registration:l}),c||(c=new Map,d.set(s,c)),c.set(n,{channel:s,registrant:o,methodName:n,handler:r,handlerMethodName:a}),this;var n,r,a,s,o,c,l},unregisterMethodHandler:function(e){return function(e,t,i){var n=d.get(t);if(n){var r=n.get(e);r&&(r.registrant!==i&&u._75("Trying to unregistring handler for %{methodName} that was not registered by JsonRpcReceiver",{methodName:e,JsonRpcReceiver:i,registration:r}),n.delete(e))}}(e,this.channel,this),this},registerMethodHandlers:function(e){for(var t,i,n,r=Object.keys(e),a=r.length,s=0;s<a;s++)i=e[t=r[s]],n=t,Array.isArray(i)&&(n=i[1],i=i[0]),this.registerMethodHandler(t,i,n);return this},handleMessage:function(t){if(t&&t.method)if(void 0===t.error&&void 0===t.result){var e=t.params||[];if(Array.isArray(e)){var i=t.id,n=function(e,t,i){var n=d.get(t);if(n){var r=n.get(e);return r&&r.registrant===i?r:void 0}}(t.method,this.channel,this);if(n){var r,a=n.handler,s=n.handlerMethodName;try{r=a[s].apply(a,t.params||[])}catch(e){var o=Object(c.a)(e);return void this._handleHandlerError(t,o)}u._96(r)?this._handleHandlerPromise(t,r):this._handleHandlerResult(t,r)}}else this._sendErrorResponse(i,"Invalid params",l.INVALID_PARAMS)}else this._sendErrorResponse(i,"Invalid Request",l.INVALID_REQUEST)},_handleHandlerPromise:function(e,t){t.then(this._handleHandlerResult.bind(this,e),this._handleHandlerError.bind(this,e))},_handleHandlerResult:function(e,t){if(e&&void 0!==e.id)return t instanceof Error?this._handleHandlerError(e,t):this._sendResultResponse(e.id,t)},_handleHandlerError:function(e,t){if(e&&void 0!==e.id){var i=t.toJSON?JSON.stringify(t):String(t),n=t.code||l.UNKNOWN_ERROR,r={stack:t.stack};return this._sendErrorResponse(e.id,i,n,r)}},_sendResultResponse:function(e,t){if(void 0!==e){var i={jsonrpc:"2.0",id:e,result:t};return this.channel.send(u.P.sharedInstance.encode(i)),i}},_sendErrorResponse:function(e,t,i,n){if(void 0!==e){u._94(i)||(i=l.UNKNOWN_ERROR);var r={jsonrpc:"2.0",id:e,error:{code:i,message:t}};return u._93(n)&&(r.error.data=n),this.channel.send(u.P.sharedInstance.encode(r)),r}},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcReceiver"},__superMap:{_$GZ$init:"init"}}),l={PARSE_ERROR:-32700,METHOD_NOT_FOUND:-32601,INVALID_PARAMS:-32600,INTERNAL_ERROR:-32603,UNKNOWN_ERROR:-31209},d=new Map},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(0),n=i(372).a.extend({callMethod:function(e){this.channel||o._75("Attempted to call method '%{methodName}' on JsonRpcSender with no channel.",{methodName:e,JsonRpcSender:this});var t,i,n,r=o._119(arguments,1),a={jsonrpc:"2.0",id:++c,method:e,params:r},s=o.w.create();return t=s,n=this,l[i=a.id]&&o._75("A handler was already registered for response on "+i),l[i]=[t,n],this.channel.send(o.P.sharedInstance.encode(a)),s},callMethodWithoutResponse:function(e){this.channel||o._75("Attempted to call method '%{methodName}' on JsonRpcSender with no channel.",{methodName:e,JsonRpcSender:this});var t={jsonrpc:"2.0",method:e,params:o._119(arguments,1)};this.channel.send(o.P.sharedInstance.encode(t))},handleMessage:function(e){if(e&&void 0===e.method){var t=function(e,t){var i=l[e];if(i&&i[1]===t)return l[e]=void 0,i[0]}(e.id,this);t&&(void 0!==e.error?this._handleErrorResponse(e,t):this._handleResultResponse(e,t))}},_handleResultResponse:function(e,t){t.resolve(e.result)},_handleErrorResponse:function(e,t){var i=e.error;o._93(i)||(o._100.warning("Invalid error response for message "+e.id),i={code:r,message:"Unknown error"}),t.reject(i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcSender"}}),r=-31209,c=0,l={}},function(e,n,r){"use strict";(function(t){r.d(n,"a",function(){return i});var e=r(0),i=r(375).a.extend({_outgoingWindow:e._105({readOnly:!0,get:function(e){return e||{actualOutgoingWindow:t.parent}}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ParentWindowChannel"}})}).call(n,r(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("TokenItemStatus",{OK:"OK",PENDING:"PENDING",INVALID:"INVALID"})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n._5.extend({created:n._103(),fields:n._103(),modified:n._103(),recordChangeTag:n._103({type:String}),recordName:n._103({type:String}),recordType:n._103({type:String}),staticMembers:{__QUALIFIED_CLASS_NAME__:"CKRecord"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var m=i(0),n=m.v.extend(m._51,{valueForChange:function(e){var t=arguments,i=e.leftValue,n=e.rightValue,r=e.baseValue,a=e.direction,s=e.key;if(a===m._0.BOTH){if("participants"===s)return function(e,t,i){for(var n=i.length,r={addedValues:[],updatedIndices:[],updatedValues:[],removedIndices:[]},a={addedValues:[],updatedIndices:[],updatedValues:[],removedIndices:[]},s=0,o=m._68(e),c=m._68(t);y(r,s,i,o),y(a,s,i,c),++s<n;);var l=r.addedValues,u=r.removedIndices,d=r.updatedIndices,h=a.addedValues,p=a.removedIndices,f=a.updatedIndices,_=void 0;for(_=d.length-1;0<=_;_--)if(0<=f.indexOf(d[_]))return m._1;if(0<l.length&&0<h.length||0<l.length&&0<p.length||0<u.length&&0<h.length)return m._1;if(0<u.length&&0<p.length)for(_=u.length-1;0<=_;_--)if(!(0<=p.indexOf(u[_])))return m._1;return function(e,t,i){var n=m._68(e);v(n,t.updatedIndices,t.updatedValues),v(n,i.updatedIndices,i.updatedValues);for(var r=m._124(t.removedIndices.concat(i.removedIndices)).sort(),a=r.length-1;0<=a;a--)n.splice(r[a],1);return g(n,t.addedValues),g(n,i.addedValues),n}(i,r,a)}(i,n,r);if("fields"===s)return m._123(i,n,r,o.create())}return this.__s._$BO$valueForChange.apply(this,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CKShareRecordMergingDelegate"},__superMap:{_$BO$valueForChange:"valueForChange"}}),o=m.v.extend(m._51,{valueForChange:function(e){var t=arguments,i=e.leftValue,n=e.rightValue;return e.direction!==m._0.BOTH?this.__s._$R5$valueForChange.apply(this,t):!i||!n||i.value!==n.value||i.type&&n.type&&i.type!==n.type?m._1:i},staticMembers:{__QUALIFIED_CLASS_NAME__:"FieldsMergingDelegate"},__superMap:{_$R5$valueForChange:"valueForChange"}});function g(e,t){for(var i=t.length-1;0<=i;i--){var n=t[i];e.push(m._68(n))}}function v(e,t,i){for(var n=t.length-1;0<=n;n--){var r=t[n],a=i[n];e[r]=m._68(a)}}function u(e,t){for(var i=0,n=t.length,r=e.userIdentity.lookupInfo;i<n;i++){var a=t[i];if(m._69(a.userIdentity.lookupInfo,r))return t.splice(i,1),!1}return!0}function y(e,t,i,n){for(var r=i[t],a=m._68(i),s=r?r.userIdentity.lookupInfo:null,o=!1,c=n.length-1;0<=c;c--){var l=n[c];!o&&m._69(s,l.userIdentity.lookupInfo)?(m._69(r,l)||(e.updatedIndices.push(t),e.updatedValues.push(l)),o=!0,n.splice(c,1)):u(l,a)&&(e.addedValues.push(l),n.splice(c,1))}o||e.removedIndices.push(t)}},function(e,r,a){"use strict";(function(e){a.d(r,"a",function(){return t});var i=e.Error,n=function(e,t){this.name="CKSharing.Error",this.message=e||"",this.context=t,this.stack=(new i).stack};(n.prototype=Object.create(i.prototype)).constructor=n;var t=function(e,t,i){n.call(this,e,i),this.response=t,this.errors=t&&t.errors||[]};t.prototype=Object.create(n.prototype),t.prototype.constructor=t}).call(r,a(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({nestingPairs:{'"':'"',"'":"'","<":">","[":"]","(":")","{":"}"},escapeCharacters:{"\\":!0},delimiters:{",":!0,";":!0},tokenClasses:{},staticMembers:{valueForNode:function e(t){if("string"==typeof t)return t;for(var i=[],n=0;n<t.length;++n)i.push(e(t[n]));return i.join("")},visit:function e(t,i,n,r){if(r=r||[],"string"==typeof t)return n&&n.push(t),i(t,t,r);r.push(t);for(var a=[],s=0;s<t.length;++s)e(t[s],i,a,r);r.pop();var o=a.join("");return n&&n.push(o),i(t,o,r)},__QUALIFIED_CLASS_NAME__:"TreeTokenizer"},classifyCharacter:function(e){var t=this.tokenClasses;for(var i in t)if(t[i].test(e))return i},ascend:function(e){e&&this.currentNode.push(e),this.groupInterDelimiterContent(this.currentNode),this.terminators.pop();var t=this.parentNodes.pop();t&&(this.currentNode=t)},descend:function(e,t){this.terminators.push(t),this.parentNodes.push(this.currentNode);var i=[e];this.currentNode.push(i),this.currentNode=i},newToken:function(){var e=this.token;e&&(this.currentNode.push(e),this.token="")},groupInterDelimiterContent:function(e){for(var t=0,i=e.length-1;t<i&&e[i]===this.nestingPairs[e[t]];)++t,--i;for(var n=!1,r=i;t<=r;--r){var a=e[r];"string"==typeof a&&this.delimiters[a]&&(n=!0,1<i-r&&e.splice(r+1,i-r,e.slice(r+1,i+1)),i=r-1)}n&&1<i&&e.splice(t,i-t+1,e.slice(t,i+1))},build:function(e){this.rootNode=[],this.currentNode=this.rootNode,this.parentNodes=[],this.terminators=[],this.token="";for(var t=void 0,i=void 0,n=void 0,r=0,a=e.length;r<a;++r){if(t=i,i=e.charAt(r),!this.escapeCharacters[t]){if(this.delimiters[i]){this.newToken(),this.currentNode.push(i);continue}if(i===this.terminators[this.terminators.length-1]){this.newToken(),this.ascend(i);continue}var s=this.nestingPairs[i];if(s){this.newToken(),this.descend(i,s);continue}}var o=this.classifyCharacter(i);o!==n&&(n=o,this.newToken()),this.token+=i}for(this.newToken();this.parentNodes.length;)this.ascend();return this.groupInterDelimiterContent(this.rootNode),this.rootNode}})},function(e,t,i){"use strict";t.a=function(e,t){if(e||t){var i,n;if(e)if(!a(i=e.trim().charAt(0).toUpperCase()))return!1;if(t)if(!a(n=t.trim().charAt(0).toUpperCase()))return!1;return r.n({givenName:i,familyName:n}).replace(/\s+/g,"")}};var r=i(8),n=i(0);function a(e){return!n._120(e)&&(t=e,/^[a-zA-Z]*$/g.test(n._108(t)));var t}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var s=i(0),o=i(209),c=i(47),n=i(766),l=i(376),u=i(29),d=i(210),r=i(70),h=i(150),p=i(114),a=n.a.extend({staticMembers:{processDataHashThroughModel:function(e){return this.create(e).getDataHash()},__QUALIFIED_CLASS_NAME__:"Share"},currentUserParticipant:s._28.toOne({embedded:!0,type:d.a}),forRecord:s._103(),pluginFields:s._103(),publicPermission:s._103(),recordType:s._103({readOnly:!0}),share:s._103(),shortGUID:s._103({type:String}),participants:s._28.toMany({embedded:!0,type:d.a}),owner:s._28.toOne({embedded:!0,type:d.a}),effectiveAccess:s._105({dependencies:["publicPermission"],readOnly:!0,get:Object.assign(function(){return this.publicPermission===u.a.NONE?c.a.PRIVATE:c.a.PUBLIC},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===u.a.NONE?c.a.PRIVATE:c.a.PUBLIC}})}),effectivePermission:s._105({dependencies:["publicPermission","participants","participants.contentsDidChange","participantPermissionChanged","_fallbackPermission"],readOnly:!0,get:Object.assign(function(){if(this.publicPermission===u.a.NONE){var e=this.participants,t=this._fallbackPermission;return 1===e.length&&t?t:f(e)}return this.publicPermission},{__CW__getter:function(e,t,i,n){if(n.internalGet(this,t[0+i])===u.a.NONE){var r=n.internalGet(this,t[1+i]),a=n.internalGet(this,t[4+i]);return 1===r.length&&a?a:f(r)}return n.internalGet(this,t[0+i])}})}),_fallbackPermission:s._105(null),isPublic:s._105({cacheable:!1,dependencies:["effectiveAccess"],readOnly:!0,get:Object.assign(function(){return this.effectiveAccess===c.a.PUBLIC},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===c.a.PUBLIC}})}),isPrivate:s._105({cacheable:!1,dependencies:["effectiveAccess"],readOnly:!0,get:Object.assign(function(){return this.effectiveAccess===c.a.PRIVATE},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===c.a.PRIVATE}})}),loggedInUserCanEditShare:s._105({dependencies:["participants","participants.contentsDidChange","owner","recordName",r.a.bindingFor("currentUserRecordName")],readOnly:!0,get:Object.assign(function(){var e;if(this.recordName){var t=this._getCurrentUserParticipant();if(t){var i=t.type;e=i===l.a.OWNER||i===l.a.ADMINISTRATOR}else e=!0}else e=!0;return e},{__CW__getter:function(e,t,i,n){var r;if(n.internalGet(this,t[3+i])){var a=this._getCurrentUserParticipant();if(a){var s=a.type;r=s===l.a.OWNER||s===l.a.ADMINISTRATOR}else r=!0}else r=!0;return r}})}),participantPermissionChanged:s._118(),assignFieldUpdates:function(e){var t=this.fields;if(t)for(var i=Object.keys(e),n=0,r=i.length;n<r;n++){var a=i[n],s=t[a],o=e[a];s&&s.value===o.value||(t[a]=o)}else this.fields=e},findEquivalentParticipant:function(e){var t=this.participants;if(e&&t){if(0<=t.indexOf(e))return e;for(var i=Object(h.a)(e.userIdentity.lookupInfo.emailAddress),n=Object(p.a)(e.userIdentity.lookupInfo.phoneNumber),r=t&&t.length||0;r--;){var a=t.objectAt(r);if(i&&Object(h.a)(a.userIdentity.lookupInfo.emailAddress)===i)return a;if(n&&Object(p.a)(a.userIdentity.lookupInfo.phoneNumber)===n)return a}}},addParticipantsIgnoringDupes:function(e,n){if(e){var r=this,a=this.participants;e.forEach(function(e){var t=r.findEquivalentParticipant(e);if(s._74(t))n&&n!==t.permission&&(t.permission=n);else{var i=d.a.create(e.getDataHash());n&&(i.permission=n),a.push(i)}}),n&&this.participantPermissionChanged()}},removeEquivalentParticipants:function(e){for(var t=this.participants,i=0,n=e&&e.length||0;i<n;++i){var r=this.findEquivalentParticipant(e[i]);t.remove(r)}},setEffectiveAccess:function(e,t){if(e===c.a.PRIVATE)this.publicPermission=u.a.NONE;else{var i=this.effectivePermission;i&&i!==u.a.MIXED||(i=t),this.publicPermission=i;for(var n=this.participants,r=n.length-1;0<=r;r--){var a=n.objectAt(r);a.isOwner||(a.acceptanceStatus!==o.a.ACCEPTED?n.remove(a):a.permission=i)}}},setEffectivePermission:function(e){this.effectiveAccess===c.a.PUBLIC?this.publicPermission=e:this.setValueOnParticipants("permission",e)},setValueOnParticipants:function(e,t){for(var i=this.participants||[],n=0,r=i.length;n<r;++n){var a=i.objectAt(n);a.isOwner||(a[e]=t)}"permission"===e&&(this._fallbackPermission=t,1<i.length&&this.participantPermissionChanged())},toSanitizedJSON:function(){var e=this.toJSON();return delete e.currentUserParticipant,e},_getCurrentUserParticipant:function(){var e,t,i,n,r=this.participants;for(e=0,t=r.length;e<t;++e)if((i=r.objectAt(e)).getPath("userIdentity.isCurrentlyLoggedInUser")){n=i;break}return n}});function f(e){for(var t,i=0,n=e.length;i<n;++i){var r=e.objectAt(i);if(!r.isOwner){if(t&&t!==r.permission){t=u.a.MIXED;break}t=r.permission}}return t}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{init:function(e,t){n._95(e)||n._75("A zoneName String is required for ZoneID",{zoneName:e,ownerRecordName:t}),this.__s._$6A$init.call(this,{zoneName:e,ownerRecordName:t})},zoneName:n._105(),ownerRecordName:n._105(),toHash:function(){var e={zoneName:this.zoneName};return n._91(this.ownerRecordName)||(e.ownerRecordName=this.ownerRecordName),{zoneID:e}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ZoneID"},__superMap:{_$6A$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=i(377),a=i(378),s=i(211),o=i(29),c=n.v.extend(n._8,{dataRecordDataHash:n._105(),didUpdateRootRecord:null,didUpdateShareRecord:null,provideRootRecordForUpdate:null,provideLatestRootRecordAfterUpdateConflict:null,operationForCreateShareRecord:n._107({dependencies:["dataRecordDataHash"],readOnly:!0,get:Object.assign(function(){return r.a.create({publicPermission:o.a.NONE,forRecord:this.dataRecordDataHash,fields:this.shareRecordDataHash.fields,recordType:"cloudkit.share"},null,{didUpdateRootRecord:this.didUpdateRootRecord,didUpdateShareRecord:this.didUpdateShareRecord,provideRootRecordForUpdate:this.provideRootRecordForUpdate,provideLatestRootRecordAfterUpdateConflict:this.provideLatestRootRecordAfterUpdateConflict})},{__CW__getter:function(e,t,i,n){return r.a.create({publicPermission:o.a.NONE,forRecord:n.internalGet(this,t[0+i]),fields:this.shareRecordDataHash.fields,recordType:"cloudkit.share"},null,{didUpdateRootRecord:this.didUpdateRootRecord,didUpdateShareRecord:this.didUpdateShareRecord,provideRootRecordForUpdate:this.provideRootRecordForUpdate,provideLatestRootRecordAfterUpdateConflict:this.provideLatestRootRecordAfterUpdateConflict})}})}),operationForDeleteShareRecord:n._107({dependencies:["shareRecordDataHash"],readOnly:!0,get:Object.assign(function(){return a.a.create(this.shareRecordDataHash,null,{didUpdateRootRecord:this.didUpdateRootRecord,didUpdateShareRecord:this.didUpdateShareRecord})},{__CW__getter:function(e,t,i,n){return a.a.create(n.internalGet(this,t[0+i]),null,{didUpdateRootRecord:this.didUpdateRootRecord,didUpdateShareRecord:this.didUpdateShareRecord})}})}),operationForFetchDataRecord:n._107({dependencies:["dataRecordDataHash"],readOnly:!0,get:Object.assign(function(){return s.a.create(this.dataRecordDataHash.recordName)},{__CW__getter:function(e,t,i,n){return s.a.create(n.internalGet(this,t[0+i]).recordName)}})}),shareRecordDataHash:n._105(),type:"CONVERT_SHARE_TO_PRIVATE",init:function(e,t,i){this.__s._$qC$init.call(this,i),this.shareRecordDataHash=e,this.dataRecordDataHash=t},staticMembers:{__QUALIFIED_CLASS_NAME__:"ConvertShareRecordToPrivateOperation"},__superMap:{_$qC$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(151).a.extend({body:n._107({dependencies:["recordDataHash"],readOnly:!0,get:Object.assign(function(){var e=this.recordDataHash;return{recordName:e.recordName,recordChangeTag:e.recordChangeTag,createShortGUID:!0}},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return{recordName:r.recordName,recordChangeTag:r.recordChangeTag,createShortGUID:!0}}})}),provideRootRecordForUpdate:null,provideLatestRootRecordAfterUpdateConflict:null,didUpdateRootRecord:null,type:"CREATE_SHORT_GUID",staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateRecordShortGUIDOperation"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(211).a.extend({type:"FETCH_SHARE",staticMembers:{__QUALIFIED_CLASS_NAME__:"FetchShareRecordOperation"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var s=i(0),n=i(151),o=i(29),c=i(150),l=i(114),r=n.a.extend({body:s._107({dependencies:["recordDataHash"],readOnly:!0,get:Object.assign(function(){var e=s._68(this.recordDataHash);e.publicPermission===o.a.NONE?e.participants=u(e.participants):delete e.participants;var t=e.participants;return t&&t.forEach(function(e){var t=e&&e.userIdentity,i=t&&t.lookupInfo,n=i&&i.phoneNumber;n&&(e.userIdentity.lookupInfo.phoneNumber=Object(l.a)(n))}),delete e.created,delete e.modified,delete e.currentUserParticipant,e},{__CW__getter:function(e,t,i,n){var r=s._68(n.internalGet(this,t[0+i]));r.publicPermission===o.a.NONE?r.participants=u(r.participants):delete r.participants;var a=r.participants;return a&&a.forEach(function(e){var t=e&&e.userIdentity,i=t&&t.lookupInfo,n=i&&i.phoneNumber;n&&(e.userIdentity.lookupInfo.phoneNumber=Object(l.a)(n))}),delete r.created,delete r.modified,delete r.currentUserParticipant,r}})}),type:"UPDATE_SHARE",didUpdateShareRecord:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"UpdateShareRecordOperation"}});function u(e){var r={},a={};return e&&e.filter(function(e){var t=e.userIdentity&&e.userIdentity.lookupInfo;if(!t)return!0;var i=Object(c.a)(t.emailAddress);if(i){if(r[i])return!1;r[i]=!0}var n=t.phoneNumber;if(n){if(a[n])return!1;a[n]=!0}return!0})}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(375).a.extend({iframe:n._105({set:function(e,t){return this._previousIframe=t,e}}),_setOutgoingWindowOnIFrameChange:n._106("iframe",function(e){var t=this._previousIframe,i=this._iframeDidLoad;t&&i&&e!==t&&n._109(t,"load",i),e&&((this._outgoingWindow=e.contentWindow)||(i||(i=this._iframeDidLoad=function(){this._outgoingWindow=e.contentWindow,n._109(e,"load",this._iframeDidLoad)}.bind(this)),n._61(e,"load",i)))}),staticMembers:{__QUALIFIED_CLASS_NAME__:"IFrameWindowChannel"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.k.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"CancelButton"},ariaLabel:n._99("CKSharing.AddParticipants.CancelButton.Title"),title:n._99("CKSharing.AddParticipants.CancelButton.Title"),action:"didCancelAddParticipant",keyEquivalent:n.S.ESC,additionalClassNames:n._60(["cancel-button"])})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var s=i(71),o=i(0),c=i(799),l=i(210),n=i(806),r=i(70),a=s.j.extend({CustomAutocompleteDataSourceClass:o._105(),CustomLoadMembershipInfoHandlerClass:o._105(),tokenItemViewClass:n.a,menu:o._105({dependencies:["CustomLoadMembershipInfoHandlerClass"],readOnly:!0,get:Object.assign(function(){var e=c.a.create({target:this,anchor:this,layout:s.d.DOUBLE_LINE,allowedLayouts:[o._12],width:this.bindingFor("width")}),t=this.CustomLoadMembershipInfoHandlerClass;return t&&(e.contentController.membershipInfoLoader.loadMembershipInfoHandler=t.create()),e},{__CW__getter:function(e,t,i,n){var r=c.a.create({target:this,anchor:this,layout:s.d.DOUBLE_LINE,allowedLayouts:[o._12],width:this.bindingFor("width")}),a=n.internalGet(this,t[0+i]);return a&&(r.contentController.membershipInfoLoader.loadMembershipInfoHandler=a.create()),r}})}),autocompleteDataSource:o._105({dependencies:["CustomAutocompleteDataSourceClass"],readOnly:!0,get:Object.assign(function(){var e=this.CustomAutocompleteDataSourceClass;return e?e.create():c.b.create({isPhoneNumberSupportEnabled:!0})},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.create():c.b.create({isPhoneNumberSupportEnabled:!0})}})}),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:["add-participants-tokenizedtextfield-view"]}},__QUALIFIED_CLASS_NAME__:"AutocompleteTokenizedTextField"},labelField:o._105({defaultValue:o._85(o._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"toFieldText",attributes:{}}],name:"toField",classes:["to-field"]}}})),downstreamBindings:{toFieldText:"(owner).toFieldText"}}),toFieldText:o._105(o._99("CKSharing.AddParticipants.TokenItemView.Add")),invitees:o._105({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign(function(){var t=[],e=this.tokenViews;return e&&e.forEach(function(e){e.userIdentity&&e.value&&t.push(l.a.create({userIdentity:e.userIdentity}))}),t},{__CW__getter:function(e,t,i,n){var r=[],a=n.internalGet(this,t[0+i]);return a&&a.forEach(function(e){e.userIdentity&&e.value&&r.push(l.a.create({userIdentity:e.userIdentity}))}),r}})}),hasPendingTokens:o._105({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign(function(){var e=this.tokenViews;return e&&e.some(function(e){return e.isPending})},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r&&r.some(function(e){return e.isPending})}})}),hasInvalidTokens:o._105({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign(function(){var e=this.tokenViews;return e&&e.some(function(e){return e.isInvalid})},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r&&r.some(function(e){return e.isInvalid})}})}),hasAtLeastOneValidToken:o._105({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],get:Object.assign(function(){var e=this.tokenViews;return e&&e.some(function(e){return e.userIdentity&&!e.isInvalid})},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r&&r.some(function(e){return e.userIdentity&&!e.isInvalid})}})}),parseValueForTokens:function(e){return r.a.splitAddressString(e)},createNewTokenItemFromAutocompleteItemBeforeCurrentToken:function(e,t){this.createNewTokenItemBeforeCurrentToken(e,"PLACEHOLDER").updateForContactMatch(t)},logService:o._105(),phoneNumberValidationDidComplete:function(e){var t=this.logService;t&&t.recordStat("PhoneNumberValidation"+(e?"Succeeded":"Failed"))},hydrateValues:function(t){var i=[];return this.tokenViews.forEach(function(e){t&&!t(e)||i.push(e.hydratedValue)}),i.join(", ")}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var p=i(0),n=i(781),r=p._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"labelField"},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"tokenViews"},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{}}],name:"placeholderNode",classes:["cw-placeholder",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isPlaceholderShowing",truevalue:"show",attributes:{}}]}],name:"inputContainer",classes:["container"]},{type:"ELEMENT",tagname:"textarea",children:[],name:"clipboardArea",classes:["hidden-text","cw-input"]}],classes:["cw-tokenizedtextfield-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"BaseTokenizedTextField"},value:p._105({readOnly:!0,dependencies:["tokenViews","tokenViews.contentsDidChange","_tokenValueChangedSignal"],writeDependencies:[],get:function(){return this.hydrateValues()}}),setValue:function(e){this.tokenViews.clear(),this._createNewTokenItemAtIndex(0,e)},hydrateValues:function(e){for(var t="",i=this.tokenViews,n=i.length,r=!1,a=0;a<n;a++){var s=i.objectAt(a);e&&!e(s)||(r&&(t+=", "),t+=s.value,r=!0)}return t},tokenItemViewClass:n.a,createHashForTokenItemView:function(){return{parseValueForTokens:this.parseValueForTokens}},lastEditedToken:p._105(),placeholder:void 0,action:"submit",maxLength:null,isDisabled:p._105(!1),isEditable:p._105(!0),isFocusable:p._105({readOnly:!0,dependencies:["isDisabled"],get:Object.assign(function(){return!this.isDisabled},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])}})}),defaultFocusElement:p._105({dependencies:["element"],writeDependencies:[],readOnly:!1,binding:null,get:Object.assign(function(e){return e||this.element},{__CW__getter:function(e,t,i,n){return e||n.internalGet(this,t[0+i])}}),set:p.J}),selection:p._105({readOnly:!0,dependencies:["_selectionDidChange"],get:function(){return this.hydrateValues(function(e){return e.isSelected})}}),select:function(){var e=this.tokenViews,t=this.lastEditedToken;t&&t.isEditing&&t.stopEditing(),0!==e.length&&this.selectTokenRangeInclusive(e.objectAt(0),e.lastItem)},clearSelection:function(){var e=this.tokenViews,t=this.lastEditedToken;t&&t.isEditing&&t.stopEditing();var i=e.length;if(0!==i){this._shouldProcessSelectionEvents=!1;for(var n=0;n<i-1;n++){var r=e.objectAt(n);r.isSelected&&r.deselect()}this._shouldProcessSelectionEvents=!0,e.lastItem.deselect()}},parseValueForTokens:function(e){return e.split(/\s*,\s*/)},tokenViews:p._105(p._85(p._9)),_isPlaceholderShowing:p._105({dependencies:["value"],readOnly:!0,get:Object.assign(function(){return!this.value},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])}})}),_focusObserver:p._106("isFocused","descendantHasFocus",function(e,t){e||t||this.clearSelection()}),didFocus:function(){var e,t=this.tokenViews,i=this.lastEditedToken,n=i&&i.isEditing,r=0<this._activeSelectionGroupStack.length;n||r||!t||(e=p.Y.sharedInstance.isRTL?0:t.length,this._createNewEditingTokenAtIndex(e))},_setSelectedTokensToHiddenTextArea:function(){var e=this.selection;if(e&&0<e.length){var t=this.clipboardArea;(this.defaultFocusElement=t).value=e,t.select(),this.defaultFocusElement=null}},_shouldProcessSelectionEvents:!0,_activeSelectionGroupStack:p._85(p.u),tokenSelected:function(e){this._updateSelectedGroupForSelectedtoken(e),this._shouldProcessSelectionEvents&&(this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea())},_updateSelectedGroupForSelectedtoken:function(e){var t,i=this.tokenViews,n=i.length,r=i.indexOf(e),a=0<r?i.objectAt(r-1):null,s=r<n-1?i.objectAt(r+1):null,o=a&&a.selectionGroup,c=s&&s.selectionGroup;a&&s&&o&&c?(h(e.selectionGroup),1===(t=(e.selectionGroup=o).direction)?o.endPoint=1===s.direction?c.endPoint:c.anchor:(o.anchor=1===s.direction?c.endPoint:c.anchor,o.direction=-1)):a&&o?(h(e.selectionGroup),1===(t=(e.selectionGroup=o).direction)||0===t?(o.endPoint=e,o.direction=1):o.anchor=e):s&&c?(h(e.selectionGroup),1===(t=(e.selectionGroup=c).direction)?c.anchor=e:(c.endPoint=e,c.direction=-1)):e.selectionGroup||(e.selectionGroup=d(e,e,0));var l=this._activeSelectionGroupStack;l.remove(e.selectionGroup),l.push(e.selectionGroup)},tokenDeselected:function(e){this._updateSelectedGroupForDeselectedtoken(e),this._shouldProcessSelectionEvents&&(this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea())},_updateSelectedGroupForDeselectedtoken:function(e){if(e.selectionGroup){var t=this.tokenViews,i=t.length,n=t.indexOf(e),r=0<n?t.objectAt(n-1):null,a=n<i-1?t.objectAt(n+1):null,s=e.selectionGroup.direction,o=r&&r.selectionGroup,c=a&&a.selectionGroup;if(r&&a&&o&&c)if(1===s){var l=e.selectionGroup.endPoint;o.endPoint=r,c=d(a,l,1)}else{var u=e.selectionGroup.anchor;o.anchor=r,c=d(u,a,-1)}else r&&o?1===s?o.endPoint=r:o.anchor=r:a&&c?1===s?c.anchor=a:c.endPoint=a:(this._activeSelectionGroupStack.remove(e.selectionGroup),h(e.selectionGroup));this._setSelectionGroupDirectionToNeutralIfNeededForToken(r),this._setSelectionGroupDirectionToNeutralIfNeededForToken(a),e.selectionGroup=null}},_setSelectionGroupDirectionToNeutralIfNeededForToken:function(e){if(e){var t=e.selectionGroup;t&&t.anchor===e&&t.endPoint===e&&(t.direction=0)}},tokenButtonWasPressedWithShift:function(e){var t,i,n=this.tokenViews,r=this._activeSelectionGroupStack;if(r.length<1)i=t=n.objectAt(0);else{var a=r.lastItem;t=a.anchor,i=a.endPoint,0!==a.direction&&this.deselectTokenRangeInclusive(t,i)}this.selectTokenRangeInclusive(t,e)},deselectTokenRangeInclusive:function(e,t){this._selectionRangeHelper(e,t,function(e){e.deselect()}),this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea()},selectTokenRangeInclusive:function(e,t){this._selectionRangeHelper(e,t,function(e){e.select(!0)}),this._selectionDidChange(),this._setSelectedTokensToHiddenTextArea()},_selectionRangeHelper:function(e,t,i){var n,r=this.tokenViews,a=r.indexOf(e),s=r.indexOf(t),o=a<s?1:-1,c=1===o?a:s,l=1===o?s:a,u=this._shouldProcessSelectionEvents;if(this._shouldProcessSelectionEvents=!1,1===o)for(n=c;n<=l;n++)i(r.objectAt(n));else for(n=l;c<=n;n--)i(r.objectAt(n));this._shouldProcessSelectionEvents=u},pointerDown:function(e){var t=this.inputContainer.children[0],i=this.inputContainer;if(e.target===t||e.target===i){for(var n,r=e.clientY,a=e.clientX,s=this.tokenViews,o=0,c=s.length;o<c;o++){var l=s.objectAt(o).rect;if(!(r>l.bottom)){if(r<l.top)break;if(a<l.left){n=p.Y.sharedInstance.isRTL?o+1:o;break}a>l.right&&(n=p.Y.sharedInstance.isRTL?o:o+1)}}!isFinite(n)&&c||(this._createNewEditingTokenAtIndex(n||0),e.preventDefault())}},keyDown:function(e){var t,i,n=e.which;if(t=e,(i=p.C.sharedInstance).isMac?t.metaKey:i.isWindows&&t.ctrlKey){if(88===n)return this.deleteSelectedTokens(),!0;65===n&&this.select()}else{if(n===p.S.LEFT||n===p.S.RIGHT){var r=this._activeSelectionGroupStack.lastItem;if(r){var a,s=this.tokenViews,o=s.length,c=r.endPoint,l=r.direction;if(a=p.Y.sharedInstance.isRTL?n===p.S.RIGHT?-1:1:n===p.S.RIGHT?1:-1,e.shiftKey){if((d=s.indexOf(c)+a)<0||o<=d)return!0;l===a||0===l?s.objectAt(d).select(!0):c.deselect()}else{var u;u=a===l?r.endPoint:r.anchor;var d=s.indexOf(u)+a;if((-1===a&&!c.isEditing||1===a&&c.isEditing)&&d++,d<0||o<d)return!0;this._createNewEditingTokenAtIndex(d)}}return!0}if(n===p.S.BACKSPACE||n===p.S.DELETE)return this.deleteSelectedTokensAndEdit(),!0;if(n===p.S.ENTER){var h=this.findActiveToken();return h&&h.startEditing(),!0}}return!1},findActiveToken:function(){var e=this._activeSelectionGroupStack,t=e&&e.lastItem;return t&&t.endPoint},findRelativeToken:function(e,t){var i=this.tokenViews,n=i.indexOf(e);if(!(n<0))return i.objectAt(n+(t||0))},selectOrDeletePreviousToken:function(e){var t=this.findRelativeToken(e,-1);t&&(t.isSelected?this.deleteCurrentToken(t):t.select())},findTokenToEditAfterFollowingDeletion:function(){var e=this._activeSelectionGroupStack,t=e&&e.lastItem;if(t){var i=0<t.direction?t.anchor:t.endPoint;return this.findRelativeToken(i,-1)}},deleteSelectedTokensAndEdit:function(){var e=this.findTokenToEditAfterFollowingDeletion();this.deleteSelectedTokens(),e?this.createNewEditingTokenAfterCurrentToken(e):this._createNewEditingTokenAtIndex(0)},tokenStartedEditing:function(e){this.lastEditedToken=e},tokenStoppedEditing:function(e){},deletePreviousToken:function(e){var t=this.tokenViews.indexOf(e);0<=--t&&(this._deleteTokenAtIndex(t),e.startEditing())},deleteCurrentToken:function(e){var t=this.tokenViews.indexOf(e);this._deleteTokenAtIndex(t)},deleteSelectedTokens:function(){var e=this.tokenViews,t=e.length,i=this._shouldProcessSelectionEvents;this._shouldProcessSelectionEvents=!1;for(var n=t-1;0<=n;n--)e.objectAt(n).isSelected&&this._deleteTokenAtIndex(n);this._shouldProcessSelectionEvents=i},_deleteTokenAtIndex:function(e){var t=this.tokenViews,i=t.length;if(!(e<0||i<e)){var n=t.objectAt(e);n.isEditing&&n.stopEditing(),n.isSelected&&n.deselect(),t.splice(e,1)}},createNewTokenItemBeforeCurrentToken:function(e,t){var i=this.tokenViews.indexOf(e);return this._createNewTokenItemAtIndex(i,t)},_createNewTokenItemAtIndex:function(e,t){if(t){var i=this._createNewTokenItem();return this.tokenViews.insertAt(e,i),i.startEditing(),i.value=t,i.stopEditing(),i}},createNewEditingTokenAfterCurrentToken:function(e){if(!this._isCreatingToken){var t=this.tokenViews.indexOf(e);return t++,this._createNewEditingTokenAtIndex(t)}},_createNewEditingTokenAtIndex:function(e){this._isCreatingToken=!0;var t=this._createNewTokenItem();return this.tokenViews.insertAt(e,t),t.startEditing(),this._isCreatingToken=!1,t},_createNewTokenItem:function(){var e=this.tokenItemViewClass,t=this.createHashForTokenItemView();return e.create(t)},tokenValueChanged:function(){this._tokenValueChangedSignal()},_tokenValueChangedSignal:p._118(),_selectionDidChange:p._118()}),a=[];function d(e,t,i){var n=a.pop();return n||(n={}),n.anchor=e,n.endPoint=t,n.direction=i,n}function h(e){e&&(e.anchor=null,e.endPoint=null,e.direction=-2,a.push(e))}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var s=i(0),n=i(782),r=i(783),a=i(1357),o=(i.n(a),s._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"tokenButton"}],classes:["button-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEditing",truevalue:"is-editing",attributes:{signal:"editingDidSwitchOnButton"}}]},{type:"ELEMENT",tagname:"form",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"tokenTextField"}],classes:["text-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isEditing",truevalue:"is-editing",attributes:{signal:"editingDidSwitchOnTextField"}}]},{type:"ELEMENT",tagname:"div",children:[],name:"hitDetector",classes:["hit-detector"],styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"hitDetectorOffset",attributes:{},unit:"px",property:"left"}}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"contentIsAlwaysLTR",truevalue:"content-is-always-ltr",attributes:{}}]},className:"cw-ui-views-token-item-view",__QUALIFIED_CLASS_NAME__:"TokenItemView"},tokenButton:s._105({defaultValue:s._85(r.a,{action:"tokenButtonWasPressed",additionalClassNames:["token-item-button"],isFocusable:!0}),downstreamBindings:{title:"(owner).value",isSelected:"(owner).isSelected"}}),tokenTextField:s._105({defaultValue:s._85(n.a,{additionalClassNames:["token-item-textfield"]}),downstreamBindings:{value:"(owner).value",menu:"(owner).menu",delegate:"(owner).autocompleteDelegate",dataSource:"(owner).autocompleteDataSource",isDisabled:"(owner)._isTextFieldDisabled"}}),tokenMenuButtonClicked:function(){},autocompleteDelegate:s._105(),autocompleteDataSource:s._105(),didAutocomplete:function(e){if(e){var t=this.isEditing,i=this.value;this.sendEvent("createNewTokenItemBeforeCurrentToken",this,i),this.value="",t&&this.startEditing()}return!1},menu:s._105({strong:!0}),_activeElement:s._105({readOnly:!0,dependencies:["tokenButton","tokenTextField","isEditing","tokenTextField.widthDidRender","tokenButton.titleDidRender"],get:Object.assign(function(){var e;return this.isEditing?(this.tokenTextField.widthDidRender,e=this.tokenTextField.element):(this.tokenButton.titleDidRender,e=this.tokenButton.element),e},{__CW__getter:function(e,t,i,n){var r;return n.internalGet(this,t[2+i])?(n.internalGetPath(this,t[3+i]),r=n.internalGet(this,t[1+i]).element):(n.internalGetPath(this,t[4+i]),r=n.internalGet(this,t[0+i]).element),r}})}),hitDetectorOffset:s._105({readOnly:!0,dependencies:["_activeElement","isAttached"],get:Object.assign(function(){var e=this._activeElement;return e?e.offsetWidth:0},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.offsetWidth:0}})}),value:s._105(""),isEditing:s._105(!1),isSelected:s._105(!1),contentIsAlwaysLTR:s._105(!1),selectionGroup:null,reEmptyToken:/^\s*$/,startEditing:function(){this.sendEvent("tokenStartedEditing",this),this.select(),this.isEditing=!0;var e=this.tokenTextField;e._selection={start:0,end:e.value.length}},stopEditing:function(){this.sendEvent("tokenStoppedEditing",this),this.isEditing=!1,this.focusedChild=null},select:function(e){e||this.sendEvent("clearSelection"),this.isSelected=!0,this.sendEvent("tokenSelected",this)},deselect:function(){this.isSelected=!1,this.sendEvent("tokenDeselected",this),this.blur()},_doubleClickCount:0,_resetDoubleClickCount:function(){this._doubleClickCount=0,this._doubleClickTimer.stop()},tokenButtonWasPressed:function(e){if(this._doubleClickCount++,1<this._doubleClickCount)this.startEditing(),this._resetDoubleClickCount();else{this._doubleClickTimer.start();var t=s.T.sharedInstance.activeKeys;if(t.contains(s.S.SHIFT))this.sendEvent("tokenButtonWasPressedWithShift",this);else{var i,n=s.C.sharedInstance;n.isMac&&(i=s.S.CMD),n.isWindows&&(i=s.S.CTRL),this.isSelected?t.contains(i)&&this.deselect():this.select(t.contains(i))}}},_doubleClickTimer:s._85(s._52,{delay:400,action:"_resetDoubleClickCount"}),keyDown:function(e){var t=!1,i=e.which;if(this.isEditing){var n=this.tokenTextField.selection,r=n.start,a=n.end;i===s.S.ENTER?(this.stopEditing(),this.reEmptyToken.test(this.value)||this.sendEvent("createNewEditingTokenAfterCurrentToken",this),t=!0,e.preventDefault()):i===s.S.BACKSPACE?(0===r&&0===a&&(e.preventDefault(),this.sendEvent("selectOrDeletePreviousToken",this)),t=!0):i===s.S.DELETE?t=!0:i===s.S.LEFT?0!==r&&(t=!0):i===s.S.RIGHT&&a!==this.value.length&&(t=!0)}else i!==s.S.BACKSPACE&&i!==s.S.DELETE||(this.sendEvent("deleteSelectedTokens"),t=!0);return t},pointerDown:function(e){e.target===this.hitDetector&&(this.sendEvent("createNewEditingTokenAfterCurrentToken",this),e.preventDefault())},_previousIsEditing:!1,_editingObserver:s._106("isEditing","editingDidSwitchOnButton","editingDidSwitchOnTextField",function(e){var t=this._previousIsEditing;if(this._previousIsEditing=e){var i=this._shouldStopEditingWhenFocusIsLost;this._shouldStopEditingWhenFocusIsLost=!1,this.tokenTextField.focus(),this._shouldStopEditingWhenFocusIsLost=i}else t&&this.reEmptyToken.test(this.value)&&this.sendEvent("deleteCurrentToken",this)}),_shouldStopEditingWhenFocusIsLost:!0,_textFieldFocusObserver:s._106("tokenTextField.isFocused",function(e){if(!e){var t=this.menu&&this.menu.highlightedItem,i=this.tokenTextField,n=i&&i.textField;t&&n?n.autocompleteItemWasSelected(t):this._shouldStopEditingWhenFocusIsLost&&this.stopEditing()}}),_shouldParse:s._105(!0),pauseParsing:function(){this._shouldParse=!1},resumeParsing:function(){this._shouldParse=!0},_valueParsingObserver:s._106("value",function(e){if(e&&this._shouldParse){var t=this.parseValueForTokens(e),i=t.length,n=this.isEditing;if(1<i){var r=this._shouldStopEditingWhenFocusIsLost;this._shouldStopEditingWhenFocusIsLost=!1;for(var a=0;a<i-1;a++)this.sendEvent("createNewTokenItemBeforeCurrentToken",this,t[a]);this.value=t[i-1],n&&this.startEditing(),this._shouldStopEditingWhenFocusIsLost=r}}}),_valueChangedObserver:s._106("value",function(){this.sendEvent("tokenValueChanged")}),parseValueForTokens:function(e){return[]},_isTextFieldDisabled:s._105({readOnly:!0,dependencies:["isEditing"],get:Object.assign(function(){return!this.isEditing},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])}})})}))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n._50.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"span",children:[],name:"testMeasurer",styles:{position:"absolute",left:"-1000px",top:"-1000px",visibility:"hidden","white-space":"pre"}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{signal:"widthDidRender"},unit:"px",property:"width"}}}},__QUALIFIED_CLASS_NAME__:"ResizingTextField"},width:n._105({readOnly:!0,dependencies:["value","isAttached"],get:Object.assign(function(){var e=this.testMeasurer;e.innerText=this.value;var t=e.offsetWidth;return e.innerText="",t},{__CW__getter:function(e,t,i,n){var r=this.testMeasurer;r.innerText=n.internalGet(this,t[0+i]);var a=r.offsetWidth;return r.innerText="",a}})})})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(1356),a=(i.n(r),n._57.extend(n.l,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{signal:"titleDidRender"}}],classes:["title"]}],classes:["title-wrapper"]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"menuButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isSelected",truevalue:"is-selected",attributes:{}}],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}},className:"cw-ui-views-token-button",__QUALIFIED_CLASS_NAME__:"TokenButton"},title:n._105(),isAccepted:n._105(),tooltip:n._105(),isSelected:n._105(!1),menuButton:n._105(n._85(n._57.extend(n.l,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",children:[],namespace:"http://www.w3.org/2000/svg",attributes:{d:"M0 0 L3 3 L6 0"}}],namespace:"http://www.w3.org/2000/svg",classes:["menu-icon"],attributes:{viewBox:"0 0 6 4"}}],classes:["menu-icon-hitbox"]}},action:"tokenMenuButtonClicked"})))}))},function(e,t,i){"use strict";i.d(t,"b",function(){return s}),i.d(t,"c",function(){return o}),i.d(t,"a",function(){return c});var n=i(0),r=i(213),a=i(794),s=n._67("AutocompleteMenuLayout",{SINGLE_LINE:"SINGLE_LINE",DOUBLE_LINE:"DOUBLE_LINE"}),o=r.d.extend({viewClass:r.c.extend({mixinDependencies:[n.F]}),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuListViewController"}}),c=r.e.extend({contentController:n._105({defaultValue:n._85(o),downstreamBindings:{desiredWidth:"(owner).width"}}),layout:n._105(s.DOUBLE_LINE),isDoubleLineLayout:n._105({readOnly:!0,dependencies:["layout"],get:Object.assign(function(){return this.layout===s.DOUBLE_LINE},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===s.DOUBLE_LINE}})}),singleLineLayoutHeight:n._105(35),doubleLineLayoutHeight:n._105(47),listLayoutRowHeight:n._105({readOnly:!0,dependencies:["singleLineLayoutHeight","doubleLineLayoutHeight","isDoubleLineLayout"],get:Object.assign(function(){return this.isDoubleLineLayout?this.doubleLineLayoutHeight:this.singleLineLayoutHeight},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[2+i])?n.internalGet(this,t[1+i]):n.internalGet(this,t[0+i])}})}),listViewItemMappedClass:a.a,additionalClassNames:n._105({readOnly:!0,dependencies:["isDoubleLineLayout"],get:Object.assign(function(){return this.isDoubleLineLayout?["cw-autocomplete-menu","double-line"]:["cw-autocomplete-menu","single-line"]},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?["cw-autocomplete-menu","double-line"]:["cw-autocomplete-menu","single-line"]}})}),view:n._105({downstreamBindings:{additionalClassNames:"(owner).additionalClassNames"}}),listLayoutTopPadding:3,listLayoutBottomPadding:3,hasOverlay:!1,isFocusablePane:!1,listLayoutRowSpacing:0,width:n._105(0),shouldMeasure:!1,_listViewItemsDidChange:n._106("listCollection","listCollection.contentsDidChange",function(e){if(e&&0<e.length){var t=this._mostRecentHighlightIndex;(void 0===t||t<=0)&&this.highlightNextItem()}}),_highlightedItemDidChange:n._106("highlightedItem",function(){var e=this.highlightedItem;if(e){var t=this.listCollection;t&&(this._mostRecentHighlightIndex=t.indexOf(e))}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenu"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1359),r=(i.n(n),i(0)),a=i(152),s=i(383),o=r._57.extend(s.a,a.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:["cw-divider-item-view"]},className:"cw-ui-divider-item-view",__QUALIFIED_CLASS_NAME__:"DividerItemView"}})},function(e,s,o){"use strict";(function(g){o.d(s,"a",function(){return a});var v=o(0),i=o(215),e=o(385),r=o(386),t=o(791),n=o(384),a=v.q.extend(e.a,v._41,{_minimumWidth:v._105(20),viewItemMappedClass:v._105({defaultValue:n.a}),desiredSize:v._105({strong:!0,dependencies:["isAttached","collection","collection.length","shouldMeasure","viewItemMappedClass","collection.contentsDidChangeUntracked","desiredWidth","maximumWidth","_minimumWidth","layoutMetrics.rowSpacing","layoutMetrics.rowHeight","layoutMetrics.topPadding","layoutMetrics.bottomPadding","layoutDelegate","layoutController"],readOnly:!0,get:Object.assign(function(){var e=this.desiredWidth,t=0,i=this.maximumWidth,n=this._minimumWidth,r=this.layoutMetrics;r&&(t+=r.topPadding+r.bottomPadding);var a=this.collection;if(a){var s=a.length;if(r&&(t+=r.rowSpacing*s-1),this.shouldMeasure&&this.isAttached){var o=this.view.style,c=o.getInline("position"),l=o.getInline("width"),u=o.getInline("height");o.set({position:"absolute",width:g.innerWidth+"px",height:g.innerHeight+"px"});for(var d=a.startHandle;d.isValid;d=d.next){var h=this.layoutDelegate.cellForHandle(d,"item");e=Math.max(e,Math.ceil(this._naturalWidthForMenuItem(h))),t+=this.layoutDelegate.sizeForItem(this.layoutController,h).height}o.set({position:c,width:l,height:u})}else r&&(t+=r.rowHeight*s)}return e=Math.min(Math.max(e,n),i),v._43.create(e,t)},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[6+i]),a=0,s=n.internalGet(this,t[7+i]),o=n.internalGet(this,t[8+i]),c=this.layoutMetrics;c&&(a+=c.topPadding+c.bottomPadding);var l=n.internalGet(this,t[1+i]);if(l){var u=l.length;if(c&&(a+=c.rowSpacing*u-1),n.internalGet(this,t[3+i])&&n.internalGet(this,t[0+i])){var d=this.view.style,h=d.getInline("position"),p=d.getInline("width"),f=d.getInline("height");d.set({position:"absolute",width:g.innerWidth+"px",height:g.innerHeight+"px"});for(var _=l.startHandle;_.isValid;_=_.next){var m=n.internalGet(this,t[13+i]).cellForHandle(_,"item");r=Math.max(r,Math.ceil(this._naturalWidthForMenuItem(m))),a+=n.internalGet(this,t[13+i]).sizeForItem(n.internalGet(this,t[14+i]),m).height}d.set({position:h,width:p,height:f})}else c&&(a+=c.rowHeight*u)}return r=Math.min(Math.max(r,o),s),v._43.create(r,a)}})}),desiredWidth:v._105(0),shouldMeasure:v._105(!0),menuDelegate:v._105(),layoutDelegate:v._105({defaultValue:v._85(v.L.extend({menuDelegate:v._105(),sizeForItem:function(e,t){return v._43.create(t.customWidth||e.viewportWidth,t.customHeight||e.layoutMetrics.rowHeight)},createCellFor:function(e,t){var i=arguments;if("item"!==t)return this.__s._$1kN$createCellFor.apply(this,i);var n=this.menuDelegate;return(n.itemIsDivider(e)?r.a:n.itemIsSubmenu(e)?r.c:this.cellClass).create(this)},__superMap:{_$1kN$createCellFor:"createCellFor"}})),downstreamBindings:{cellClass:"(owner).viewItemMappedClass",menuDelegate:"(owner).menuDelegate"}}),presenter:v._105({defaultValue:v._85(v.a.extend({itemViewClassForItem:function(e){var t=arguments;return"item"!==e.cellType?this.__s._$1y9$itemViewClassForItem.apply(this,t):e.viewClass},cellDidExit:function(e){var t=arguments;e._willExit(this.owner),this.__s._$1_e$cellDidExit.apply(this,t),e.view=null},itemViewDidEnter:function(e,t){var i=arguments;t.view=e,this.__s._$224$itemViewDidEnter.apply(this,i),t._didEnter(this.owner)},cellDidMove:function(e){var t=arguments;this.__s._$23w$cellDidMove.apply(this,t),e._didUpdate(this.owner)},__superMap:{_$1y9$itemViewClassForItem:"itemViewClassForItem",_$1_e$cellDidExit:"cellDidExit",_$224$itemViewDidEnter:"itemViewDidEnter",_$23w$cellDidMove:"cellDidMove"}}))}),maximumWidth:v._105(1/0),selectionController:v._85(v.M),selectionDelegate:v._85(v.v.extend(v.N)),isMultipleSelectionEnabled:!1,isEmptySelectionEnabled:!0,viewClass:t.a,_naturalWidthForMenuItem:function(e){var t=e.view,i=!1;t||(t=e.viewClass.measurementInstance)&&(t.isAttached||(this.presenter.views.push(t),t.element.style.visibility="hidden"),e.view=t,e._didEnter(this),i=!0);var n=void 0;return n=t&&t.isAttached?t.naturalSize.width:0,i&&(e._willExit(this),e.view=null),n},collectionViewDidScroll:function(e,t,i){this.scrollBy(t,i)},collectionViewDidScrollInDirection:function(e,t){switch(t){case i.a.NORTH:this.moveAnItemBack();break;case i.a.SOUTH:this.moveAnItemForward();break;default:v._75("CW.UI.MenuListViewController does not support scrolling in the direction, `%{direction}`.",{direction:t})}},moveAnItemBack:function(){var e=this.layoutController.visibleCells.objectAt(0),t=this.layoutDelegate.positionNextCell(this.layoutController,e,-1);t?this.scrollBy(0,t.height):this.scrollBy(0,e.height),this.update()},moveAnItemForward:function(){var e=this.layoutController.visibleCells.lastItem,t=this.layoutDelegate.positionNextCell(this.layoutController,e,1);t?this.scrollBy(0,-t.height):this.scrollBy(0,-e.height),this.update()},selectItem:function(e){this.selectedItem=e},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuListViewController"}})}).call(s,o(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1362),s=(i.n(n),i(0)),r=i(214),a=i(152),o=r.a.extend(a.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["checkmark"]},{type:"ELEMENT",tagname:"div",children:[],name:"icon",classes:["icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClass",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_displayTitle",attributes:{}}],classes:["title",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"titleIsAlwaysLTR",truevalue:"is-always-ltr",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_keySequenceSymbols",attributes:{}}],classes:["key-sequence-symbols"]}],classes:["cw-menu-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasCheckmark",truevalue:"has-checkmark",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasIconClass",truevalue:"has-icon-class",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasKeySequence",truevalue:"has-key-sequence",attributes:{}}]}},className:"cw-ui-menu-item-view",__QUALIFIED_CLASS_NAME__:"MenuItemView"},_displayTitle:s._105({dependencies:["title","shouldEscape"],readOnly:!0,get:Object.assign(function(){return this.shouldEscape?s._73(this.title):this.title},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])?s._73(n.internalGet(this,t[0+i])):n.internalGet(this,t[0+i])}})}),titleIsAlwaysLTR:s._105({type:"boolean",defaultValue:!1}),hasCheckmark:s._105({type:"boolean",defaultValue:!1}),_hasKeySequence:s._105({dependencies:["keySequence"],readOnly:!0,get:Object.assign(function(){return!!this.keySequence},{__CW__getter:function(e,t,i,n){return!!n.internalGet(this,t[0+i])}})}),_hasIconClass:s._105({dependencies:["iconClass"],readOnly:!0,get:Object.assign(function(){return!!this.iconClass},{__CW__getter:function(e,t,i,n){return!!n.internalGet(this,t[0+i])}})}),iconClass:s._105(),keySequence:s._105(),_keySequenceSymbols:s._105({dependencies:["keySequence"],readOnly:!0,get:Object.assign(function(){var e=this.keySequence;return e?c(e):null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?c(r):null}})}),title:s._105(),shouldEscape:s._105({type:"boolean",defaultValue:!0})});function c(e){var t,i,n="",r=e.modifiers,a=e.keys;if(r)for(t=0,i=r.length;t<i;t++)n+=s._99(l[r[t]])||r[t];if(a)for(t=0,i=a.length;t<i;t++)n+=s._99(l[a[t]])||String.fromCharCode(a[t]);return n}var l={},u=s.S;l[u.BACKSPACE]="",l[u.TAB]="",l[u.SPACE]="Space",l[u.RETURN]="",l[u.ENTER]="",l[u.SHIFT]="",l[u.CTRL]="",l[u.OPTION]="",l[u.ESC]="",l[u.LEFT]="",l[u.UP]="",l[u.RIGHT]="",l[u.DOWN]="",l[u.DELETE]="",l[u.HOME]="Home",l[u.END]="End",l[u.PAGEUP]="Page Up",l[u.PAGEDOWN]="Page Down",l[u.INSERT]="Insert",l[u.CMD]=""},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],action:n._105()};n._26,n._26},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1363),r=(i.n(n),i(0)),a=i(214),s=i(152),o=a.a.extend(s.a,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["icon",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"iconClass",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_displayTitle",attributes:{escape:"false"}}],classes:["title"]},{type:"ELEMENT",tagname:"div",children:[],classes:["arrow"]}],classes:["cw-submenu-item-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_hasIconClass",truevalue:"has-icon-class",attributes:{}}]}},className:"cw-ui-submenu-item-view",__QUALIFIED_CLASS_NAME__:"SubmenuItemView"},_displayTitle:r._105({dependencies:["title","shouldEscape"],readOnly:!0,get:Object.assign(function(){return this.shouldEscape?r._73(this.title):this.title},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])?r._73(n.internalGet(this,t[0+i])):n.internalGet(this,t[0+i])}})}),_hasIconClass:r._105({dependencies:["iconClass"],readOnly:!0,get:function(){return!!this.icon}}),iconClass:r._105(),title:r._105(),shouldEscape:r._105({type:"boolean",defaultValue:!0})})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={_didEnter:function(){var e=arguments;this.__s._$66$_didEnter.apply(this,e),this.view.style.set("width",this.width).set("height",this.height).translateDevicePixels(this.x,this.y)},_didUpdate:function(){var e=arguments;this.__s._$DO$_didUpdate.apply(this,e),this.view.style.set("width",this.width).set("height",this.height).translateDevicePixels(this.x,this.y)},_willExit:function(){var e=arguments;this.view.style.translate(-1e3,-1e3),this.__s._$Ku$_willExit.apply(this,e)},__superMap:{_$66$_didEnter:"_didEnter",_$DO$_didUpdate:"_didUpdate",_$Ku$_willExit:"_willExit"}}},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(1364),r=(i.n(n),i(0)),a=i(215),s=i(385),o=i(792),c=r.p.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"startScrollButton"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"endScrollButton"}],classes:["cw-collection-view","cw-menu-list-view"],attributes:{tabindex:"1"}},itemViews:{type:"ELEMENT",tagname:"ext",children:[],classes:["collection-content"],styles:{position:"absolute",height:"100%",width:"100%"}}},className:"cw-ui-menu-list-view",__QUALIFIED_CLASS_NAME__:"MenuListView"},delegate:r._105({defaultValue:r._85(r.v.extend(s.a,{collectionViewDidScroll:r._6,collectionViewDidScrollInDirection:r._6}))}),endScrollButton:r._105({defaultValue:r._85(o.a.extend({direction:a.a.SOUTH})),downstreamBindings:{isDisabled:"(owner).endScrollButtonIsDisabled"}}),endScrollButtonIsDisabled:r._105({readOnly:!0,dependencies:["canScrollVertically","height","scrollMaxY"],get:Object.assign(function(){return!this.canScrollVertically||this.scrollMaxY===this.height},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])||n.internalGet(this,t[2+i])===n.internalGet(this,t[1+i])}})}),startScrollButton:r._105({defaultValue:r._85(o.a.extend({direction:a.a.NORTH})),downstreamBindings:{isDisabled:"(owner).startScrollButtonIsDisabled"}}),startScrollButtonIsDisabled:r._105({readOnly:!0,dependencies:["canScrollVertically","scrollHeight","scrollMaxY"],get:Object.assign(function(){return!this.canScrollVertically||this.scrollHeight===this.scrollMaxY},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])||n.internalGet(this,t[1+i])===n.internalGet(this,t[2+i])}})}),init:function(){var e=arguments;this.__s._$vE$init.apply(this,e),((this.startScrollButton.target=this).endScrollButton.target=this).scrollInDirection=l},__superMap:{_$vE$init:"init"}}),l=function(e){this.delegate.collectionViewDidScrollInDirection(this,e.direction)}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(215),a=n._57.extend(n._49,n.s,{staticMembers:{className:"cw-ui-repeater-button",__QUALIFIED_CLASS_NAME__:"RepeaterButton"},period:n._105({defaultValue:16.66666667,didChange:function(e){this._timer.delay=e}}),_timer:n._107({strong:!0,defaultValue:n._85(n._52,{action:"callAction",timesToFire:1/0})}),pointerEnter:function(e){this._timer.start()},pointerLeave:function(e){this._timer.stop()}}).extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["arrow"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"directionClassname",attributes:{}}],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"none",falsevalue:"flex",attributes:{},unit:null,property:"display"}}}},className:"cw-ui-scroll-repeater-button",__QUALIFIED_CLASS_NAME__:"ScrollRepeaterButton"},action:"scrollInDirection",direction:n._105({defaultValue:r.a.NORTH}),directionClassname:n._105({readOnly:!0,dependencies:["direction"],get:Object.assign(function(){return"direction-"+this.direction.value+""},{__CW__getter:function(e,t,i,n){return"direction-"+n.internalGet(this,t[0+i]).value+""}})}),period:n._105({defaultValue:60})})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n={menuDidDismissWithHighlightedItem:function(e,t){},shouldHighlightItem:function(e,t){var i=e.contentController.layoutDelegate.cellForHandle(t);return!i._shouldHighlight||i._shouldHighlight(this)},itemWasSelected:function(e,t){if(t.isValid){var i=t.value,n=i.action;i.isDisabled||n&&(e.sendEvent(n,i)||r._112(e.target,n,i))}},shouldDismissWithHighlightedItem:function(e,t){return!0},itemIsSubmenu:function(e){return null!=e.value.items},itemIsDivider:function(e){return null==e.value.action}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var r=i(0),n=i(213),a=i(1368),s=(i.n(a),n.h.extend(n.g,{viewClass:r._57.extend(n.f,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"primaryLabel",attributes:{}}],classes:["primary"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"category",attributes:{}}],classes:["category"]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"secondaryLabel",attributes:{}}],classes:["secondary"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHighlighted",truevalue:"cw-highlighted",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasBorder",truevalue:"has-border",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasCategory",truevalue:"has-category",falsevalue:"no-category",attributes:{}}]}},additionalClassNames:["autocomplete-menu-item"],isHighlighted:r._105(!1),hasBorder:r._105(!0),hasCategory:r._105({readOnly:!0,dependencies:["category"],get:Object.assign(function(){return r._74(this.category)},{__CW__getter:function(e,t,i,n){return r._74(n.internalGet(this,t[0+i]))}})})}),didEnter:function(e){this.view.bind("primaryLabel",this.item.bindingFor("primaryLabel")),this.view.bind("category",this.item.bindingFor("localizedCategory")),this.view.bind("secondaryLabel",this.item.bindingFor("secondaryLabel"))},didUpdate:function(e){},willExit:function(){this.view.unbind("primaryLabel"),this.view.unbind("category"),this.view.unbind("secondaryLabel")},staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuViewItem"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("LoadingStatus",{Initial:"Initial",Loading:"Loading",Completed:"Completed",Failed:"Failed"})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],load:n._31.define(),cancel:n._31.define(),loadingStatus:n._32.define()}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(796),a={mixinDependencies:[n._26,r.a],autocompleteItemsForText:n._70(n._31)}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],autocompleteItemWasSelected:n._6}},function(e,t,i){"use strict";i(800),i(801),i(802),i(803),i(804);var n=i(1372);i.d(t,"b",function(){return n.a});var r=i(216);i.d(t,"c",function(){return r.b}),i(805);var a=i(1374);i.d(t,"a",function(){return a.a}),i(387)},function(e,t,i){"use strict";t.a=function(e,t,i,n){var r=a.h;return 0<t?r.Failed:i?r.Loading:!i&&n?r.Completed:e===r.Completed||e===r.Failed&&!i&&!n?r.Initial:e};var a=i(71)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=/([^,<>]*[,<>].*)( <[^<]*)$/},function(e,t,i){"use strict";t.a=function(e,t,a,i,n,r){var s=a.type,o=a.label,c=a.field,l=function(e,t){if(e.isCompany)return e.companyName;var i=e.firstName||"",n=e.lastName||"";return i||n?b.n({givenName:i,familyName:n}):void 0}(e),u=c,d=function(e,t,i,n,r){var a=e.firstName||"",s=e.lastName||"",o=e.middleName||"",c=e.nickname||"",l=e.companyName||"",u=t.firstName,d=t.lastName,h=t.nickname,p=t.middleName,f=t.companyName,_=u?u.length:0,m=d?d.length:0,g=h?h.length:0,v=p?p.length:0,y=f?f.length:0,b=i?i.length:0,I=a+" "+s;if(D._120(a)&&D._120(s)&&(I=""+s+a),r===F.d.LAST_FIRST){var S=[s,a];a=S[0],s=S[1];var w=[d,u];u=w[0],d=w[1];var C=[m,_];_=C[0],m=C[1]}var E=void 0,T=void 0;if(e.isCompany)if(y)E=M+"MatchCompanyByCompanyName",T={companyName:f+l.substr(y),firstAndLastNameInProperOrder:I,contactValue:n};else if(_)E=M+"MatchCompanyByFirstName",T={companyName:l,firstAndLastNameInProperOrder:u+a.substr(_)+" "+s,contactValue:n};else if(m)E=M+"MatchCompanyByLastName",T={companyName:l,lastAndFirstNameInProperOrder:d+s.substr(m)+" "+a,contactValue:n};else if(g)E=M+"MatchCompanyByNickName",T={nickName:h+c.substr(g),firstAndLastNameInProperOrder:I,companyName:l,contactValue:n};else if(b)E=M+"MatchCompanyByContact",T={companyName:l,firstAndLastNameInProperOrder:I,contactValue:i+n.substr(b)};else if(v)E=M+"MatchCompanyByMiddleName",T={middleName:p+o.substr(v),companyName:l,firstAndLastNameInProperOrder:I,contactValue:n};else{for(var A in D._100.warn("Don't know what was matched in autocomplete. This case should be handled better."),E="",T=[],t)t.hasOwnProperty(A)&&(E+="%@ ",T.push(t[A]));E+="(%@)",T.push(l)}else if(_&&_===a.length&&m)E=M+"MatchPersonByFirstName",T={firstAndLastNameInProperOrder:u+" "+(d+s.substr(m)),contactValue:n};else if(m&&m===s.length&&_)E=M+"MatchPersonByLastName",T={lastAndFirstNameInProperOrder:d+" "+(u+a.substr(_)),contactValue:n};else if(g&&g===c.length&&m)E=M+"MatchPersonByNickAndLastName",T={nickName:h+c.substr(g),lastName:d+s.substr(m),contactValue:n};else if(_)E=M+"MatchPersonByFirstName",T={firstAndLastNameInProperOrder:u+a.substr(_)+" "+s,contactValue:n};else if(m)E=M+"MatchPersonByLastName",T={lastAndFirstNameInProperOrder:d+s.substr(m)+" "+a,contactValue:n};else if(g)E=M+"MatchPersonByNickName",T={nickName:h+c.substr(g),firstAndLastNameInProperOrder:I,contactValue:n};else if(y)E=M+"MatchPersonByCompanyName",T={companyName:f+l.substr(y),firstAndLastNameInProperOrder:I,contactValue:n};else if(b)E=M+"MatchPersonByContact",T={firstAndLastNameInProperOrder:I,contactValue:i+n.substr(b)};else if(v)E=M+"MatchPersonByMiddleName",T={middleName:p+o.substr(v),firstAndLastNameInProperOrder:I,contactValue:n};else{for(var O in D._100.warn("Don't know what was matched in autocomplete. This case should be handled better."),E="",T={},t)t.hasOwnProperty(O)&&(E+="%{"+O.toString()+"} ",T[O]=t[O]);E=E.trim()}return{previewFormat:E,previewOrdering:T}}(e,t,i,c,r),h=d.previewFormat,p=d.previewOrdering,f=function(e,t){var i=a.field;if(e.isCompany)return{valueFormat:"%{companyName} <%{contactValue}>",valueOrdering:{companyName:e.companyName||"",contactValue:i}};var n=e.firstName||"",r=e.lastName||"";return{valueFormat:D._120(n)&&D._120(r)?"%{lastName}%{firstName} <%{contactValue}>":"%{firstName} %{lastName} <%{contactValue}>",valueOrdering:{firstName:n,lastName:r,contactValue:i}}}(e),_=f.valueFormat,m=f.valueOrdering,g=w(D._99(h,p)),v=C(D._77(_,m)),y=e.contactId;return n.getModel(F.a,y),I.a.create({primaryLabel:l,secondaryLabel:u,value:v,previewValue:g,category:o,contactMatch:D._85(S.a,{store:n,contactPrimaryKey:e.contactId,matchType:s,matchValue:c})})};var D=i(0),F=i(113),b=i(8),I=i(387),S=i(216),n=i(801),M="ContactsAutocomplete.PreviewTemplate.",r=function e(t){for(var i=arguments.length,n=Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return function(){return n.length?e.apply(void 0,n)(t.apply(void 0,arguments)):t.apply(void 0,arguments)}};function a(t,i){return function(e){return e.replace(t,i)}}var w=r(a("",""),a(/\(\s*\)/g,""),a(/\s+/g," ")),C=r(w,a(/"/g,'\\"'),a(n.a,'"$1"$2'))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("RequestType",{CONTACTS:5,LOOKUP:6,RECENT_RECIPIENTS:8,DELETE_RECENTS:9})},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return a});var n=["firstName","phoneticFirstName","middleName","lastName","phoneticLastName","nickName","companyName","emailAddresses"],r=["name"],a=["address","name","names"]},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(71),c=i(0),l=i(216),r=n.f.extend({viewClass:c._60({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInNetwork",truevalue:"is-in-network",attributes:{}}]}}},isInNetwork:c._105(!1)}),didEnter:function(e){var t=arguments;this.__s._$8s$didEnter.apply(this,t);var n=this.view;n.isInNetwork=void 0;var i=this.item.contactMatch,r=i.matchValue,a=i.matchType,s=void 0;if(a===l.b.PHONE)s="phoneNumber:"+r;else{if(a!==l.b.EMAIL)return;s="email:"+r}var o=this;e.membershipInfoLoader.load(s).then(function(e){if(!c._86(e,Error)){var t=e.isInNetwork,i=e.value;o.getPath("item.contactMatch.matchValue")===i&&(n.isInNetwork=t)}})},didExit:function(e){var t=arguments;this.__s._$aY$didExit.apply(this,t),this.view.isInNetwork=!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenuViewItem"},__superMap:{_$8s$didEnter:"didEnter",_$aY$didExit:"didExit"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(71),r=i(8),u=i(0),d=i(799),h=i(213),a=i(370),s=i(807),o=i(765),l=i(70),c=i(150),p=i(114),f=n.i.extend({tokenTextField:s.a,staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isInvalid",truevalue:"invalid",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isPending",truevalue:"pending",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"TokenItemView"},status:u._105(o.a.OK),isInvalid:u._105({readOnly:!0,dependencies:["status"],get:Object.assign(function(){return this.status===o.a.INVALID},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===o.a.INVALID}})}),isPending:u._105({readOnly:!0,dependencies:["status"],get:Object.assign(function(){return this.status===o.a.PENDING},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===o.a.PENDING}})}),autocompleteItem:u._105(null),menuTitle:u._105({didChange:function(e){var t=this.menuItems,i=t&&t.objectAt(0);i&&(i.title=e||"")}}),hydratedValue:u._105({readOnly:!0,dependencies:["value","userIdentity"],get:Object.assign(function(){var e=this.userIdentity;if(!e)return this.value;var t=(e.givenName||"").trim(),i=(e.familyName||"").trim(),n=(e.phoneNumber||"").trim(),r=(e.emailAddress||"").trim(),a=this.formatDisplayName(e);return(t||i)&&(n||r)?a+" <"+(n||r)+">":a},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]);if(!r)return n.internalGet(this,t[0+i]);var a=(r.givenName||"").trim(),s=(r.familyName||"").trim(),o=(r.phoneNumber||"").trim(),c=(r.emailAddress||"").trim(),l=this.formatDisplayName(r);return(a||s)&&(o||c)?l+" <"+(o||c)+">":l}})}),userIdentity:u._105({strong:!0,didChange:function(e){if(e){this.value=this.formatDisplayName(e);var t=e.emailAddress,i=e.phoneNumber,n=o.a.INVALID;t?(this.menuTitle=t,this.contentIsAlwaysLTR=!1,l.a.isValidEmailAddress(t)&&(n=o.a.OK)):i?(this._configureForPhoneNumber(i),n=o.a.PENDING):this.menuTitle=this.value,this.status=n,this.sendEvent("tokenValueChanged")}}}),_configureForPhoneNumber:function(e){this.menuTitle=e,this.contentIsAlwaysLTR=!0;var n=this;this.formatPhoneNumber(e).then(function(e){if(n.sendEvent("phoneNumberValidationDidComplete",e.isValid),e.isValid){var t=e.canonical,i=n.userIdentity;i.lookupInfo={phoneNumber:t},n.value=n.formatDisplayName(i),n.menuTitle=t}n.status=e.isValid?o.a.OK:o.a.INVALID,n.sendEvent("tokenValueChanged")}).catch(function(e){n.status=o.a.INVALID,n.sendEvent("tokenValueChanged")})},formatDisplayName:function(e){return r.n(e)},buildMenuItemsForPhoneNumber:function(){var e=this.createInitialContactMenuItems(!0);return this.addCommonMenuItems(e,"Phone"),u._48.create(e)},buildMenuItemsForEmailAddress:function(){var e=this.createInitialContactMenuItems(!1);return this.addCommonMenuItems(e,"Email"),u._48.create(e)},buildMenuItemsForUnknownItem:function(){var e=this.createInitialContactMenuItems();return this.addCommonMenuItems(e,"Unknown"),u._48.create(e)},addCommonMenuItems:function(e,t){e.push(h.b.create({title:u._99("CKSharing.AddParticipants.TokenItemMenu.Edit"+t),target:this,action:"editItem"})),e.push(h.b.create({title:u._99("CKSharing.AddParticipants.TokenItemMenu.Remove"+t),target:this,action:"removeItem"}))},createInitialContactMenuItems:function(e){var t=[h.b.create({title:this.menuTitle,titleIsAlwaysLTR:e,action:"",isDisabled:!0,hasCheckmark:!0})],i=this.autocompleteItem,n=i&&i.contact,r=n&&n.emailAddresses,a=n&&n.phones,s=this;return r&&r.forEach(function(e){s._addAutocompleteMenuItem(t,n,e)}),a&&a.forEach(function(e){s._addAutocompleteMenuItem(t,n,e,!0)}),t.push(h.a.create({})),t},_addAutocompleteMenuItem:function(e,t,i,n){var r=i.field,a=i.label,s="ContactsAutocomplete.Category."+a,o=u._99(s);if(o!==s&&(a=o),this.autocompleteItem.matchValue!==r){var c={nameComponents:{givenName:t.firstName,familyName:t.lastName},lookupInfo:{emailAddress:n?void 0:r,phoneNumber:n?r:void 0}},l=u._99("CKSharing.AddParticipants.TokenItemMenu.AutocompleteItem.Title",{field:r,label:a});e.push(h.b.create({title:l,userIdentityData:c,matchType:n?d.c.PHONE:d.c.EMAIL,matchValue:r,target:this,action:"didSelectAutocompleteMenuItem"}))}},didSelectAutocompleteMenuItem:function(e){var t=e&&e.item;if(t){var i=t.userIdentityData;i&&(this.userIdentity=l.a.create(i)),this.autocompleteItem.matchValue=t.matchValue,this.autocompleteItem.matchType=t.matchType}},serverCanonicalizePhoneNumber:function(e){var t={};return this.sendEvent("canonicalizePhoneNumbers",[e],t),t.value},formatPhoneNumber:function(i){var n=a.b.sharedInstance;return this.serverCanonicalizePhoneNumber(i).catch(function(e){return n.format(i,void 0,!0).then(function(e){return e.isValid=!1,e})}).then(function(e){var t=e[0]&&"+"+e[0];return n.format(t||i,void 0,!0).then(function(e){return t||(e.isValid=!1),e})})},displayMenu:function(e){var t=this.menuController=h.e.create({listCollection:e,target:this,listLayoutRowHeight:27,shouldMeasure:!0,verticalAlignment:u._56.Bottom,horizontalAlignment:u.I.Left,allowedLayouts:[u._14,u._13,u._12,u._15],resolutionStrategy:u.h,isAlignmentRequired:!1}),i=this.tokenButton.menuButton;t.show(i)},menuController:u._105({strong:!0}),tokenMenuButtonClicked:function(){var e=this.userIdentity;e&&e.phoneNumber?this.displayMenu(this.menuItems=this.buildMenuItemsForPhoneNumber()):e&&e.emailAddress?this.displayMenu(this.menuItems=this.buildMenuItemsForEmailAddress()):this.displayMenu(this.menuItems=this.buildMenuItemsForUnknownItem())},editItem:function(){u._116(this.startEditing.bind(this),0)},startEditing:function(){var e=arguments,t=this.userIdentity;t&&(t.emailAddress?this.value=t.emailAddress:t.phoneNumber&&(this.value=t.phoneNumber)),this.__s._$6Wg$startEditing.apply(this,e)},updateForContactMatch:function(e){if(e){var t=e.matchValue,i=e.matchType.value,n=e.contact;if("GROUP"!==i){var r="",a="";n&&(r=n.firstName,a=n.lastName),r=e.getPath("contact.firstName")||"",a=e.getPath("contact.lastName")||"","EMAIL"!==i||l.a.isValidEmailAddress(t)||(r||a||(r=t),t=void 0),this.userIdentity=l.a.create({nameComponents:{givenName:r,familyName:a},lookupInfo:{emailAddress:"EMAIL"===i?t:void 0,phoneNumber:"PHONE"===i?t:void 0}}),this.autocompleteItem=e}else{for(var s=t.length-1,o=0,c=s;o<c;++o)this.sendEvent("createNewTokenItemFromAutocompleteItemBeforeCurrentToken",this,t[o]);this.updateForContactMatch(t[s])}}},didAutocomplete:function(e){this._isInDidAutocomplete=!0,this.updateForContactMatch(e.contactMatch),this.sendEvent("createNewEditingTokenAfterCurrentToken",this),this.stopEditing(),this._isInDidAutocomplete=!1},removeItem:function(){this.sendEvent("deleteCurrentToken",this)},shouldUpdateUserIdentity:function(e){var t=this.userIdentity;return!t||!e||!t.familyName&&!t.givenName||!t.emailAddress&&!t.phoneNumber||Object(c.a)(t.emailAddress)!==Object(c.a)(e.emailAddress)||Object(p.a)(t.phoneNumber)!==Object(p.a)(e.phoneNumber)},tokenStoppedEditing:function(){var e=(this.value||"").trim();if(!this.isEditing||this._isInDidAutocomplete||!e)return!1;var t=l.a.createFromString(e);return this.shouldUpdateUserIdentity(t)?(this.userIdentity=t,this.autocompleteItem=null):this.value=this.formatDisplayName(this.userIdentity),!1},__superMap:{_$6Wg$startEditing:"startEditing"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(71),r=i(0),a=r._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"textField"},{type:"ELEMENT",tagname:"span",children:[],name:"testMeasurer",styles:{position:"absolute",left:"-1000px",top:"-1000px",visibility:"hidden","white-space":"pre"}}],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{signal:"widthDidRender"},unit:"px",property:"width"}}},extraSpace:r._105({readOnly:!0,get:function(){var e=r.j.sharedInstance;return e.isIE||e.isEdge?5:0}}),className:"ck-sharing-resizing-autocomplete-text-field",__QUALIFIED_CLASS_NAME__:"ResizingAutocompleteTextField"},_items:r._105({strong:!0,binding:r._64("textField._items")}),isFocusable:!0,defaultFocusChild:r._64("textField"),focusAsLeaf:function(){this.focusDefault()},isFocused:r._105({readOnly:!0,dependencies:["isInFocusedBranch"],get:Object.assign(function(){return this.isInFocusedBranch},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),textField:r._105({defaultValue:r._85(n.g,{additionalClassNames:["token-item-textfield"]}),downstreamBindings:{value:"(owner).value",menu:"(owner).menu",delegate:"(owner).delegate",dataSource:"(owner).dataSource",isDisabled:"(owner).isDisabled",width:"(owner).width"}}),value:r._105(),menu:r._105(),delegate:r._105(),dataSource:r._105(),isDisabled:r._105(),width:r._105({readOnly:!0,dependencies:["value","isAttached"],get:Object.assign(function(){var e=this.testMeasurer;e.textContent=this.value;var t=e.offsetWidth+this.constructor.extraSpace;return e.innerText="",t+3},{__CW__getter:function(e,t,i,n){var r=this.testMeasurer;r.textContent=n.internalGet(this,t[0+i]);var a=r.offsetWidth+this.constructor.extraSpace;return r.innerText="",a+3}})}),_windowDidResize:r._106(r.j.bindingFor("sharedInstance.window.width"),"textField.isMenuVisible",function(e,t){var i=this.menu;if(i&&t){var n=i.anchorLayoutMeasurer;n&&n.recomputeLayoutIfNecessary()}}),selection:r._105({cacheable:!1,readOnly:!0,dependencies:["textField.selection"],get:Object.assign(function(){return this.getPath("textField.selection")},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])}})})})},function(e,t,i){"use strict";t.a=function(e,t,i){if(!a._74(e))return"";var n=e.loggedInUserCanEditShare,r="CKSharing.SummaryText";switch(r+=n?".OwnerAdmin":".Participant",r+=e.isPublic?".Public":".Private",i||e.effectivePermission){case s.a.READ_WRITE:r+=".RW";break;case s.a.READ_ONLY:r+=".RO";break;case s.a.MIXED:r+=".Mixed"}return n?a._99(r+"."+t):a._99(r,{ownerName:e.owner.displayName})};var a=i(0),s=i(29)},function(e,d,h){"use strict";(function(i){h.d(d,"a",function(){return u});var t=h(8),p=h(0),e=h(153),n=h(777),r=h(371),a=h(810),s=h(210),o=h(85),c=h(70),f=h(115),l={mixinDependencies:[p._26,e.b],composeUrl:p._105({readOnly:!0,get:function(){var e=p._81();p.Y.sharedInstance.isRTL&&(e=this.getPath("COSK.globals.environment.accountPreferences.secondaryLocale")||"en-us");return t.l("https://"+i.location.hostname+"/message/current/"+e+"/index.html#compose?willPM=true")}}),composeMail:p._31.define()},u=e.a.extend(l,{transport:o.a.EMAIL,viewClass:a.a,originatorSharingWorkflowVC:p._107(),animationDuration:p._107(250),composeMail:function(e){var t=e.appName;if(!t)throw new Error("Cannot compose email: appName not specified.");this.initializeJsonRpcTransceiver(),this._composeData={subject:e.subject,body:e.body,appName:t,isForSharingWorkflow:!0}},cancelOnUnrecoverableError:function(e){var t=e.error;this.originatorSharingWorkflowVC.sendEvent("cancel",t)},createParticipantsFromEmailEntries:function(e){p._95(e)&&(e=e.split(","));var t=this.permissionValueForAddingParticipants;return e.filter(function(e){return!p._91(e)}).map(function(e){return s.a.create({permission:t,userIdentity:c.a.createFromString(e.trim())})},this)},init:function(){var e=arguments;this.__s._$1cB$init.apply(this,e),this.initializeJsonRpcTransceiver(),this.view.iframeView.bind("src",this.bindingFor("composeUrl"))},initializeJsonRpcTransceiver:function(){if(!this.transceiver){var e=this.view.iframeView,t=this.transceiver=r.a.create({channel:n.a.create({iframe:e.element,remoteOrigin:"https://"+i.location.hostname})});t.registerMethodHandler("postPopulateFieldsMessage",this,"_postPopulateFieldsMessageHandler"),t.registerMethodHandler("closeIframe",this,"_closeIframeHandler"),t.registerMethodHandler("addParticipants",this,"addParticipantsHandler"),t.registerMethodHandler("sendMessageSuccessful",this,"_sendMessageSuccessful")}},willAttach:function(){this._loadTimer=p._116(function(){var e="MailComposer.LoadTimeout",t={keyEquivalent:p.S.RETURN,title:p._99("CKSharing.ErrorDialog.OKButton.Title"),target:this,action:"_closeIframeHandler",error:e};this.settings.notificationService.error(e,{locNamespace:"CKSharing.ErrorDialog",primaryButtonConfig:t})}.bind(this),6e4)},hidePopupAfterAnimationHasFinished:function(t){p._116(function(){var e=this.parent;e&&e.hide(),t&&t()}.bind(this),this.animationDuration)},_postPopulateFieldsMessageHandler:function(){return clearTimeout(this._loadTimer),this.view.iframeView.element.classList.remove("hidden"),this.view.loadingViewWrapper.classList.add("hidden"),this.view.loadingView.isVisible=!1,this.originatorSharingWorkflowVC.sendEvent("contentDidResize"),this._composeData},_closeIframeHandler:function(){var t=this;this.originatorSharingWorkflowVC.didCancelSendMessage();var e=this.getPath("parent.view.element.classList");e&&e.add("is-canceling"),this.hidePopupAfterAnimationHasFinished(function(e){return t._cleanUpTransceiver()})},addParticipantsHandler:function(e){var t=this.share;if(t.isPublic&&t.owner&&!t.owner.isMe)return p.w.resolve("success");var i=this.permissionValueForAddingParticipants,n=void 0,r=this.createParticipantsFromEmailEntries(e.to),a=this.createParticipantsFromEmailEntries(e.cc),s=r.concat(a);if(t.isPrivate){if(!this.validateInviteesToAddToShare(s,!0)){var o=new Error("Add participants failed");return o.code=-1,p.w.resolve(o)}t.addParticipantsIgnoringDupes(s,i),n="INVITE_TO_PRIVATE.VIA_EMAIL."+(1===s.length?"TO_PERSON":"TO_PEOPLE")}else{if(this.checkAndDisplayErrorForInvalidInvitees(s,!0)){var c=new Error("Add participants failed");return c.code=-1,p.w.resolve(c)}n="INVITE_TO_PUBLIC"}if(p._71(this.ioService.mostRecentShareDataHashFromServer,t.getDataHash())){var l=this.settings,u={operationType:n,appName:l.shareItemType},d=this,h=l.notificationService;return this.saveShare(!0).then(function(e){return"success"}).catch(Object(f.a)(u,h,l.logService)).catch(function(e){h.error("AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED",{locNamespace:"CKSharing.ErrorDialog",primaryButtonConfig:{keyEquivalent:[p.S.ESC,p.S.RETURN],title:p._99("CKSharing.ErrorDialog.OKButton.Title"),target:d,action:"cancelOnUnrecoverableError",error:e}});var t=new Error("Add participants failed");return t.code=-1,t})}return p.w.resolve("success")},_sendMessageSuccessful:function(){var t=this,e=this.getPath("parent.view.element.classList");e&&e.add("is-sending"),this.hidePopupAfterAnimationHasFinished(function(e){t.originatorSharingWorkflowVC.didCompleteSendMessage(),t._cleanUpTransceiver()})},_cleanUpTransceiver:function(){var e=this.transceiver;p._100.debug("MailComposeViewController._cleanUpTransceiver:  unregister method handlers and disconnect JsonRpcTransceiver.channel."),e.unregisterMethodHandler("postPopulateFieldsMessage",this),e.unregisterMethodHandler("closeIframe",this),e.unregisterMethodHandler("addParticipants",this),e.unregisterMethodHandler("sendMessageSuccessful",this),e.channel.disconnect(),this.transceiver=null,clearTimeout(this._loadTimer)},_loadTimer:void 0,staticMembers:{__QUALIFIED_CLASS_NAME__:"MailComposeViewController"},__superMap:{_$1cB$init:"init"}})}).call(d,h(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(811),a=i(1379),s=(i.n(a),n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"loadingView"}],name:"loadingViewWrapper",classes:["loading-wrapper"]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"iframeView"}],classes:["mail-compose-view"]},className:"ck-sharing-mail-compose-view",__QUALIFIED_CLASS_NAME__:"MailComposeView"},loadingView:n._85(n._44),iframeView:n._85(r.a,{additionalClassNames:n._60(["hidden"])})}))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"iframe",children:[],attributes:{src:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"src",attributes:{},attribute:"src"}}},className:"ck-sharing-iframe-view",__QUALIFIED_CLASS_NAME__:"IframeView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(1380),a=(i.n(r),n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"modalBackground"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"}],name:"contentWrapper",classes:["popup-content"]}],classes:["cw-popup-view","cksharing-popup-view"]},__QUALIFIED_CLASS_NAME__:"PopupView"},shouldShowModalBackground:n._105(!0),modalBackground:n._105({dependencies:["shouldShowModalBackground"],writeDependencies:[],defaultValue:n._85(n._57,{additionalClassNames:n._60(["modal-background"])}),get:Object.assign(function(e){return this.shouldShowModalBackground?e:null},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?e:null}}),set:function(e){return e}})}))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(392),a=n._58.extend({viewClass:r.a,view:n._105({downstreamBindings:{subtitle:"(owner).subtitle",title:"(owner).title",url:"(owner).value",valueIsAlwaysLTR:"(owner).valueIsAlwaysLTR"}}),title:n._105(),subtitle:n._105(),value:n._105(),valueIsAlwaysLTR:n._105(),didAttach:function(){var e=arguments;this.__s._$ER$didAttach.apply(this,e),this.view.selectURL(),this.sendEvent("contentDidResize")},close:function(){this.sendEvent("didCompleteCopyText")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CopyTextViewController"},__superMap:{_$ER$didAttach:"didAttach"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"activeView"}],classes:["workflow-view"]},className:"ck-sharing-workflow-view",__QUALIFIED_CLASS_NAME__:"WorkflowView"}})},function(e,t,i){"use strict";t.a=function(e,t){return(t||a)({lookupInfos:e.map(function(e){return{phoneNumber:e=Object(r.a)(e)}})}).send().then(function(e){var t=e.body&&e.body.results;if(!t||!t.map)throw new Error("Server response to canonicalizePhoneNumbers returned data in an invalid format");return t.map(function(e){return e.canonicalized})})};var n=i(8),r=i(114);function a(e){var t=n.k.create({serviceName:"cksharews",pathname:"/ws/v1/autocomplete/canonicalizePhoneNumbers"});return n.h.create({method:"POST",url:t,body:e,useCredentialsIfCrossOrigin:!0,timeout:6e4})}},function(e,t,i){"use strict";t.a=function(e,t,i,n,r,a){var s;s=i,i=(s=u._73(s))&&0<s.length?s:null,e=u._72(e);var o,c=(n=u._73(n)).toLowerCase();if(n=c in d?u._99(d[c]):n,r)r=u._72(r);else switch(a){case"pages":r="https://www.icloud.com/mail_resources/app_icons/pages@2x.png";break;case"numbers":r="https://www.icloud.com/mail_resources/app_icons/numbers@2x.png";break;case"keynote":r="https://www.icloud.com/mail_resources/app_icons/keynote@2x.png";break;case"notes":r="https://www.icloud.com/mail_resources/app_icons/notes@2x.png";break;default:r="https://www.icloud.com/mail_resources/app_icons/icloud@2x.png"}o=i?'<div style="color:#000000;font-weight:500;text-align:left;text-overflow:ellipsis;font-size:12px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none" draggable="false"><font color="#000000">'+i+'</font></a></div><div style="color:#8E8E93;font-weight:400;text-align:left;text-overflow:ellipsis;font-size:11px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none" draggable="false"><font color="#8E8E93">'+n+"</font></a></div>":'<div style="color:#000000;font-weight:500;text-align:left;text-overflow:ellipsis;font-size:12px;word-wrap:break-word;overflow:hidden;"><a rel="nofollow" href="'+e+'" style="text-decoration: none" draggable="false"><font color="#000000">'+u._99("CKSharing.RichLink.NoShareTitle",{appName:n})+"</font></a></div>";var l=u.Y.sharedInstance.isRTL?"rtl":"ltr";return'<div dir="'+l+'"><div>'+t+'</div><a style="border-radius:5px;display:block;text-decoration:none;font-family:-apple-system, Helvetica, Arial, sans-serif;overflow:hidden;width:300px;" rel="nofollow" href="'+e+'" dir="'+l+'" role="button" draggable="false" width="300"><table style="table-layout:fixed;border-collapse:collapse;width:300px;background-color:#E5E6E9;font-family:-apple-system, Helvetica, Arial, sans-serif;" cellpadding="0" cellspacing="0" border="0" width="300"><tbody><tr><td vertical-align="center"><table bgcolor="#E5E6E9" cellpadding="0" cellspacing="0" width="300" style="font-family:-apple-system, Helvetica, Arial, sans-serif;table-layout:fixed;"><tbody><tr><td style="padding:9px 0px 9px 9px;" width="30"><a rel="nofollow" href="'+e+'" draggable="false"><img src="'+r+'" draggable="false" style="pointer-events:none !important;display:inline-block;width:30px;height:30px;vertical-align:middle;" width="30" height="30"></a></td><td style="padding:8px 0px 8px 0px;"><div style="max-width:100%;margin:0px 16px 0px 8px;overflow:hidden;">'+o+"</div></td></tr></tbody></table></td></tr></tbody></table></a></div>"};var u=i(0),d={pages:"CKSharing.iWork.Pages",keynote:"CKSharing.iWork.Keynote",numbers:"CKSharing.iWork.Numbers"}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(818),a=i(395),s=i(396),o=i(219).a.extend({loadingShareViewController:n._105({strong:!0,get:function(){return r.a.create()}}),_gotoInitiateShare:function(e){var t=a.a.create(this.ioService,e,this.settings);this._startWorkflow(t)},_gotoManageShare:function(e){var t=s.a.create(this.ioService,e,this.settings);this._startWorkflow(t)},_startWorkflow:function(e){var t=this;this.showViewController(e),e.start().then(function(){t.didComplete()}).catch(function(e){t._promise.reject(e)})},_showLoadingUI:function(){var e=this.loadingShareViewController;this.showViewController(e)},start:function(){var t=this,e=this.record;return c(e)?this._gotoManageShare(e):(this._showLoadingUI(),this.ioService.fetchDataRecord(e.recordName).then(function(e){c(e)?t._gotoManageShare(e):t._gotoInitiateShare(e)}).catch(function(e){t._promise.reject(e)})),this._promise},staticMembers:{__QUALIFIED_CLASS_NAME__:"EasyShareWorkflowViewController"}});function c(e){return!(!e.share||!e.share.recordName)}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(819),a=n._58.extend({viewClass:r.a,staticMembers:{__QUALIFIED_CLASS_NAME__:"EasyShareViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(217),a=n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"TEXT",data:" "}]}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"busyView"}],classes:["easy-share-view"]},__QUALIFIED_CLASS_NAME__:"EasyShareView"},busyView:n._105({readOnly:!0,get:function(){return r.a.create({isVisible:!0})},downstreamBindings:{description:"(owner).busyDescription"}}),busyDescription:n._105(n._99("CKSharing.Busy.Loading.Description"))})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),s=i(47),r=i(379),a=i(821),o=i(153),c=i(29),l=r.a.extend({operationType:o.c.INITIATE_SHARE,showPermissionsDropdown:n._105({readOnly:!0,dependencies:["settings.supportedPermissions"],get:Object.assign(function(){var e=this.settings.supportedPermissions;return e&&1<e.length},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]);return r&&1<r.length}})}),viewClass:a.a,view:n._105({downstreamBindings:{additionalButtonTitle:"(owner).settings.additionalButtonTitle",supportedAccess:"(owner).settings.supportedAccess",title:"(owner).settings.initiateSharePaneTitle"}}),setEffectiveAccess:function(e){var t=this.share;t.setEffectiveAccess(e,this.permissionValueForAddingParticipants),t.effectiveAccess===s.a.PUBLIC&&this.view.clearInvitationsTextField()},setEffectivePermission:function(e){var t=this.share;t.isPublic&&t.setEffectivePermission(e),this.permissionValueForAddingParticipants=e},setUp:function(){var e=arguments,t=this.record,i=this.settings,n=i.recordHasShare,r=!(!t.share||!t.share.recordName);if(n||r)this.__s._$_e$setUp.apply(this,e);else{var a=i.defaultAccess===s.a.PUBLIC?i.defaultPermission:c.a.NONE;this.share=this.ioService.createShareFromDataHash({fields:i.shareRecordFields,forRecord:t,publicPermission:a,shortGUID:t.shortGUID,recordType:"cloudkit.share"}),this.permissionValueForAddingParticipants=i.defaultPermission,this.sendEvent("sharingUIIsReady")}},shouldShowUserName:n._105({readOnly:!0,get:function(){return!0}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"InitiateShareViewController"},__superMap:{_$_e$setUp:"setUp"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(381),a=i(380).a.extend({staticMembers:{className:"initiate-share-view",templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowShareOptions",truevalue:"has-share-options",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"InitiateShareView"},additionalButtonTitle:n._105(),additionalClassNames:n._60(["sharing-dialog"]),shouldShowShareOptions:n._105({readOnly:!0,dependencies:["supportedAccess","supportedPermissions"],get:Object.assign(function(){var e=this.supportedAccess,t=this.supportedPermissions;if(e&&t)return 1<e.length||1<t.length},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]);if(r&&a)return 1<r.length||1<a.length}})}),accessControlsSection:n._105({defaultValue:n._85(r.a.extend({isToggleEnabled:!0})),downstreamBindings:{additionalButtonTitle:"(owner).additionalButtonTitle"}})})},function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(823),c=(i.n(n),i(0)),l=i(47),o=i(153),r=i(824),a=i(829),s=i(833),u=i(389),d=i(115),h={mixinDependencies:[c._26,o.b],stopSharing:c._31.define(),removeParticipant:c._31.define()},p=o.a.extend(h,{viewClass:s.a,view:c._105({downstreamBindings:{isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isLoading:"(owner).isLoading",isTearingDown:"(owner).isTearingDown",share:"(owner).share",title:"(owner).settings.manageSharePaneTitle",summaryTextWOption:"(owner).summaryTextWOption",summaryTextNoOption:"(owner).summaryTextNoOption"}}),contentViewController:c.n.define({viewOutlet:"contentView",defaultValue:c._85(r.a),downstreamBindings:{isLoading:"(owner).isLoading",shareIsPublic:"(owner).share.isPublic",settings:"(owner).settings",participants:"(owner).share.participants",loggedInUserCanEditShare:"(owner).share.loggedInUserCanEditShare"}}),isTearingDown:c._105(!1),isCopyLinkDisabled:c._105({dependencies:["share","share.effectiveAccess","share.participants","share.effectivePermission","settings.appName"],readOnly:!0,get:Object.assign(function(){var e=!1,t=this.share;if(t){var i=this.getPath("settings.appName"),n=-1<["Pages","Numbers","Keynote"].indexOf(i),r=1===t.participants.length&&t.effectiveAccess===l.a.PRIVATE;(void 0===t.effectivePermission||n&&r)&&(e=!0)}else e=!0;return e},{__CW__getter:function(e,t,i,n){var r=!1,a=n.internalGet(this,t[0+i]);if(a){var s=n.internalGetPath(this,t[4+i]),o=-1<["Pages","Numbers","Keynote"].indexOf(s),c=1===a.participants.length&&a.effectiveAccess===l.a.PRIVATE;(void 0===a.effectivePermission||o&&c)&&(r=!0)}else r=!0;return r}})}),isStopSharingDisabled:c._105({dependencies:["share","share.effectiveAccess","share.participants","share.participants.contentsDidChange"],readOnly:!0,get:Object.assign(function(){var e=this.share;return e&&e.effectiveAccess===l.a.PRIVATE&&1===e.participants.length},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r&&r.effectiveAccess===l.a.PRIVATE&&1===r.participants.length}})}),optionsViewController:c.n.define({viewOutlet:"optionsView",defaultValue:c._85(a.a),downstreamBindings:{share:"(owner).share",settings:"(owner).settings",isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isStopSharingDisabled:"(owner).isStopSharingDisabled",isLoading:"(owner).isLoading",summaryTextWOption:"(owner).summaryTextWOption",summaryTextNoOption:"(owner).summaryTextNoOption",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants"}}),_generateConfirmationStrings:function(e){var t,i,n="CKSharing.ConfirmationDialog."+e+".",r=this.settings,a=r.shareItemType,s=r.shareTitle;t=c._99(n+"Message."+a);var o=n+"Description."+a;return"CloudKit"===a?s?(o+=".WithTitle",i=c._99(o,{shareTitle:s})):(o+=".WithoutTitle",i=c._99(o)):i=c._99(o),{message:t,description:i}},confirmStopSharing:function(){var e=this._generateConfirmationStrings("StopSharing");c.c.show({iconNames:"ck-sharing-icon",message:e.message,description:e.description,primaryButton:{title:c._99("CKSharing.Dialog.Button.OK"),target:this,action:"stopSharing"},alternateButton:{title:c._99("CKSharing.Dialog.Button.Cancel")}})},stopSharing:function(){var t=this,e=this.share;this._state=o.d.DESTROYING;var i=this.settings,n={operationType:"DESTROY",appName:i.shareItemType},r={didUpdateRootRecord:i.didUpdateRootRecord,didUpdateShareRecord:i.didUpdateShareRecord};return this.ioService.deleteShare(e,r).then(function(e){return t._state=o.d.DESTROYED,t.sendEvent("shareWasDeleted",e,!0),e}).catch(function(e){throw t._state=o.d.LOADED,e}).catch(Object(d.a)(n,i.notificationService,i.logService))},confirmRemoveParticipant:function(e){var t=void 0;e.isMe?t=this._generateConfirmationStrings("RemoveYourself"):this.getPath("share.loggedInUserCanEditShare")?2===this.getPath("share.participants.length")?t={message:c._99("CKSharing.ConfirmationDialog.RemoveFinalParticipant.Message",{name:e.displayName}),description:c._99("CKSharing.ConfirmationDialog.RemoveFinalParticipant.Description")}:this.removeParticipant(e):c._75("Should not have attempted to remove participants from share for user"),t&&c.c.show({iconNames:"ck-sharing-icon",message:t.message,description:t.description,primaryButton:{title:c._99("CKSharing.Dialog.Button.OK"),target:this,action:"userDidConfirmParticipantRemoval",participant:e},alternateButton:{title:c._99("CKSharing.Dialog.Button.Cancel")}})},confirmSetEffectiveAccessToPrivate:function(){var e,t="CKSharing.ConfirmationDialog.PublicToPrivate.Description.",i=this.settings.shareItemType,n=this.settings.shareTitle;t+=i,"CloudKit"===i?n?(t+=".WithTitle",e=c._99(t,{shareTitle:n})):(t+=".WithoutTitle",e=c._99(t)):e=c._99(t),c.c.show({iconNames:"ck-sharing-icon",message:c._99("CKSharing.ConfirmationDialog.PublicToPrivate.Message"),description:e,primaryButton:{title:c._99("CKSharing.Dialog.Button.OK"),target:this,action:"_setEffectiveAccessToPrivate"},alternateButton:{title:c._99("CKSharing.Dialog.Button.Cancel")}})},setEffectiveAccess:function(e){var t=this.share.effectiveAccess,i=l.a.PRIVATE;t===l.a.PUBLIC&&e===i?this.confirmSetEffectiveAccessToPrivate():(this.share.setEffectiveAccess(e,this.settings.defaultPermission),this.updateShare())},setEffectivePermission:function(e){var t=this.share;t.setEffectivePermission(e),this.permissionValueForAddingParticipants=e,t.effectivePermission&&this.updateShare()},userDidConfirmParticipantRemoval:function(e){this.removeParticipant(e.participant)},removeParticipant:function(e){var t=this,i=this.share;if(e.isMe){var n=this.settings,r={operationType:"DESTROY",appName:n.shareItemType},a={didUpdateRootRecord:n.didUpdateRootRecord,didUpdateShareRecord:n.didUpdateShareRecord};return this.ioService.deleteShare(i,a).then(function(){var e=t.share;return t._state=o.d.DESTROYED,t.sendEvent("itemIsNoLongerSharedWithMe",e,!0),e}).catch(function(e){throw t._state=o.d.LOADED,e}).catch(Object(d.a)(r,n.notificationService,n.logService))}var s=i.findEquivalentParticipant(e);return i.participants.remove(s),this.permissionValueForAddingParticipants=Object(u.a)(i.effectivePermission,this.settings.supportedPermissions),this.updateShare()},participantPermissionDidChange:function(e){var t=this.share;return t.participantPermissionChanged(),this.permissionValueForAddingParticipants=Object(u.a)(t.effectivePermission,this.settings.supportedPermissions),this.updateShare()},_setEffectiveAccessToPrivate:function(){var t=this,e=this.share;e.setEffectiveAccess(l.a.PRIVATE,this.settings.defaultAccess);for(var i=e.participants||[],n=i.length-1;0<=n;n--)i.objectAt(n).isOwner||i.removeAt(n);this._state=o.d.LOADED_SAVING;var r=this.settings,a={didUpdateRootRecord:r.didUpdateRootRecord,didUpdateShareRecord:r.didUpdateShareRecord,provideRootRecordForUpdate:r.provideRootRecordForUpdate,provideLatestRootRecordAfterUpdateConflict:r.provideLatestRootRecordAfterUpdateConflict},s={operationType:"UPDATE",appName:r.shareItemType};return this.ioService.convertToPrivateShare(t.record,a).then(function(e){return t.share=e,t.sendEvent("shareWasUpdated",e,!0),e}).catch(Object(d.a)(s,r.notificationService,r.logService)).finally(function(){t._state=o.d.LOADED})},goToAddParticipantsUI:function(){var e=this.share;if(!e||e.isPublic)return!1;var t=(e&&e.participants&&e.participants.length||0)-1,i=this.settings.maxNumberOfInvitees;return!!(i&&i<=t)&&(this.displayCKSharingErrorDialog("AddingParticipants.TOO_MANY_INVITEES"),!0)},_loadAddressBookForOwner:c._106("share.owner","settings","settings.contactsService",function(e,t){e&&t&&t.contactsService&&e.loadAddressBookContact(t.contactsService)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareViewController"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var o=i(0),n=i(213),r=i(209),a=i(825),s=i(29),c=i(827),l=i(828),u=i(1384),d=(i.n(u),o.X.extend(o.W,{shareIsPublic:o._105(),settings:o._105(),participants:o._105(),shareSupportsMultiplePermissions:o._105({readOnly:!0,dependencies:["settings.supportedPermissions"],get:function(){return 1<this.getPath("settings.supportedPermissions.length")}}),sortedParticipantList:o._105({strong:!0,readOnly:!0,dependencies:["participants","participants.contentsDidChange","shareIsPublic","shareSupportsMultiplePermissions","loggedInUserCanEditShare"],get:Object.assign(function(e){return o._9.from(this.participants).sort(this._compareParticipants.bind(this))},{__CW__getter:function(e,t,i,n){return o._9.from(n.internalGet(this,t[0+i])).sort(this._compareParticipants.bind(this))}})}),collection:o._105(o._64("sortedParticipantList")),isLoading:o._105({defaultValue:!1,didChange:function(e){e||this.measureViewport()}}),itemViewClass:a.a,layoutMetrics:{rowHeight:56,rowSpacing:1},loggedInUserCanEditShare:o._105(),_lastMenuContext:o._105(),_menuStateChangeObserve:o._106("menu.isAttached",function(e){var t=this._lastMenuContext;t&&!e&&(t.isParticipantSettingsMenuOpened=!1)}),view:o._105({downstreamBindings:{isHidden:"(owner).isLoading"}}),viewClass:o._60({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},mixinDependencies:[o.F],scrollIndicatorTopMargin:2,scrollIndicatorBottomMargin:2,isHidden:o._105(!1)}),setShouldShowParticipantSettingsButtonOnListItem:function(e){var t=e.content,i=Object(c.b)(t,this.shareIsPublic,this.shareSupportsMultiplePermissions,this.loggedInUserCanEditShare);e.shouldShowParticipantSettingsButton=i},showParticipantSettingsMenu:function(e){var t=this.menu;if(t.isAttached)return t.hide();(this._lastMenuContext=e).isParticipantSettingsMenuOpened=!0;var i=e.item;this.selectedParticipant=i,this.menuItems=Object(c.a)(i,this.shareIsPublic,this.shareSupportsMultiplePermissions,this.loggedInUserCanEditShare),t.show(e)},_windowDidResize:o._106(o.j.bindingFor("sharedInstance.window.width"),function(){var e=this.menu,t=this._lastMenuContext;e.isAttached&&t&&e.show(t)}),presenter:o._105({defaultValue:o._85(o.a.extend({settings:o._105(),itemViewDidEnter:function(e){var t=arguments;this.__s._$1V0$itemViewDidEnter.apply(this,t),o._116(function(){e.iconView.shouldAnimate=!0},100)},itemViewDidMove:function(e,t){var i=arguments;this.__s._$1dF$itemViewDidMove.apply(this,i),e[this.dataProperty]=t.handle.value},itemViewDidExit:function(e){var t=arguments;e.iconView.shouldAnimate=!1,this.__s._$1gS$itemViewDidExit.apply(this,t)},shouldLoadContacts:o._105(!0),cellsDidMove:function(e){var t=arguments;if(this.__s._$1ma$cellsDidMove.apply(this,t),e&&this.shouldLoadContacts){var i=e.objectAt(0);if(i){for(var n=e.length,r=Math.floor(n/2),a=i.handle.previous,s=this.settings.contactsService,o=0,c=r;o<c&&a.isValid;o++)p(a.value,s),a=a.previous;for(var l=0;l<n;l++)p(e.objectAt(l).getPath("handle.value"),s);for(var u=e.objectAt(n-1).handle.next,d=0,h=r;d<h&&u.isValid;d++)p(u.value,s),u=u.next}}},__superMap:{_$1V0$itemViewDidEnter:"itemViewDidEnter",_$1dF$itemViewDidMove:"itemViewDidMove",_$1gS$itemViewDidExit:"itemViewDidExit",_$1ma$cellsDidMove:"cellsDidMove"}})),downstreamBindings:{itemViewClass:"(owner).itemViewClass",shouldLoadContacts:"(owner).settings.isAuthenticated",settings:"(owner).settings"}}),selectedParticipant:o._105(),setSelectedParticipantPermissionsToReadWrite:function(){return this.selectedParticipant.permission=s.a.READ_WRITE,this.sendEvent("participantPermissionDidChange",this.selectedParticipant)},setSelectedParticipantPermissionsToReadOnly:function(){return this.selectedParticipant.permission=s.a.READ_ONLY,this.sendEvent("participantPermissionDidChange",this.selectedParticipant)},removeSelectedParticipant:function(){return this.sendEvent("confirmRemoveParticipant",this.selectedParticipant)},showSelectedParticipantContactCard:function(){},copySelectedParticipantAddress:function(){var e=this.selectedParticipant,t=e&&e.userIdentity;if(t){var i,n=o._74(t.phoneNumber);if(i=n?t.formattedPhoneNumber:t.emailAddress,!Object(l.a)(i)){var r=n?"Phone":"Email",a=o._99("CKSharing.CopyEmailOrPhone.Title."+r),s=o._99("CKSharing.CopyEmailOrPhone.Subtitle."+r);this.sendEvent("showCopyTextViewController",a,s,i,n)}}},menuItems:o._105({strong:!0}),menu:o._105({defaultValue:function(){return n.e.extend({keyDown:function(e){switch(e.which){case o.S.DOWN:this.highlightNextItem();break;case o.S.UP:this.highlightPreviousItem();break;case o.S.LEFT:case o.S.RIGHT:e.preventDefault();break;case o.S.ENTER:this._activateWithItem(this.highlightedItem);break;default:return!1}}}).create({target:this,listLayoutRowHeight:27,verticalAlignment:o._56.Top,horizontalAlignment:o.I.Left,resolutionStrategy:o.h,isFocusable:!0})},strong:!0,downstreamBindings:{listCollection:"(owner).menuItems"}}),_compareParticipants:function(e,t){var i=this._getParticipantSortCategory(e),n=this._getParticipantSortCategory(t);if(i<n)return-1;if(n<i)return 1;var r=e.displayName,a=t.displayName;return o._104(r,a)},_getParticipantSortCategory:function(e){if(e.isOrgUser)return 1;if(e.isMe)return 2;if(e.isOwner)return 3;var t=e.additionalParticipantInfo;return t&&t.isOnline?4:e.acceptanceStatus===r.a.ACCEPTED?5:6},staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareListViewController"}}));function p(e,t){var i=e.userIdentity,n=i&&(i.emailAddress||i.phoneNumber);o._74(n)&&t&&e.loadAddressBookContact(t)}},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var r=i(0),a=i(209),s=i(29),n=i(826),o=i(1383),c=(i.n(o),r.V.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"iconView"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"name",attributes:{}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"displayNameIsPhoneNumber",truevalue:"is-phone-number",attributes:{}}]},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"listLabel",attributes:{}}]}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"statusText",attributes:{}}]}],classes:["title-area"]},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"participantSettingsButton"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"badge"}],classes:["item-controls"]}],classes:["container"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasAcceptedShare",truevalue:"accepted",attributes:{}}]},className:"ck-sharing-manage-share-list-item-view",__QUALIFIED_CLASS_NAME__:"ManageShareListItemView"},name:r._105(r._64("content.displayName")),displayNameIsPhoneNumber:r._105(r._64("content.displayNameIsPhoneNumber")),hasAcceptedShare:r._105({readOnly:!0,dependencies:["content.acceptanceStatus"],get:Object.assign(function(){return this.getPath("content.acceptanceStatus")===a.a.ACCEPTED},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])===a.a.ACCEPTED}})}),isViewOnly:r._105({readOnly:!0,dependencies:["content.permission"],get:Object.assign(function(){return this.getPath("content.permission")===s.a.READ_ONLY},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])===s.a.READ_ONLY}})}),iconView:r._105({downstreamBindings:{displayNameInitials:"(owner).content.displayNameInitials",photoUrl:"(owner).content.addressBookContact.imageDataUrl",cropRect:"(owner).content.addressBookContact.photo.crop"},defaultValue:r._85(n.a)}),listLabel:r._105({readOnly:!0,dependencies:["content.isOwner","content.isMe"],get:Object.assign(function(){return this.getPath("content.isOwner")?r._99("CKSharing.ManageShare.List.Label.Owner"):this.getPath("content.isMe")?r._99("CKSharing.ManageShare.List.Label.Me"):void 0},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])?r._99("CKSharing.ManageShare.List.Label.Owner"):n.internalGetPath(this,t[1+i])?r._99("CKSharing.ManageShare.List.Label.Me"):void 0}})}),pointerOver:function(){this.sendEvent("setShouldShowParticipantSettingsButtonOnListItem",this)},shouldShowParticipantSettingsButton:r._105(),isParticipantSettingsMenuOpened:r._105(!1),participantSettingsButton:r._105({downstreamBindings:{item:"(owner).content",shouldShow:"(owner).shouldShowParticipantSettingsButton",isParticipantSettingsMenuOpened:"(owner).isParticipantSettingsMenuOpened"},defaultValue:r._85(r._57.extend(r.l,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"ellipse",children:[],namespace:"http://www.w3.org/2000/svg",classes:["background"],attributes:{ry:"15",rx:"15",cy:"15",cx:"15"}},{type:"ELEMENT",tagname:"ellipse",children:[],namespace:"http://www.w3.org/2000/svg",classes:["dot"],attributes:{ry:"3",rx:"3",cy:"15",cx:"7"}},{type:"ELEMENT",tagname:"ellipse",children:[],namespace:"http://www.w3.org/2000/svg",classes:["dot"],attributes:{ry:"3",rx:"3",cy:"15",cx:"15"}},{type:"ELEMENT",tagname:"ellipse",children:[],namespace:"http://www.w3.org/2000/svg",classes:["dot"],attributes:{ry:"3",rx:"3",cy:"15",cx:"23"}}],namespace:"http://www.w3.org/2000/svg",classes:["menu-affordance"],attributes:{width:"15",height:"15",viewBox:"0 0 30 30"}}],classes:["menu-affordance-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShow",truevalue:"",falsevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isParticipantSettingsMenuOpened",truevalue:"open",attributes:{}}]}},action:"showParticipantSettingsMenu",item:r._105(),contextKeys:["context","item"],shouldShow:r._105(),isParticipantSettingsMenuOpened:r._105()}))}),statusText:r._105({readOnly:!0,dependencies:["hasAcceptedShare","isViewOnly"],get:Object.assign(function(){return this.hasAcceptedShare?this.isViewOnly?r._99("CKSharing.ManageShare.StatusText.ViewOnly"):null:r._99("CKSharing.ManageShare.StatusText.Invited")},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?n.internalGet(this,t[1+i])?r._99("CKSharing.ManageShare.StatusText.ViewOnly"):null:r._99("CKSharing.ManageShare.StatusText.Invited")}})})}))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i(0),n=i(1382),r=(i.n(n),a._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"figure",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"img",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"photoUrl",truevalue:"photo",attributes:{}}],name:"image",styles:{transform:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"inlineTransform",attributes:{},unit:null,property:"transform"}},attributes:{src:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"photoUrl",attributes:{},attribute:"src"}}}],classes:["image-container"],name:"imageContainer"}],classes:["participant-icon-view",{type:"CLASSNAMEOUTLET",bindingtype:"DIRECTBINDING",name:"state",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldAnimate",truevalue:"should-animate",attributes:{}}],attributes:{"data-title":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"displayNameInitials",attributes:{},attribute:"data-title"}}},className:"ck-sharing-participant-icon-view",__QUALIFIED_CLASS_NAME__:"ParticipantIconView"},photoUrl:a._105(),cropRect:a._105(),displayNameInitials:a._105(),shouldAnimate:a._105(!1),inlineTransform:a._105({readOnly:!0,dependencies:["scale","offsetX","offsetY"],get:Object.assign(function(){var e=[];return e.push("translateY(-100%) translateY(36px)"),e.push("scale("+this.scale+")"),a.Y.sharedInstance.isRTL?e.push("translate("+-this.offsetX+"px, "+this.offsetY+"px)"):e.push("translate("+this.offsetX+"px, "+this.offsetY+"px)"),e.join(" ")},{__CW__getter:function(e,t,i,n){var r=[];return r.push("translateY(-100%) translateY(36px)"),r.push("scale("+n.internalGet(this,t[0+i])+")"),a.Y.sharedInstance.isRTL?r.push("translate("+-n.internalGet(this,t[1+i])+"px, "+n.internalGet(this,t[2+i])+"px)"):r.push("translate("+n.internalGet(this,t[1+i])+"px, "+n.internalGet(this,t[2+i])+"px)"),r.join(" ")}})}),init:function(){var t=this,e=arguments;this.__s._$Wz$init.apply(this,e),a._61(this.image,"load",function(e){t.onload(e)})},onload:function(e){this.propertyChanged("scale")},scale:a._105({readOnly:!0,dependencies:["photoUrl","cropRect.width"],get:Object.assign(function(){var e=this.getPath("cropRect.width")||this.image.naturalWidth;return a._74(this.photoUrl)?36/e:1},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[1+i])||this.image.naturalWidth;return a._74(n.internalGet(this,t[0+i]))?36/r:1}})}),offsetX:a._105({readOnly:!0,dependencies:["photoUrl","cropRect.x"],get:Object.assign(function(){var e=this.getPath("cropRect.x");return a._74(this.photoUrl)&&a._74(e)?-1*e:0},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[1+i]);return a._74(n.internalGet(this,t[0+i]))&&a._74(r)?-1*r:0}})}),offsetY:a._105({readOnly:!0,dependencies:["photoUrl","cropRect.y"],get:Object.assign(function(){var e=this.getPath("cropRect.y");return a._74(this.photoUrl)&&a._74(e)?e:0},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[1+i]);return a._74(n.internalGet(this,t[0+i]))&&a._74(r)?r:0}})}),state:a._105({readOnly:!0,dependencies:["photoUrl","displayNameInitials"],get:Object.assign(function(){return this.photoUrl?"has-icon":this.displayNameInitials?"has-initials":"has-silhouette"},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?"has-icon":n.internalGet(this,t[1+i])?"has-initials":"has-silhouette"}})}),__superMap:{_$Wz$init:"init"}}))},function(e,t,i){"use strict";t.a=function(e,t,i,n){return r(e,t,i,n)},t.b=function(e,t,i,n){return r(e,t,i,n,!0)};var h=i(0),p=i(29),f=i(70);function r(e,t,i,n,r){var a=r?void 0:h._9.create(),s=e.userIdentity,o=null;if(s&&(o=s.emailAddress||s.formattedPhoneNumber),o){if(r)return!0;var c=o===s.formattedPhoneNumber;a.push({title:o,titleIsAlwaysLTR:c,action:"",isDisabled:!0})}s&&(s.phoneNumber||s.emailAddress)&&a.push({title:h._99("CKSharing.ManageShare.ParticipantSettings."+(s.phoneNumber?"CopyPhoneNumber":"CopyEmail")),action:"copySelectedParticipantAddress"});var l=p.a.READ_WRITE,u=p.a.READ_ONLY;if(n&&i&&!e.isMe&&!e.isOwner&&!e.isOrgUser&&!t&&i){if(r)return!0;_(a),a.push({title:h._99("CKSharing.ManageShare.ParticipantSettings.CanEdit"),action:"setSelectedParticipantPermissionsToReadWrite",hasCheckmark:e.permission===l},{title:h._99("CKSharing.ManageShare.ParticipantSettings.ViewOnly"),action:"setSelectedParticipantPermissionsToReadOnly",hasCheckmark:e.permission===u})}if(!f.a.isCurrentUserUnauthenticated&&!e.isOwner&&!e.isOrgUser&&(n||e.isMe)&&(e.isMe||!t)){if(r)return!0;_(a);var d={action:"removeSelectedParticipant"};e.isMe?d.title=h._99("CKSharing.ManageShare.ParticipantSettings.RemoveMe"):t||(d.title=h._99("CKSharing.ManageShare.ParticipantSettings.RemoveAccess")),a.push(d)}return!r&&a}function _(e){0<e.length&&e.push({})}},function(e,t,i){"use strict";t.a=function(e){var t=document.createElement("textarea"),i=document.createElement("iframe"),n=i.style;n.position="absolute",n.top="-10000px";var r=document.body;r.appendChild(i);var a=i.contentDocument;a.body.appendChild(t),t.value=e,t.select();var s=!1;try{s=a.execCommand("copy")}catch(e){}return r.removeChild(i),s}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(830),a=i(831),s=n._58.extend({isCopyLinkDisabled:n._105(!1),isStopSharingDisabled:n._105(!1),permissionValueForAddingParticipants:n._105(),viewClass:r.a,view:n._105({downstreamBindings:{hasNoDropdowns:"(owner).hasNoDropdowns",isCopyLinkDisabled:"(owner).isCopyLinkDisabled",isStopSharingDisabled:"(owner).isStopSharingDisabled",isExpanded:"(owner).isExpanded",isLoading:"(owner).isLoading",shouldHideCopyLinkAndStopSharing:"(owner).shouldHideCopyLinkAndStopSharing",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton",shouldShowShareOptions:"(owner).shouldShowShareOptions",summaryTextNoOption:"(owner).summaryTextNoOption",summaryTextWOption:"(owner).summaryTextWOption"}}),permissionsViewController:n.n.define({viewOutlet:"permissionsView",defaultValue:n._85(a.a),downstreamBindings:{hasNoDropdowns:"(owner).hasNoDropdowns",optionsIsExpanded:"(owner).isExpanded",settings:"(owner).settings",share:"(owner).share",shouldHideAccessDropdown:"(owner).shouldHideAccessDropdown",shouldHidePermissionDropdown:"(owner).shouldHidePermissionDropdown",permissionValueForAddingParticipants:"(owner).permissionValueForAddingParticipants"}}),shouldShowShareOptions:n._105({dependencies:["share.loggedInUserCanEditShare"],readOnly:!0,get:Object.assign(function(){return!!this.getPath("share.loggedInUserCanEditShare")},{__CW__getter:function(e,t,i,n){return!!n.internalGetPath(this,t[0+i])}})}),settings:n._105(),share:n._105(),isLoading:n._105(!1),summaryTextWOption:n._105(),summaryTextNoOption:n._105(),shouldHideCopyLinkButton:n._105({dependencies:["share.isPublic"],readOnly:!0,get:Object.assign(function(){return!!this.getPath("share.isPublic")},{__CW__getter:function(e,t,i,n){return!!n.internalGetPath(this,t[0+i])}})}),isExpanded:n._105(!1),toggleOptions:function(){this.isExpanded=!this.isExpanded},shouldHideAccessDropdown:n._105({readOnly:!0,dependencies:["settings.supportedAccess"],get:Object.assign(function(){var e=this.getPath("settings.supportedAccess");return e&&e.length<2},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]);return r&&r.length<2}})}),shouldHidePermissionDropdown:n._105({readOnly:!0,dependencies:["settings.supportedPermissions"],get:Object.assign(function(){var e=this.getPath("settings.supportedPermissions");return e&&e.length<2},{__CW__getter:function(e,t,i,n){var r=n.internalGetPath(this,t[0+i]);return r&&r.length<2}})}),hasNoDropdowns:n._105({readOnly:!0,dependencies:["shouldHideAccessDropdown","shouldHidePermissionDropdown"],get:Object.assign(function(){return this.shouldHideAccessDropdown&&this.shouldHidePermissionDropdown},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])&&n.internalGet(this,t[1+i])}})}),shouldHideCopyLinkAndStopSharing:n._105({readOnly:!0,dependencies:["hasNoDropdowns","isExpanded","shouldShowShareOptions"],get:Object.assign(function(){return!(this.shouldShowShareOptions&&(this.isExpanded||this.hasNoDropdowns))},{__CW__getter:function(e,t,i,n){return!(n.internalGet(this,t[2+i])&&(n.internalGet(this,t[1+i])||n.internalGet(this,t[0+i])))}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageShareOptionsViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(1385),a=(i.n(r),n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"toggleButton"},{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextWOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"hidden",attributes:{}}]}],classes:["container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"p",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:["summary-text",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"section",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"permissionsView"},{type:"ELEMENT",tagname:"menu",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"stopSharingButton"},{type:"ELEMENT",tagname:"span",children:[],classes:["divider",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"copyLinkButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkAndStopSharing",truevalue:"hidden",attributes:{}}]}]}],classes:["options-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isExpanded",truevalue:"isExpanded",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]},className:"ck-sharing-manage-share-options-view",__QUALIFIED_CLASS_NAME__:"ManageShareOptionsView"},summaryTextNoOption:n._105(),summaryTextWOption:n._105(),shouldShowShareOptions:n._105(!0),isCopyLinkDisabled:n._105(!1),isStopSharingDisabled:n._105(!1),isExpanded:n._105(!1),isHidden:n._105({dependencies:["isLoading","shouldShowShareOptions"],readOnly:!0,get:Object.assign(function(){return this.isLoading||!this.shouldShowShareOptions},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])||!n.internalGet(this,t[1+i])}})}),isLoading:n._105(!1),shouldHideAccessDropdown:n._105(!1),shouldHidePermissionDropdown:n._105(!1),hasNoDropdowns:n._105(),shouldHideCopyLinkAndStopSharing:n._105(),toggleButton:n._105({defaultValue:n._85(n._57.extend(n.l,{staticMembers:{template:{type:"ELEMENT",tagname:"span",children:[{type:"ELEMENT",tagname:"svg",children:[{type:"ELEMENT",tagname:"path",children:[],namespace:"http://www.w3.org/2000/svg",attributes:{d:"m1.250001,1.062507l14.843682,14.875035l14.843815,-14.875035",fill:"none"}}],namespace:"http://www.w3.org/2000/svg",classes:["chevron"],attributes:{width:"12px",height:"11px",viewBox:"0 0 32 20"}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}]}],classes:["options-button"]}},title:n._99("CKSharing.ManageShare.Button.ShareOptions"),action:"toggleOptions"}))}),shouldHideCopyLinkButton:n._105(),copyLinkButton:n._105({defaultValue:n._85(n.k.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideCopyLinkButton",truevalue:"hidden",attributes:{}}]}}},title:n._99("CKSharing.ManageShare.Button.CopyLink"),action:"showCopyLink",shouldHideCopyLinkButton:n._105()})),downstreamBindings:{isDisabled:"(owner).isCopyLinkDisabled",shouldHideCopyLinkButton:"(owner).shouldHideCopyLinkButton"}}),stopSharingButton:n._105({defaultValue:n._85(n.k.extend({title:n._99("CKSharing.ManageShare.Button.StopSharing"),additionalClassNames:["warning"],action:"confirmStopSharing"})),downstreamBindings:{isDisabled:"(owner).isStopSharingDisabled"}})}))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var l=i(0),c=i(47),n=i(832),u=i(29),r=l._58.extend({viewClass:n.a,view:l._105({downstreamBindings:{accessDropdownValue:"(owner).share.effectiveAccess",accessOptions:"(owner).accessOptions",hasNoDropdowns:"(owner).hasNoDropdowns",isVisible:"(owner).optionsIsExpanded",permissionDropdownValue:"(owner).permissionDropdownValue",permissionOptions:"(owner).permissionOptions",shouldHideAccessDropdown:"(owner).shouldHideAccessDropdown",shouldHidePermissionDropdown:"(owner).shouldHidePermissionDropdown"}}),settings:l._105(),permissionValueForAddingParticipants:l._105(),share:l._105(),shouldHideAccessDropdown:l._105(),shouldHidePermissionDropdown:l._105(),optionsIsExpanded:l._105(),hasNoDropdowns:l._105(),accessOptions:l._105({dependencies:["share.effectiveAccess","settings","settings.supportedAccess"],readOnly:!0,get:Object.assign(function(){if(this.settings){var e=[],t=c.a.PRIVATE,i=c.a.PUBLIC,n=this.share.effectiveAccess;return this.settings.supportsAccess(t)?e.push({value:t,label:l._99("CKSharing.AddParticipants.Private")}):n===t&&e.push({value:t,label:l._99("CKSharing.AddParticipants.Private"),isDisabled:!0}),this.settings.supportsAccess(i)?e.push({value:i,label:l._99("CKSharing.AddParticipants.Public")}):n===i&&e.push({value:i,label:l._99("CKSharing.AddParticipants.Public"),isDisabled:!0}),l._9.create(e)}},{__CW__getter:function(e,t,i,n){if(n.internalGet(this,t[1+i])){var r=[],a=c.a.PRIVATE,s=c.a.PUBLIC,o=n.internalGetPath(this,t[0+i]);return n.internalGet(this,t[1+i]).supportsAccess(a)?r.push({value:a,label:l._99("CKSharing.AddParticipants.Private")}):o===a&&r.push({value:a,label:l._99("CKSharing.AddParticipants.Private"),isDisabled:!0}),n.internalGet(this,t[1+i]).supportsAccess(s)?r.push({value:s,label:l._99("CKSharing.AddParticipants.Public")}):o===s&&r.push({value:s,label:l._99("CKSharing.AddParticipants.Public"),isDisabled:!0}),l._9.create(r)}}})}),permissionDropdownValue:l._105({dependencies:["share.effectivePermission","permissionValueForAddingParticipants"],readOnly:!0,get:Object.assign(function(){if(this.share){var e=this.share.effectivePermission;return void 0===e?this.permissionValueForAddingParticipants:e}return this.permissionValueForAddingParticipants},{__CW__getter:function(e,t,i,n){if(this.share){var r=n.internalGetPath(this,t[0+i]);return void 0===r?n.internalGet(this,t[1+i]):r}return n.internalGet(this,t[1+i])}})}),permissionOptions:l._105({dependencies:["share.effectivePermission","settings","settings.supportedPermissions"],readOnly:!0,get:Object.assign(function(){var e=this.settings;if(e){var t=[],i=u.a.READ_ONLY,n=u.a.READ_WRITE,r=this.share.effectivePermission;return e.supportsPermission(n)?t.push({value:n,label:l._99("CKSharing.PermissionsCombo.AllowEditing")}):r===n&&t.push({value:n,label:l._99("CKSharing.PermissionsCombo.AllowEditing"),isDisabled:!0}),e.supportsPermission(i)?t.push({value:i,label:l._99("CKSharing.PermissionsCombo.ViewOnly")}):r===i&&t.push({value:i,label:l._99("CKSharing.PermissionsCombo.ViewOnly"),isDisabled:!0}),r===u.a.MIXED&&t.push({value:u.a.MIXED,label:l._99("CKSharing.PermissionsCombo.Mixed"),isDisabled:!0}),l._9.create(t)}},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]);if(r){var a=[],s=u.a.READ_ONLY,o=u.a.READ_WRITE,c=n.internalGetPath(this,t[0+i]);return r.supportsPermission(o)?a.push({value:o,label:l._99("CKSharing.PermissionsCombo.AllowEditing")}):c===o&&a.push({value:o,label:l._99("CKSharing.PermissionsCombo.AllowEditing"),isDisabled:!0}),r.supportsPermission(s)?a.push({value:s,label:l._99("CKSharing.PermissionsCombo.ViewOnly")}):c===s&&a.push({value:s,label:l._99("CKSharing.PermissionsCombo.ViewOnly"),isDisabled:!0}),c===u.a.MIXED&&a.push({value:u.a.MIXED,label:l._99("CKSharing.PermissionsCombo.Mixed"),isDisabled:!0}),l._9.create(a)}}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ManageSharePermissionsViewController"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(382),a=n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"accessLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"accessSelectView"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHideAccessDropdown",truevalue:"hidden",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"permissionLabelString",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"permissionSelectView"}],classes:["row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldHidePermissionDropdown",truevalue:"hidden",attributes:{}}]}],classes:["container"]}],classes:["access-control-section",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"hasNoDropdowns",truevalue:"has-no-dropdowns",attributes:{}}]},className:"ck-sharing-manage-share-permissions-view",__QUALIFIED_CLASS_NAME__:"ManageSharePermissionsView"},isVisible:n._105(),hasNoDropdowns:n._105(),accessDropdownValue:n._105(),shouldHideAccessDropdown:n._105(),accessLabelString:n._107(n._99("CKSharing.AddParticipants.AccessLabel.Title")),accessOptions:n._105(),accessSelectView:n._105({defaultValue:n._85(r.a,{action:"setEffectiveAccess",ariaLabel:"Share Access Level"}),downstreamBindings:{options:"(owner).accessOptions",value:"(owner).accessDropdownValue",isVisibleOnScreen:"(owner).isVisible"}}),permissionDropdownValue:n._105(),shouldHidePermissionDropdown:n._105(),permissionLabelString:n._107(n._99("CKSharing.AddParticipants.AllowLabel.Title")),permissionOptions:n._105(),permissionSelectView:n._105({defaultValue:n._85(r.a,{action:"setEffectivePermission",ariaLabel:"Share Permission"}),downstreamBindings:{value:"(owner).permissionDropdownValue",options:"(owner).permissionOptions",isVisibleOnScreen:"(owner).isVisible"}})})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=i(217),a=i(388),s=i(1386),o=(i.n(s),i(1387)),c=(i.n(o),n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{escape:"false"}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"summaryTextNoOption",attributes:{}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowSubtitle",truevalue:"hidden",attributes:{}}]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isLoading",truevalue:"hidden",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldShowSubtitle",truevalue:"",falsevalue:"has-summary-text",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"busyView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"offlineView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"optionsView"},{type:"ELEMENT",tagname:"footer",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"doneButton"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"actionButton"}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isLoading",truevalue:"hidden",attributes:{}}]}],classes:["manage-share-view","sharing-dialog",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isOffline",truevalue:"is-offline",attributes:{}}]},className:"ck-sharing-manage-share-view",__QUALIFIED_CLASS_NAME__:"ManageShareView"},isCopyLinkDisabled:n._105(!1),share:n._105(),shouldShowSubtitle:n._105({readOnly:!0,dependencies:["share.loggedInUserCanEditShare"],get:Object.assign(function(){return this.getPath("share.loggedInUserCanEditShare")},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])}})}),summaryTextWOption:n._105(),summaryTextNoOption:n._105(),actionButton:n._105({readOnly:!0,dependencies:["isLoading","isOffline","share.isPublic","share.loggedInUserCanEditShare"],get:Object.assign(function(){return this.isLoading||this.isOffline?null:this.getPath("share.isPublic")?this.sendLinkButton:this.getPath("share.loggedInUserCanEditShare")?this.addPeopleButton:this.copyLinkButton},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])||n.internalGet(this,t[1+i])?null:n.internalGetPath(this,t[2+i])?this.sendLinkButton:n.internalGetPath(this,t[3+i])?this.addPeopleButton:this.copyLinkButton}})}),addPeopleButton:n._105({readOnly:!0,get:function(){return n.k.create({action:"goToAddParticipantsUI",title:n._99("CKSharing.ManageShare.Button.AddPeople")})}}),sendLinkButton:n._105({readOnly:!0,get:function(){return n.k.create({action:"sendLink",title:n._99("CKSharing.ManageShare.Button.SendLink")})}}),copyLinkButton:n._105({readOnly:!0,get:function(){return n.k.create({action:"showCopyLink",title:n._99("CKSharing.ManageShare.Button.CopyLink")})},downstreamBindings:{isDisabled:"(owner).isCopyLinkDisabled"}}),doneButton:n._105({defaultValue:n._85(n.k.extend({title:n._99("CKSharing.ManageShare.Button.Close"),action:"complete",keyEquivalent:n.S.ESC,additionalClassNames:n._60(["primary"])})),downstreamBindings:{isDisabled:"(owner).isDoneButtonDisabled"}}),busyView:n._105({readOnly:!0,get:function(){return r.a.create()},downstreamBindings:{isVisible:"(owner).isLoading",description:"(owner).busyDescription"}}),busyDescription:n._105(n._99("CKSharing.Busy.LoadingParticipants.Description")),isLoading:n._105(!1),isTearingDown:n._105(!1),isDoneButtonDisabled:n._105({readOnly:!0,dependencies:["isLoading","isTearingDown"],get:Object.assign(function(){return this.isLoading||this.isTearingDown},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])||n.internalGet(this,t[1+i])}})}),offlineView:n._105({readOnly:!0,get:function(){return a.a.create()},downstreamBindings:{isVisible:"(owner).isOffline"}}),isOffline:n._105(n.j.sharedInstance.bindingFor("isOffline"))}))},function(e,R,k){"use strict";(function(a){k.d(R,"a",function(){return p});var n=k(8),m=k(0),e=k(767),r=k(773),s=k(774),o=k(377),c=k(378),i=k(211),g=k(775),l=k(768),v=k(771),t=k(394),u=k(776),d=k(70),h=k(772),y=k(390),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=e.a.create(),p=m.v.extend(m._8,t.a,{container:m._105(),databaseScope:m._105({defaultValue:function(){return a.CloudKit.DatabaseScope.SHARED},set:function(e){var t=!1;for(var i in a.CloudKit.DatabaseScope)if(a.CloudKit.DatabaseScope.hasOwnProperty(i)&&a.CloudKit.DatabaseScope[i]===e){t=!0;break}if(!t)throw new Error("Unknow value for databaseScope",{value:e});return e}}),materializedShareRecord:m._107(),mostRecentShareDataHashFromServer:m._107(),isServiceBusy:m._105({readOnly:!0,dependencies:["processor.isQueueEmpty"],get:Object.assign(function(){return!this.getPath("processor.isQueueEmpty")},{__CW__getter:function(e,t,i,n){return!n.internalGetPath(this,t[0+i])}})}),processor:m._105({defaultValue:m._85(m._23.extend(m._8,{isQueueEmpty:m._105(!0),canSafelyTerminate:m._105(!0),_rejectAction:function(e,t){var i=arguments;return this._hack_silentlyClearQueuedOperations(),this.__s._$13c$_rejectAction.apply(this,i)},_hack_silentlyClearQueuedOperations:function(){for(var e,t,i=this._queue,n=this._actionDataToPromiseMap,r=i.length-1;0<=r;r--)e=i[r],t=n.get(e),this._clearQueuedAction(e,t)},enqueue:function(){var e=arguments;return this.isQueueEmpty=!1,this.__s._$1Gb$enqueue.apply(this,e)},didProcess:function(e,t){this.isQueueEmpty=0===e.length&&0===t.length;var i=e.concat(t).map(function(e){return e[2].type}).filter(function(e){return"FETCH"!==e&&"FETCH_SHARE"!==e}).length;this.canSafelyTerminate=0===i},dispose:function(){var e=arguments;this.canSafelyTerminate=!0,this.__s._$1f4$dispose.apply(this,e)},__superMap:{_$13c$_rejectAction:"_rejectAction",_$1Gb$enqueue:"enqueue",_$1f4$dispose:"dispose"}}),{maxConcurrentActions:1})}),processorCanSafelyTerminateDidChange:m._98("processor.canSafelyTerminate",function(e){m.e.application?e?m.e.application.removeIsReadyToTerminateBlock(this):m.e.application.setIsReadyToTerminateBlock(this):this.canSafelyTerminate=e}),canSafelyTerminate:m._105(!0),zoneID:m._105(),database:m._105({readOnly:!0,dependencies:["container","databaseScope"],get:Object.assign(function(){var e="sharedCloudDatabase";return this.databaseScope===a.CloudKit.DatabaseScope.PRIVATE&&(e="privateCloudDatabase"),this.container[e]},{__CW__getter:function(e,t,i,n){var r="sharedCloudDatabase";return n.internalGet(this,t[1+i])===a.CloudKit.DatabaseScope.PRIVATE&&(r="privateCloudDatabase"),n.internalGet(this,t[0+i])[r]}})}),reset:function(){this.processor._hack_silentlyClearQueuedOperations();var e=this.mostRecentShareDataHashFromServer,t=this.materializedShareRecord;m._74(t)&&m._74(e)&&(t.replaceData(m._68(e)),this.mostRecentOriginalShareDataHash=null)},init:function(e,t,i,n){if(!e||!t||!i)throw new Error("Dependency Missing: CKSharing.SharingIOService.create() requires the following properties: container, databaseScope, zoneID.");if(m._93(i)?i=h.a.create(i.zoneName,i.ownerRecordName):m._95(i)&&(i=h.a.create(i)),!m._86(i,h.a))throw new Error("zoneID must be an Object or instance of CKSharing.ZoneID",{zoneID:i});this.container=e,this.databaseScope=t,this.zoneID=i,this.__s._$2pU$init.call(this,n)},createShare:function(e){var t=this.materializedShareRecord.toJSON(),i=o.a.create(t,null,e);return this.processor.enqueue(F,this,i)},createShareFromDataHash:function(e){var t=this.materializedShareRecord=v.a.create(e);return function(e){var t=e.participants;t&&t.forEach(function(e){e.propertyChanged("userIdentity")});var i=e.owner;i&&i.propertyChanged("userIdentity");var n=e.currentUserParticipant;n&&n.propertyChanged("userIdentity")}(t),t},createShortGUID:function(e,t){var i=e.shortGUID;return m._95(i)&&!m._91(i)?m.w.resolve(e):E(this,s.a.create(e,null,t)).then(x).then(function(e){return e})},convertToPrivateShare:function(e,t){var i=this.materializedShareRecord.toJSON(),n=r.a.create(i,e,t);return this.mostRecentOriginalShareDataHash=i,this.processor.enqueue(D,this,n)},fetchDataRecord:function(e){var t=i.a.create(e);return this.processor.enqueue(N,this,t)},fetchShareRecord:function(e){var i=this,t=g.a.create(e);return this.processor.enqueue(N,this,t).then(function(e){var t=i.materializedShareRecord;return t?(t.replaceData(e),t):i.loadShareFromDataHash(e)})},loadShareFromDataHash:function(e){if(e.currentUserParticipant){var t=e.currentUserParticipant.userIdentity.userRecordName;d.a.currentUserRecordName=t}return this.mostRecentShareDataHashFromServer=m._68(v.a.processDataHashThroughModel(e)),this.createShareFromDataHash(e)},unforkIfAppropriate:function(e){for(var t=this.processor._queue,i=0,n=t.length,r=!1;i<n;i++){var a=t[i][2];if("UPDATE_SHARE"===a.type||"CONVERT_SHARE_TO_PRIVATE"===a.type){r=!0;break}}r||(m._100.debug("== UNFORKING"),this.materializedShareRecord.replaceData(e),this.mostRecentOriginalShareDataHash=null)},updateShare:function(e){this.mostRecentOriginalShareDataHash||m._100.debug("== FORKING");var t=this.mostRecentOriginalShareDataHash||this.mostRecentShareDataHashFromServer,i=m._68(t),n=this.materializedShareRecord.toJSON(),r=u.a.create(n,i,e);return this.mostRecentOriginalShareDataHash=n,this.processor.enqueue(L,this,r)},deleteShare:function(e,t){var i=this.mostRecentOriginalShareDataHash||this.mostRecentShareDataHashFromServer,n=m._68(i),r=this.materializedShareRecord.toJSON(),a=c.a.create(r,n,t);return this.processor.enqueue(M,this,a)},membershipInfo:function(e){var t={lookupInfo:e.map(function(e){return(e=e.userIdentity||e).phoneNumber?{type:"phoneNumber",value:e.phoneNumber}:e.emailAddress?{type:"email",value:e.emailAddress}:void 0})},i=n.k.create({serviceName:"cksharews",pathname:"/ws/v1/autocomplete/membershipInfo"});return n.h.create({method:"POST",url:i,body:t,useCredentialsIfCrossOrigin:!0,timeout:6e4}).send().then(function(e){return e.body})},staticMembers:{__QUALIFIED_CLASS_NAME__:"SharingIOService"},__superMap:{_$2pU$init:"init"}});function f(e){if(e.hasErrors)throw new l.a("Received CloudKit errors in response",e);return e}function _(e,t){return n=(i=t).type,!i.didUpdateShareRecord||"CREATE_SHARE"!==n&&"UPDATE_SHARE"!==n&&"DELETE_SHARE"!==n?m.w.resolve(e):(0,t.didUpdateShareRecord)(x(e)).then(function(){return e});var i,n}function S(o,e){if(i=(t=e).type,!t.didUpdateRootRecord||"CREATE_SHORT_GUID"!==i&&"CREATE_SHARE"!==i&&"DELETE_SHARE"!==i)return m.w.resolve(o);var t,i,n=e.didUpdateRootRecord,r=null,a=e.recordDataHash;if(!(r=a.recordName)){var s=a.forRecord;s&&(r=s.recordName)}return n(function(e,t){var i=null,n=o.records;if(n)for(var r=0,a=n.length;r<a;r++){var s=n[r];if(s.recordName===e&&"cloudkit.share"!==s.recordType){i=s;break}}return i}(r)).then(function(){return o})}function w(e,t,i){return e.database.deleteRecords(t.body,e.zoneID.toHash()).catch(P).then(f).then(function(e){return S(e,t)}).then(function(e){return _(e,t)}).catch(T(e,t,i))}function C(e,t,i){return e.database.fetchRecords(t.body,e.zoneID.toHash()).catch(P).then(f).catch(T(e,t,i))}function E(i,n,r){var e=n.provideRootRecordForUpdate,t=n.willUpdateShareRecord,a=n.type;return("CREATE_SHARE"!==a&&"CREATE_SHORT_GUID"!==a||!e?"UPDATE_SHARE"===a&&t?t(n.recordDataHash):m.w.resolve():"CREATE_SHARE"===a?e(n.recordDataHash.forRecord).then(function(e){n.recordDataHash.forRecord=m._68(e),n.propertyChanged("recordDataHash")}):e(n.recordDataHash).then(function(e){n.recordDataHash=m._68(e)})).then(function(){if("CREATE_SHORT_GUID"===a){var e=n.recordDataHash,t=e.shortGUID;if(m._95(t)&&!m._91(t))return{records:[e],isRecordsResponse:!0}}return i.database.saveRecords(n.body,i.zoneID.toHash()).catch(P).then(f).then(function(e){return S(e,n)}).then(function(e){return _(e,n)}).catch(T(i,n,r))})}function T(p,f,_){return function(e){var s=e.errors;if(s)for(var o=CloudKit.CKError,c=f.type,t=function(){var i=s[l],e=!1,t=void 0;switch(Object(y.a)(i)){case o.ATOMIC_ERROR:break;case o.ACCESS_DENIED:case"MANAGED_APPLE_ID_RESTRICTED":e=!0;break;case o.TRY_AGAIN_LATER:case o.THROTTLED:case"ZONE_BUSY":null==_&&(_=0),_<5?(u=m.w.create(),d=1e3*Math.exp(_),m._116(function(){u.resolve(_+1)},d),t=u.then(function(e){return O(p,f,e)})):e=!0;break;case o.CONFLICT:case"OP_LOCK_FAILURE":if("CREATE_SHARE"===c||"CREATE_SHORT_GUID"===c){var n=f.provideLatestRootRecordAfterUpdateConflict;if(n){var r=f.recordDataHash,a="CREATE_SHARE"===c;a&&(r=r.forRecord),t=n(r).then(function(e){if(e.recordChangeTag===r.recordChangeTag)throw p.reset(),i;return a?f.recordDataHash.forRecord=e:f.recordDataHash=e,O(p,f)})}else e=!0}else h=g.a.create(f.recordDataHash.recordName),t=N(p,h).then(function(e){e=v.a.processDataHashThroughModel(e),p.mostRecentShareDataHashFromServer=m._68(e);var t=m._123(f.recordDataHash,e,f.originalRecordDataHash,I);if(t===m._1)throw p.reset(),i;return f.originalRecordDataHash=p.mostRecentShareDataHashFromServer,p.mostRecentOriginalShareDataHash=t,f.recordDataHash=t,O(p,f)});break;default:e=!0}if(t)return{v:t};if(e)throw p.reset(),i},l=0;l<s.length;l++){var u,d,h,i=t();if("object"===(void 0===i?"undefined":b(i)))return i.v}throw e}}function A(e,t){t=v.a.processDataHashThroughModel(t),e.mostRecentShareDataHashFromServer=m._68(t);for(var i=e.processor._queue,n=0,r=i.length;n<r;n++){var a=i[n][2];if("FETCH_SHARE"===a.type){var s=t.recordName;a.recordName=s}else if("DELETE_SHARE"===a.type)a.recordDataHash=m._68(t);else if("CONVERT_SHARE_TO_PRIVATE"===a.type)a.shareRecordDataHash=m._68(t);else if("UPDATE_SHARE"===a.type){var o=a.recordDataHash,c=a.originalRecordDataHash,l=m._123(o,t,c,I);if(l===m._1)break;a.recordDataHash=l,a.originalRecordDataHash=t,t=l}}}function O(e,t,i){switch(t.type){case"CREATE_SHARE":case"CREATE_SHORT_GUID":case"UPDATE_SHARE":return E(e,t,i);case"DELETE_SHARE":return w(e,t,i);case"FETCH":case"FETCH_SHARE":return C(e,t,i);default:throw"Attempted to re-run an unknown operation type: "+t.type}}function D(t,i){return M(t,i.operationForDeleteShareRecord).then(function(e){return void 0===e?N(t,i.operationForFetchDataRecord).then(function(e){return i.dataRecordDataHash=e,F(t,i.operationForCreateShareRecord)}):(A(t,e.toJSON()),t.materializedShareRecord)})}function F(t,e){return E(t,e).then(x).then(function(e){return t.createShareFromDataHash(e),A(t,e),t.unforkIfAppropriate(e),t.materializedShareRecord})}function M(i,e){return w(i,e).then(x).then(function(e){if(!e.deleted){e=v.a.processDataHashThroughModel(e),i.mostRecentShareDataHashFromServer=m._68(e);var t=i.materializedShareRecord;return t.replaceData(e),t}i.mostRecentShareDataHashFromServer=null})}function N(e,t){return C(e,t).then(x)}function L(t,e){return E(t,e).then(x).then(function(e){return A(t,e),t.unforkIfAppropriate(e),t.materializedShareRecord})}function x(e){return function(e,t){var i=t.records?t.records.length:-1;if(!t.isRecordsResponse||i<1)throw new Error("Expected %{amount} record(s), found %{count}",{amount:1,count:i,response:t});return t.records.slice(0,1)}(0,e).pop()}function P(e){var t={message:e.message,errors:[e]};throw new l.a("CloudKit request failed",t)}}).call(R,k(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var d=i(0),n=i(836),r=i(823),h=(i.n(r),{}),a=d.v.extend(n.a,{info:function(e,t){s(e,t)},warn:function(e,t){s(e,t,"ck-sharing-warn-icon")},error:function(e,t){s(e,t,"ck-sharing-error-icon")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UserNotificationService"}});function s(e,t,i){var n=d._74(t)?t:h,r=n.locNamespace?n.locNamespace+".":"",a=d._99(r+e+"."+(n.messageLocSuffix||"Message"),n.messageFormatValues),s=r+(n.descriptionKey||e)+"."+(n.descriptionLocSuffix||"Description"),o=d._99(s,n.descriptionFormatValues);o===s&&(o=null);var c=n.primaryButtonConfig,l=n.alternateButtonConfig;c||l||(c={keyEquivalent:[d.S.ESC,d.S.RETURN],title:d._99("CKSharing.ErrorDialog.OKButton.Title")});var u=d.c.create({iconNames:i,message:a,description:o,primaryButton:c,alternateButton:l});u._appendedContentController=u.contentController,d.e.application.presentViewController(u)}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={mixinDependencies:[n._26],info:n._31.define(),warn:n._31.define(),error:n._31.define()}},function(e,t,i){"use strict";t.a=function(e){var t=Object(n.a)(e,function(e){if(e.isFocusable)return e});if(t){t.focus();var i=t.element;i&&i.focus&&i.focus()}};var n=i(838)},function(e,t,i){"use strict";t.a=function e(t,i){if(t){var n=(t=t.view||t).element||t;if(n){var r=n.view&&i(n.view);if(r)return r;for(var a=n.firstChild;a;a=a.nextSibling)if(r=e(a,i))return r}}}},function(e,t,i){"use strict";i.d(t,"a",function(){return b});var b={hash:function(e){e=e.utf8Encode();for(var t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n=(e+=String.fromCharCode(128)).length/4+2,r=Math.ceil(n/16),a=new Array(r),s=0;s<r;s++){a[s]=new Array(16);for(var o=0;o<16;o++)a[s][o]=e.charCodeAt(64*s+4*o)<<24|e.charCodeAt(64*s+4*o+1)<<16|e.charCodeAt(64*s+4*o+2)<<8|e.charCodeAt(64*s+4*o+3)}a[r-1][14]=8*(e.length-1)/Math.pow(2,32),a[r-1][14]=Math.floor(a[r-1][14]),a[r-1][15]=8*(e.length-1)&4294967295;var c,l,u,d,h,p,f,_,m=new Array(64);for(s=0;s<r;s++){for(var g=0;g<16;g++)m[g]=a[s][g];for(g=16;g<64;g++)m[g]=b.1(m[g-2])+m[g-7]+b.0(m[g-15])+m[g-16]&4294967295;for(c=i[0],l=i[1],u=i[2],d=i[3],h=i[4],p=i[5],f=i[6],_=i[7],g=0;g<64;g++){var v=_+b.1(h)+b.Ch(h,p,f)+t[g]+m[g],y=b.0(c)+b.Maj(c,l,u);_=f,f=p,p=h,h=d+v&4294967295,d=u,u=l,l=c,c=v+y&4294967295}i[0]=i[0]+c&4294967295,i[1]=i[1]+l&4294967295,i[2]=i[2]+u&4294967295,i[3]=i[3]+d&4294967295,i[4]=i[4]+h&4294967295,i[5]=i[5]+p&4294967295,i[6]=i[6]+f&4294967295,i[7]=i[7]+_&4294967295}return b.toHexStr(i[0])+b.toHexStr(i[1])+b.toHexStr(i[2])+b.toHexStr(i[3])+b.toHexStr(i[4])+b.toHexStr(i[5])+b.toHexStr(i[6])+b.toHexStr(i[7])},ROTR:function(e,t){return t>>>e|t<<32-e},"0":function(e){return b.ROTR(2,e)^b.ROTR(13,e)^b.ROTR(22,e)},"1":function(e){return b.ROTR(6,e)^b.ROTR(11,e)^b.ROTR(25,e)},"0":function(e){return b.ROTR(7,e)^b.ROTR(18,e)^e>>>3},"1":function(e){return b.ROTR(17,e)^b.ROTR(19,e)^e>>>10},Ch:function(e,t,i){return e&t^~e&i},Maj:function(e,t,i){return e&t^e&i^t&i},toHexStr:function(e){for(var t="",i=7;0<=i;i--)t+=(e>>>4*i&15).toString(16);return t}};void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(e){return this}})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n={name:"Pages",shareUrlNamespace:"pages",zone:"com.apple.Pages"},r={name:"Numbers",shareUrlNamespace:"numbers",zone:"com.apple.Numbers"},a={name:"Keynote",shareUrlNamespace:"keynote",zone:"com.apple.Keynote"},s={key:a,"key-tef":a,keynote:a,"keynote-tef":a,numbers:r,"numbers-tef":r,pages:n,"pages-tef":n},o={"com.apple.Pages":n,"com.apple.Keynote":a,"com.apple.Numbers":r},c={getDetailsForFileExtension:function(e){return s[e]},isIworkApplication:function(e){return e in s},isIworkContainer:function(e){return e in o}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(0),c=i(4),l=(i(56),i(397)),u=o._67("AlertPresentationState",["NotPresented","Presenting","Presented","Dismissing"]),n=o.v.extend(o._8,{delegate:null,dismissedAlert:o._118(),presentedAlert:o._118(),errorGroup:o._107({readOnly:!0,get:function(){return this._errorGroup}}),isAlertBecomingDismissed:o._107({readOnly:!0,get:function(){return this._presentationState===u.Dismissing}}),isAlertBecomingPresented:o._107({readOnly:!0,get:function(){return this._presentationState===u.Presenting}}),isAlertPresented:o._107({readOnly:!0,get:function(){return this._presentationState===u.Presented}}),init:function(e){var t=arguments;this.__s._$PI$init.apply(this,t),this._errorItemPresentationInfoGenerators={},this._errorGroup=null,this._alertView=null,this._contextAlertButton=null,this._presentationState=u.NotPresented},addErrorItemPresentationInfoGenerator:function(e){this._errorItemPresentationInfoGenerators[e.errorGroupType]=e},_getPresentationInfoGeneratorForErrorGroup:function(e){return this._errorItemPresentationInfoGenerators[e.type]},presentErrorGroup:function(e){this._errorGroup&&o._75("Cannot present. Is currently presenting error group",{alertPresenter:this});var t=this,i=c.h.create({additionalClassNames:o._60(["confirm"]),title:o._99("DriveUI.Common.Confirm"),target:this,action:function(){t._dismissAlertView()},shortcut:o.S.RETURN}),n=this._getMessageForErrorGroup(e),r=this._getDescriptionForErrorGroup(e),a=l.a.create({additionalClassNames:o._60(["brapp"]),message:n,description:r,buttonViews:[i]});this._includeContextButtonToAlertViewForErrorGroupIfNeeded(a,e);var s=this._shouldPresentDetailsForErrorGroup(e);a.detailsVisible=s,this._addErrorGroupItemsToAlertViewDetailsStartingFromIndex(e,a,0),this._errorGroup=e,this._alertView=a,o.e.application._paneManager.addRootView(a),this._presentationState=u.Presenting,a.animateOpen(function(){t._completePresentingAlertView()})},updateForErrorGroup:function(e){var t=this._errorGroup,i=this._alertView,n=this._getMessageForErrorGroup(e),r=this._getDescriptionForErrorGroup(e),a=this._shouldPresentDetailsForErrorGroup(e),s=0;i.message=n,i.description=r,i.detailsVisible=a,t.type!==e.type?i.removeDetails():s=t.items.length,this._addErrorGroupItemsToAlertViewDetailsStartingFromIndex(e,i,s),this._includeContextButtonToAlertViewForErrorGroupIfNeeded(i,e),this._errorGroup=e},_shouldPresentDetailsForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).shouldPresentDetailsForErrorGroup(e)},_shouldPresentItemDescriptionsForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).shouldPresentItemDescriptionsForErrorGroup(e)},_getMessageForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).getMessageForErrorGroup(e)},_getDescriptionForErrorGroup:function(e){return this._getPresentationInfoGeneratorForErrorGroup(e).getDescriptionForErrorGroup(e)},_addErrorGroupItemsToAlertViewDetailsStartingFromIndex:function(e,t,i){for(var n=this._getPresentationInfoGeneratorForErrorGroup(e),r=e.items,a=i,s=r.length;a<s;a++){var o=r[a],c=n.getPresentationInfoForErrorGroupItemAtIndex(e,o,a),l=c.message,u=c.description,d=c.iconView||null;t.addDetail(l,u,d)}var h=this._shouldPresentItemDescriptionsForErrorGroup(e);t.detailDescriptionsVisible=h},_includeContextButtonToAlertViewForErrorGroupIfNeeded:function(e,t){if(!this._contextAlertButton){var i=this._getPresentationInfoGeneratorForErrorGroup(t);if(i.shouldPresentContextButtonForErrorGroup(t)){var n=e.buttonViews,r=i.getContextButtonForErrorGroup(t);n.unshift(r),this._contextAlertButton=r}}},_completePresentingAlertView:function(){this._presentationState=u.Presented,this.presentedAlert(this)},_dismissAlertView:function(){this._presentationState=u.Dismissing;var e=this;this._alertView.animateClosed(function(){e._completeDismissingAlertView()})},_completeDismissingAlertView:function(){this._presentationState=u.NotPresented;var e=this._errorGroup,t=this._alertView;t&&o.e.application._paneManager.removeRootView(t),this._errorGroup=null,this._alertView=null,this._contextAlertButton=null,this.dismissedAlert(this,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertPresenter"},__superMap:{_$PI$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),s=(i(4),i(841)),o=i(844),c=i(847),l=i(848),u=i(849),d=i(1423),h=i(850),p=i(851),f=i(852),_=i(853),r=n.v.extend({alertPresenter:n._107({readOnly:!0,get:function(){return this._alertPresenter}}),showcaseViewPool:n._107({readOnly:!0}),iconService:n._107({readOnly:!0}),thumbnailCanvasFactory:n._107({readOnly:!0}),thumbnailStatsReporterService:n._107({readOnly:!0}),init:function(e,t,i,n,r,a){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=i,this.thumbnailStatsReporterService=n,this.upgradeButtonUrl=r,this.__s._$lc$init.call(this,a),this._alertPresenter=this.loadAlertPresenter()},upgradeButtonUrl:n._107({readOnly:!0}),loadAlertPresenter:function(){var e=s.a.create(),t=this.iconService,i=this.showcaseViewPool,n=this.thumbnailCanvasFactory,r=this.thumbnailStatsReporterService,a=this.upgradeButtonUrl;return e.addErrorItemPresentationInfoGenerator(o.a.create(t,i,n,r)),e.addErrorItemPresentationInfoGenerator(c.a.create(t,i,n,r)),e.addErrorItemPresentationInfoGenerator(u.a.create(t,i,n,r)),e.addErrorItemPresentationInfoGenerator(d.a.create(t,i,n,r)),e.addErrorItemPresentationInfoGenerator(p.a.create(t,i,n,r)),e.addErrorItemPresentationInfoGenerator(f.a.create(t,i,n,r,{upgradeButtonUrl:a})),e.addErrorItemPresentationInfoGenerator(_.a.create(t,i,n,r)),e.addErrorItemPresentationInfoGenerator(l.a.create(t,i,n,r)),e.addErrorItemPresentationInfoGenerator(h.a.create(t,i,n,r)),e},staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertPresenterController"},__superMap:{_$lc$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i(30);var n=i(0),r=i(16),a=i(72).a.extend({errorGroupType:r.J.CreateFolderErrors,getMainMessageForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.Group.CreateFolders.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.Group.CreateFolders.Description")},getMainMessageForErrorItem:function(e){return n._99("DriveUI.Alert.TransactionError.CreateFolder.Message",{name:e.get("details").name})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){return n._99("DriveUI.Alert.TransactionError.CreateFolder.Description")},staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFoldersTransactionErrorItemPresentationInfoGenerator"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(1422),r=(i.n(n),i(43)),a=i(0),s=i(4),o=i(37),c=s._7.extend(r.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"_imageView"}],classes:["icon-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"roundedCornerMask",truevalue:"rounded-corner-mask",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isMediumDisplaySize",truevalue:"medium",attributes:{}}],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"fadeOpacity",attributes:{},unit:null,property:"opacity"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"width"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"height"}}},__QUALIFIED_CLASS_NAME__:"IconView"},_imageView:null,fadeOpacity:r.b(0),init:function(){var e=arguments;this.__s._$I8$init.apply(this,e);var t=this.get("displaySize"),i=s.F.create({displaySize:t,src:s._10({root:this,path:"src"})});this.set("_imageView",i)},reuseIdentifier:null,showImmediately:!1,didMoveToWindow:function(e){var t=arguments;if(this.__s._$Vm$didMoveToWindow.apply(this,t),e){var i=this.get("_imageView");i&&(this._imageViewListener=i.listen("state",this._imageViewStateDidChange.bind(this)))}else this._imageViewListener&&(this._imageViewListener.disconnect(),delete this._imageViewListener)},_fadeIn:function(){var e=this;a._116(function(){e.animate("fadeOpacity",1,10)},20)},roundedCornerMask:a._105(!0),src:a._105(""),size:a._105(60),displaySize:a._107(o.a.LARGE),backgroundColor:a._105("transparent"),error:a._118(),_srcObserver:a._106("src",function(e){e&&(this.showImmediately?this.set("fadeOpacity",1):(this.set("fadeOpacity",0),this._fadeIn()))}),_imageViewStateDidChange:function(e){switch(e){case s.G.Error:this.error()}},_isMediumDisplaySize:function(){return this.get("displaySize")===o.a.MEDIUM},__superMap:{_$I8$init:"init",_$Vm$didMoveToWindow:"didMoveToWindow"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i(30);var n=i(0),r=i(16),a=i(72).a.extend({errorGroupType:r.J.DeletedItemErrors,getMainMessageForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.Group.DeleteItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.Group.DeleteItems.Description")},getMainMessageForErrorItem:function(e){return n._99("DriveUI.Alert.TransactionError.DeleteItems.Single.Message",{name:e.get("details").name})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.DeleteItems.Single.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",n._99(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemsTransactionErrorItemPresentationInfoGenerator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i(30);var o=i(0),c=i(16),r=i(223),n=i(220),a=i(222),s=n.a.extend({errorGroupType:c.w.RenameItemErrors,shouldPresentDetailsForErrorGroup:function(e){return 1<e.items.length},getMessageForErrorGroup:function(e){var t=e.items,i=t.length;return 1<i?this.getMainMessageForErrorGroup(e,i):this.getMainMessageForErrorItem(t[0])},getDescriptionForErrorGroup:function(e){var t=e.items,i=t.length;return 1<i?this.getMainDescriptionForErrorGroup(e,i):this.getDescriptionForErrorItem(t[0],!0)},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,i){var n=t.details;return r.a.create(n.item.name,{description:this.getDescriptionForErrorItem(t,!1),iconView:this.getIconViewForErrorItem(t)})},getMainMessageForErrorGroup:function(e,t){return o._99("DriveUI.Alert.CannotRenameItem.Group.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return o._99("DriveUI.Alert.CannotRenameItem.Group.Description")},getMainMessageForErrorItem:function(e){var t,i=e.details.item,n=e.type,r=e.details.newName,a=i.isFolder,s=void 0;switch(n){case c.x.DuplicateName:return a||i.extension&&""===i.extension?(t="DriveUI.Alert.CannotRenameItem.NoExtension.Message",o._99(t,{name:r})):(t="DriveUI.Alert.CannotRenameItem.WithExtension.Message",o._99(t,{name:r,extension:i.extension}));case c.x.WhitespaceName:return a||i.extension&&""===i.extension?(t="DriveUI.Alert.WhitespaceName.Folder.Message",o._99(t,{name:r})):(s=r+"."+i.extension,t="DriveUI.Alert.WhitespaceName.File.Message",o._99(t,{fileNameWithExtension:s}));case c.x.InvalidName:return a||i.extension&&""===i.extension?(t="DriveUI.Alert.InvalidName.Folder.Message",o._99(t,{name:r})):(s=r+"."+i.extension,t="DriveUI.Alert.InvalidName.File.Message",o._99(t,{fileNameWithExtension:s}));case c.x.HiddenFile:return t="DriveUI.Alert.HiddenName.Folder.Message",a||(t="DriveUI.Alert.HiddenName.File.Message"),o._99(t)}},getDescriptionForErrorItem:function(e,t){var i;switch(e.type){case c.x.DuplicateName:return i="DriveUI.Alert.CannotRenameItem.Description",o._99(i);case c.x.WhitespaceName:return i="DriveUI.Alert.WhitespaceName.Description",o._99(i);case c.x.InvalidName:return i="DriveUI.Alert.InvalidName.Description",o._99(i);case c.x.HiddenFile:return i="DriveUI.Alert.HiddenName.Description",o._99(i)}o._75("ErrorItem not recognized")},shouldPresentItemDescriptionsForErrorGroup:function(e){return a.a.shouldPresentItemDescriptionsForErrorGroup(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditItemsErrorItemPresentationInfoGenerator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i(30);var n=i(0),r=i(16),a=i(72).a.extend({errorGroupType:r.J.MovedItemErrors,getMainMessageForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.Group.MoveItems.Generic.Description")},getMainMessageForErrorItem:function(e){return n._99("DriveUI.Alert.TransactionError.MovingItems.Single.Message",{name:e.get("details").name,folder:e.get("details").destinationFolder})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.MovingItems.Single.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",n._99(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsTransactionErrorItemPresentationInfoGenerator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i(30);var n=i(0),r=i(16),a=i(72).a.extend({errorGroupType:r.J.PutItemsBackFromTrashErrors,getMainMessageForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.RecoverItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.RecoverItems.Description")},getMainMessageForErrorItem:function(e){return n._99("DriveUI.Alert.TransactionError.RecoverItem.Message",{name:e.details.name})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RecoverItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",n._99(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashErrorItemPresentationInfoGenerator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i(30);var n=i(0),r=i(16),a=i(72).a.extend({errorGroupType:r.J.RenameItemErrors,getMainMessageForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.Group.RenameItems.Message",{count:t})},getMainDescriptionForErrorGroup:function(e,t){return n._99("DriveUI.Alert.TransactionError.Group.RenameItems.Description")},getMainMessageForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RenameItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Message",n._99(t,{name:e.get("details").name})},getVerboseDefaultUnknownConflictDescriptionForErrorItem:function(e){var t="DriveUI.Alert.TransactionError.RenameItem.";return t+=this._getLocItemTypeForErrorItem(e),t+=".Description",n._99(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemsTransactionErrorItemPresentationInfoGenerator"}})},function(e,n,r){"use strict";(function(t){r.d(n,"a",function(){return e}),r(30);var i=r(4),a=r(0),s=r(16),e=r(72).a.extend({errorGroupType:s.J.UploadItemErrors,upgradeButtonUrl:a._107({readOnly:!0}),getContextButtonForErrorGroup:function(e){return i.h.create({additionalClassNames:a._60(["upgrade-instructions"]),title:a._99("DriveUI.Alert.UpgradeInstructions"),target:this,action:function(){this.upgradeButtonUrl&&t.open(this.upgradeButtonUrl,"_blank")}})},getMessageForErrorGroup:function(e){return this._getMessageAndDescription(e).message},getDescriptionForErrorGroup:function(e){return this._getMessageAndDescription(e).description},shouldPresentDetailsForErrorGroup:function(e){var t=e.items;return 1!==t.length&&this.areAllItemsTheSameConflictType(t)},_getMessageAndDescription:function(e){var t=e.get("items");return this.shouldPresentDetailsForErrorGroup(e)?this._getMessageAndDescriptionForMultipleErrorItems(t):this._getMessageAndDescriptionForSingleErrorItem(t[0])},_getMessageAndDescriptionForMultipleErrorItems:function(e){var t,i,n=e[0].details.conflictType;if(this.areAllItemsTheSameConflictType(e))switch(n){case s.K.OutOfQuota:t=a._99("DriveUI.Alert.Upload.Coalesced.OutOfQuota.Title",{fileCount:e.length}),i=a._99("DriveUI.Alert.Upload.Coalesced.OutOfQuota.Description");break;case s.K.Unknown:default:t=a._99("DriveUI.Alert.Upload.Coalesced.Unknown.Title",{fileCount:e.length}),i=a._99("DriveUI.Alert.Upload.Coalesced.Unknown.Description")}else t=a._99("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:e.length}),i=a._99("DriveUI.Alert.Upload.Coalesced.Default.Description");return{message:t,description:i}},_getMessageAndDescriptionForSingleErrorItem:function(e){var t,i,n=e.details.conflictType,r=e.details.name;switch(n){case s.K.OutOfQuota:t=a._99("DriveUI.Alert.Upload.OutOfQuota.Title",{fileName:r}),i=a._99("DriveUI.Alert.Upload.OutOfQuota.Description");break;case s.K.Unknown:default:t=a._99("DriveUI.Alert.Upload.Default.Title",{fileName:r}),i=a._99("DriveUI.Alert.Upload.Default.Description")}return{message:t,description:i}},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFilesTransactionErrorItemPresentationInfoGenerator"}})}).call(n,r(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i(30);var d=i(4),h=i(0),p=i(16),s=i(223),n=i(220),r=i(222),a=n.a.extend({errorGroupType:p.P.items,shouldPresentDetailsForErrorGroup:function(e){return 1<e.items.length},getMessageForErrorGroup:function(e){return this._getMessageAndDescription(e).message},getDescriptionForErrorGroup:function(e){return this._getMessageAndDescription(e).description},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,i){var n=this._getMessageAndDescriptionForSingleErrorItem(t),r=(t.details||{}).item;if(r){var a=n.description;return t.type!==p.Q.HiddenFile&&t.type!==p.Q.SizeTooBig||(a=this._getDetailedItemDescriptionForSingleErrorItem(t)),s.a.create(r.name,{description:a,iconView:this.getIconViewForErrorItem(t)})}return s.a.create(n.message,{description:n.description})},shouldPresentItemDescriptionsForErrorGroup:function(e){return r.a.shouldPresentItemDescriptionsForErrorGroup(e)},_getMessageAndDescription:function(e){var t=e.items;return this.shouldPresentDetailsForErrorGroup(e)?this._getMessageAndDescriptionForMultipleErrorItems(t):this._getMessageAndDescriptionForSingleErrorItem(t[0])},_getMessageAndDescriptionForMultipleErrorItems:function(e){var t,i,n=e[0],r=n.details,a=n.type,s=e.length,o=r.destination,c="";if(o&&o.getAppLibrary){var l=o.getAppLibrary();l&&(c=l.get("fullName"))}if(e.every(function(e){return e.type===a}))switch(a){case p.Q.NotCompressed:t=h._99("DriveUI.Alert.Upload.Coalesced.NotCompressed.Title",{fileCount:s}),i=h._99("DriveUI.Alert.Upload.Coalesced.NotCompressed.Description");break;case p.Q.BadAppLibraryType:t=h._99("DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Title",{num:s,appName:c}),i=h._99("DriveUI.Alert.Upload.Coalesced.BadFileTypeForAppLibrary.Description",{appName:c});break;case p.Q.HiddenFile:t=h._99("DriveUI.Alert.Upload.Coalesced.HiddenFile.Title"),i=h._99("DriveUI.Alert.Upload.Coalesced.HiddenFile.Description");break;case p.Q.SizeTooBig:t=h._99("DriveUI.Alert.Upload.Coalesced.SizeTooBig.Title",{fileCount:s}),i=h._99("DriveUI.Alert.Upload.Coalesced.SizeTooBig.Description");break;default:t=h._99("DriveUI.Alert.Upload.Coalesced.Default.Title"),i=h._99("DriveUI.Alert.Upload.Coalesced.Default.Description")}else t=h._99("DriveUI.Alert.Upload.Coalesced.Default.Title",{fileCount:s}),i=h._99("DriveUI.Alert.Upload.Coalesced.Default.Description");return{message:t,description:i}},_getMessageAndDescriptionForSingleErrorItem:function(e){var t,i,n=e.type,r=e.details||{},a=r.item,s=r.destination,o="";if(s&&s.getAppLibrary){var c=s.getAppLibrary();c&&(o=c.get("fullName"))}switch(n){case p.Q.AccessDenied:t=h._99("DriveUI.Alert.Upload.AccessDenied.Title"),i=h._99("DriveUI.Alert.Upload.AccessDenied.Message");break;case p.Q.NotCompressed:case p.Q.IEFolderDropZeroFileCount:var l=a?p.C.getUncompressedExtensionForNativeFile(a):null;if(l&&d._14(l)){var u;switch(l){case"pages":u="Pages";break;case"key":case"keynote":u="Keynote";break;case"numbers":u="Numbers"}u?(t=h._99("DriveUI.Alert.Upload.Package.Title."+u),i=h._99("DriveUI.Alert.Upload.Package.Description."+u,{extension:l})):(t=h._99("DriveUI.Alert.Upload.Package.Title"),i=h._99("DriveUI.Alert.Upload.Package.Description"))}else t=h._99("DriveUI.Alert.Upload.SelectionContainsFolder.Title"),i=h._99("DriveUI.Alert.Upload.SelectionContainsFolder.Description");break;case p.Q.BadAppLibraryType:t=h._99("DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Title",{appName:o}),i=h._99("DriveUI.Alert.Upload.BadFileTypeForAppLibrary.Message",{appName:o});break;case p.Q.HiddenFile:t=h._99("DriveUI.Alert.Upload.HiddenFile.Title",{fileName:a.name}),i=h._99("DriveUI.Alert.Upload.HiddenFile.Description");break;case p.Q.SizeTooBig:t=h._99("DriveUI.Alert.Upload.SizeTooBig.Title",{fileName:a.name}),i=h._99("DriveUI.Alert.Upload.SizeTooBig.Description");break;case p.Q.BrowserNotSupported:t=h._99("DriveUI.Alert.Upload.BrowserNotSupported.Title"),i=h._99("DriveUI.Alert.Upload.BrowserNotSupported.Description");break;case p.Q.Unknown:default:t=h._99("DriveUI.Alert.Upload.Default.Title",{fileName:a.name}),i=h._99("DriveUI.Alert.Upload.Default.Description")}return{message:t,description:i}},_getDetailedItemDescriptionForSingleErrorItem:function(e){switch(e.get("type")){case p.Q.HiddenFile:return h._99("DriveUI.Alert.Upload.HiddenFile.Description");case p.Q.SizeTooBig:return h._99("DriveUI.Alert.Upload.SizeTooBig.DetailedDescription");default:return this._getMessageAndDescriptionForSingleErrorItem(e).description}},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorItemPresentationInfoGenerator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var s=i(0),r=s._67("RaiseAggregateAlertSchedulerState",["Prepared","AlertRaised"]),n=s.v.extend({alertPresenter:s._107({get:function(){return this._alertPresenter},set:function(e){var t=this._alertPresenter;return this._alertPresenterWillChange(t,e),e}}),init:function(e){var t=arguments;this.__s._$Bl$init.apply(this,t),this._state=r.Prepared,this._alertPresenter=null,this._errorAggregators=[],this._errorAggregatorsCache={},this._raisedErrorGroup=null,this._pendingErrorGroupsQueue=[]},addErrorAggregator:function(e){this._errorAggregators.push(e)},raiseAlertForErrorItem:function(e){switch(this._state){case r.Prepared:this._registerPendingErrorItem(e),this._tryRaisingNextAlert();break;case r.AlertRaised:var t=this.alertPresenter;if(t.isAlertBecomingDismissed)this._registerPendingErrorItem(e);else{var i=this._raisedErrorGroup,n=this._tryAggregatingErrorGroupWithErrorItem(i,e);n?(this._raisedErrorGroup=n,t.updateForErrorGroup(n)):this._registerPendingErrorItem(e)}}},_registerPendingErrorItem:function(e){for(var t,i=this._pendingErrorGroupsQueue,n=0,r=i.length;n<r;n++){t=i[n];var a=this._tryAggregatingErrorGroupWithErrorItem(t,e);if(a)return void(i[n]=a)}(t=this._createErrorGroupForErrorItem(e))||s._100.warn(this+" did not create an alert group for alert item",{service:this,alertItem:e}),i.push(t)},_tryRaisingNextAlert:function(){var e=this._pendingErrorGroupsQueue.shift();e?(this._state=r.AlertRaised,this._raisedErrorGroup=e,this.alertPresenter.presentErrorGroup(e)):this._state=r.Prepared},_tryAggregatingErrorGroupWithErrorItem:function(e,t){var i=this._errorAggregatorsCache[e.type];return i||s._75("Cannot aggregate alert group. Missing aggregator",{service:this,alertGroup:e}),i.allowsAggregationForErrorItem(t)?i.aggregateErrorGroupWithErrorItem(e,t):null},_createErrorGroupForErrorItem:function(e){var t=this._errorAggregators,i=this._errorAggregatorsCache,n=e.type,r=i[n];if(!r)for(var a=0,s=t.length;a<s;a++){var o=t[a];if(o.allowsAggregationForErrorItem(e)){r=o,i[n]=r;break}}if(!r)return null;var c=r.createErrorGroupForErrorItem(e);return i[c.type]=r,c},_alertPresenterWillChange:function(e,t){if(this._changingAlertPresenter=!0,e&&(this._alertPresenterDismissedAlertObserver.disconnect(),this._alertPresenterDismissedAlertObserver=null),t){var i,n=this;i=t.observe("dismissedAlert",function(e){e&&(n._changingAlertPresenter||n._alertPresenterDidDismissAlert())}),this._alertPresenterDismissedAlertObserver=i}this._changingAlertPresenter=!1},_alertPresenterDidDismissAlert:function(){this._tryRaisingNextAlert()},staticMembers:{__QUALIFIED_CLASS_NAME__:"RaiseAggregateAlertScheduler"},__superMap:{_$Bl$init:"init"}})},function(e,t,i){"use strict";t.b=function(e){var t=A(e),i=t.fileCount,n=t.folderCount,r=void 0,a=void 0;if(0<i&&0<n)r=E._99(l+"Message.Mix",{count:i+n}),a=E._99(l+"Description.Mix");else{var s=0<i?"File":"Folder",o="File"===s?i:n,c=s+"."+(1===o?"Single":"Multiple");r=E._99(l+"Message."+c,{count:o,name:e.toArray()[0].name}),a=E._99(l+"Description."+c)}return{message:r,description:a}},t.a=function(e,t){var u,d,i,n,r,a,s,o,c,l,h=A(e),p=h.fileCount,f=h.sharedByMeCount,_=h.sharedToMeCount,m=h.folderCount,g=h.appLibraryCount,v=h.systemFolderCount,y=h.sharedByMeNames,b=h.sharedToMeNames,I=h.folders,S=h.appLibraryNames,w=h.systemFolderNames,C=null;return 0<v?C=function(e,t,i,n){var r=w.sort().join(""),a="DriveUI.Alert.Delete.Message."+r,s=null,o=t-i;if(0===o&&0===e)s=E._99(a);else if(0===o&&0<e){var c=".File."+(1===e?"Single":"Plural");s=E._99(a+c,{count:e})}else if(0<o&&0===e){var l=".Folder."+(1===o?"Single":"Plural");s=E._99(a+l,{count:o})}else 0<o&&0<e&&(s=E._99(a+".Mix",{count:e+o}));var u=[E._99(O+r),D(null,null,null,null,!1)[0]].join("\n\n");return E.w.resolve({message:s,description:u})}(p,m,v):0<g?(n=g,r=S,s=1===(a=p+m)?"Single":"Plural",o=E._99("DriveUI.Alert.Delete.Message.AppLibrary.Any.Item."+s,{appLibraryName:r[0],count:a}),c=1===n?"Single":"Plural",l=[E._99("DriveUI.Alert.Delete.Description.AppLibrary."+c),D(null,null,null,null,!1)[0]].join("\n\n"),C=E.w.resolve({message:o,description:l})):0<p&&0===m?C=function(e,t,i,n,r){var a=t+i;if(0===a)return E.w.resolve();var s="";1===e?s=".Single":(s=".Plural.Shared.",s+=a===e?"All":1===a?"Single":"Plural");var o=E._99(F+s,{count:e}),c=D(t,i,n,r).join("\n\n");return E.w.resolve({message:o,description:c})}(p,f,_,y,b):0===p&&0<m?(u=m,d=I,(i=t)||(i=T.e.create(d)),C=i.run().then(function(e){var t=e.sharedByMeCountInFolder,i=e.sharedToMeCountInFolder,n=e.sharedByMeNamesInFolder,r=e.sharedToMeNamesInFolder,a=e.finished,s=1===u?".Single":".Plural",o=null;if(a){var c=t+i;if(0===c)return null;var l=1===c?".Single":".Plural";o=E._99(M+s+".Shared"+l,{folderName:d[0].name,count:u})}else o=E._99(M+s+".Shared.Maybe",{folderName:d[0].name,count:u});return{message:o,description:D(t,i,n,r,a).join("\n\n")}})):0<p&&0<m?C=function(d,h,e,t,p,i,n,r){var f=null;if(1<=e+t){f=E._99(N+".Any.Shared.Plural",{count:d+h});var a=D(e,t,i,n,!1).join("\n\n");return E.w.resolve({message:f,description:a})}var s=r;return s||(s=T.e.create(p)),s.run().then(function(e){var t=e.sharedByMeCountInFolder,i=e.sharedToMeCountInFolder,n=e.sharedByMeNamesInFolder,r=e.sharedToMeNamesInFolder,a=e.finished,s=d+h,o=1===h?"Single":"Plural";if(a){var c=t+i;if(0===c)return null;var l=N+"."+o+".Shared."+(1===c?"Single":"Plural");f=1===h?E._99(l,{folderName:p[0].name}):E._99(l,{count:s})}else f=E._99(N+"."+o+".Shared.Maybe",{count:s});var u=D(t,i,n,r,a).join("\n\n");return{message:f,description:u}})}(p,m,f,_,I,y,b,t):E._75("Delete Alert: Both file count and folder count is 0!"),C},i(30);var E=i(0),T=i(16),l="DriveUI.Alert.Purge.";function A(e){var t=0,i=0,n=0,r=0,a=0,s=0,o=[],c=[],l=[],u=[],d=[];e.forEach(function(e){e.isFolder?(r+=1,l.push(e),e.isSystemFolder?(s+=1,d.push(e.sanitizedName)):e.isAppLibrary&&(a+=1,u.push(e.name))):(t+=1,e.share===T.p.FROM_ME?(i+=1,o.push(e.name)):e.share===T.p.TO_ME&&(n+=1,c.push(e.name)))});var h=null;return 0<t&&0<r?h="Mix":0<t?h="File":0<r&&(h="Folder"),{fileCount:t,sharedByMeCount:i,sharedToMeCount:n,folderCount:r,appLibraryCount:a,systemFolderCount:s,sharedByMeNames:o,sharedToMeNames:c,folders:l,appLibraryNames:u,systemFolderNames:d,composition:h}}var O="DriveUI.Alert.Delete.Description.";function D(e,t,i,n){var r=[];if(4<arguments.length&&void 0!==arguments[4]&&!arguments[4])return[E._99("DriveUI.Alert.Delete.Description.ShareByMe.Maybe"),E._99("DriveUI.Alert.Delete.Description.ShareToMe.Maybe")];if(0<e||0<t){if(0<e){var a=1===e?"Single":"Plural",s=E._99(O+"ShareByMe."+a,{fileName:i[0],count:e});r.push(s)}if(0<t){var o=1===t?"Single":"Plural",c=E._99(O+"ShareToMe."+o,{fileName:n[0],count:t});r.push(c)}}return r}var F="DriveUI.Alert.Delete.Message.File",M="DriveUI.Alert.Delete.Message.Folder",N="DriveUI.Alert.Delete.Message.FileFolder"},function(e,d,h){"use strict";(function(o){h.d(d,"a",function(){return s}),h(118);var e=h(1428),c=(h.n(e),h(56),h(4)),f=h(0),r=h(16),i=h(399),n=h(116),a=h(398),t=h(401),_=h(857),l=void 0,u={numberOfLines:2},s=c.m.extend(c.t,c.w,t.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["showcase-container"]},{type:"ELEMENT",tagname:"div",children:[],classes:["title-container"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subinfoTitle",attributes:{}}],classes:["subinfo",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"shouldStyleAsWarning",truevalue:"as-warning",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sharedByNameStringWithAttribution",attributes:{}}],classes:["shared-by-info",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShared",truevalue:"is-shared",attributes:{}}]}],classes:["body",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"selected",truevalue:"selected",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isCommitting",truevalue:"committing",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"highlighted",truevalue:"highlighted",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDragTargetFocused",truevalue:"drag-target-focused",attributes:{}}],attributes:{"aria-hidden":"true"}}],attributes:{role:"listitem",tabindex:"-1","aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},"aria-selected":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"selected",attributes:{},attribute:"aria-selected"}}},__QUALIFIED_CLASS_NAME__:"Cell"},session:f._107({weak:!0,defaultValue:null}),scrollSpeedAboveThreshold:f._107(!1),iconService:f._105({strong:!0}),raiseAlertService:f._105({strong:!0}),additionalClassNames:f._60(["files-grid-item","loaded"]),delegate:null,content:f._105({strong:!0,defaultValue:null}),isDisabled:f._105({readOnly:!0,dependencies:["content.transactionState","isSelectable"],get:Object.assign(function(){return this.content.transactionState===r.r.Committing||!this.isSelectable},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])===r.r.Committing||!n.internalGet(this,t[1+i])}})}),isFocusable:f._105(!0),isSelectable:f._105(!1),shouldStyleAsWarning:f._105(!1),showcaseViewObserver:f._106("content","content.thumbnail.url",function(e,t){if(e){var i=this._loadShowcaseViewForFolderContentItem(e),n=this.showcaseView;n&&this.removeSubview(n,".showcase-container"),i&&this.addSubview(i,".showcase-container"),this.showcaseView=i}}),showcaseView:f._107({strong:!0}),showcaseViewPool:f._105({strong:!0}),thumbnailCanvasFactory:f._105({strong:!0}),thumbnailStatsReporterService:f._105({strong:!0}),_loadShowcaseViewForFolderContentItem:function(e){var t=this.iconService;return e.isAppLibrary?i.a.create(t,{content:f._64(".parent.content"),delegate:this}):e.isFolder?a.a.create({iconService:t,content:f._64(".parent.content"),delegate:this}):n.a.create(t,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,{additionalClassNames:f._60(["large"]),content:f._64(".parent.content"),pauseLoadingThumbnail:this.scrollSpeedAboveThreshold})},infoButton:f._107({readOnly:!0,get:function(){return this._infoButton}}),isCommitting:f._105(!1),_isUploading:!1,_isWaiting:!1,_getTimeRemaining:function(e){var t=e/864e5,i="Day",n="Plural";return t<1?(i="Hour",(t=e/36e5)<1?(i="Minute",n=(t=e/6e4)<1?"Zero":2<t?"Plural":"One"):n=2<t?"Plural":"One"):n=2<t?"Plural":"One",{count:t=Math.floor(t),unit:i,suffix:n}},subinfoTitle:f._105({dependencies:["isCommitting","content","content.dateModified"],readOnly:!0,get:Object.assign(function(){if(this._isWaiting)return f._99("DriveUI.Common.Progress.Waiting");if(this._isUploading)return f._99("DriveUI.FilesGrid.Cell.Upload.Progress.Uploading");var e=this.content;if(!e)return"";var t=e&&e.dateModified;if(t&&isNaN(t.getTime())||e.isFolder&&!e.isInTrash)return"";if(this.shouldStyleAsWarning=!1,e.isInTrash){var i=e.getDateExpiration();if(this.isCommitting||!i)return"";this._invalidateSubinfoTitleTimeout=f._116(this._invalidateSubinfoTitle.bind(this),3e4);var n=i-Date.now();this.shouldStyleAsWarning=n<3456e5;var r=this._getTimeRemaining(n),a=r.count,s=r.unit,o=r.suffix;return f._99("DriveUI.FilesGrid.Item.TimeRemaining."+s+"."+o,{count:a})}var c=_.a.descriptionForDateTime(t),l=c.ttl;return l&&l!==1/0&&(this._invalidateSubinfoTitleTimeout=f._116(this._invalidateSubinfoTitle.bind(this),l)),c.str},{__CW__getter:function(e,t,i,n){if(this._isWaiting)return f._99("DriveUI.Common.Progress.Waiting");if(this._isUploading)return f._99("DriveUI.FilesGrid.Cell.Upload.Progress.Uploading");var r=n.internalGet(this,t[1+i]);if(!r)return"";var a=r&&r.dateModified;if(a&&isNaN(a.getTime())||r.isFolder&&!r.isInTrash)return"";if(this.shouldStyleAsWarning=!1,r.isInTrash){var s=r.getDateExpiration();if(n.internalGet(this,t[0+i])||!s)return"";this._invalidateSubinfoTitleTimeout=f._116(this._invalidateSubinfoTitle.bind(this),3e4);var o=s-Date.now();this.shouldStyleAsWarning=o<3456e5;var c=this._getTimeRemaining(o),l=c.count,u=c.unit,d=c.suffix;return f._99("DriveUI.FilesGrid.Item.TimeRemaining."+u+"."+d,{count:l})}var h=_.a.descriptionForDateTime(a),p=h.ttl;return p&&p!==1/0&&(this._invalidateSubinfoTitleTimeout=f._116(this._invalidateSubinfoTitle.bind(this),p)),h.str}})}),_updateLockedIcon:function(){this._shouldShowLockedIcon()?(this._lockedIconView||(this._lockedIconView=this._loadLockedIcon()),this.addSubview(this._lockedIconView)):this._lockedIconView&&this.removeSubview(this._lockedIconView)},ariaLabel:f._105({dependencies:["content"],readOnly:!0,get:Object.assign(function(){var e=this.content;if(!e)return"";var t=e.fullName,i="";e.isAppLibrary?i=f._99("DriveUI.FilesGrid.Item.Kind.ApplicationLibrary"):e.isFolder?i=f._99("DriveUI.FilesGrid.Item.Kind.Folder"):e.isFile&&(i=f._99("Kind.File")),""!==i&&(i=" "+i);var n=this.subinfoTitle;""!==n&&(n=" "+n);var r=e&&e.dateModified;return this._isWaiting||this._isUploading||!r||(n=" "+f._99("DriveUI.FilesGrid.Cell.Info.LastModified",{date:n})),t+i+n},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(!r)return"";var a=r.fullName,s="";r.isAppLibrary?s=f._99("DriveUI.FilesGrid.Item.Kind.ApplicationLibrary"):r.isFolder?s=f._99("DriveUI.FilesGrid.Item.Kind.Folder"):r.isFile&&(s=f._99("Kind.File")),""!==s&&(s=" "+s);var o=this.subinfoTitle;""!==o&&(o=" "+o);var c=r&&r.dateModified;return this._isWaiting||this._isUploading||!c||(o=" "+f._99("DriveUI.FilesGrid.Cell.Info.LastModified",{date:o})),a+s+o}})}),init:function(e,t,i,n,r,a,s,o){this.session=e,this.showcaseViewPool=t,this.iconService=i,this.thumbnailCanvasFactory=n,this.thumbnailStatsReporterService=r,this.raiseAlertService=a,this.delegate=s,this.__s._$3Ej$init.call(this,o),this._editState=1},MAX_ITEM_NAME_LENGTH:f._105({readOnly:!0,defaultValue:255}),didActivateWithEvent:function(e){for(var t=this._titleButton.element,i=e.target;i;)i===t&&this.titleDidActivate(),i=i.parentNode},titleDidActivate:function(){1!==this._editState||this.getPath("content.isAppLibrary")||this.beginEditing()},beginEditing:function(){1!==this._editState&&f._75("Cannot begin editing. Invalid state",{cell:this}),this._activateEditing();var e=this.delegate,t=e?e.filesGridCellDidBeginEditMode:null;t&&t.call(e,this)},endEditingIfNeeded:function(e){if(1!==this._editState){this.endEditing(e);var t=this.delegate,i=t?t.filesGridCellDidEndEditMode:null;i&&i.call(t,this)}},endEditing:function(e){1===this._editState&&f._75("Cannot end editing. Invalid state",{cell:this}),e&&this._commitEditing(),this._deactiveEditing()},suspendEditing:function(){this._editState=5,this._titleTextField.isDisabled=!0},resumeEditing:function(){var e=this._titleTextField;e.isDisabled=!1,this.selected=!0,e.select(),5===this._editState&&(this._editState=3)},_titleTextField:f._107({strong:!0}),_infoButton:f._107({strong:!0}),_cancelButton:f._107({strong:!0}),_titleButton:f._107({strong:!0}),_progressView:f._107({strong:!0}),_lockedIconView:f._107({strong:!0}),loadSubviews:function(){var e=this._infoButton=this.loadInfoButton();this.addSubview(e);var t=this._cancelButton=this.loadCancelButton();this.addSubview(t);var i=this._titleButton=this.loadTitleButton();this.addSubview(i,".title-container");var n=this._progressView=this.loadProgressView();(n.parent=this).$().appendChild(n.element),this._titleTextField=this.loadTitleTextField()},_showInfoButton:f._105({readOnly:!0,dependencies:[".selected",".content.transactionState",".content.isUploading"],get:function(){var e=this.selected,t=this.content;return!(!t||!t.transactionStateIsPrepared())&&!t.isUploading&&e}}),isTitleButtonEnabled:f._105({readOnly:!0,dependencies:["isDisabled","content","content.transactionState"],get:Object.assign(function(){return!this.isDisabled&&this.content.transactionState!==r.r.Committing},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])&&n.internalGetPath(this,t[2+i])!==r.r.Committing}})}),loadInfoButton:function(){return c.h.create({additionalClassNames:f._60(["info"]),visible:f._64("parent._showInfoButton"),target:this,action:"infoButtonTapped",tabindex:-1,tooltip:f._99("DriveUI.FilesGrid.Cell.Info.Tooltip")})},loadCancelButton:function(){return c.h.create({additionalClassNames:f._60(["cancel-button"]),visible:f._64("parent.content.isUploading"),target:this,action:"cancelButtonTapped",tabindex:-1,tooltip:f._99("DriveUI.FilesGrid.Cell.Cancel.Tooltip")})},loadTitleTextField:function(){return c.W.create({additionalClassNames:f._60(["edit"]),MAX_ITEM_NAME_LENGTH:this.MAX_ITEM_NAME_LENGTH,delegate:this})},loadProgressView:function(){return f._24.create()},loadTitleButton:function(){return c.h.create({additionalClassNames:f._60(["link"]),title:f._64("parent.truncatedName"),tooltip:f._64("parent.content.fullName"),target:this,action:"titleButtonTapped",tabindex:-1,enabled:f._64("parent.isTitleButtonEnabled")})},_loadLockedIcon:function(){return c._7.create({additionalClassNames:f._60(["locked-icon"])})},_shouldShowLockedIcon:function(){var e=!1,t=this.content;return t&&(!1!==t.canModifyContents&&!1!==t.canListContents||(e=!0)),e},truncatedName:f._105({readOnly:!0,dependencies:["isAttached","content.name"],get:Object.assign(function(){var e=this.isAttached,t=this.getPath("content.name");if(!e||!t)return t;if(!l){var i=o.getComputedStyle(this._titleButton.element);l=i.fontStyle+" "+i.fontSize+" "+i.fontFamily}return c._15(t,128,l,u)},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGetPath(this,t[1+i]);if(!r||!a)return a;if(!l){var s=o.getComputedStyle(this._titleButton.element);l=s.fontStyle+" "+s.fontSize+" "+s.fontFamily}return c._15(a,128,l,u)}})}),endDisplay:function(){var e=this.showcaseView;e&&e.prepareForReuse(),this.__s._$5Wj$endDisplay.call(this)},infoButtonTapped:function(){this.delegate.filesGridCellPerformInfoAction(this)},cancelButtonTapped:function(){this.delegate.filesGridCellPerformCancelAction(this)},titleButtonTapped:function(){this.delegate.filesGridCellPerformTitleAction(this)},_titleTextFieldFocusDidChange:function(e){switch(this._editState){case 2:e&&(this._editState=3);break;case 3:e||(this._editState=2,this._commitEditing())}},_activateEditing:function(){if(1===this._editState){this._editState=2,this.draggable=!1;var e=this._titleTextField;this.removeSubview(this._titleButton,".title-container"),this.removeSubview(this._infoButton),this.addSubview(e,".title-container"),e.value=this.content.name,e.select(),this._textFieldFocusedChangeObserver=e.observe("isFocused",this._titleTextFieldFocusDidChange.bind(this)),this.isAttached&&e.focus()}},_deactiveEditing:function(){if(1!==this._editState){this._editState=1;var e=this._titleTextField;this.addSubview(this._titleButton,".title-container"),this.addSubview(this._infoButton),this.removeSubview(e,".title-container"),this._textFieldFocusedChangeObserver.disconnect(),e.value=null,this.draggable=!0}},_commitEditing:function(){var e=this._editState;if(1!==e&&5!==e){var t=this._titleTextField,i=this.content,n=t.value;if(null!==n){var r=this.session.validateRenameItem(i,n);!1===r?this.delegate.filesGridCellPerformContentEditCommitForValue(this,i,n):(this.suspendEditing(),t.isDisabled=!1,this._cancelEditing(),this.raiseAlertService.raiseAlertForErrorItem(r))}}},_newFolderNameInvalidAlertDidDismiss:function(){var e=this;f._116(function(){e.resumeEditing()},0)},_cancelEditing:function(){if(1!==this._editState){var e=this._titleTextField,t=this.content,i=e.value;this.delegate.filesGridCellPerformContentEditCancelForValue(this,t,i)}},textFieldPerformReturnAction:function(e){3===this._editState&&this._commitEditing()},textFieldPerformEscapeAction:function(e){this._cancelEditing()},_contentDidChange:f._106("content",function(r){var e=this._previousContent,t=this._invalidateSubinfoTitleTimeout;e&&e!==r&&t&&(clearTimeout(t),this._invalidateSubinfoTitleTimeout=null),this._previousContent=r;var i=this._progressListener||null;if(i&&(i.disconnect(),this._progressListener=null),r&&r.isFile){var a=this;this._progressListener=r.observe("uploadProgress.changed",function(){var e=a._progressView,t=r.uploadProgress,i=t?t.percentageComplete:0,n=r.isUploading;n&&0===i&&!a._isWaiting?(a._isWaiting=!0,a._isUploading=!1,a._invalidateSubinfoTitle()):n&&0<i&&!a._isUploading?(a._isWaiting=!1,a._isUploading=!0,a._invalidateSubinfoTitle()):n||100!==i&&0!==i||(a._isWaiting=!1,a._isUploading=!1,a._invalidateSubinfoTitle()),e&&(e.value=i)})}r&&this._updateLockedIcon()}),_contentCommitting:f._106("content.transactionState","content.isUploading","element",function(e,t,i){if(i){var n=this.content;this.isCommitting=n&&n.transactionStateIsCommitting()||t}}),_contentUploading:f._106("content.isUploading","element",function(e,t){t&&this.$().toggleClass("uploading",!!e)}),_previousContent:null,_invalidateSubinfoTitleTimeout:null,_invalidateSubinfoTitle:function(){null!==this._invalidateSubinfoTitleTimeout&&(clearTimeout(this._invalidateSubinfoTitleTimeout),this._invalidateSubinfoTitleTimeout=null),this.propertyChanged("subinfoTitle")},__superMap:{_$3Ej$init:"init",_$5Wj$endDisplay:"endDisplay"}})}).call(d,h(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i(1429);var f=i(0),n=f.v.extend({descriptionForDateTime:function(e){var t,i,n,r,a,s,o,c,l,u,d=this._sharedDescriptionForDateTimeReturnedObject,h="",p=1/0;return e&&(n=((t=Date.now())-(i=e.getTime()))/6e4,a="DriveUI.DateTime.Relative.",Math.abs(n)<.5?(s="JustNow",p=3e4-60*n*1e3):n<0?(u=(l=this._getSharedTodayDate()).getTime(),l.getUTCDate()===e.getUTCDate()&&l.getUTCMonth()===e.getUTCMonth()&&l.getUTCFullYear()===e.getUTCFullYear()?(s="Today",(c=this._getSharedDateTimeFormatterConfig()).time=e,c.timeFormatter=f.B):i-u<1728e5?s="Tomorrow":(o="DriveUI.DateTime.Absolute.DateOnly",(c=this._getSharedDateTimeFormatterConfig()).date=e,c.dateFormatter=f.B),p=i-t-3e4):n<1.5?(s="OneMinuteAgo",p=9e4-60*n*1e3):(r=Math.round(n))<60?(s="LessThanAnHourAgo",(c=this._getSharedDateTimeFormatterConfig()).minutes=r,p=60*(1-(n-Math.floor(n)))*1e3):(u=(l=this._getSharedTodayDate()).getTime(),l.getUTCDate()===e.getUTCDate()&&l.getUTCMonth()===e.getUTCMonth()&&l.getUTCFullYear()===e.getUTCFullYear()?(s="Today",(c=this._getSharedDateTimeFormatterConfig()).time=e,c.timeFormatter=f.B,p=u+864e5+1e3-t):i<u&&u-i<864e5?(s="Yesterday",p=u+864e5+1e3-t):(o="DriveUI.DateTime.Absolute.DateOnly",(c=this._getSharedDateTimeFormatterConfig()).date=e,c.dateFormatter=f.B))),o||(o=a+s),o&&(h=f._99(o,c)),d.str=h,d.ttl=p===1/0?p:Math.round(p),d},_getSharedDateTimeFormatterConfig:function(){var e,t=this._sharedDateTimeFormatterConfig;for(e in t)delete t[e];return t},_getSharedTodayDate:function(){var e,t,i=this._sharedTodayDate;return i||(e=(i=this._sharedTodayDate=new Date).getTime(),i.setUTCHours(i.getUTCHours()-i.getHours()),i.setUTCMinutes(i.getUTCMinutes()-i.getMinutes()),i.setUTCSeconds(i.getUTCSeconds()-i.getSeconds()),i.setUTCMilliseconds(i.getUTCMilliseconds()-i.getMilliseconds()),t=i.getTime()+864e5+1e3-e,f._116(this._invalidateSharedTodayDate.bind(this),t)),i},_invalidateSharedTodayDate:function(){this._sharedTodayDate=null},_sharedDateTimeFormatterConfig:{},_sharedTodayDate:null,_sharedDescriptionForDateTimeReturnedObject:{str:"",ttl:0}}).create()},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(43),r=i(0),a=i(4),s=a.C.extend(n.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["file-grid-content"],styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"contentOpacity",attributes:{},unit:null,property:"opacity"}}}],styles:{overflow:"hidden"},attributes:{role:"list",tabindex:"0"}},__QUALIFIED_CLASS_NAME__:"FileGridView"},left:n.b(0),opacity:n.b(1),contentOpacity:n.b(1),addSubview:function(e,t){return void 0===t&&(t=".file-grid-content"),this.__s._$Md$addSubview.call(this,e,t)},removeSubview:function(e,t){return void 0===t&&(t=".file-grid-content"),this.__s._$Qw$removeSubview.call(this,e,t)},_drawFrame:r._106("left","opacity",function(e,t){this.get("style").translate(e,0,0).set("opacity",t)}),allowsMultipleSelection:r._105({defaultValue:!0}),_allowsMultipleSelectionObserver:r._106({inputs:["allowsMultipleSelection"],callback:function(){!0===this.allowsMultipleSelection?this.selectionMode=a.n.Multiple:this.selectionMode=a.n.Individual}}),__superMap:{_$Md$addSubview:"addSubview",_$Qw$removeSubview:"removeSubview"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(4),r=i(0),a=r._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"inputNode"},{type:"ELEMENT",tagname:"span",children:[],name:"metricsNode",classes:["br-resizer"]},{type:"ELEMENT",tagname:"span",children:[],name:"extensionNode",classes:["br-extension"]}],name:"containerNode",classes:["container"]}],classes:["cw-textfield-view",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"FileNameTextField"},MAX_ITEM_NAME_LENGTH:r._105({readOnly:!0,defaultValue:255}),isDisabled:r._105(!1),inputNode:r._105({readOnly:!0,defaultValue:r._85(r._50.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:["cw-input",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"cw-disabled",attributes:{}}]}}}})),downstreamBindings:{value:"(owner).value",isDisabled:"(owner).isDisabled",maxLength:"(owner).MAX_ITEM_NAME_LENGTH"}}),value:r._105({didChange:function(e){var t=this.inputNode.value,i=this.maxLength;if(t.length>i){var n=t.length-i,r=this.selection,a=r&&r.end||0,s=a-n;t=t.substring(0,s)+t.substring(a),this.inputNode.value=t,this._moveCursorBy(-(i-s))}this._updateLayout(t)}}),selection:r._105({cacheable:!1,get:function(){return this.inputNode.selection},set:function(e){return this.inputNode.selection=e}}),extension:r._105(""),dottedExtension:r._105({dependencies:["extension"],readOnly:!0,get:Object.assign(function(){var e=this.extension;return e?"."+e:null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?"."+r:null}})}),_updateExtension:r._106("dottedExtension",function(e){this.extensionNode.textContent=e||""}),maxLength:r._105({readOnly:!0,dependencies:["dottedExtension"],get:Object.assign(function(){var e=(this.dottedExtension||"").length;return this.MAX_ITEM_NAME_LENGTH-e},{__CW__getter:function(e,t,i,n){var r=(n.internalGet(this,t[0+i])||"").length;return this.MAX_ITEM_NAME_LENGTH-r}})}),valueWillChangeInputElement:function(e,t){this._updateLayout(t)},_frameMayHaveChanged:r._118(),keyDown:function(e){switch(e.which){case r.S.LEFT:case r.S.RIGHT:this._updateLayout()}return this.inputNode.keyDown(e)},pointerDown:function(e){return this.setPointerCapture(e.pointerId),e.target!==this.inputNode.element&&this._moveCursorToEnd(),!0},pointerMove:function(e){var t=this.pointerMovePreviousSelection,i=this.selection;return i&&i.length&&t&&(i.start!==t.start||i.end!==t.end)&&this._updateLayout(),this.pointerMovePreviousSelection=i,!0},pointerUp:function(e){return this.getPointerCapture(e.pointerId)===this&&(this.releasePointerCapture(e.pointerId),!0)},_moveCursorBy:function(e){if(0!==Math.abs(e)){var t=this.selection,i=t;if(t.start===t.end)i={start:t.start+e,end:t.end+e};else switch(this.getSelectionDirection()){case"forward":i={start:t.start,end:t.end+e};break;case"backward":i={start:t.start+e,end:t.end}}this.selection=i}},_moveCursorToEnd:function(){var e=this.value,t=e&&e.length,i={start:t,end:t};this.selection=i},getSelectionDirection:function(e,t,i){var n=e&&e.selectionDirection&&e.selectionDirection.toLowerCase();return n&&"none"!==n?n:t&&i?(i.start<t.start?this.selectionDirection="backward":i.end>t.end&&(this.selectionDirection="forward"),this.selectionDirection):n},_updateLayout:function(e,t){if(t=t||this.selection,e=e||this.value,t&&void 0!==e){var i=this.inputNode,n=this.extensionNode,r=this.metricsNode,a=this.getSelectionDirection(i,this.previousSelection,t),s=t&&t.end||0;t&&"backward"===a&&(s=t.start),s=Math.max(0,Math.min(s,e.length));var o=this._measureTextWidth(r,e.substr(0,s)),c=this.containerNode.offsetWidth,l=this.dottedExtension,u=l?this._measureTextWidth(r,l):0,d=this._measureTextWidth(r,e);i.style.set("width",d+"px");var h=-parseInt(r.style.left)||0,p=c-u-8;o<h+8&&(h=o-8),h+p<o&&(h=o-p);var f=d+u-c+8;h=Math.max(0,Math.min(h,f)),i.style.set("left",-h+"px"),n.style.left=-h+d+"px",this.previousSelection=t}},_measureTextWidth:function(e,t){e.style.width="auto",e.textContent=t;var i=e.offsetWidth+1;return e.style.width="0",i},_makeRoomForExtension:r._106("isAttached","containerNode","_frameMayHaveChanged",function(e,t){e&&t&&n._4.setTimeout(this._updateLayout.bind(this))}),frameDidInvalidate:function(){var e=arguments;this.__s._$4gw$frameDidInvalidate.apply(this,e),this._frameMayHaveChanged()},__superMap:{_$4gw$frameDidInvalidate:"frameDidInvalidate"}})},function(e,u,d){"use strict";(function(_){d.d(u,"a",function(){return l});var e=d(1431),t=(d.n(e),d(845)),m=(d.n(t),d(4)),i=d(0),n=document.createElement("div");function r(e){n.innerHTML=e;var t=n.firstChild.cloneNode(!0);return n.innerHTML="",t}var a=r("<div class='badge'><span class='label'></span></div>"),s=r("<div class='invalid-drag-icon'></div>"),o=r("<div class='showcase-drag-bg-file'></div>"),c=r("<div class='showcase-drag-bg-folder'></div>");o.style.visibility="hidden",c.style.visibility="hidden",document.body.appendChild(o),document.body.appendChild(c),i._116(function(){document.body.removeChild(c),document.body.removeChild(o),o.style.visibility="inherit",c.style.visibility="inherit"});var l=m.s.extend(i._8,{init:function(e,t,i){this.folder=e,this.selection=t,this.__s._$fv$init.call(this,i)},folder:i._105(null),selection:i._105(null),shouldAllowDrag:function(e,t){var i=t.get("content");if(!i.transactionStateIsPrepared())return!1;if(!1===i.canEdit)return!1;if(!1===this.get("folder").canModifyContents)return!1;var n=this.get("selection");return!n.some(function(e){return!1===e.canEdit})&&n.every(function(e){return e.transactionStateIsPrepared()})},getDragSourceInfo:function(e,t){var i=this.get("selection").toArray();return m.u.create({effectAllowed:m.q.MOVE,type:m.r.MOVE_ITEMS_INFO,data:{sourceFolder:this.get("folder"),items:i}})},getGhostImageInfo:function(e,t){var i=t.get("element"),n=m.p.create(i.cloneNode(!0)).style("position","absolute").top(0).left(_.outerWidth).attr("draggable",!1).addClass("drag-ghost"),r=i.querySelector(".showcase-container canvas");if(r){var a=n.element().querySelector(".showcase-container canvas"),s=a.getContext("2d");a.width=r.width,a.height=r.height,s.drawImage(r,0,0)}n.$(".body").removeClass("selected");var o=this.get("selection"),c=this.get("folder"),l=m._13(e,t),u=l.x,d=l.y;if(1<o.get("size")){var h;h=o.some(function(e){return e.isAppLibrary})?this._createInvalidDragIcon():this._createBadgeElement(o),n.appendChild(h.element()),h.left(u+12),h.top(d+7);var p=this._createShowcaseBackgroundElement(c,o),f=n.$(".showcase-container");f.insertBefore(p,f.firstChild())}return{element:n.element(),offsetX:u,offsetY:d}},_createInvalidDragIcon:function(){return m.p.create(s.cloneNode(!0))},_createBadgeElement:function(e){var t=e.get("size"),i=m.p.create(a.cloneNode(!0)).addClass(t<10?"small-num":"large-num");return i.$(".label").text(t),i},_createShowcaseBackgroundElement:function(e,t){var i=0,n=t.get("size");return t.forEach(function(e){(e.get("isFolder")||e.get("isAppLibrary"))&&i++}),(n===i?c:o).cloneNode(!0)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FilesGridCellDragSourceHandler"},__superMap:{_$fv$init:"init"}})}).call(u,d(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(4),n=a.v.extend({getDragTargetInfo:function(e,t,i){var n=i.type,r=t.content;return"file-system"===n?a.x.create("upload",{destinationFolder:r,dropEffect:"copy"}):a.x.create("move",{destinationFolder:r,dropEffect:"move"})},shouldAllowDrop:function(e,t,i){var n=t.content;if(n.isInTrash)return!1;var r=i.type,a=this._actionPolicy;return"file-system"===r?a.shouldAllowDragAndDropUpload:"none"!==r&&a.determineShouldAllowMoveItemsToFolder(i.data.items,i.data.sourceFolder,n)},getDropInfo:function(e,t,i){var n=t.content,r=i.data;return"file-system"===i.type?a.y.create("upload-files",{items:r.items,destinationFolder:n,meta:i.meta}):a.y.create("move-items",{sourceFolder:r.sourceFolder,items:r.items,destinationFolder:n,meta:i.meta})},dragOver:function(e,t){var i=arguments;this.__s._$qq$dragOver.apply(this,i);var n=this.getPath("delegate.view");n&&n.dragOver&&n.dragOver(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FilesGridCellDragTargetHandler"},__superMap:{_$qq$dragOver:"dragOver"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(4),a=i(863),s=r._8.extend({init:function(e,t,i){this.fileSystem=e,this.delegate=t,this.__s._$8v$init.call(this,i)},delegate:null,content:n._105({strong:!0}),fileSystem:n._105({weak:!0}),viewClass:a.a,view:n._105({downstreamBindings:{content:"(owner).content",fileSystem:"(owner).fileSystem"}}),value:n._107({readOnly:!0,get:function(){return this.view.value}}),revert:function(){this.view.revert()},createView:function(){return this.viewClass.create(this)},viewWillAppear:function(){this.__s._$P1$viewWillAppear.call(this),this.view.contentView.content=this.content},pointerDown:function(e){return!0},viewDidAppear:function(){var e=this.getPath("view.contentView");e&&e.selectFileNameText(0,0)},viewDidDisappear:function(){this.__s._$eg$viewDidDisappear.call(this),this.view.contentView.content=null},folderItemInfoViewCommitEditForValue:function(e,t){var i=this.delegate,n=i?i.folderItemInfoDialogControllerPerformCommitAction:null;n&&n.call(i,this)},folderItemInfoViewCancelEditForValue:function(e,t){var i=this.delegate,n=i?i.folderItemInfoDialogControllerPerformCancelAction:null;n&&n.call(i,this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderItemInfoDialogController"},__superMap:{_$8v$init:"init",_$P1$viewWillAppear:"viewWillAppear",_$eg$viewDidDisappear:"viewDidDisappear"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return d}),i(118);var n=i(1434),r=(i.n(n),i(0)),c=i(4),a=i(859),s=i(402),o=i(401),l=i(225),u={"3ds":r._99("DriveUI.FilesGrid.File.Type.3ds"),max:r._99("DriveUI.FilesGrid.File.Type.3ds"),aac:r._99("DriveUI.FilesGrid.File.Type.aac"),abbu:r._99("DriveUI.FilesGrid.File.Type.abbu"),ai:r._99("DriveUI.FilesGrid.File.Type.ai"),aiff:r._99("DriveUI.FilesGrid.File.Type.aiff"),aif:r._99("DriveUI.FilesGrid.File.Type.aiff"),apk:r._99("DriveUI.FilesGrid.File.Type.apk"),app:r._99("DriveUI.FilesGrid.File.Type.app"),avi:r._99("DriveUI.FilesGrid.File.Type.avi"),band:r._99("DriveUI.FilesGrid.File.Type.band"),bat:r._99("DriveUI.FilesGrid.File.Type.bat"),bin:r._99("DriveUI.FilesGrid.File.Type.bin"),blend:r._99("DriveUI.FilesGrid.File.Type.blend"),bmp:r._99("DriveUI.FilesGrid.File.Type.bmp"),c:r._99("DriveUI.FilesGrid.File.Type.c"),c4d:r._99("DriveUI.FilesGrid.File.Type.c4d"),class:r._99("DriveUI.FilesGrid.File.Type.class"),cpp:r._99("DriveUI.FilesGrid.File.Type.cpp"),css:r._99("DriveUI.FilesGrid.File.Type.css"),cer:r._99("DriveUI.FilesGrid.File.Type.cer"),csv:r._99("DriveUI.FilesGrid.File.Type.csv"),dae:r._99("DriveUI.FilesGrid.File.Type.dae"),dmg:r._99("DriveUI.FilesGrid.File.Type.dmg"),dng:r._99("DriveUI.FilesGrid.File.Type.dng"),doc:r._99("DriveUI.FilesGrid.File.Type.doc"),docx:r._99("DriveUI.FilesGrid.File.Type.docx"),dxf:r._99("DriveUI.FilesGrid.File.Type.dxf"),eps:r._99("DriveUI.FilesGrid.File.Type.eps"),exe:r._99("DriveUI.FilesGrid.File.Type.exe"),fbx:r._99("DriveUI.FilesGrid.File.Type.fbx"),gif:r._99("DriveUI.FilesGrid.File.Type.gif"),gz:r._99("DriveUI.FilesGrid.File.Type.gz"),h:r._99("DriveUI.FilesGrid.File.Type.h"),hqx:r._99("DriveUI.FilesGrid.File.Type.hqx"),htm:r._99("DriveUI.FilesGrid.File.Type.htm"),html:r._99("DriveUI.FilesGrid.File.Type.htm"),epub:r._99("DriveUI.FilesGrid.File.Type.epub"),ibooks:r._99("DriveUI.FilesGrid.File.Type.ibooks"),icns:r._99("DriveUI.FilesGrid.File.Type.icns"),ico:r._99("DriveUI.FilesGrid.File.Type.ico"),ics:r._99("DriveUI.FilesGrid.File.Type.ics"),indd:r._99("DriveUI.FilesGrid.File.Type.indd"),ipa:r._99("DriveUI.FilesGrid.File.Type.ipa"),iso:r._99("DriveUI.FilesGrid.File.Type.iso"),java:r._99("DriveUI.FilesGrid.File.Type.java"),jpg:r._99("DriveUI.FilesGrid.File.Type.jpg"),js:r._99("DriveUI.FilesGrid.File.Type.js"),key:r._99("DriveUI.FilesGrid.File.Type.key"),keychain:r._99("DriveUI.FilesGrid.File.Type.keychain"),log:r._99("DriveUI.FilesGrid.File.Type.log"),m:r._99("DriveUI.FilesGrid.File.Type.m"),m3u:r._99("DriveUI.FilesGrid.File.Type.m3u"),m4a:r._99("DriveUI.FilesGrid.File.Type.m4a"),m4p:r._99("DriveUI.FilesGrid.File.Type.m4p"),m4r:r._99("DriveUI.FilesGrid.File.Type.m4r"),m4v:r._99("DriveUI.FilesGrid.File.Type.m4v"),mid:r._99("DriveUI.FilesGrid.File.Type.mid"),qt:r._99("DriveUI.FilesGrid.File.Type.qt"),mov:r._99("DriveUI.FilesGrid.File.Type.qt"),mp3:r._99("DriveUI.FilesGrid.File.Type.mp3"),mp4:r._99("DriveUI.FilesGrid.File.Type.mp4"),mpeg:r._99("DriveUI.FilesGrid.File.Type.mpeg"),mpg:r._99("DriveUI.FilesGrid.File.Type.mpeg"),numbers:r._99("DriveUI.FilesGrid.File.Type.numbers"),obj:r._99("DriveUI.FilesGrid.File.Type.obj"),otf:r._99("DriveUI.FilesGrid.File.Type.otf"),pages:r._99("DriveUI.FilesGrid.File.Type.pages"),pdf:r._99("DriveUI.FilesGrid.File.Type.pdf"),perl:r._99("DriveUI.FilesGrid.File.Type.perl"),pkg:r._99("DriveUI.FilesGrid.File.Type.pkg"),png:r._99("DriveUI.FilesGrid.File.Type.png"),pps:r._99("DriveUI.FilesGrid.File.Type.pps"),ppsx:r._99("DriveUI.FilesGrid.File.Type.ppsx"),ppt:r._99("DriveUI.FilesGrid.File.Type.ppt"),pptx:r._99("DriveUI.FilesGrid.File.Type.pptx"),ps:r._99("DriveUI.FilesGrid.File.Type.ps"),psd:r._99("DriveUI.FilesGrid.File.Type.psd"),py:r._99("DriveUI.FilesGrid.File.Type.py"),rar:r._99("DriveUI.FilesGrid.File.Type.rar"),rtf:r._99("DriveUI.FilesGrid.File.Type.rtf"),safariextz:r._99("DriveUI.FilesGrid.File.Type.safariextz"),scpt:r._99("DriveUI.FilesGrid.File.Type.scpt"),sh:r._99("DriveUI.FilesGrid.File.Type.sh"),stl:r._99("DriveUI.FilesGrid.File.Type.stl"),svg:r._99("DriveUI.FilesGrid.File.Type.svg"),swift:r._99("DriveUI.FilesGrid.File.Type.swift"),tar:r._99("DriveUI.FilesGrid.File.Type.tar"),tiff:r._99("DriveUI.FilesGrid.File.Type.tiff"),tif:r._99("DriveUI.FilesGrid.File.Type.tiff"),ttf:r._99("DriveUI.FilesGrid.File.Type.ttf"),txt:r._99("DriveUI.FilesGrid.File.Type.txt"),vcf:r._99("DriveUI.FilesGrid.File.Type.vcf"),vcard:r._99("DriveUI.FilesGrid.File.Type.vcf"),wave:r._99("DriveUI.FilesGrid.File.Type.wave"),wav:r._99("DriveUI.FilesGrid.File.Type.wave"),wma:r._99("DriveUI.FilesGrid.File.Type.wma"),wmv:r._99("DriveUI.FilesGrid.File.Type.wmv"),xcodeproj:r._99("DriveUI.FilesGrid.File.Type.xcodeproj"),xhtml:r._99("DriveUI.FilesGrid.File.Type.xhtml"),xlam:r._99("DriveUI.FilesGrid.File.Type.xlam"),xls:r._99("DriveUI.FilesGrid.File.Type.xls"),xlsx:r._99("DriveUI.FilesGrid.File.Type.xlsx"),xml:r._99("DriveUI.FilesGrid.File.Type.xml"),zip:r._99("DriveUI.FilesGrid.File.Type.zip")},d=c._7.extend(o.a,{init:function(e,t){this.delegate=e,this.__s._$1eU$init.call(this,t)},staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"nameTextField"}],classes:["header"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"table",children:[{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sharedByLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sharedByName",attributes:{}}],classes:["label-value","shared-by-value"]}],classes:["folder-info-row","share-row",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShared",truevalue:"is-shared",attributes:{}}]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"kindLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"kind",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"sizeLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"whereLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"path",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]},{type:"ELEMENT",tagname:"tr",children:[{type:"ELEMENT",tagname:"th",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"modifiedLabel",attributes:{}}],classes:["label-title"],attributes:{scope:"row"}},{type:"ELEMENT",tagname:"td",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"modified",attributes:{}}],classes:["label-value"]}],classes:["folder-info-row"]}],classes:["folder-info-table"]}],classes:["details"]}]},__QUALIFIED_CLASS_NAME__:"FolderItemInfoView"},additionalClassNames:r._60(["folder-item-info"]),kindLabel:r._99("DriveUI.FilesGrid.Panel.FileInfo.Label.Kind"),sizeLabel:r._99("DriveUI.FilesGrid.Panel.FileInfo.Label.Size"),whereLabel:r._99("DriveUI.FilesGrid.Panel.FileInfo.Label.Where"),createdLabel:r._99("DriveUI.FilesGrid.Panel.FileInfo.Label.Created"),modifiedLabel:r._99("DriveUI.FilesGrid.Panel.FileInfo.Label.Modified"),sharedByLabel:r._99("DriveUI.FilesGrid.Panel.FileInfo.Label.SharedBy"),content:r._105({strong:!0,defaultValue:null}),fileSystem:r._105({weak:!0}),nameTextField:r._105({strong:!0,readOnly:!0,defaultValue:r._85(a.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"block",falsevalue:"none",attributes:{},unit:null,property:"display"}}}}},isVisible:r._105(!0)}),{delegate:this,additionalClassNames:r._60(["name"])}),downstreamBindings:{MAX_ITEM_NAME_LENGTH:"(owner).fileSystem.MAX_ITEM_NAME_LENGTH"}}),value:r._107(),sharedByName:r._105({dependencies:["content.share","content.owner"],readOnly:!0,get:function(){var e=this.sharedByNameStringWithoutAttribution;if(""===e)return e;e=e.replace(/(\s+)/," ");var t=26;return s.a.isLocaleAnExtraLongLanguage()&&(t=29),c._16(e,t)}}),preferredSize:r._107({readOnly:!0,get:function(){return this.frame.size}}),focusFileName:function(){this.nameTextField.focus()},loadSubviews:function(){this._nameLabel=c.J.create({additionalClassNames:r._60(["name"])})},didMoveToWindow:function(e){var t=arguments;if(this.__s._$2v9$didMoveToWindow.apply(this,t),!e){var i=this._textFieldFocusObserver,n=this._textFieldValueObserver;i&&(i.disconnect(),i.dispose()),n&&(n.disconnect(),n.dispose())}},selectFileNameText:function(e,t){e=e||0,t=t||e;var i=this.nameTextField;i&&(i.selection={start:e,end:t})},revert:function(){var e=this.content;if(e){var t=e.name;this._lastCommittedValue=null,this.value=e.name,this.nameTextField.value=t}},_contentDidChange:r._106("content","element",function(o,e){if(o&&e){var t=this._lastCommittedValue=o.name;this.value=t,this.kind=this._getTypeForContent(o);var i="";void 0!==o.size&&null!==o.size&&(i=Object(l.b)(o.size,{precision:1})),this.size=i,this.path=function(e,t,i,n){for(var r,a="",s=o.parent;s;)r=s.name,a=c._15(r,140,"13px SNFSText")+a,(s=s.parent)&&(a="  "+a);return a}();var n="";o.dateModified&&(n=this._getFormattedDateTime(o.dateModified)),this.modified=n;var r=this._nameLabel,a=this.nameTextField;r.parent&&this.removeSubview(r,".header"),o.isAppLibrary||!1===o.canEdit?(r.value=o.name,this.addSubview(r,".header"),a.isVisible=!1):(a.isVisible=!0,a.value=o.name,a.extension=o.isFile?o.extension:"",a.selection={start:0,end:0},this._textFieldFocusObserver=a.observe("isFocused",this._textFieldDidChangeFocus.bind(this)),this._textFieldValueObserver=a.observe("value",this._textFieldValueDidChange.bind(this)))}}),_getTypeForContent:function(e){var t;return e.extension in u?t=u[e.extension]:e.isFile?t=(t=e.extension)?r._99("DriveUI.FilesGrid.Item.Kind.FileWithExtension",{ext:t.toUpperCase()}):r._99("DriveUI.FilesGrid.Item.Kind.File"):e.isFolder?t=r._99("DriveUI.FilesGrid.Item.Kind.Folder"):e.isAppLibrary&&(t=r._99("DriveUI.FilesGrid.Item.Kind.ApplicationLibrary")),t},_getFormattedDateTime:function(e){return r._99("DriveUI.FilesGrid.Item.Info.DateTime.Format",{date:new Date(e),dateFormatter:r.B})},_textFieldValueDidChange:function(e){this.value=e},_textFieldDidChangeFocus:function(e){var t=this.content;if(!e&&t){var i=this.value;(this.nameTextField.value=i)!==this._lastCommittedValue&&(this._lastCommittedValue=i)}},submit:function(){this.delegate.folderItemInfoViewCommitEditForValue(this,this.value)},textFieldPerformReturnAction:function(e){this.delegate.folderItemInfoViewCommitEditForValue(this,this.value)},textFieldPerformEscapeAction:function(e){this.delegate.folderItemInfoViewCancelEditForValue(this,this.value)},__superMap:{_$1eU$init:"init",_$2v9$didMoveToWindow:"didMoveToWindow"}})},function(e,t,i){"use strict";t.a=function(e){return n.p.getNumberFormatter().format(e)};var n=i(8)},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1436),r=(i.n(n),i(4)._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"messageTitle",attributes:{}}],classes:["error-title"]},{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"messageSubtitle",attributes:{}}],classes:["error-text"]}]},__QUALIFIED_CLASS_NAME__:"GridErrorView"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i(118);var o=i(0),n=i(4),r=i(867).a.extend({value:o._107({readOnly:!0,get:function(){return this._value}}),isActive:o._107({readOnly:!0,get:function(){return this._active}}),init:function(e){var t=arguments;this.__s._$En$init.apply(this,t),this._active=!1,this._dragService=this.loadDragService()},activate:function(){this._active=!0;var e=this._dragService;this._observer=e.observe("dragTargetInfo",this._dragTargetInfoDidChange.bind(this))},deactivate:function(){this._active=!1;var e=this._observer;e.disconnect(),e.dispose(),this._value=null,this.updated()},loadDragService:function(){return n._12()},_dragTargetInfoDidChange:function(e){if(this._active){var t=null;if(e){var i=e.data;if(i){var n=i.destinationFolder;if(n){var r=n.isDriveRoot,a=n.name,s=void 0;switch(e.action){case"move":s="DriveUI.FilesGrid.DragDrop.Status.MoveItems";break;case"upload":s="DriveUI.FilesGrid.DragDrop.Status.UploadItems"}s&&(r&&(s+=".ToRootContainer"),t=o._99(s,{destinationName:a}))}}}this._value=t,this.updated()}},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemDragStatusInfoItem"},__superMap:{_$En$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{updated:n._118(),value:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"StatusInfoItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n=i(4)._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[],classes:["inner"],attributes:{role:{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"headingLevel",truevalue:"heading",attributes:{},attribute:"role"},"aria-level":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"headingLevel",attributes:{},attribute:"aria-level"}}}]},__QUALIFIED_CLASS_NAME__:"StatusLabelView"},additionalClassNames:r._60(["status","label"]),defaultStatus:r._105(""),headingLevel:null,init:function(e){var t=arguments;this.__s._$A_$init.apply(this,t),this._statusInfoItems=[],this._statusInfoItemObservers={}},addStatusInfoItem:function(e){this._statusInfoItems.push(e),this._connectToStatusInfoItem(e)},removeStatusInfoItem:function(e){this._diconnectFromStatusInfoItem(e),r._110(e,this._statusInfoItems),delete this._statusInfoItemObservers[r._82(e)]},render:function(){this.$(".inner").text(this._getStatus()),this.notifyParentOfDynamicContentChange()},didMoveToWindow:function(e){e?this._connectToAllStatusInfoItems():this._diconnectFromAllStatusInfoItems(),this.__s._$Nd$didMoveToWindow.call(this,e)},_defaultStatusDidChange:r._106("defaultStatus",function(e){this.setNeedsRender()}),_getStatus:function(){for(var e=this._statusInfoItems,t=this.get("defaultStatus"),i=0,n=e.length;i<n;i++){var r=e[i].get("value");r&&(t=r)}return t},_connectToAllStatusInfoItems:function(e){for(var t=this._statusInfoItems,i=0,n=t.length;i<n;i++)this._connectToStatusInfoItem(t[i])},_diconnectFromAllStatusInfoItems:function(e){for(var t=this._statusInfoItems,i=0,n=t.length;i<n;i++)this._disconnectFromStatusInfoItem(t[i])},_connectToStatusInfoItem:function(e){var t=r._82(e),i=this._statusInfoItemObservers[t];if(i)i.connect();else{var n=this;i=e.observe("updated",function(e){e&&n._statusInfoItemDidUpdate()}),this._statusInfoItemObservers[t]=i}},_disconnectFromStatusInfoItem:function(e){this._statusInfoItemObservers[r._82(e)].disconnect()},_statusInfoItemDidUpdate:function(){this.setNeedsRender()},__superMap:{_$A_$init:"init",_$Nd$didMoveToWindow:"didMoveToWindow"}})},function(e,n,r){"use strict";(function(e){r.d(n,"a",function(){return i});var d=r(4),t=r(0),h=2*Math.PI,i=d._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"canvas",children:[],classes:["arc-spinner"]},__QUALIFIED_CLASS_NAME__:"ArcSpinner"},_isSpinning:!1,didMoveToWindow:function(e){var t=arguments;this.__s._$7c$didMoveToWindow.apply(this,t),e?(this._isAttached=!0,this._renderFrame()):this._isAttached=!1},dpr:t._105(d._10({root:t.C.get("sharedInstance"),path:"devicePixelRatio"})),diameter:t._107(22),strokeWeight:t._107(1),rotationDuration:t._107(1e3),cutOut:t._107(6),color:t._107({get:function(){return this._color||(this._color=e.getComputedStyle(this.get("element")).color),this._color}}),dprSensitiveRadius:t._107({dependencies:["diameter","dpr"],readOnly:!0,get:Object.assign(function(){return this.get("diameter")/2*this.get("dpr")},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])/2*n.internalGet(this,t[1+i])}})}),_renderFrame:function(e){var t=this.get("dpr"),i=this.get("element"),n=i.getContext("2d"),r=this.get("color"),a=this.get("rotationDuration"),s=this.get("cutOut")*t,o=this.get("dprSensitiveRadius"),c=this.get("strokeWeight")*t,l=this.get("diameter")*t,u=e%a/a*h+h;i.width=i.height=l,n.globalCompositeOperation="source-over",n.translate(l/2,l/2),n.fillStyle=r,n.beginPath(),n.arc(0,0,o,0,h),n.closePath(),n.fill(),n.fillStyle="black",n.globalCompositeOperation="destination-out",n.beginPath(),n.arc(0,0,o-c,0,h),n.closePath(),n.fill(),n.rotate(u),n.fillRect(-s/2,-(o+2*c),s,o),this._isAttached&&d.a.requestAnimationFrame(this._renderFrame.bind(this))},__superMap:{_$7c$didMoveToWindow:"didMoveToWindow"}})}).call(n,r(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1441),r=(i.n(n),i(4)),a=i(0),s=i(869),o=r.h.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["spinner-bg"]}]}},__QUALIFIED_CLASS_NAME__:"SpinnableButton"},isSpinning:a._105(!1),_spinner:a._105(null),_loadSpinner:function(){return this._spinner&&this.removeSubview(this._spinner),this._spinner=s.a.create({width:22,height:22}),this._spinner},showSpinner:function(){this.get("isSpinning")||(this.set("isSpinning",!0),this.addSubview(this._loadSpinner()),a._116(function(){this.get("element").classList.add("spinning")}.bind(this),0))},hideSpinner:function(){this.get("element").classList.remove("spinning"),this.set("isSpinning",!1),a._116(function(){this._spinner&&this.removeSubview(this._spinner),this._spinner=null}.bind(this),500)}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1452),r=(i.n(n),i(119),i(4)),a=i(0),s=r.h.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"input",children:[],styles:{display:"none"},attributes:{type:"file",multiple:"true"}}],classes:["toolbar-item","upload-files"]}},__QUALIFIED_CLASS_NAME__:"UploadButton"},title:a._99("DriveUI.FolderToolbar.Button.Upload.Tooltip"),tooltip:a._99("DriveUI.FolderToolbar.Button.Upload.Tooltip.Enabled"),disabledTooltip:a._99("DriveUI.FolderToolbar.Button.Upload.Tooltip.Disabled"),showTitle:!1,tabindex:0,inputElement:a._107({get:function(){return this.element.firstChild}})})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var h=i(4),a=i(0),n={scaleImageDirectToContext:function(e,t,i,n){var r,a,s,o,c=this.getRectForScaledImage(t,i);s=c.size.width,o=c.size.height;var l=this.createRectFromContext(e),u=this.getScaledOriginForCenteredRectInLargerDestinationRect(c,l);r=u.x,a=u.y;try{e.drawImage(t,r,a,s,o)}catch(e){var d=t.width,h=t.height;return n.recordStat("Error scaling image in _scaleImageDirectToContext()",{class:"BR.ImageScaler",function:"_scaleImageDirectToContext()",imageWidth:d,imageHeight:h,errorMessage:e.message,errorName:e.name,stack:e.stack}),!1}return!0},scaleImageWithHalfingStrategy:function(e,t,i){var n=document.createElement("canvas"),r=n.getContext("2d"),a=document.createElement("canvas"),s=a.getContext("2d");n.width=a.width=n.height=a.height=0;var o,c,l,u,d,h,p=t.naturalWidth||t.width,f=t.naturalHeight||t.height;o=p,c=f;var _=this.getRectForScaledImage(t,i);d=_.size.width,h=_.size.height;var m=this.createRectFromContext(e),g=this.getScaledOriginForCenteredRectInLargerDestinationRect(_,m);l=g.x,u=g.y;var v=d/o,y=h/c;if(!p||!f)return!1;var b=Math.max(v,y),I=Math.pow(2,Math.ceil(Math.log(1.1*b)/Math.log(2)));if(1<=I)return e.drawImage(t,l,u,d,h),!0;var S=1,w=o,C=c,E=Math.max(Math.pow(2,Math.ceil(Math.log(w)/Math.log(2)),n.width)),T=Math.max(Math.pow(2,Math.ceil(Math.log(C)/Math.log(2)),n.height));for(n.width===E&&n.height===T||(n.width=a.width=E,n.height=a.height=T),r.drawImage(t,0,0,o,c,0,0,o,c);I<S;){s.drawImage(n,0,0,w,C,0,0,w=Math.ceil(w/2),C=Math.ceil(C/2)),r.clearRect(0,0,w,C);var A=n;n=a,a=A,A=r,r=s,s=A,S/=2}return e.drawImage(n,0,0,w,C,l,u,d,h),r.clearRect(0,0,o,c),s.clearRect(0,0,o,c),!(a=n=null)},getScale:function(e,t){var i=e.naturalWidth||e.width,n=e.naturalHeight||e.height;return this.isImageLandscape(e)?t/i:t/n},getRectForScaledImage:function(e,t){var i,n,r=void 0,a=void 0,s=e.naturalWidth||e.width,o=e.naturalHeight||e.height;if(this.isImageLandscape(e)?a=(r=t)*(o/s):(r=t*(s/o),a=t),r=Math.round(r)||1,(a=Math.round(a)||1)<3){var c=3/a*r;a=3,r=t<c?t:c}else if(r<3){var l=3/r*a;a=t<l?t:l,r=3}i=Math.round(t/2-r/2),n=Math.round(t/2-a/2);var u=h.S.create(i,n),d=h.Z.create(r,a);return h.V.create(u,d)},getOriginForCenteredRectInLargerDestinationRect:function(e,t){var i=Math.round(t.size.width/2-e.size.width/2),n=Math.round(t.size.height/2-e.size.height/2);return h.S.create(i,n)},getScaledOriginForCenteredRectInLargerDestinationRect:function(e,t){var i=a.C.get("sharedInstance").get("devicePixelRatio"),n=Math.round((t.size.width/2-e.size.width*i/2)/i),r=Math.round((t.size.height/2-e.size.height*i/2)/i);return h.S.create(n,r)},createRectFromContext:function(e){var t=h.S.create(0,0),i=h.Z.create(e.canvas.width,e.canvas.height);return h.V.create(t,i)},createSquareRectFromSize:function(e){var t=h.S.create(0,0),i=h.Z.create(e,e);return h.V.create(t,i)},isImageLandscape:function(e){var t=e.naturalWidth||e.width;return(e.naturalHeight||e.height)<t}}},function(e,a,s){"use strict";(function(e){s.d(a,"a",function(){return r}),s(1454),s(56);var t=s(1455),i=(s.n(t),s(4)),n=s(0),r=i._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageTitle",attributes:{}}],classes:["not-migrated-message-title"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageContents",attributes:{}}],classes:["not-migrated-message-contents"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabled",attributes:{}}],classes:["not-migrated-message-notenabled",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isWindows",truevalue:"",falsevalue:"show",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabledWindows",attributes:{}},{type:"TEXT",data:" "},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageNotEnabledWindowsLink",attributes:{}}],attributes:{id:"windowsDownloadLink"}}],classes:["not-migrated-message-notenabled",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_isWindows",truevalue:"show",attributes:{}}]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"_messageFootnote",attributes:{}}],classes:["not-migrated-message-footnote"]}],classes:["not-migrated-message"],name:"_notMigratedMessageContainer",styles:{top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageTop",attributes:{},unit:"px",property:"top"},left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageLeft",attributes:{},unit:"px",property:"left"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_messageWidth",attributes:{},unit:"px",property:"width"}}},{type:"ELEMENT",tagname:"img",children:[],classes:["not-migrated-image"],styles:{left:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageLeft",attributes:{},unit:"px",property:"left"},top:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageTop",attributes:{},unit:"px",property:"top"},height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"_imageHeight",attributes:{},unit:"px",property:"height"}}}],classes:["not-migrated"],name:"_notMigratedContainer"},__QUALIFIED_CLASS_NAME__:"NotMigratedView"},containerWidth:n._105(),containerHeight:n._105(),_loadingMessage:n._105(n._99("DriveUI.NotMigrated.Loading.Message")),_messageTitle:n._105(n._99("DriveUI.Common.Application.Title")),_messageContents:n._105(n._99("DriveUI.NotMigrated.Contents.Message")),_messageNotEnabled:n._105(n._99("DriveUI.NotMigrated.Advice")),_messageNotEnabledWindows:n._105(n._99("DriveUI.NotMigrated.Advice.Windows")),_messageNotEnabledWindowsLink:n._105(n._99("DriveUI.NotMigrated.Advice.Windows.Link")),_messageFootnote:n._105(n._99("DriveUI.NotMigrated.Footnote")),_messageWidth:n._105(590),_messageLeft:n._105(30),_messageTop:n._105(),_imageLeft:n._105(),_imageTop:n._105(),_imageHeight:n._105(),willMoveToWindow:function(e){if(e){var t=n.C.get("sharedInstance"),i=this;this._dprObserver=t.observe("devicePixelRatio",function(e){e&&i._dprDidChange(e)})}else this._dprObserver&&(this._dprObserver.dispose(),this._dprObserver=null)},layoutSubviews:function(){var e=this.get("_notMigratedContainer"),t=e.clientWidth,i=e.clientHeight;if(i&&i){t<950&&(t=950);var n=this.get("_notMigratedMessageContainer"),r=n.clientHeight,a=n.clientWidth,s=.58*t;this._setMessageStyle(a,s,r,i),this._setImageStyle(i,s)}},_imageUrl:s(1456),_imageUrl2:s(1457),_dprDidChange:function(e){var t=this._imageUrl;1<e&&(t=this._imageUrl2),this.$(".not-migrated-image").attr("src",t)},_setMessageStyle:function(e,t,i,n){var r=t/2-e/2*1.18;r<30&&(r=30,e=t-60),this.set("_messageWidth",e),this.set("_messageLeft",r);var a=n/2-i/2*1.14;this.set("_messageTop",a)},_setImageStyle:function(e,t){var i=.125*e,n=e-2*i;155<i&&(i=(e-(n=931))/2),this.set("_imageTop",i),this.set("_imageHeight",n);var r=t;this.set("_imageLeft",r)},frameDidInvalidate:function(){this.__s._$1Xn$frameDidInvalidate.call(this),this.setNeedsLayout()},_isWindows:function(){return n.C.get("sharedInstance").get("isWindows")},_openWindowsDownloadWindow:function(){e.open(n._99("DriveUI.NotMigrated.Advice.Windows.URL"),"Download iCloud for Windows")},pointerDown:function(e){return"windowsDownloadLink"===e.target.id&&this._openWindowsDownloadWindow(),!0},__superMap:{_$1Xn$frameDidInvalidate:"frameDidInvalidate"}})}).call(a,s(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend(n._8,{accessoryType:null,contentTitleKey:"title",content:null,isEnabled:n._105(!0),staticMembers:{__QUALIFIED_CLASS_NAME__:"PathBarItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("BRApp.PathBarItemAccessoryType",function(e){e("FileTall"),e("FileWide"),e("Folder"),e("Home"),e("AppContainer")})},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(1458),r=(i.n(n),i(1459)),a=(i.n(r),i(43)),o=i(0),c=i(623),s=i(4),l=i(877),u=this,d=s._7.extend(c.b,{additionalClassNames:o._60(["path-bar"]),delegate:null,dragTargetHandler:null,pathBarViewCellClass:l.a,itemStack:o._107({defaultValue:o._85(Array),set:function(e){var t=this;return e=e||[],this.element&&(this.popEverythingInPathBar(),e.forEach(function(e){t.pushPathBarItem(e)})),e}}),topItem:o._107({readOnly:!0,get:function(){var e=this.itemStack,t=e?e.length:0;return 0<t?e[t-1]:null}}),init:function(e,t,i){this.dragTargetHandler=e,this.delegate=t;var n=(i=i||{}).itemStack;n&&delete i.itemStack,this.__s._$YE$init.call(this,i),this.itemStack=n,this._subviewStack=[]},pushPathBarItem:function(e){var t=this.itemStack,i=this._subviewStack,n=this.getPathBarViewCellForPathBarItem(e);if(n.firstItem=0===t.length,0<t.length){var r=this.getArrowAccessoryView();i.push(r),this.addSubview(r)}i.push(n),this.addSubview(n),t.push(e),this.setUpLayoutPlan()},popEverythingInPathBar:function(){this.popToPathBarItem(null)},popToPathBarItem:function(e){var t=this.itemStack,i=0;null!==e&&((i=t.indexOf(e))<0&&o._75("Cannot pop path bar item. Not on item stack",{view:this}),i+=1);for(var n=this._subviewStack,r=t.length-1;i<=r;r--){t.pop();var a=n.pop();this.removeSubview(a);var s=n.pop();s&&this.removeSubview(s)}this.setUpLayoutPlan()},getPathBarViewCellForPathBarItem:function(e){var t=this.pathBarViewCellClass.create();return t.pathBarItem=e,t.target=this,t.action=this._triggerPathBarCellAction,t.dragTargetHandler=this.dragTargetHandler,t},getArrowAccessoryView:function(){return h.create({hasLaidOut:!1})},_triggerPathBarCellAction:function(e){this.delegate.pathBarViewPerformActionForPathBarItem(this,e.pathBarItem)},setUpLayoutPlan:function(){var n=this.plan=c.a.create();this.subviews.forEach(function(e,t){var i=n.addItem(t);(i.view=e).layoutItem=i,e.updateMaximumWidth&&e.updateMaximumWidth()}),this._layoutIsDueToContentChange=!0,this.setNeedsLayout()},layOutLeftToRight:c.e({marginBefore:function(e){return e.view.marginLeft},marginAfter:function(e){return e.view.marginRight}}),collapseEnabledItems:c.d(0,function(e,t){var i=e.items;if(0===(i=i.filter(function(e){return e.view.instanceOf(u.pathBarViewCellClass)}).slice(1,-2)).length)return t;for(i.sort(function(e,t){return t.preferredWidth-e.preferredWidth});0<t;){var n=p(i,t);if(n===t)break;t=n}return t}),collapseSecondToLastItem:c.d(99,function(e,t){var i=this,n=e.items.filter(function(e){return e.view.instanceOf(i.pathBarViewCellClass)}).slice(-2);if(2!==n.length)return t;var r=n[0],a=r.width;return r.width=Math.max(a-t,r.view.minimumWidth),t-(a-r.width)}),collapseFirstItem:c.d(1,function(e,t){var i=e[0];if(i.view.isBeingHoveredOver)return t;var n=i.width;return i.width=Math.max(n-t,i.view.minimumWidth),t-(n-i.width)}),layoutSubviews:function(){var e=this.style,t=0|parseInt(e.paddingLeft),i=0|parseInt(e.paddingRight),n=this._layoutIsDueToBoundsChange&&!this._layoutIsDueToContentChange;this._layoutIsDueToBoundsChange=!1,this._layoutIsDueToContentChange=!1;var r=this.plan;if(r){r.items.forEach(function(e){e.width=e.view.preferredWidth});var a=this.layOutLeftToRight(r.items,t),s=this.frame.width-t-i;s<a&&(c.c(r,this.layoutCollapseFunctions,a-s),this.layOutLeftToRight(r.items,t)),r.items.forEach(function(e){var t=e.view;t.updateMaximumWidth&&t.updateMaximumWidth(),t.isBeingHoveredOver&&(e.width=t.preferredWidth),t._currentlySetWidth!==e.width&&(t.hasLaidOut&&!n?t.animate("width",e.width,250):(t.hasLaidOut=!0,t.width=e.width)),t._currentlySetWidth=e.width})}},subviewDidChangeDynamicContent:function(e){this.setUpLayoutPlan(),this._layoutIsDueToContentChange=!0},frameDidInvalidate:function(){this.setNeedsLayout(),this._layoutIsDueToBoundsChange=!0},staticMembers:{__QUALIFIED_CLASS_NAME__:"PathBarView"},__superMap:{_$YE$init:"init"}}),h=s._7.extend(a.a,{additionalClassNames:o._60(["arrow"]),preferredWidth:8,minimumWidth:8,width:a.b(8),marginLeft:0,marginRight:0,left:a.b(0),leftDidChange:o._106("left",function(e){this.style.left=e}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ArrowAccessoryView"}});function p(e,t){var i=1,n=0,r=e.length,a=e[0].width,s=0,o=0,c=e[0].view.minimumWidth;for(n=1;n<r;n++){if((s=e[n].width)!==a){o=s;break}c=Math.max(c,e[n].view.minimumWidth),a=s,i=n+1}var l=a-Math.ceil(t/i),u=Math.max(l,o,c);for(n=0;n<i;n++)e[n].width=u;return t-(a-u)*i}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1460),r=(i.n(n),i(43)),a=i(0),s=i(4),o=s._7.extend(s.i,s.w,r.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["icon"]},{type:"ELEMENT",tagname:"div",children:[],classes:["title"]},{type:"ELEMENT",tagname:"div",children:[],classes:["fade"],styles:{right:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"faderPosition",attributes:{},unit:"px",property:"right"}}}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"firstItem",truevalue:"first",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"enabled",falsevalue:"disabled",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"active",truevalue:"active",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"pressed",truevalue:"pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDragTargetFocused",truevalue:"drag-target-focused",attributes:{}}],styles:{"max-width":{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"maximumWidth",attributes:{},unit:"px",property:"max-width"}}},__QUALIFIED_CLASS_NAME__:"PathBarViewCell"},additionalClassNames:a._60(["path-bar-view-cell"]),hasBeenLaidOut:!1,isBeingHoveredOver:!1,left:a._105(0),width:r.b(100),_widthObserver:a._106("width",function(e){this.style.width=e;var t=this.preferredWidth;this.faderPosition=e<t-1?0:-20}),faderPosition:a._105(0),preferredWidth:a._107({readOnly:!0,get:function(){var e=this.element;e.style.width="auto";var t=this.element.offsetWidth;return e.style.width=this.width,t}}),marginLeft:0,marginRight:0,minimumWidth:a._105(31),maximumWidth:a._105(1e3),pathBarItem:a._105(null),enabled:a._105(a._64("pathBarItem.isEnabled")),firstItem:a._105(!1),_pathBarItemDidChange:a._106("element","pathBarItem",function(e,t){if(e){var i=this._contentTitleObserver,n=this._iconAccessoryClassname;if(i&&(i.disconnect(),this._contentTitleObserver=null),n&&(this._getIconElement().removeClass(n),this._iconAccessoryClassname=null),t){var r=t.content,a=t.contentTitleKey,s=t.accessoryType.name.toLowerCase();this._contentTitleObserver=r.observe(a,this._contentTitleDidChange.bind(this)),this._getIconElement().addClass(s),this._iconAccessoryClassname=s}}}),_contentTitleDidChange:function(e){this._getTitleElement().attr("title",e).text(e),this.notifyParentOfDynamicContentChange()},leftDidChange:a._106("left",function(e){this.style.left=e}),_getIconElement:function(){var e=this._iconElem;return e||(e=this._iconElem=this.queryElement(".icon")),e},_getTitleElement:function(){var e=this._titleElem;return e||(e=this._titleElem=this.queryElement(".title")),e},pointerOver:function(e){return this.beginHover(),!0},pointerOut:function(e){return this.endHover(),!0},dragOver:function(){var e=arguments;return this.beginHover(),this.__s._$1Qr$dragOver.apply(this,e)},dragLeave:function(){var e=arguments;return this.endHover(),this.__s._$1Sk$dragLeave.apply(this,e)},beginHover:function(){this._isBeingHoveredOver||(this._isBeingHoveredOver=!0,this._scheduleHoverStateUpdate())},_scheduleHoverStateUpdate:function(){var e=this;e._scheduledHoverStateUpdae&&clearTimeout(e._scheduledHoverStateUpdate),e._scheduledHoverStateUpdate=s._4.setTimeout(function(){e._scheduledHoverStateUpdate=null,e.isBeingHoveredOver=e._isBeingHoveredOver,e.notifyParentOfDynamicContentChange()},50)},endHover:function(){this._isBeingHoveredOver&&(this._isBeingHoveredOver=!1,this._scheduleHoverStateUpdate())},updateMaximumWidth:function(){var e,t,i;t=(e=this.element).style.width,e.style.maxWidth=null,e.style.width=null,i=e.getBoundingClientRect().width,e.style.width=t,this.maximumWidth=i},__superMap:{_$1Qr$dragOver:"dragOver",_$1Sk$dragLeave:"dragLeave"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(4),n=a.v.extend({getDragTargetInfo:function(e,t,i){var n=i.type,r=t.pathBarItem.content;return"file-system"===n?a.x.create("upload",{destinationFolder:r,dropEffect:"copy"}):a.x.create("move",{destinationFolder:r,dropEffect:"move"})},shouldAllowDrop:function(e,t,i){var n=t.pathBarItem.content;if(n.isInTrash)return!1;var r=i.type,a=this._actionPolicy;if("file-system"===r)return a.shouldAllowDragAndDropUpload;if("none"===r)return!1;var s=t.pathBarItem.content,o=i.data.sourceFolder,c=i.data.items;return!s.isFile&&o!==s&&(!!a.determineShouldAllowMoveItemsToFolder(c,o,n)&&(!c||!c.some(function(e){return!1===e.canEdit||!1===e.parent.canModifyContents})))},getDropInfo:function(e,t,i){var n=t.pathBarItem.content,r=i.data;return"file-system"===i.type?a.y.create("upload-files",{items:r.items,destinationFolder:n,meta:i.meta}):a.y.create("move-items",{sourceFolder:r.sourceFolder,items:r.items,destinationFolder:n,meta:i.meta})},staticMembers:{__QUALIFIED_CLASS_NAME__:"PathBarViewCellDragTargetHandler"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(4),r=n._7.extend(n.w,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:["drive-ui","root",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDragTargetFocused",truevalue:"drag-hover",attributes:{}}]},__QUALIFIED_CLASS_NAME__:"RootView"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(4),n=r.v.extend({getCurrentFolder:function(){var e=null,t=this.delegate;return t&&(e=t.session.currentWorkingDirectory),e},getDragTargetInfo:function(e,t,i){var n=this.getCurrentFolder();return"file-system"===i.type?r.x.create("upload",{destinationFolder:n,dropEffect:"copy"}):r.x.create("move",{destinationFolder:n,dropEffect:"move"})},shouldAllowDrop:function(e,t,i){var n=this.getCurrentFolder();if(n.isInTrash)return!1;if(null===i)return!1;if(n&&!1===n.canModifyContents)return!1;var r=i.type,a=this._actionPolicy;if("file-system"===r)return a.shouldAllowDragAndDropUpload;if("move-items-info"===r){var s=i.data,o=s.sourceFolder;return o!==n&&a.determineShouldAllowMoveItemsToFolder(s.items,o,n)}return!1},getDropInfo:function(e,t,i){var n=this.getCurrentFolder();return r.y.create("upload-files",{items:i.data.items,destinationFolder:n,meta:i.meta})},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewDragTargetHandler"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(43),s=i(4),a=i(0),o=i(16),r=i(37),c=i(226),l=s._7.extend(n.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"canvas",children:[],name:"iconCanvas"}],classes:["thumbnail-icon"],name:"canvasContainer",styles:{opacity:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"fadeOpacity",attributes:{},unit:null,property:"opacity"}},attributes:{width:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},attribute:"width"},height:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},attribute:"height"}}},__QUALIFIED_CLASS_NAME__:"ThumbnailShowcaseView"},thumbnailTreatmentTypeService:null,fadeOpacity:n.b(0),updated:a._118(),error:a._118(),thumbnailCanvasFactory:null,downloadImageService:null,thumbnailScalingService:null,itemURLService:null,loggingService:null,displaySize:a._107(r.a.LARGE),showImmediately:!1,reuseIdentifier:a._107({readOnly:!0,get:function(){return this.identifier}}),identifier:a._107(),file:a._107(),uniqueRequestId:-1,init:function(e,t,i,n,r,a,s,o,c){this.file=e,this.identifier=t,this.downloadImageService=i,this.itemURLService=n,this.thumbnailCanvasFactory=r,this.thumbnailTreatmentTypeService=a,this.thumbnailScalingService=s,this.loggingService=o,this.__s._$15U$init.apply(this,c),this._isReadyForDisplay=!1;var l=this.get("canvasContainer");this._originalPlaceholderCanvas=l.childNodes[0]},prepareForReuse:function(){this.suspendThumbnailLoading()},isReadyForDisplay:function(){return this._isReadyForDisplay},startLoading:function(){this.resumeThumbnailLoading()},suspendThumbnailLoading:function(){this._thumbnailCanvas&&this._thumbnailCanvas.isCancellable()&&this._thumbnailCanvas.cancel()},resumeThumbnailLoading:function(){this._thumbnailCanvas&&!this._isReadyForDisplay?this._thumbnailCanvas.start():this._setupThumbnailCanvas()},_setupThumbnailCanvas:function(){if(!this._isReadyForDisplay){var t=this,i=c.a.getCanvasSizeForThumbnailDisplaySize(this.displaySize);t.thumbnailTreatmentTypeService.getThumbnailTreatmentTypeForFile(this.file).then(function(e){t.isThumbnailLoadingPaused?t._loadingEventHasBeenPaused=!0:(t._thumbnailCanvas=u.create({file:t.file,size:i,identifier:t.reuseIdentifier,thumbnailTreatmentType:e,downloadImageService:t.downloadImageService,itemURLService:t.itemURLService,thumbnailScalingService:t.thumbnailScalingService,loggingService:t.loggingService}),t._thumbnailCanvas.start().then(function(){t._addRenderedCanvasToView()}).catch(function(){t._isReadyForDisplay=!1,t.error(!0)}))})}},_fadeIn:function(){this.animate("fadeOpacity",1,500)},_addRenderedCanvasToView:function(){var e=this._thumbnailCanvas;if(!e)return!1;var t=e.get("canvas");if(!t)return!1;var i=a.C.get("sharedInstance").get("devicePixelRatio"),n=this.get("size");t.style.width=n*i,t.style.height=n*i,t.style.opacity=1;var r=this.get("canvasContainer");r.replaceChild(t,r.childNodes[0]),this._isReadyForDisplay=!0,this.updated(!0)},__superMap:{_$15U$init:"init"}}),u=a.v.extend(a._8,{size:a._107(128),thumbnailTreatmentType:null,downloadImageService:null,itemURLService:null,thumbnailScalingService:null,loggingService:null,file:null,identifier:null,canvas:a._107({readOnly:!0,get:function(){return this._canvas?this._canvas:null}}),reuseIdentifier:a._107({readOnly:!0,get:function(){return this.identifier}}),init:function(e){var t=arguments;this.__s._$2E4$init.apply(this,t),this._renderComplete=!1,this._lastSuccessfullyRenderedEtag=null,this._scalingHasStarted=!1,this._continueLoading=!0},isCancellable:function(){return!this._scalingHasStarted&&!this._renderComplete},cancel:function(){this._continueLoading=!1},start:function(){if(this._continueLoading=!0,this._renderComplete)return s.g.resolve();var e=this;return this._loadURL().then(function(){return e._beginLoadingCanvas()})},_loadURL:function(){var t=this,e=this.file;if(!e)return this.failureCallback(),s.g.reject();var i=e.get("thumbnail");return i&&i.url&&i.expires?(this._url=i.url,this._urlExpires=i.expires,s.g.resolve()):this.itemURLService.getURLForItem(e).then(function(e){return t._url=e.get("url"),s.g.resolve()})},_beginLoadingCanvas:function(){var r=s.g.create();if(!this._continueLoading)return r.cancel();if(!1===this._isThumbnailUrlStillValid())return this._updateExpiredURL(),r.cancel();var a=this,e=this._url;return e?this._lastSuccessfullyRenderedEtag===this.file.etag?r.cancel():(this.downloadImageService.downloadImageForURL(this.identifier,e).then(function(e){var i=e.downloadImageWorker,t=i.naturalWidth||i.width,n=i.naturalHeight||i.height;return t&&n?a._continueLoading?void s._4.setTimeout(function(){a._drawThumbnailWithTreatmentIntoContext(i,function(){a._scalingHasStarted=!0}).then(function(e){if(!e.success)return r.reject();var t=e.canvas;return a._canvas=t,a.downloadImageService.enqueueWorker(i),r.resolve()}).catch(function(e){return a.downloadImageService.enqueueWorker(i),r.reject()})}):(a.downloadImageService.enqueueWorker(i),r.cancel()):r.cancel()}).catch(function(e){return r.reject()}),r):r.cancel()},_isThumbnailUrlStillValid:function(){var e=this._urlExpires;return!e||new Date<=new Date(e)},_updateExpiredURL:function(){var n=this.file.id,e=a.x.create();e.add(n);var t=o.I.create(e),r=this;t.run().then(function(e){var t=e[n].url,i=e[n].expires;t&&i&&(r._url=t,r._urlExpires=i,r._beginLoadingCanvas())}).catch(function(e){r.loggingService.recordStat("Error loading updated thumbnail info for expired thumbnail",{class:"ThumbnailShowcaseView",function:"_updateExpiredURL()",errorMessage:e.message,errorName:e.name,stack:e.stack})})},_drawThumbnailWithTreatmentIntoContext:function(e,t){var i=this.thumbnailTreatmentType,n=this.get("size");return this.thumbnailScalingService.drawThumbnailWithTreatmentType(i,e,n,this.reuseIdentifier,t,this.file).then(function(e){return e})},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailCanvas"},__superMap:{_$2E4$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(4),r=i(1467),a=(i.n(r),n._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"primaryView"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"secondaryView"}],classes:["status-bar"]},__QUALIFIED_CLASS_NAME__:"StatusBarView"},layoutSubviews:function(){var e=arguments,t=this.primaryView,i=this.secondaryView,n=this.frame.width-i.frame.width;t.frame.width=n,this.__s._$IJ$layoutSubviews.apply(this,e)},__superMap:{_$IJ$layoutSubviews:"layoutSubviews"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var r=i(0),n=i(4),a=(i(884),i(1469)),s=(i.n(a),n._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"statusInfoText",attributes:{}}],classes:["status-item"]},{type:"ELEMENT",tagname:"div",children:[],classes:["status-item","separator",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"trashButtonVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"trashButton"}],classes:["status-info"]},__QUALIFIED_CLASS_NAME__:"StatusInfoView"},statusInfoText:r._105(),trashShallowCount:r._105(),trashButtonVisible:r._105(),_localizedTrashButtonText:r._105({readOnly:!0,dependencies:["trashShallowCount"],get:Object.assign(function(){return 0===this.trashShallowCount?r._99("DriveUI.StatusBar.Trash.NoItems"):1===this.trashShallowCount?r._99("DriveUI.StatusBar.Trash.OneItem"):r._99("DriveUI.StatusBar.Trash.MultipleItems",{totalNumberOfItems:this.trashShallowCount})},{__CW__getter:function(e,t,i,n){return 0===n.internalGet(this,t[0+i])?r._99("DriveUI.StatusBar.Trash.NoItems"):1===n.internalGet(this,t[0+i])?r._99("DriveUI.StatusBar.Trash.OneItem"):r._99("DriveUI.StatusBar.Trash.MultipleItems",{totalNumberOfItems:n.internalGet(this,t[0+i])})}})}),_trashButton:r._105(),init:function(){var e=arguments;this.__s._$Yl$init.apply(this,e),this.trashButton=n.h.create({title:n._10({root:this,path:"_localizedTrashButtonText"}),additionalClassNames:["status-item","trash-button"],action:"_didPressTrashButton",target:this,visible:n._10({root:this,path:"trashButtonVisible"})})},delegate:null,_didPressTrashButton:function(){this._notifyDelegateIfAppropriate("didPressTrashButton")},_notifyDelegateIfAppropriate:function(e){var t=this.delegate;if(t){var i=t[e];i&&i.call(t,this)}},__superMap:{_$Yl$init:"init"}}))},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.StatusBar.NoItemsSelected.NoItemsAvailable":"0 items","DriveUI.StatusBar.NoItemsSelected.OneItemAvailable":"1 item","DriveUI.StatusBar.NoItemsSelected.MultipleItemsAvailable":"%{totalNumberOfItems} items","DriveUI.StatusBar.OneOrMoreItemsSelected":"%{numberOfSelectedItems} of %{totalNumberOfItems} selected","DriveUI.StatusBar.Loading":"Loading","DriveUI.StatusBar.Quota":"%{size} available","DriveUI.StatusBar.Text.SelectionAndQuota":"%{selectionInfo}, %{quotaSize}","DriveUI.StatusBar.Trash.NoItems":"Recently Deleted","DriveUI.StatusBar.Trash.OneItem":"1 Recently Deleted item","DriveUI.StatusBar.Trash.MultipleItems":"%{totalNumberOfItems} Recently Deleted items"})},function(e,t,i){"use strict";i.d(t,"b",function(){return M}),i.d(t,"a",function(){return n});var A=i(4),O=i(0),D=i(872),F=i(403),M=O._67("DrawThumbnailTreatmentType",["Default","Image","Video"]),N=O._67("DrawThumbnailSteps",["ImageMat","VideoMat","WhiteBackground","Border","Image"]),n=A._2.extend({marginSize:2,lineWidth:1,lineOffset:.5,icon:null,size:null,identifier:null,scalingHasStartedCallback:null,file:null,treatmentType:null,scalingWebWorkerProvider:null,useImageSmoothingQualityHigh:!1,loggingService:null,startRun:function(){var T=this;this.scalingHasStartedCallback&&"function"==typeof this.scalingHasStartedCallback&&this.scalingHasStartedCallback(),A._4.setTimeout(function(){var e,t,i,n,r,a,s,o,c,l,u,d,h,p,f,_,m,g,v,y,b,I,S,w,C,E;switch(T.treatmentType){case M.Image:c=(o=a=T).size,l=o.icon,u=F.a.getImageMatBoxSizeForThumbnailSize(c),d=c-2*o.marginSize-2*u,h=D.a.getRectForScaledImage(l,d),p=D.a.createSquareRectFromSize(c),f=D.a.getOriginForCenteredRectInLargerDestinationRect(h,p),s=A.V.create(f,h.size),e={mat:(_=a,m=_.size,g=_.icon,v=D.a.createSquareRectFromSize(m),y=F.a.getImageMatBoxSizeForThumbnailSize(m),b=m-2*_.marginSize-2*y,I=D.a.getRectForScaledImage(g,b),S=A.Z.create(I.size.width+2*y,I.size.height+2*y),w=A.V.create(A.S.create(0,0),S),C=D.a.getOriginForCenteredRectInLargerDestinationRect(w,v),A.V.create(C,S)),image:s,border:s},t=[N.ImageMat,N.Image,N.Border];break;case M.Video:r=L(n=T),e={mat:function(e,t){var i,n=e.size,r=e.icon,a=D.a.createSquareRectFromSize(n),s=F.a.getVideoLetterBoxSizeForThumbnailSize(n);i=D.a.isImageLandscape(r)?A.Z.create(t.size.width,t.size.height+2*s):A.Z.create(t.size.width+2*s,t.size.height);var o=A.V.create(A.S.create(0,0),i),c=D.a.getOriginForCenteredRectInLargerDestinationRect(o,a);return A.V.create(c,i)}(n,r),image:r,border:r},t=[N.VideoMat,N.Image,N.Border];break;default:e={background:i=L(T),image:i,border:i},t=[N.WhiteBackground,N.Image,N.Border]}T.scalingWebWorkerProvider?E=function(a,s,o){var c=a.size,l=a.icon,e=O.C.get("sharedInstance").get("devicePixelRatio"),u=a.scalingWebWorkerProvider.acquireWorkerPacket();if(!u)return{success:!1};var d=A.g.create(),h=u.worker,t=u.scratchCanvas,p=t.getContext("2d"),i=F.a.getImageDataFromImageAndCanvas(l,t),n=Math.max(s.image.width,s.image.height)*e,r=D.a.getScale(l,n);return h.onmessage=function(e){if(e.data.error)return h.onmessage=null,a.scalingWebWorkerProvider.returnWorkerPacket(u),{success:!1};for(var t=F.a.createNewCanvas(c),i=t.getContext("2d"),n=0;n<o.length;n++)switch(o[n]){case N.WhiteBackground:x(i,s);break;case N.Image:j(i,p,e,s,l.width);break;case N.Border:k(a,i,s);break;case N.VideoMat:P(i,s);break;case N.ImageMat:R(a,i,s)}h.onmessage=null,a.scalingWebWorkerProvider.returnWorkerPacket(u);var r={success:!(e=null),canvas:t};d.resolve(r)},h.postMessage({imageDataBuffer:i.data.buffer,sourceWidth:l.width,sourceHeight:l.height,scale:r,canUsePerformanceNow:F.a.canBrowserUsePerformanceNow()},[i.data.buffer]),i=null,d}(T,e,t).then(function(e){e.success?T.finishRunWithSuccess(e):T.finishRunWithFailure(e)}):(E=function(e,t,i){var n=e.size,r=F.a.createNewCanvas(n),a=r.getContext("2d");e.useImageSmoothingQualityHigh&&(a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high");for(var s=0;s<i.length;s++){switch(i[s]){case N.WhiteBackground:x(a,t);break;case N.Image:V(e,a,t);break;case N.Border:k(e,a,t);break;case N.VideoMat:P(a,t);break;case N.ImageMat:R(e,a,t)}}return{success:!0,canvas:r}}(T,e,t)).success?T.finishRunWithSuccess(E):T.finishRunWithFailure(E)})},shouldAllowCancel:function(){return!this.get("isRunning")},cancel:function(){this.__s._$12s$cancel.call(this),this.finishCancellingRun()},staticMembers:{__QUALIFIED_CLASS_NAME__:"DrawThumbnailTreatmentTask"},__superMap:{_$12s$cancel:"cancel"}});function L(e){var t=e.size,i=e.icon,n=t-2*e.marginSize,r=D.a.getRectForScaledImage(i,n),a=D.a.createSquareRectFromSize(t),s=D.a.getOriginForCenteredRectInLargerDestinationRect(r,a);return A.V.create(s,r.size)}function x(e,t){e.fillStyle="rgba(256, 256, 256, 1)",e.fillRect(t.background.x,t.background.y,t.background.width,t.background.height)}function P(e,t){e.fillStyle="rgba(0, 0, 0, 1)",e.fillRect(t.mat.x,t.mat.y,t.mat.width,t.mat.height)}function R(e,t,i){t.fillStyle="rgba(256, 256, 256, 1)",t.fillRect(i.mat.x,i.mat.y,i.mat.width,i.mat.height),t.fillStyle="transparent",t.beginPath(),t.lineWidth=e.lineWidth,t.strokeStyle="rgba(0, 0, 0, .13)",t.strokeRect(i.mat.x+e.lineOffset,i.mat.y+e.lineOffset,i.mat.width-2*e.lineOffset,i.mat.height-2*e.lineOffset)}function k(e,t,i){t.beginPath(),t.lineWidth=e.lineWidth,t.strokeStyle="rgba(0, 0, 0, .13)",t.strokeRect(i.border.x+e.lineOffset,i.border.y+e.lineOffset,i.border.width-2*e.lineOffset,i.border.height-2*e.lineOffset)}function j(e,t,i,n,r){var a,s=O.j.get("sharedInstance"),o=O.C.get("sharedInstance").get("devicePixelRatio"),c=i.data.scaledWidth,l=i.data.scaledHeight,u=new Uint8ClampedArray(i.data.imageDataBuffer);s.isEdge||s.isIE?(a=t.createImageData(c,l)).data.set(u):a=new ImageData(u,c,l),u=null,i.data.time,i.data.workerNumber,e.putImageData(a,n.image.x*o,n.image.y*o,0,0,c*o,l*o),a=null}function V(e,t,i){var n=e.icon,r=Math.max(i.image.width,i.image.height),a=(Date.now(),D.a.scaleImageDirectToContext(t,n,r,e.loggingService));return Date.now(),a}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(4),r=i(0).v.extend({hostService:null,init:function(e,t){this.hostService=e,this.__s._$FP$init.call(this,t)},thumbnailTreatmentMap:{},getThumbnailTreatmentTypeForFile:function(e){var r=this,a=(e.extension||"").toLowerCase();if(e&&e.thumbnail&&e.thumbnail.treatment)return n.g.resolve(e.thumbnail.treatment);var t=this.thumbnailTreatmentMap[a];if(t)return n.g.resolve(t);var s=n.g.create();return this.hostService.getConformingTypes(a).then(function(e){var t,i,n;t=0<=e.indexOf("public.image")?"IMAGES":2<=(n=e).length&&("public.audio"===n[0]||"public.audio"===n[1])&&"public.audiovisual-content"!==n[0]&&"public.audiovisual-content"!==n[1]?"MUSIC":2<=(i=e).length&&("public.audiovisual-content"===i[0]||"public.audiovisual-content"===i[1])?"VIDEOS":"DOCUMENTS",r.thumbnailTreatmentMap[a]=t,s.resolve(t)}).catch(function(e){s.reject(e)}),s},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailTreatmentTypeService"},__superMap:{_$FP$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1483),r=(i.n(n),i(0)),a=i(4)._7.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"section",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],classes:["group","left"],name:"leftToolbarItems"},{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"contentView"}],classes:["group","middle"]},{type:"MULTIVIEWOUTLET",tagname:"views",children:[],classes:["group","right"],name:"rightToolbarItems"}]}},__QUALIFIED_CLASS_NAME__:"ToolbarView"},additionalClassNames:r._60(["toolbar"]),ariaRole:"toolbar",addViewToLeftGroup:function(e){this.leftToolbarItems.push(e)},addViewToRightGroup:function(e){this.rightToolbarItems.push(e)},loadViewsForGroups:function(){}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(4),a=i(1485),s=(i.n(a),r._7.extend({putFilesBackButton:n._107({readOnly:!0}),deleteFilesButton:n._107({readOnly:!0}),selection:n._105(null),loadSubviews:function(){var e=this._putFilesBackButton=this._loadPutFilesBackButton(),t=this._deleteFilesButton=this._loadDeleteFilesButton();this._addToView(e),this._addSepartorToView(),this._addToView(t)},_loadPutFilesBackButton:function(){return this._createButton("putback")},_loadDeleteFilesButton:function(){return this._createButton("delete")},_createButton:function(e){var t="trash-"+e;return r.h.create({additionalClassNames:n._60(["toolbar-item",t])})},_addSepartorToView:function(){var e=r._7.create({additionalClassNames:n._60(["toolbar-item","vertical-button-separator"])});this._addToView(e)},_addToView:function(e){this.addSubview(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashToolbarView"}}))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var u=i(0),n=i(4),r=(i(890),i(56),i(116)),a=i(37),d=i(225),s=n._7.extend({showcaseViewPool:u._107(),iconService:u._107(),thumbnailCanvasFactory:u._107(),staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["fileIcon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h5",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"fileName",attributes:{}}]}]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"progressView"}],classes:["progress-bar"]},{type:"ELEMENT",tagname:"a",children:[],name:"closeButton",classes:["close-button"],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"cancelTooltip",attributes:{},attribute:"title"},href:"#"}}],classes:["progress",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isComplete",truevalue:"complete",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isWaiting",truevalue:"not-sending",attributes:{}}]},{type:"ELEMENT",tagname:"a",children:[],name:"retryButton",classes:["retry-icon","hide"],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"retryTooltip",attributes:{},attribute:"title"},href:"#"}},{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"byteCountString",attributes:{}}],classes:["byte-count"]}],classes:["mainBody"]}],classes:["br-file-upload-view"]},__QUALIFIED_CLASS_NAME__:"FileProgressView"},init:function(e,t,i,n,r){this.iconService=e,this.showcaseViewPool=t,this.thumbnailStatsReporterService=i,this.thumbnailCanvasFactory=n,this.progressView=u._24.create(),this.__s._$h1$init.call(this,r)},sortOrder:u._105(1),fileContent:u._105(null),cancelTooltip:u._105(u._99("DriveUI.Upload.Cancel")),retryTooltip:u._105(u._99("DriveUI.Upload.Retry")),isWaiting:u._105(!0),isComplete:u._105({defaultValue:!1}),isFailed:u._105({defaultValue:!1}),percentComplete:u._105(),bytesTotal:u._105({defaultValue:0,set:function(e){return 0===e&&this._bytesTotal?this._bytesTotal:e}}),bytesTransferred:u._105({defaultValue:0}),byteCountString:"",progressView:null,closeWasClicked:u._118(),retryWasClicked:u._118(),loadSubviews:function(){this.fileIconView=r.a.create(this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,{additionalClassNames:u._60(["medium"]),displaySize:a.a.MEDIUM}),this.addSubview(this.fileIconView,".fileIcon")},valuesDidChange:u._106("percentComplete",function(){var e=this.get("progressView"),t=this.get("percentComplete");e&&e.set("value",100*t),1===t&&this.set("isComplete",!0)}),_updateByteCountString:u._106("bytesTotal","bytesTransferred","isFailed","isComplete",function(e,t,i,n){0!==t||0!==e||n&&i?this.set("isWaiting",!1):this.set("isWaiting",!0);var r,a=this.get("isWaiting");if(i){this.get("isComplete")||this.set("isComplete",!0);var s=u._99("DriveUI.Upload.Progress.Failed");return this.set("byteCountString",s),void this.get("retryButton").classList.remove("hide")}if(a&&!n){var o=u._99("DriveUI.Common.Progress.Waiting");return this.set("byteCountString",o),void this.get("retryButton").classList.add("hide")}this.get("retryButton").classList.add("hide");var c=Object(d.b)(e,{precision:1}),l=Object(d.b)(t,{precision:1});r=n?c:u._99("DriveUI.Upload.Progress.ByteCount",{totalSize:c,transferredSize:l}),this.set("byteCountString",r)}),_fileContentDidChange:u._106("fileContent","element",function(e,t){if(t){var i=this.get("fileIconView"),n=e?e.get("name"):"";i&&i.set("content",e),this.set("fileName",n)}}),_isCompleteDidChange:u._106("isComplete",function(e){e&&this.set("isWaiting",!1)}),pointerUp:function(e){e.target===this.get("closeButton")?this.closeWasClicked():e.target===this.get("retryButton")&&this.retryWasClicked()},__superMap:{_$h1$init:"init"}})},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.Upload.PopoverDialogTitle":"Uploads","DriveUI.Upload.PopoverDialog.AddFilesButton":"Upload More","DriveUI.Upload.Cancel":"Cancel Upload","DriveUI.Upload.Retry":"Retry Upload","DriveUI.Upload.Progress.Failed":"Upload Failed","DriveUI.Upload.Progress.ByteCount":"%{transferredSize} of %{totalSize}"})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(1488),r=(i.n(n),i(0)),a=i(4),s=(i(890),i(889)),o=a.Y.extend(r._8,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["scrollContentContainer"]}]}},__QUALIFIED_CLASS_NAME__:"ScrollingUploadContainer"},addContentView:function(e){this.addSubview(e,".scrollContentContainer"),this._updateContentSize()},removeContentView:function(e){this.removeSubview(e,".scrollContentContainer"),this._updateContentSize()},sortContentViews:function(e){for(var t=this.$(".scrollContentContainer").element(),i=0,n=e.length;i<n;i++){var r=e[i];t.appendChild(r.element)}},_updateContentSize:function(){if(this.isAttached){var e=this.$(".scrollContentContainer").element().scrollHeight;this.adjustContentSize(0,e)}},_attachedObserver:r._106("isAttached",function(e){if(e){var t=this;r._116(function(){t._updateContentSize()})}}),layoutSubviews:function(){var e=this.contentOffset;this.$(".scrollContentContainer").element().scrollTop=e.y}}),c=a._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"h3",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{}}],classes:["title"]},{type:"ELEMENT",tagname:"div",children:[],classes:["scrollContainer"]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"addFilesButton"}]},__QUALIFIED_CLASS_NAME__:"UploadView"},additionalClassNames:r._60("upload-view"),init:function(e,t,i,n,r,a,s){this.showcaseViewPool=e,this.iconService=t,this.thumbnailStatsReporterService=i,this.thumbnailCanvasFactory=n,this.preferredSize=r,this.addFilesCallBack=a,this.__s._$uf$init.call(this,s);var o=this.addFilesButton;o.target=this,o.action="addFilesCallBack",this.addSubview(this.scrollContainer,".scrollContainer")},iconService:r._107(),showcaseViewPool:r._107(),thumbnailStatsReporterService:r._107(),thumbnailCanvasFactory:r._107(),scrollContainer:r._85(o,{additionalClassNames:r._60(["uploads"])}),totalFileCount:r._105({defaultValue:0}),remainingFileCount:r._105(0),title:r._105(r._99("DriveUI.Upload.PopoverDialogTitle")),preferredSize:r._105(null),addFilesCallBack:r._6,uploadViews:r._105(r._85(Array)),_uploadViewsObserver:r._106("uploadViews",function(e){var t=this.scrollContainer;t&&t.sortContentViews(e)}),addFilesButton:r._85(a.h,{title:r._99("DriveUI.Upload.PopoverDialog.AddFilesButton"),additionalClassNames:r._60("add-files-button")}),createUploadView:function(){var e=s.a.create(this.iconService,this.showcaseViewPool,this.thumbnailStatsReporterService,this.thumbnailCanvasFactory);return this.uploadViews.push(e),this.scrollContainer.addContentView(e),e},removeUploadView:function(e){var t=this.uploadViews,i=t.indexOf(e);if(-1!==i){var n=t.splice(i,1);return this.scrollContainer.removeContentView(n[0]),!0}return!1},clearCompleted:function(){for(var e=this.uploadViews,t=e.length-1;0<=t;t--){var i=e[t];i.isComplete&&this.removeUploadView(i)}},_preferredSizeDidChange:r._106("preferredSize",function(e){e&&this.notifyParentOfDynamicContentChange()}),__superMap:{_$uf$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("DocumentsErrorItemType",["UnpurgedDocument","UnrecoveredDocument"])},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("DocumentsErrorGroupType",["UnpurgedDocumentGroup","UnrecoveredDocumentGroup"])},function(e,t,i){"use strict";(function(n){t.a=function(e){var t=r.c.create({useCredentialsIfCrossOrigin:!0,shouldReportSuccess:!0,shouldReportFailure:!0});t.get("url").set("pathname",e),t.setHeader("Content-Type","text/plain");var i=n["drapp.geneaterequestwithpath.delegate.preparerequest"];return i&&i(t),t};var r=i(4)}).call(t,i(5))},function(e,t,i){i(1533),i(1531),i(1527),i(1528),i(1526),i(1529),i(1532),i(1530),i(1534),i(1535),i(896),i(1009),e.exports=i(1010)},function(e,t,i){"use strict";i(897),i(898),i(899),i(904),i(905),i(906),i(907),i(908),i(909),i(910),i(911),i(912),i(914),i(915),i(916),i(917),i(918),i(920),i(921),i(922),i(923),i(924),i(925),i(926),i(927),i(928),i(929),i(930),i(931),i(935),i(938),i(939),i(940),i(941),i(942),i(943),i(944),i(945),i(946),i(947),i(948),i(949),i(951),i(952),i(953),i(954),i(955),i(957),i(958),i(959),i(960),i(961),i(963),i(964),i(965),i(966),i(967),i(968),i(969),i(970),i(971),i(972),i(240),i(973),i(974),i(975),i(976),i(977),i(978),i(979),i(980),i(981),i(982),i(983),i(984),i(985),i(986),i(987),i(989),i(990),i(991),i(992),i(993),i(994),i(995),i(996),i(997),i(998),i(999),i(1e3),i(1001),i(1002),i(1003),i(1004),i(1005),i(1006),i(1007)},function(e,t,i){"use strict";var n=i(6),r=i(155),a=i(229),l=i(13),u=i(92),d=i(24),s=i(9),o=i(11).ArrayBuffer,h=i(236),p=a.ArrayBuffer,f=a.DataView,c=r.ABV&&o.isView,_=p.prototype.slice,m=r.VIEW,g="ArrayBuffer";n(n.G+n.W+n.F*(o!==p),{ArrayBuffer:p}),n(n.S+n.F*!r.CONSTR,g,{isView:function(e){return c&&c(e)||s(e)&&m in e}}),n(n.P+n.U+n.F*i(19)(function(){return!new p(2).slice(1,void 0).byteLength}),g,{slice:function(e,t){if(void 0!==_&&void 0===t)return _.call(l(this),e);for(var i=l(this).byteLength,n=u(e,i),r=u(void 0===t?i:t,i),a=new(h(this,p))(d(r-n)),s=new f(this),o=new f(a),c=0;n<r;)o.setUint8(c++,s.getUint8(n++));return a}}),i(156)(g)},function(e,t,i){var n=i(6);n(n.G+n.W+n.F*!i(155).ABV,{DataView:i(229).DataView})},function(e,t,i){i(50)("Int8",1,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){var s=i(22),o=i(13),c=i(78);e.exports=i(31)?Object.defineProperties:function(e,t){o(e);for(var i,n=c(t),r=n.length,a=0;a<r;)s.f(e,i=n[a++],t[i]);return e}},function(e,t,i){var n=i(902);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){var n=i(9),r=i(410),a=i(17)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){"use strict";var n=i(122),r=i(73),a=i(93),s={};i(33)(s,i(17)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(s,{next:r(1,i)}),a(e,t+" Iterator")}},function(e,t,i){i(50)("Uint8",1,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){i(50)("Uint8",1,function(n){return function(e,t,i){return n(this,e,t,i)}},!0)},function(e,t,i){i(50)("Int16",2,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){i(50)("Uint16",2,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){i(50)("Int32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){i(50)("Uint32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){i(50)("Float32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){i(50)("Float64",8,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";var n=i(414),r=i(97);e.exports=i(159)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(r(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,i){var a=i(9),s=i(241).set;e.exports=function(e,t,i){var n,r=t.constructor;return r!==i&&"function"==typeof r&&(n=r.prototype)!==i.prototype&&a(n)&&s&&s(e,n),e}},function(e,t,i){"use strict";var n=i(414),r=i(97);e.exports=i(159)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,i){"use strict";var a,n=i(123)(0),s=i(57),r=i(58),o=i(416),c=i(417),l=i(9),u=i(19),d=i(97),h="WeakMap",p=r.getWeak,f=Object.isExtensible,_=c.ufstore,m={},g=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},v={get:function(e){if(l(e)){var t=p(e);return!0===t?_(d(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,h),e,t)}},y=e.exports=i(159)(h,g,v,c,!0,!0);u(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(o((a=c.getConstructor(g,h)).prototype,v),r.NEED=!0,n(["delete","has","get","set"],function(n){var e=y.prototype,r=e[n];s(e,n,function(e,t){if(l(e)&&!f(e)){this._f||(this._f=new a);var i=this._f[n](e,t);return"set"==n?this:i}return r.call(this,e,t)})}))},function(e,t,i){"use strict";var n=i(417),r=i(97);i(159)("WeakSet",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,i){var n=i(6),a=i(75),s=i(13),o=(i(11).Reflect||{}).apply,c=Function.apply;n(n.S+n.F*!i(19)(function(){o(function(){})}),"Reflect",{apply:function(e,t,i){var n=a(e),r=s(i);return o?o(n,t,r):c.call(n,t,r)}})},function(e,t,i){var n=i(6),o=i(122),c=i(75),l=i(13),u=i(9),r=i(19),d=i(919),h=(i(11).Reflect||{}).construct,p=r(function(){function e(){}return!(h(function(){},[],e)instanceof e)}),f=!r(function(){h(function(){})});n(n.S+n.F*(p||f),"Reflect",{construct:function(e,t){c(e),l(t);var i=arguments.length<3?e:c(arguments[2]);if(f&&!p)return h(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(d.apply(e,n))}var r=i.prototype,a=o(u(r)?r:Object.prototype),s=Function.apply.call(e,a,t);return u(s)?s:a}})},function(e,t,i){"use strict";var a=i(75),s=i(9),o=i(418),c=[].slice,l={};e.exports=Function.bind||function(i){var n=a(this),r=c.call(arguments,1),e=function e(){var t=r.concat(c.call(arguments));return this instanceof e?function(e,t,i){if(!(t in l)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";l[t]=Function("F,a","return new F("+n.join(",")+")")}return l[t](e,i)}(n,t.length,t):o(n,t,i)};return s(n.prototype)&&(e.prototype=n.prototype),e}},function(e,t,i){var n=i(22),r=i(6),a=i(13),s=i(120);r(r.S+r.F*i(19)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,i){a(e),t=s(t,!0),a(i);try{return n.f(e,t,i),!0}catch(e){return!1}}})},function(e,t,i){var n=i(6),r=i(51).f,a=i(13);n(n.S,"Reflect",{deleteProperty:function(e,t){var i=r(a(e),t);return!(i&&!i.configurable)&&delete e[t]}})},function(e,t,i){var s=i(51),o=i(95),c=i(34),n=i(6),l=i(9),u=i(13);n(n.S,"Reflect",{get:function e(t,i){var n,r,a=arguments.length<3?t:arguments[2];return u(t)===a?t[i]:(n=s.f(t,i))?c(n,"value")?n.value:void 0!==n.get?n.get.call(a):void 0:l(r=o(t))?e(r,i,a):void 0}})},function(e,t,i){var n=i(51),r=i(6),a=i(13);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(a(e),t)}})},function(e,t,i){var n=i(6),r=i(95),a=i(13);n(n.S,"Reflect",{getPrototypeOf:function(e){return r(a(e))}})},function(e,t,i){var n=i(6);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,i){var n=i(6),r=i(13),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return r(e),!a||a(e)}})},function(e,t,i){var n=i(6);n(n.S,"Reflect",{ownKeys:i(419)})},function(e,t,i){var n=i(6),r=i(13),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){r(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,i){var c=i(22),l=i(51),u=i(95),d=i(34),n=i(6),h=i(73),p=i(13),f=i(9);n(n.S,"Reflect",{set:function e(t,i,n){var r,a,s=arguments.length<4?t:arguments[3],o=l.f(p(t),i);if(!o){if(f(a=u(t)))return e(a,i,n,s);o=h(0)}if(d(o,"value")){if(!1===o.writable||!f(s))return!1;if(r=l.f(s,i)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,c.f(s,i,r)}else c.f(s,i,h(0,n));return!0}return void 0!==o.set&&(o.set.call(s,n),!0)}})},function(e,t,i){var n=i(6),r=i(241);r&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,i){"use strict";var n,r,a,s,o=i(88),c=i(11),l=i(48),u=i(237),d=i(6),h=i(9),p=i(75),f=i(90),_=i(158),m=i(236),g=i(242).set,v=i(932)(),y=i(420),b=i(933),I=i(934),S="Promise",w=c.TypeError,C=c.process,E=c[S],T="process"==u(C),A=function(){},O=r=y.f,D=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[i(17)("species")]=function(e){e(A,A)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t}catch(e){}}(),F=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},M=function(u,i){if(!u._n){u._n=!0;var n=u._c;v(function(){for(var c=u._v,l=1==u._s,e=0,t=function(e){var t,i,n,r=l?e.ok:e.fail,a=e.resolve,s=e.reject,o=e.domain;try{r?(l||(2==u._h&&x(u),u._h=1),!0===r?t=c:(o&&o.enter(),t=r(c),o&&(o.exit(),n=!0)),t===e.promise?s(w("Promise-chain cycle")):(i=F(t))?i.call(t,a,s):a(t)):s(c)}catch(e){o&&!n&&o.exit(),s(e)}};n.length>e;)t(n[e++]);u._c=[],u._n=!1,i&&!u._h&&N(u)})}},N=function(a){g.call(c,function(){var e,t,i,n=a._v,r=L(a);if(r&&(e=b(function(){T?C.emit("unhandledRejection",n,a):(t=c.onunhandledrejection)?t({promise:a,reason:n}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",n)}),a._h=T||L(a)?2:1),a._a=void 0,r&&e.e)throw e.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},x=function(t){g.call(c,function(){var e;T?C.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},P=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},R=function e(i){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===i)throw w("Promise can't be resolved itself");(n=F(i))?v(function(){var t={_w:r,_d:!1};try{n.call(i,l(e,t,1),l(P,t,1))}catch(e){P.call(t,e)}}):(r._v=i,r._s=1,M(r,!1))}catch(e){P.call({_w:r,_d:!1},e)}}};D||(E=function(e){f(this,E,S,"_h"),p(e),n.call(this);try{e(l(R,this,1),l(P,this,1))}catch(e){P.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(89)(E.prototype,{then:function(e,t){var i=O(m(this,E));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=T?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&M(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=l(R,e,1),this.reject=l(P,e,1)},y.f=O=function(e){return e===E||e===s?new a(e):r(e)}),d(d.G+d.W+d.F*!D,{Promise:E}),i(93)(E,S),i(156)(S),s=i(87)[S],d(d.S+d.F*!D,S,{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(o||!D),S,{resolve:function(e){return I(o&&this===s?E:this,e)}}),d(d.S+d.F*!(D&&i(157)(function(e){E.all(e).catch(A)})),S,{all:function(e){var s=this,t=O(s),o=t.resolve,c=t.reject,i=b(function(){var n=[],r=0,a=1;_(e,!1,function(e){var t=r++,i=!1;n.push(void 0),a++,s.resolve(e).then(function(e){i||(i=!0,n[t]=e,--a||o(n))},c)}),--a||o(n)});return i.e&&c(i.v),t.promise},race:function(e){var t=this,i=O(t),n=i.reject,r=b(function(){_(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(e,t,i){var o=i(11),c=i(242).set,l=o.MutationObserver||o.WebKitMutationObserver,u=o.process,d=o.Promise,h="process"==i(91)(u);e.exports=function(){var i,n,r,e=function(){var e,t;for(h&&(e=u.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?r():n=void 0,e}}n=void 0,e&&e.enter()};if(h)r=function(){u.nextTick(e)};else if(!l||o.navigator&&o.navigator.standalone)if(d&&d.resolve){var t=d.resolve();r=function(){t.then(e)}}else r=function(){c.call(o,e)};else{var a=!0,s=document.createTextNode("");new l(e).observe(s,{characterData:!0}),r=function(){s.data=a=!a}}return function(e){var t={fn:e,next:void 0};n&&(n.next=t),i||(i=t,r()),n=t}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){var n=i(13),r=i(9),a=i(420);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=a.f(e);return(0,i.resolve)(t),i.promise}},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(11),s=i(34),a=i(31),o=i(6),c=i(57),l=i(58).KEY,u=i(19),d=i(233),h=i(93),p=i(74),f=i(17),_=i(421),m=i(936),g=i(937),v=i(410),y=i(13),b=i(9),I=i(38),S=i(120),w=i(73),C=i(122),E=i(422),T=i(51),A=i(22),O=i(78),D=T.f,F=A.f,M=E.f,N=r.Symbol,L=r.JSON,x=L&&L.stringify,P="prototype",R=f("_hidden"),k=f("toPrimitive"),j={}.propertyIsEnumerable,V=d("symbol-registry"),U=d("symbols"),B=d("op-symbols"),$=Object[P],W="function"==typeof N,G=r.QObject,z=!G||!G[P]||!G[P].findChild,H=a&&u(function(){return 7!=C(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=D($,t);n&&delete $[t],F(e,t,i),n&&e!==$&&F($,t,n)}:F,K=function(e){var t=U[e]=C(N[P]);return t._k=e,t},Q=W&&"symbol"==n(N.iterator)?function(e){return"symbol"==(void 0===e?"undefined":n(e))}:function(e){return e instanceof N},q=function(e,t,i){return e===$&&q(B,t,i),y(e),t=S(t,!0),y(i),s(U,t)?(i.enumerable?(s(e,R)&&e[R][t]&&(e[R][t]=!1),i=C(i,{enumerable:w(0,!1)})):(s(e,R)||F(e,R,w(1,{})),e[R][t]=!0),H(e,t,i)):F(e,t,i)},Y=function(e,t){y(e);for(var i,n=g(t=I(t)),r=0,a=n.length;r<a;)q(e,i=n[r++],t[i]);return e},J=function(e){var t=j.call(this,e=S(e,!0));return!(this===$&&s(U,e)&&!s(B,e))&&(!(t||!s(this,e)||!s(U,e)||s(this,R)&&this[R][e])||t)},X=function(e,t){if(e=I(e),t=S(t,!0),e!==$||!s(U,t)||s(B,t)){var i=D(e,t);return!i||!s(U,t)||s(e,R)&&e[R][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=M(I(e)),n=[],r=0;i.length>r;)s(U,t=i[r++])||t==R||t==l||n.push(t);return n},ee=function(e){for(var t,i=e===$,n=M(i?B:I(e)),r=[],a=0;n.length>a;)!s(U,t=n[a++])||i&&!s($,t)||r.push(U[t]);return r};W||(c((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var i=p(0<arguments.length?arguments[0]:void 0);return a&&z&&H($,i,{configurable:!0,set:function e(t){this===$&&e.call(B,t),s(this,R)&&s(this[R],i)&&(this[R][i]=!1),H(this,i,w(1,t))}}),K(i)})[P],"toString",function(){return this._k}),T.f=X,A.f=q,i(121).f=E.f=Z,i(124).f=J,i(160).f=ee,a&&!i(88)&&c($,"propertyIsEnumerable",J,!0),_.f=function(e){return K(f(e))}),o(o.G+o.W+o.F*!W,{Symbol:N});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)f(te[ie++]);for(var ne=O(f.store),re=0;ne.length>re;)m(ne[re++]);o(o.S+o.F*!W,"Symbol",{for:function(e){return s(V,e+="")?V[e]:V[e]=N(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!W,"Object",{create:function(e,t){return void 0===t?C(e):Y(C(e),t)},defineProperty:q,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),L&&o(o.S+o.F*(!W||u(function(){var e=N();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=t=n[1],(b(t)||void 0!==e)&&!Q(e))return v(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!Q(t))return t}),n[1]=t,x.apply(L,n)}}),N[P][k]||i(33)(N[P],k,N[P].valueOf),h(N,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,i){var n=i(11),r=i(87),a=i(88),s=i(421),o=i(22).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:s.f(e)})}},function(e,t,i){var o=i(78),c=i(160),l=i(124);e.exports=function(e){var t=o(e),i=c.f;if(i)for(var n,r=i(e),a=l.f,s=0;r.length>s;)a.call(e,n=r[s++])&&t.push(n);return t}},function(e,t,i){var n=i(9),r=i(58).onFreeze;i(39)("freeze",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(e,t,i){var n=i(9),r=i(58).onFreeze;i(39)("seal",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(e,t,i){var n=i(9),r=i(58).onFreeze;i(39)("preventExtensions",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(e,t,i){var n=i(9);i(39)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(e,t,i){var n=i(9);i(39)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(e,t,i){var n=i(9);i(39)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(e,t,i){var n=i(38),r=i(51).f;i(39)("getOwnPropertyDescriptor",function(){return function(e,t){return r(n(e),t)}})},function(e,t,i){var n=i(49),r=i(95);i(39)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,i){var n=i(49),r=i(78);i(39)("keys",function(){return function(e){return r(n(e))}})},function(e,t,i){i(39)("getOwnPropertyNames",function(){return i(422).f})},function(e,t,i){var n=i(6);n(n.S+n.F,"Object",{assign:i(416)})},function(e,t,i){var n=i(6);n(n.S,"Object",{is:i(950)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,i){var n=i(6);n(n.S,"Object",{setPrototypeOf:i(241).set})},function(e,t,i){var n=i(22).f,r=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in r||i(31)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,i){var n=i(6),s=i(38),o=i(24);n(n.S,"String",{raw:function(e){for(var t=s(e.raw),i=o(t.length),n=arguments.length,r=[],a=0;a<i;)r.push(String(t[a++])),a<n&&r.push(String(arguments[a]));return r.join("")}})},function(e,t,i){var n=i(6),a=i(92),s=String.fromCharCode,r=String.fromCodePoint;n(n.S+n.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,r=0;r<n;){if(t=+arguments[r++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},function(e,t,i){"use strict";var n=i(6),r=i(956)(!1);n(n.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,i){var c=i(76),l=i(77);e.exports=function(o){return function(e,t){var i,n,r=String(l(e)),a=c(t),s=r.length;return a<0||s<=a?o?"":void 0:(i=r.charCodeAt(a))<55296||56319<i||a+1===s||(n=r.charCodeAt(a+1))<56320||57343<n?o?r.charAt(a):i:o?r.slice(a,a+2):n-56320+(i-55296<<10)+65536}}},function(e,t,i){var n=i(6);n(n.P,"String",{repeat:i(423)})},function(e,t,i){"use strict";var n=i(6),r=i(24),a=i(243),s="startsWith",o=""[s];n(n.P+n.F*i(244)(s),"String",{startsWith:function(e){var t=a(this,e,s),i=r(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,i):t.slice(i,i+n.length)===n}})},function(e,t,i){"use strict";var n=i(6),s=i(24),o=i(243),c="endsWith",l=""[c];n(n.P+n.F*i(244)(c),"String",{endsWith:function(e){var t=o(this,e,c),i=1<arguments.length?arguments[1]:void 0,n=s(t.length),r=void 0===i?n:Math.min(s(i),n),a=String(e);return l?l.call(t,a,r):t.slice(r-a.length,r)===a}})},function(e,t,i){"use strict";var n=i(6),r=i(243);n(n.P+n.F*i(244)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,i){i(31)&&"g"!=/./g.flags&&i(22).f(RegExp.prototype,"flags",{configurable:!0,get:i(962)})},function(e,t,i){"use strict";var n=i(13);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,i){i(161)("match",1,function(n,r,e){return[function(e){"use strict";var t=n(this),i=null==e?void 0:e[r];return void 0!==i?i.call(e,t):new RegExp(e)[r](String(t))},e]})},function(e,t,i){i(161)("replace",2,function(r,a,s){return[function(e,t){"use strict";var i=r(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,i,t):s.call(String(i),e,t)},s]})},function(e,t,i){i(161)("split",2,function(r,a,s){"use strict";var p=i(424),f=s,_=[].push,e="split",m="length";if("c"=="abbc"[e](/(b)*/)[1]||4!="test"[e](/(?:)/,-1)[m]||2!="ab"[e](/(?:ab)*/)[m]||4!="."[e](/(.?)(.?)/)[m]||1<"."[e](/()()/)[m]||""[e](/.?/)[m]){var g=void 0===/()??/.exec("")[1];s=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!p(e))return f.call(i,e,t);var n,r,a,s,o,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,d=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,l+"g");for(g||(n=new RegExp("^"+h.source+"$(?!\\s)",l));(r=h.exec(i))&&!(u<(a=r.index+r[0][m])&&(c.push(i.slice(u,r.index)),!g&&1<r[m]&&r[0].replace(n,function(){for(o=1;o<arguments[m]-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),1<r[m]&&r.index<i[m]&&_.apply(c,r.slice(1)),s=r[0][m],u=a,c[m]>=d));)h.lastIndex===r.index&&h.lastIndex++;return u===i[m]?!s&&h.test("")||c.push(""):c.push(i.slice(u)),c[m]>d?c.slice(0,d):c}}else"0"[e](void 0,0)[m]&&(s=function(e,t){return void 0===e&&0===t?[]:f.call(this,e,t)});return[function(e,t){var i=r(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,i,t):s.call(String(i),e,t)},s]})},function(e,t,i){i(161)("search",1,function(n,r,e){return[function(e){"use strict";var t=n(this),i=null==e?void 0:e[r];return void 0!==i?i.call(e,t):new RegExp(e)[r](String(t))},e]})},function(e,t,i){"use strict";var h=i(48),n=i(6),p=i(49),f=i(415),_=i(238),m=i(24),g=i(245),v=i(239);n(n.S+n.F*!i(157)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,n,r,a=p(e),s="function"==typeof this?this:Array,o=arguments.length,c=1<o?arguments[1]:void 0,l=void 0!==c,u=0,d=v(a);if(l&&(c=h(c,2<o?arguments[2]:void 0,2)),null==d||s==Array&&_(d))for(i=new s(t=m(a.length));u<t;u++)g(i,u,l?c(a[u],u):a[u]);else for(r=d.call(a),i=new s;!(n=r.next()).done;u++)g(i,u,l?f(r,c,[n.value,u],!0):n.value);return i.length=u,i}})},function(e,t,i){"use strict";var n=i(6),r=i(245);n(n.S+n.F*i(19)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);e<t;)r(i,e,arguments[e++]);return i.length=t,i}})},function(e,t,i){var n=i(6);n(n.P,"Array",{copyWithin:i(413)}),i(96)("copyWithin")},function(e,t,i){"use strict";var n=i(6),r=i(123)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}}),i(96)("find")},function(e,t,i){"use strict";var n=i(6),r=i(123)(6),a="findIndex",s=!0;a in[]&&Array(1)[a](function(){s=!1}),n(n.P+n.F*s,"Array",{findIndex:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}}),i(96)(a)},function(e,t,i){var n=i(6);n(n.P,"Array",{fill:i(235)}),i(96)("fill")},function(e,t,i){var n=i(6),r=i(11).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,i){var n=i(6);n(n.S,"Number",{isInteger:i(425)})},function(e,t,i){var n=i(6),r=i(425),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return r(e)&&a(e)<=9007199254740991}})},function(e,t,i){var n=i(6);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,i){var n=i(6);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,i){var n=i(6);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,i){var n=i(6);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,i){var n=i(6),r=i(426),a=Math.sqrt,s=Math.acosh;n(n.S+n.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:r(e-1+a(e-1)*a(e+1))}})},function(e,t,i){var n=i(6),r=Math.asinh;n(n.S+n.F*!(r&&0<1/r(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,i){var n=i(6),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,i){var n=i(6),r=i(246);n(n.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,i){var n=i(6);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,i){var n=i(6),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,i){var n=i(6),r=i(247);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,i){var n=i(6);n(n.S,"Math",{fround:i(988)})},function(e,t,i){var a=i(246),n=Math.pow,s=n(2,-52),o=n(2,-23),c=n(2,127)*(2-o),l=n(2,-126);e.exports=Math.fround||function(e){var t,i,n=Math.abs(e),r=a(e);return n<l?r*(n/l/o+1/s-1/s)*l*o:c<(i=(t=(1+o/s)*n)-(t-n))||i!=i?r*(1/0):r*i}},function(e,t,i){var n=i(6),c=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var i,n,r=0,a=0,s=arguments.length,o=0;a<s;)o<(i=c(arguments[a++]))?(r=r*(n=o/i)*n+1,o=i):r+=0<i?(n=i/o)*n:i;return o===1/0?1/0:o*Math.sqrt(r)}})},function(e,t,i){var n=i(6),r=Math.imul;n(n.S+n.F*i(19)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var i=+e,n=+t,r=65535&i,a=65535&n;return 0|r*a+((65535&i>>>16)*a+r*(65535&n>>>16)<<16>>>0)}})},function(e,t,i){var n=i(6);n(n.S,"Math",{log1p:i(426)})},function(e,t,i){var n=i(6);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,i){var n=i(6);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,i){var n=i(6);n(n.S,"Math",{sign:i(246)})},function(e,t,i){var n=i(6),r=i(247),a=Math.exp;n(n.S+n.F*i(19)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,i){var n=i(6),r=i(247),a=Math.exp;n(n.S,"Math",{tanh:function(e){var t=r(e=+e),i=r(-e);return t==1/0?1:i==1/0?-1:(t-i)/(a(e)+a(-e))}})},function(e,t,i){var n=i(6);n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,i){"use strict";var n=i(6),r=i(231)(!0);n(n.P,"Array",{includes:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}}),i(96)("includes")},function(e,t,i){var n=i(6),r=i(427)(!1);n(n.S,"Object",{values:function(e){return r(e)}})},function(e,t,i){var n=i(6),r=i(427)(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},function(e,t,i){var n=i(6),c=i(419),l=i(38),u=i(51),d=i(245);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=l(e),r=u.f,a=c(n),s={},o=0;a.length>o;)void 0!==(i=r(n,t=a[o++]))&&d(s,t,i);return s}})},function(e,t,i){"use strict";var n=i(6),r=i(428),a=i(248);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padStart:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},function(e,t,i){"use strict";var n=i(6),r=i(428),a=i(248);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padEnd:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},function(e,t,i){var n=i(11),r=i(6),a=i(248),s=[].slice,o=/MSIE .\./.test(a),c=function(r){return function(e,t){var i=2<arguments.length,n=!!i&&s.call(arguments,2);return r(i?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,t)}};r(r.G+r.B+r.F*o,{setTimeout:c(n.setTimeout),setInterval:c(n.setInterval)})},function(e,t,i){var n=i(6),r=i(242);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,i){for(var n=i(240),r=i(78),a=i(57),s=i(11),o=i(33),c=i(94),l=i(17),u=l("iterator"),d=l("toStringTag"),h=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),_=0;_<f.length;_++){var m,g=f[_],v=p[g],y=s[g],b=y&&y.prototype;if(b&&(b[u]||o(b,u,h),b[d]||o(b,d,g),c[g]=h,v))for(m in n)b[m]||a(b,m,n[m],!0)}},function(e,t,i){(function(e,M){var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";var t=Object.prototype,l=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",n=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag",s="object"===N(M),o=e.regeneratorRuntime;if(o)s&&(M.exports=o);else{(o=e.regeneratorRuntime=s?M.exports:{}).wrap=v;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",_={},c={};c[r]=function(){return this};var u=Object.getPrototypeOf,m=u&&u(u(D([])));m&&m!==t&&l.call(m,r)&&(c=m);var g=S.prototype=b.prototype=Object.create(c);I.prototype=g.constructor=S,S.constructor=I,S[a]=I.displayName="GeneratorFunction",o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===I||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},o.awrap=function(e){return{__await:e}},w(C.prototype),C.prototype[n]=function(){return this},o.AsyncIterator=C,o.async=function(e,t,i,n){var r=new C(v(e,t,i,n));return o.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(g),g[a]="Generator",g[r]=function(){return this},g.toString=function(){return"[object Generator]"},o.keys=function(i){var n=[];for(var e in i)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in i)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=D,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var n=this;function e(e,t){return a.type="throw",a.arg=i,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],a=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=l.call(r,"catchLoc"),o=l.call(r,"finallyLoc");if(s&&o){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),A(i),_}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;A(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:D(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),_}}}function v(e,t,i,n){var a,s,o,c,r=t&&t.prototype instanceof b?t:b,l=Object.create(r.prototype),u=new O(n||[]);return l._invoke=(a=e,s=i,o=u,c=d,function(e,t){if(c===p)throw new Error("Generator is already running");if(c===f){if("throw"===e)throw t;return{value:void 0,done:!0}}for(o.method=e,o.arg=t;;){var i=o.delegate;if(i){var n=E(i,o);if(n){if(n===_)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(c===d)throw c=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);c=p;var r=y(a,s,o);if("normal"===r.type){if(c=o.done?f:h,r.arg===_)continue;return{value:r.arg,done:o.done}}"throw"===r.type&&(c=f,o.method="throw",o.arg=r.arg)}}),l}function y(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function b(){}function I(){}function S(){}function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(o){function c(e,t,i,n){var r=y(o[e],o,t);if("throw"!==r.type){var a=r.arg,s=a.value;return s&&"object"===(void 0===s?"undefined":N(s))&&l.call(s,"__await")?Promise.resolve(s.__await).then(function(e){c("next",e,i,n)},function(e){c("throw",e,i,n)}):Promise.resolve(s).then(function(e){a.value=e,i(a)},n)}n(r.arg)}var t;"object"===N(e.process)&&e.process.domain&&(c=e.process.domain.bind(c)),this._invoke=function(i,n){function e(){return new Promise(function(e,t){c(i,n,e,t)})}return t=t?t.then(e,e):e()}}function E(e,t){var i=e.iterator[t.method];if(void 0===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var n=y(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,_;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,_):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function D(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(l.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:F}}function F(){return{value:void 0,done:!0}}}("object"===(void 0===e?"undefined":N(e))?e:"object"===("undefined"==typeof window?"undefined":N(window))?window:"object"===("undefined"==typeof self?"undefined":N(self))?self:this)}).call(t,i(5),i(1008)(e))},function(e,t,i){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";(function(e){if(e.performance||(e.performance={}),!e.performance.now){var t,i=e.performance.timing;t=i&&i.navigationStart?i.navigationStart:Date.now(),e.performance.now=function(){return Date.now()-t}}}).call(t,i(5))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(a){var i=s(0),n=s(1188),r=s(1495);i._88(function(){var e=function(){var e=a.location.search;if(!e||e.length<1)return"drive";for(var t=e.substr(1).split("&"),i={},n=0;n<t.length;n++){var r=t[n].match(/(.+)=(.+)/);r&&(i[r[1]]=r[2])}return i.mode||"drive"}(),t=void 0;switch(e){case"drive":t=n.a.create({name:"iclouddrive"});break;case"recovery":t=r.a.create({name:"iclouddrive"});break;case"office":t=n.a.create({name:"iclouddrive",shouldDisplayToolbar:!1,shouldEnableRemoteActions:!0});break;default:return void i._100.error("Invalid application launch mode",e)}t.load()})}.call(t,s(5))},function(e,t,i){"use strict";t.a=function(e){var t=!1;if(e){if(!Array.isArray(e)){e._isCwCollection&&e.objectAt||(t=!0)}}else t=!0;t&&Object(l.b)("CW.Utils.appendArrays expects an array and got: "+e);for(var i=1,n=arguments.length;i<n;i++){var r=arguments[i],a=e.length,s=r.length,o=0,c=a;if(r._isCwCollection&&r.objectAt)for(;o<s;o++,c++)e.splice(c,0,r.objectAt(o));else for(;o<s;o++,c++)e.splice(c,0,r[o])}return e};var l=i(23)},function(e,t,i){"use strict";i(430)},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(23),r=function(e,t){if(t.remove)t.remove(e);else{Array.isArray(t)||Object(n.b)("removeItemFromArray: argument array must be an Array or implement a remove method");var i=t.indexOf(e);0<=i&&t.splice(i,1)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=new Set,n=function(e){var t,i,n;for(t=[],i=0,n=e.length;i<n;i++){var r=e[i];a.has(r)||t.push(r),a.add(r)}return a.clear(),t}},function(e,t,i){"use strict";(function(e){i(23),e.atob;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";!function(){for(var e={},t=0,i=n.length;t<i;t++)e[n[t]]=t}()}).call(t,i(5))},function(e,t,i){},function(e,t,i){"use strict";t.a=function(e){return null!=e}},function(e,t,i){"use strict";t.a=function(e){return"boolean"==typeof e}},function(e,t,i){"use strict";t.a=function(e){if(!e)return!0;if(Object(n.a)(e)||Object(r.a)(e))return!e.length;if(e._isCwCollection)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};var n=i(162),r=i(163)},function(e,i,t){"use strict";(function(t){i.a=function(e){return e instanceof t.Function||!(!e||"function"!=typeof e||e instanceof t.Element)}}).call(i,t(5))},function(e,t,i){"use strict";t.a=function(e){return e&&"function"==typeof e.then}},function(e,t,i){"use strict";t.a=function(e,t){var i,n,r=arguments.length;for(i=2;i<r;i++)t[n=arguments[i]]=e[n];return t}},function(e,t,i){"use strict";t.a=function(e){return Object(n.b)(e,n.b)};var n=i(253)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(253).b},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(98),n=function(e,t,i,n){return e.addEventListener(t,Object(r.a)(i),n||!1)}},function(e,t,i){"use strict";i(254)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(98),n=function(e,t,i,n){return e.removeEventListener(t,Object(r.a)(i),n||!1)}},function(e,n,r){"use strict";(function(t){r.d(n,"a",function(){return e});var i=r(98),e=function(e){return t.requestAnimationFrame(Object(i.a)(e))}}).call(n,r(5))},function(e,t,i){"use strict";(function(n){i.d(t,"a",function(){return e});var r=i(98),e=function(e,t){var i=arguments;return i[0]=Object(r.a)(e),n.setInterval.apply(n,i)}}).call(t,i(5))},function(e,t,i){"use strict";(function(n){i.d(t,"a",function(){return e});var r=i(98),e=function(e,t){var i=arguments;return i[0]=Object(r.a)(e),n.setTimeout.apply(n,i)}}).call(t,i(5))},function(e,t,i){"use strict";i(439),i(438),i(255)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e){return e}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){}},function(e,t,i){"use strict";t.a=function(e,t){var i=Object(a.a)(arguments,0,1),n="_cw_boundFunction_"+Object(s.a)(arguments);null==t&&o(t);var r=t[n];return r||(r=t[n]=e.bind.apply(e,i),t[n]||o(t)),r};var a=i(251),n=i(23),s=i(440);function o(e){Object(n.b)("CW.Utils.bindFunction cannot bind a function to a primitive or frozen object ("+e+" in this case). Use `Function#bind` instead.")}},function(e,t,i){"use strict";t.a=function(e){return r(e.constructor)||r(e)||"<object>"};var n=i(165);function r(e){var t=e.__QUALIFIED_CLASS_NAME__;if(t)return e.hasOwnProperty("__QUALIFIED_CLASS_NAME__")||(e.isClass&&!e.isInitialized?t+="(Uninitialized subclass "+Object(n.a)(e)+")":t+="(Anonymous subclass "+Object(n.a)(e)+")"),t}},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";t.a=function(e,t,i){var n,r,a;if(e===t||!e&&!t)return!1;if(e&&!t)r=Object.keys(e);else if(!e&&t)a=Object.keys(t);else{var s,o;i&&(s=Object(f.a)(i));var c,l,u,d,h={};for(o in r=[],n=[],e)h[o]=!0,s&&s[o]||(c=Object.prototype.hasOwnProperty.call(e,o),l=e[o],u=Object.prototype.hasOwnProperty.call(t,o),d=t[o],!u&&c||void 0===d&&void 0!==l?r.push(o):Object(p.a)(l,d)||n.push(o));for(o in a=[],t)h[o]||a.push(o)}return!!(a&&0!==a.length||r&&0!==r.length||n&&0!==n.length)&&{updated:n||[],removed:r||[],added:a||[]}};var p=i(434),f=i(432)},function(e,t,i){"use strict";t.a=function(e,t){var i=Object(a.a)(t,e);if(i)return Object(n.a)(i,Object(r.a)(t))};var n=i(257),r=i(441),a=i(442)},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(23),a=[],n=function(){0===arguments.length&&Object(r.b)("[CW.Utils#merge] Must provides objects to merge");var e=arguments.length;a.length=e+1-0;for(var t=0,i=1;t<e;t++,i++)a[i]=arguments[t];var n=a;return n[0]={},Object.assign.apply(this,n)}},function(e,t,i){"use strict";t.a=function(e,t,i){if(e)return e[t]=i,e}},function(e,t,i){"use strict";t.a=function(e,t,i){return i!==e.get(t)&&e.set(t,i),e}},function(e,t,i){"use strict";t.a=function(e,t,i){null==i?delete e[t]:e[t]=i}},function(e,t,i){"use strict";t.a=function(e,t){if(("number"!=typeof e||void 0!==t&&"number"!=typeof t)&&Object(r.b)("Must only provide numbers as params."),0===e)return"0 bytes";var i=void 0===t?2:t,n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,n)).toFixed(i)+" "+["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]};var r=i(23)},function(e,t,i){"use strict";t.a=function(e,t){var i=c[e];if(i)return i;if(!e)return"";for(var n,r,a=0,s="",o=!0;n=e[a];)t&&n===t||!t&&l[n]?r=!0:u.test(n)&&(r&&(n=n.toUpperCase()),o&&(n=n.toLowerCase()),s+=n,o=r=!1),a++;return c[e+(t||"")]=s};var c={},l={"-":!0,_:!0,".":!0," ":!0,"\t":!0},u=/[a-zA-Z0-9]/},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=[[4352,4607],[11904,12031],[12032,12255],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[63744,64255],[65072,65103]],n=function(e){var t,i=a;if(!e)return!1;for(var n=0,r=i.length;n<r;++n)if(e>=(t=i[n])[0]&&e<=t[1])return!0;return!1},r=function(e){if(0===(e=e.trim()).length)return!1;for(var t=0,i=e.length-1;t<=i;)if(!n(e.charCodeAt(t++))||!n(e.charCodeAt(i--)))return!1;return!0}},function(e,t,i){"use strict";t.b=function(e){return c(e,n,o)},t.a=function(e){return c(e,r,o)},t.c=function(e){return c(e,s,"\\$&")};var n=/[&<>]/g,r=/[&<>'"]|((((j|v[^\w ]*b|l[^\w ]*i[^\w ]*v[^\w ]*e).*)?)+(?:[^\w ]*\w)+[^\w ]*s[^\w ]*c[^\w ]*r[^\w ]*i[^\w ]*p[^\w ]*t[^\w ]*:)/gi,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s=/[-/\\^$*+?.()|[\]{}]/g;function o(e){return a[e]||""}function c(e,t,i){if(!e)return"";if("string"!=typeof e)try{e=e.toString()}catch(e){return""}return e.replace(t,i)}},function(e,t,i){"use strict";t.a=function d(e,t,i){if(!e)return S;t||null===t||!1===t||(t=f);var n=t||i?Object(p.a)(t)+I+e+I+!!i:e,r=w[n];if(r)return r;if(Array.isArray(t))return w[n]=function(e,t,i){var n=function(e){var t=Object(p.a)(e),i=C[t];if(i)return i;var n=e.map(function(e){return"i"===e[0]&&g(e[1])?"I"+e.substring(1):null}).filter(Boolean);return e=e.concat(n),i=C[t]=new RegExp(e.join("|"),"g")}(t),r=e.match(n);if(!r||!r.length)return d(e,null,i);for(var a=e.split(n),s=d(a[0]),o=0,c=r.length;o<c;o++){var l=r[o];i||(l=l.toLowerCase());var u=a[o+1];u&&(u=d(u,null,i)),s+=(s&&b)+l,u&&(s+=(v(u[0])?b:"")+u)}return s}(e,t,i);var a,s,o,c,l,u=e.length,h="";for(a=0;a<u;a++)s=e[a-1],c=(o=e[a]).toLowerCase(),l=e[a+1],s&&y(o)&&y(s)&&(!g(s)&&g(o)||_(s)&&v(o)||l&&g(s)&&g(o)&&m(l))?h+=b+c:h+=c;return w[n]=h};var p=i(165);var f=["iOS","iPhone","iPad","iPod","WebKit"];function n(e,t){var n=e.charCodeAt(0),r=t.charCodeAt(0),a={};return function(e){var t=a[e];if(void 0!==t)return t;var i=e.charCodeAt(0);return a[e]=n<=i&&i<=r}}var _=n("0","9"),m=n("a","z"),g=n("A","Z"),v=function(e){return m(e)||g(e)},y=function(e){return v(e)||_(e)},b="-",I="#",S="",w={},C={}},function(e,t,i){"use strict";t.a=function(e,t){if(Object(u.a)(e)&&Object(u.a)(t))return e<t?-1:t<e?1:0;e+="",t+="";for(var i=0,n=0,r=!1;;){var a=e.charAt(i),s=t.charAt(n);if(""!==a||""!==s)if(p(a)&&p(s)){var o=f(e,i),c=f(t,n);if(i+=o.length,n+=c.length,(o=parseInt(o))!==(c=parseInt(c)))return o<c?-1:1}else{++i,++n;var l=g(a,s,r);if(l)return l}else{if(r)return 0;r=!0,i=n=0}}};var u=i(252),d=i(443),r={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"},h={"":"","":""};function p(e){return"0"<=(e=r[e]||e)&&e<="9"}function f(e,t){for(var i="";;){var n=e.charAt(t++);if((n=r[n]||n)<"0"||"9"<n)return i;i+=n}}function _(e){return e<32?1:e<33?1:e<48?0:e<58?1:e<65?0:e<91?1:e<97?0:e<123?1:0}function m(e){return e<="Z"?2:e<="z"?1:3}function g(e,t,i){if(e===t)return 0;if(""===e)return-1;if(""===t)return 1;if(h[e]===t||h[t]===e){var n=e;e=t,t=n}var r=(d.a[e]||e).toUpperCase(),a=(d.a[t]||t).toUpperCase(),s=_(r.charCodeAt(0)),o=_(a.charCodeAt(0));if(s!==o)return s<o?-1:1;if(r!==a)return r<a?-1:1;if(!i)return 0;var c=m(e),l=m(t);return c!==l?c<l?-1:1:e<t?-1:1}},function(e,t,i){"use strict";t.a=function(e){for(var t=[],i=/((?:(?:\\\\)*|(?:\\\.)|[^\\.])+)(?:\.|$)/g,n=e.length;i.lastIndex<n;){var r=i.exec(e);0===(r=r[1]).length&&Object(a.b)("Cannot parse a property path with an empty component ('%{path}').",{path:e}),r=(r=r.replace(/\\\./g,".")).replace(/\\\\/g,"\\"),t.push(r)}return t};var a=i(23)},function(e,t,i){"use strict";i(23)},function(e,t,i){"use strict";i(23)},function(e,t,i){"use strict";function n(e){this.message=e,this.name=this.constructor.name;var t=Error(e);this.stack=t.stack}(n.prototype=Object.create(Error.prototype)).constructor=n},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i(23),i(256),i(445)},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";t.a=function(){return n=Object(r.a)(n),Object(a.a)(n)};var n,r=i(446),a=i(447)},function(e,t,i){"use strict";(function(e){e.Uint8Array||e.Array}).call(t,i(5))},function(e,t,i){"use strict";(function(i){t.a=function(e,t){return e&&e.instanceOf?e.instanceOf(t):(t===i.Event||"function"==typeof t)&&e instanceof t}}).call(t,i(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(2),r=i(260),a=[],s={mixinDependencies:[r.a],staticMembers:{cloneKeys:[]},clone:function(){var e=this.constructor.get("cloneKeys");Object(n.X)(a,e,2,0),a[0]=this,a[1]={};var t=n.q.apply(null,a);return this.constructor.create(t)}}},function(e,a,s){"use strict";(function(e){s.d(a,"a",function(){return n}),s.d(a,"b",function(){return r});var t=s(79),i=s(100),n={mixinDependencies:[t.a],isExceptionHandlingEnabled:!1,isExceptionHandlingFatal:!0,exceptionHandler:i.a.define(),exceptionWasHandled:!1},r={mixinDependencies:[t.a],staticMembers:e.Object.assign({},n)};delete r.staticMembers.mixinDependencies}).call(a,s(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a});var s=i(2),n=i(40),o=i(265),c="[CW.Property#extendedForAccumulatorDefaultValue] Cannot extend property.",l=[],r=n.a.extend({init:function(e){this.value=Object(s._9)(arguments),this.__s._$eh$init.call(this)},value:null,initializeMember:function(e,t){var i,n=e[t],r=this.value;if(Array.isArray(n))i=n.concat.apply(n,r);else if(Object(s.O)(n))r.every(s.O)?(Object(s.X)(l,r,1,0),l[0]=n,i=s.U.apply(null,l)):Object(s.y)(c+" The default value of the superclass property is a hash, but the subclass does not provide a hash.",{value:r,property:this});else if(Object(o.a)(n))r.every(s.O)?i=n.extend.apply(n,r):Object(s.y)(c+" The default value of the superclass property is a class, but the subclass does not provide a hash.",{value:r,property:this});else if(Object(s.x)(n))Object(s.y)(c+" This property class returned a default value that is not valid for aggregation.  It must be either an array or a hash object.",{property:this,previousValue:n});else if(r.every(s.O))i=s.U.apply(null,r);else if(r.every(Array.isArray)){Object(s.X)(l,r,0,1);var a=r[0];i=a.concat.apply(a,l)}else Object(s.y)(c+" If the default value of the superclass property is "+n+", the subclass must provide a hash or an array.",{value:r,property:this});return i},staticMembers:{__QUALIFIED_CLASS_NAME__:"Accumulator"},__superMap:{_$eh$init:"init"}}),a=function(){return r.create.apply(r,arguments)}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(35),r=i(456).a.extend({metadataType:n.Property,staticMembers:{__QUALIFIED_CLASS_NAME__:"RequiredProperty"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(457),r=i(35),a={serializer:Object(r.property)(function(){return n.a.get("sharedInstance")}),serializedProperties:null,serialize:function(){var e=this.get("serializedProperties"),t=this.get("serializer"),i={};if(e)for(var n=0,r=e.length;n<r;n++){var a=e[n];i[a]=this.get(a)}return t.encode(i)},deserialize:function(e){return e?this.get("serializer").decode(e):null}}},function(e,n,s){"use strict";(function(a){s.d(n,"a",function(){return i});var l=s(2),e=s(99),t=s(267),i={mixinDependencies:[e.MetadataSupport,t.a],staticMembers:{initializeClass:function(){var e,t=arguments,i=this.prototype.getMetadataByType(s(454).SubclassProperty),n=!0;for(var r in i)i.hasOwnProperty(r)&&(n&&(n=!1,e=this.subclassProperties=Object(l._9)(this.subclassProperties)),e.push(r));n||(this._subclassInfo=new a.Array(e.length)),this._subclasses=null,this._isBaseClass&&(this._isBaseClass=!1,this.registerSubclass(this)),this.__s._$rT$initializeClass.apply(this,t)},_isBaseClass:!0,subclassProperties:[],extendAndRegister:function(){var e=this.extend.apply(this,Array.prototype.slice.call(arguments).concat([{staticMembers:{__QUALIFIED_CLASS_NAME__:"subclass"}}]));return e.shouldAutomaticallySubclass=!0,this.registerSubclass(e),e},subclassFor:function(e){var t=this._subclasses;if(null===t||void 0!==e&&!Object(l.O)(e))return this;var i,n,r=this.subclassProperties,a=r.length,s=this._subclassInfo,o=this.prototype;for(i=0;i<a;i++){var c=r[i];n=void 0,e&&(n=e[c]),void 0===n&&(n=o[c]),s[i]=n}return t[Object(l.E)(s)]},registerSubclass:function(e){var t=this._subclasses;t||(t=this._subclasses={});for(var i=this.subclassProperties,n=this._subclassInfo,r=i.length,a=e.prototype,s=0;s<r;s++){var o=a[i[s]];n[s]=o}(t[Object(l.E)(n)]=e)._subclasses=t},_subclasses:null,_subclassInfo:null,__superMap:{_$rT$initializeClass:"initializeClass"}}}}).call(n,s(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(460).a.extend({message:"Validation.InvalidEmail",pattern:/^.+@.+$/i,staticMembers:{__QUALIFIED_CLASS_NAME__:"EmailValidator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(2),r=i(101),a=i(35),s=r.Validator.extend({message:"Validation.InvalidLength",min:Object(a.property)({type:"number",defaultValue:0,set:function(e){return e<0&&Object(n.y)("Minimal value of a length can't be lower then 0"),e}}),max:Object(a.property)({type:"number",defaultValue:Number.POSITIVE_INFINITY}),validate:function(e){return("string"==typeof e||e instanceof String)&&e.length>=this.get("min")&&e.length<=this.get("max")},staticMembers:{__QUALIFIED_CLASS_NAME__:"LengthValidator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(2),r=i(101).Validator.extend({message:"Validation.IsEmpty",validate:function(e){return"boolean"==typeof e||e instanceof Boolean||(e="number"==typeof e||e instanceof Number?e.toString():e,!Object(n.M)(e))},staticMembers:{__QUALIFIED_CLASS_NAME__:"NotEmptyValidator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(101),r=i(35),a=n.Validator.extend({message:"Validation.InvalidRange",min:Object(r.property)({type:"number",defaultValue:Number.NEGATIVE_INFINITY}),max:Object(r.property)({type:"number",defaultValue:Number.POSITIVE_INFINITY}),validate:function(e){return("number"==typeof e||e instanceof Number)&&e>=this.get("min")&&e<=this.get("max")},staticMembers:{__QUALIFIED_CLASS_NAME__:"RangeValidator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(40).a.extend({_poolArray:null,_poolObjectCount:0,objectClass:null,init:function(){var e=arguments;this.__s._$De$init.apply(this,e),this._poolArray=[],this._poolObjectCount=0,this._generateClosures()},_generateClosures:function(){var t=this._poolObjectCount,i=this._poolArray,n=this.objectClass;this.getOrCreate=function(){var e;return 0<t?(e=i[t-1],i[t-1]=void 0,t--):e=n.create(),e},this.returnToPool=function(e){i[t]=e,t++}},getOrCreate:null,returnToPool:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"_ObjectPool"},__superMap:{_$De$init:"init"}})},function(e,t,i){"use strict";t.a=function(e,t){return e&&e.kindOf&&e.kindOf(t)}},function(e,t,i){"use strict";i(1),i(2);var n=i(494);i(127).a,n.a},function(e,d,h){"use strict";(function(e){h.d(d,"a",function(){return u});var t=h(1),s=h(2),i=h(126),n=h(495),r=h(496),a=h(497),o=t.Property.extend({get:function(){return this._map.size},staticMembers:{__QUALIFIED_CLASS_NAME__:"SizeProperty"}});function c(e){return this._map.has(e)}function l(e){return this._map.delete(e)}var u=t.CoreObject.extend(i.a,{_map:Object(t.instance)(e.Map),get:function(e){return this.decode(this.encodedGet(e))},encodedGet:function(e){return this._map.get(e)},set:function(e,t){return this.encodedSet(e,this.encode(t))},encodedSet:function(e,t){return this._map.set(e,t),this},encodedContains:function(e){for(var t=this.values().retain();t.isValid;){if(e===t.encodedValue)return t.release(),!0;t.moveToNext()}return t.release(),!1},forEach:function(e,t){for(var i=this.createIterator().retain();i.isValid;){var n=i.value;e.call(t,n[1],n[0],this),i.moveToNext()}i.release()},reduce:function(e,t,i){var n,r=this.createIterator().retain();for(2<=arguments.length?n=t:r.isValid?(n=r.value[1],r.moveToNext()):Object(s.y)("reduce of empty array with no initial value");r.isValid;){var a=r.value;n=e.call(i,n,a[1],a[0],this),r.moveToNext()}return r.release(),n},find:function(e,t){for(var i=this.createIterator().retain();i.isValid;){var n=i.value;if(e.call(t,n[1],n[0],this))return i.release(),n;i.moveToNext()}i.release()},every:function(e,t){for(var i=this.createIterator().retain();i.isValid;){var n=i.value;if(!e.call(t,n[1],n[0],this))return i.release(),!1;i.moveToNext()}return i.release(),!0},some:function(e,t){for(var i=this.createIterator().retain();i.isValid;){var n=i.value;if(e.call(t,n[1],n[0],this))return i.release(),!0;i.moveToNext()}return i.release(),!1},containsKey:c,has:c,removeKey:l,delete:l,clear:function(){this._map.clear()},length:Object(t.define)(o),size:Object(t.define)(o),iteratorClass:Object(t.property)({readOnly:!0,defaultValue:n.a}),keys:function(){return r.a.create(this)},values:function(){return a.a.create(this)},entries:function(){return n.a.create(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"CoreMap"}})}).call(d,h(5))},function(e,s,o){"use strict";(function(l){o.d(s,"a",function(){return n});var u=o(2),e=o(1),t=o(499),i=o(127),r={},c=[],n=t.a.extend(i.a,{_array:Object(e.instance)(l.Array),encodedRawSplice:function(e,t){var i,n,r,a=this._map,s=this._array,o=e+t;for(i=e;i<o;i++)n=s[i],delete a[Object(u.D)(n)];for(c.length=2,c[0]=e,c[1]=t,o=arguments.length,i=2;i<o;i++)n=arguments[i],r=Object(u.D)(n),a.hasOwnProperty(r)||(a[r]=e+c.length-2,c.push(n));return s.splice.apply(s,c)},encodedAdd:function(e){var t=Object(u.D)(e),i=this._map;return!i.hasOwnProperty(t)&&(i[t]=this._array.push(e)-1,!0)},encodedRemove:function(e){var t=Object(u.D)(e),i=this._map;if(!i.hasOwnProperty(t))return!1;var n=i[t];delete i[t];var r=this._array,a=r[n];if(!l.Object.is(a,e))for(var s=this.get("length"),o=0;o<s;o++){var c=r[o];if(l.Object.is(c,e)){n=o;break}}return r.splice(n,1),!0},encodedContains:function(e){return t.a.prototype.encodedContains.apply(this,arguments)},encodedObjectAt:function(e){return this._array[e]},length:Object(e.property)({readOnly:!1,get:a,set:function(e){e<0&&Object(u.y)("Invalid length %{length}. Must be a positive integer.",{length:e,object:this});var t=this.get("_internalLength"),i=t-e;0<i?this.splice(e,i):i<0&&this.splice(t,0,void 0)}}),_internalLength:Object(e.property)({readOnly:!0,get:a}),swap:function(e,t){var i=this.objectAt(t),n=this.objectAt(e);return this.setIndex(e,r),this.setIndex(t,n),this.setIndex(e,i),this},staticMembers:{__QUALIFIED_CLASS_NAME__:"OrderedSet"}});function a(){return this._array.length}}).call(s,o(5))},function(e,t,i){"use strict";var n=i(1),r=(i(2),i(127));"function"==typeof Symbol&&Symbol.iterator;n.Protocol,r.a},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1),r=i(498),a=i(492),s=i(493),o=r.a.extend({HandleProviderClass:s.a,handleProviderDelegate:Object(n.instance)(n.CoreObject.extend(a.a)),staticMembers:{__QUALIFIED_CLASS_NAME__:"TreeArrayProxy"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return u}),i.d(t,"a",function(){return d});var a=i(1),n=i(2),r=i(20),o=i(504),s=i(505),c=i(102),l=i(18),u={mixinDependencies:[s.b],origin:Object(a.define)(a.RequiredProperty),top:Object(a.define)(a.RequiredProperty),bottom:Object(a.define)(a.RequiredProperty),left:Object(a.define)(a.RequiredProperty),right:Object(a.define)(a.RequiredProperty),isAbove:function(e){return this.bottom<=e.top},isBelow:function(e){return this.top>=e.bottom},isLeftOf:function(e){return this.right<=e.left},isRightOf:function(e){return this.left>=e.right},intersects:function(e){return!(this.isAbove(e)||this.isBelow(e)||this.isRightOf(e)||this.isLeftOf(e))},containsPoint:function(e){var t=e.x,i=e.y;return t>=this.left&&t<this.right&&i>=this.top&&i<this.bottom},toString:function(){var e=arguments;return this.__s._$12U$toString.apply(this,e)+Object(n.z)("{ origin: (%{x},%{y}) size: (%{width}, %{height}) }",this)},__superMap:{_$12U$toString:"toString"}},d=a.CoreObject.extend(r.a,u,{_origin:null,init:function(e){var t=arguments;if(Object(n.G)(e,u))return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this.__s._$1LC$init.call(this);this.__s._$1LC$init.apply(this,t)},origin:Object(l.observableProperty)({dependencies:["x","y"],strong:!0,get:Object.assign(function(){var e=this.y,t=this.x,i=this._origin;return i?(i.set("x",t),i.set("y",e)):i=this._origin=o.a.create({x:t,y:e}),i},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]),a=n.internalGet(this,t[0+i]),s=this._origin;return s?(s.set("x",a),s.set("y",r)):s=this._origin=o.a.create({x:a,y:r}),s}}),set:Object.assign(function(e){Object(a.isCoreObject)(e)||(e=o.a.create(e)),this.x=e.x,this.y=e.y,this._origin=e},{__CW__setter:function(e,t,i,n,r){Object(a.isCoreObject)(e)||(e=o.a.create(e)),i[0+n]=e.x,i[1+n]=e.y,this._origin=e}}),writeDependencySetPathMap:["false","false"]}),x:Object(l.observableProperty)(),y:Object(l.observableProperty)(),width:Object(l.observableProperty)(),height:Object(l.observableProperty)(),top:Object(l.observableProperty)({binding:Object(c.c)("y"),readOnly:!0}),bottom:Object(l.observableProperty)({readOnly:!0,cacheable:!0,dependencies:["height","y"],get:Object.assign(function(){return this.y+this.height},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])+n.internalGet(this,t[0+i])}})}),left:Object(l.observableProperty)({binding:Object(c.c)("x"),readOnly:!0,cacheable:!0}),right:Object(l.observableProperty)({readOnly:!0,cacheable:!0,dependencies:["width","x"],get:Object.assign(function(){return this.x+this.width},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])+n.internalGet(this,t[0+i])}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"Rect"},__superMap:{_$1LC$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(501).a.extend({processAction:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.apply(void 0,i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"Processor"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var u=i(1),n=i(20),r=i(18),a={mixinDependencies:[n.a],errors:Object(r.observableProperty)(),validate:function(e){var t,i,n,r,a,s=this.getMetadataByType(u.Property),o=Object.keys(s),c=!0;e&&(o=Array.isArray(e)?e:[e]);var l={};for(t in s)if(s.hasOwnProperty(t)&&-1!==o.indexOf(t)){if(!(n=(i=s[t]).validators))continue;for(a=0;a<n.length;a++)(r=n[a]).validate(i.getForObject(this),t,this)||(void 0===l[t]&&(l[t]=[]),l[t].push(r.message),c=!1)}return this.errors=l,c}}},function(e,t,a){"use strict";(function(i){var e=a(1),n=a(2),t=a(20),r=a(131);e.CoreObject.extend(t.a,{benchmarkEvent:Object(r.signal)(),start:function(e,t){e?this.benchmarkEvent({name:e,context:t,timestamp:i.performance.now(),type:"start"}):Object(n.y)("Benchmark: name required")},stop:function(e,t){e?this.benchmarkEvent({name:e,context:t,timestamp:i.performance.now(),type:"stop"}):Object(n.y)("Benchmark: name required")},staticMembers:{__QUALIFIED_CLASS_NAME__:"Benchmark"}}).create()}).call(t,a(5))},function(e,n,r){"use strict";(function(t){r.d(n,"a",function(){return i});var e=r(1),i=e.CoreObject.extend(e.SharedInstance,{isFormData:function(e){return e instanceof t.FormData&&void 0!==e},isBlob:function(e){return e instanceof t.Blob},isFile:function(e){return e instanceof t.File},isFileList:function(e){return e instanceof t.FileList},blobSlice:function(e,t,i,n){var r=Blob.prototype;return(r.slice||r.webKitSlice||r.mozSlice).call(e,t,i,n)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FileAPI"}})}).call(n,r(5))},function(e,t,i){"use strict";i(1).SharedInstance},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1),r=i(133),a=n.CoreObject.extend(n.SharedInstance,{deltaMultiplierForScrollEvent:function(e){var t=1;e&&"mousewheel"===e.type&&(t=-.025);var i=r.a.get("sharedInstance");return i.isWebKit&&538<=i.engineMajorVersion?t=1:i.isSafari?t=-1/3:i.isFirefox&&(t=.5,e&&1===e.deltaMode&&(t=40)),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"Scrolling"}})},function(e,a,s){"use strict";(function(e){s.d(a,"a",function(){return r});var t=s(1),i=s(133),n=s(278),r=t.CoreObject.extend({init:function(e){var t;this.__s._$Gb$init.call(this,e),this.isPointerSupported?t="pointer":this.isTouchSupported?t="touch":this.isMouseSupported&&(t="mouse"),this.pointerEventClass=t||null},pointerEventClass:void 0,isPointerSupported:!1,isTouchSupported:!1,isMouseSupported:!1,isMouseWheelSupported:!1,isInputSupported:!1,staticMembers:{__QUALIFIED_CLASS_NAME__:"EventCapabilities"},__superMap:{_$Gb$init:"init"}}).create({isPointerSupported:e.navigator.msPointerEnabled||e.navigator.pointerEnabled,isTouchSupported:"createTouch"in document&&!n.a.get("sharedInstance").get("isWindows"),isMouseSupported:"onmousedown"in document,isMouseWheelSupported:"onwheel"in document||"onmousewheel"in document,isInputSupported:!i.a.get("sharedInstance").get("isIE9OrLower")})}).call(a,s(5))},function(e,t,n){"use strict";(function(e){var t=n(1),i=!!(e.File&&e.FileReader&&e.FileList&&e.Blob);t.CoreObject.extend(t.SharedInstance,{isSupported:i,staticMembers:{__QUALIFIED_CLASS_NAME__:"FileAPICapabilities"}}).sharedInstance}).call(t,n(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var f=i(2),n=function(e,t){var i,n,r=t.delay||50,a=t.timeout||1e4,s=t.testString||"MMMMMMMIIIa%@!",o=t.testFontFamily||'"Comic Sans MS"',c=t.testFontSize||"300px",l=t.fail,u=t.success,d=t.complete,h=document.createElement("canvas").getContext("2d");h.font=c+" "+o;var p=h.measureText(s).width;n=Object(f._6)(function(){h.font=c+' "'+e+'", '+o,h.measureText(s).width!==p&&0!==p&&(clearInterval(n),clearTimeout(i),u&&u(),d&&d(!0))},r),i=Object(f._8)(function(){clearInterval(n),l&&l(),d&&d(!1)},a)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(1).CoreObject.extend({init:function(e){this.__s._$5n$init.call(this,e);var t=document.createElement("a");this.isDownloadAttributeSupported=void 0!==t.download},isDownloadAttributeSupported:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"LinkCapabilities"},__superMap:{_$5n$init:"init"}}).create()},function(e,t,i){"use strict";t.a=function(e,t){Object(a.a)(t||r.a.get("sharedInstance"),e,"data-"),Object(a.a)(t||n.a.get("sharedInstance"),e,"data-")};var n=i(133),r=i(278),a=i(509)},function(e,r,s){"use strict";(function(e){s.d(r,"a",function(){return n});var t=s(1),i=s(2),n=t.CoreObject.extend(t.SharedInstance,{init:function(e){e||Object(i.y)("Storage#init requires a storage type."),this.__s._$6h$init.call(this),this.storageType=e},storageType:null,getItem:function(e,t){var i=a(this.storageType);return i&&i.getItem?(t&&(e=t+"."+e),i.getItem(e)):null},setItem:function(e,t,i){var n=a(this.storageType);if(n&&n.setItem){i&&(e=i+"."+e);try{return n.setItem(e,t),!0}catch(e){}}return!1},getKeys:function(e){var t=a(this.storageType),i=[];if(t){e?e+=".":e="";var n=e?e.length:0;for(var r in t)0===r.indexOf(e)&&i.push(r.substring(n))}return i},removeItem:function(e,t){var i=a(this.storageType);if(i&&i.removeItem){t&&(e=t+"."+e);try{return i.removeItem(e),!0}catch(e){}}return!1},clear:function(e){var t=a(this.storageType);if(t){if(e){for(var i=this.getKeys(e),n=0,r=i.length;n<r;n++)this.removeItem(i[n],e);return!0}try{return t.clear(),!0}catch(e){}}return!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"StorageManager"},__superMap:{_$6h$init:"init"}}).extend({init:function(){this.__s._$1Mb$init.call(this,"sessionStorage")},staticMembers:{__QUALIFIED_CLASS_NAME__:"SessionStorage"},__superMap:{_$1Mb$init:"init"}});function a(t){try{return e[t]}catch(e){i.T.warn("Could not get storage object for %@: %@",t,e)}}}).call(r,s(5))},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return s});var n=i(1),r=i(3),a={mixinDependencies:[i(510).a],isInFocusedLayer:Object(r.T)(Object(r.R)("isFocusedLayer")),isInFocusedBranch:Object(r.T)({readOnly:!0,dependencies:["isInFocusedLayer"],get:Object.assign(function(){return this.isInFocusedLayer},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),isFocusedLayer:Object(r.T)({readOnly:!1,defaultValue:!1}),focusResponder:Object(r.T)({dependencies:["focusedChild","focusedChild.focusResponder","isFocusedLayer"],readOnly:!0,get:Object.assign(function(){return this.isFocusedLayer?this.focusedChild&&this.focusedChild.focusResponder||(this.isFocusable?this:null):null},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[2+i])?n.internalGet(this,t[0+i])&&n.internalGetPath(this,t[1+i])||(this.isFocusable?this:null):null}})}),_previousFocusedLayerState:!1},s=n.CoreObject.extend(a,{staticMembers:{__QUALIFIED_CLASS_NAME__:"FocusLayer"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return c}),i.d(t,"a",function(){return d});var n=i(512),r=i(80),a=i(286),s=i(285),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c={mixinDependencies:[s.a],shouldEventActivateView:function(e,t){var i=t.element,n=e.target;return i===n||i.contains(n)}},l=r.b.Began,u=r.b.Changed,d=n.b.extend({stateGenerator:a.a,delegate:o({},s.a,c),willGestureSucceed:!1,shouldAllowMovementOutsideTarget:!1,pointerDown:function(e){var t=arguments;this.willGestureSucceed=this._willGestureSucceed(e),this.__s._$h0$pointerDown.apply(this,t),this.state=l},pointerMove:function(e){var t=arguments;this.willGestureSucceed=this._willGestureSucceed(e),this.__s._$kc$pointerMove.apply(this,t);var i=this.state;i!==l&&i!==u||(this.state=u)},pointerUp:function(e){var t=arguments;this.willGestureSucceed=this._willGestureSucceed(e),this.__s._$sV$pointerUp.apply(this,t)},_willGestureSucceed:function(e){return this.delegate.shouldEventActivateView(e,this.view)},shouldFailGesture:function(e){var t=arguments;return this.shouldAllowMovementOutsideTarget&&1===this.numberOfTapsRequired?"pointerUp"===e.cwType&&!this._willGestureSucceed(e):this.__s._$yJ$shouldFailGesture.apply(this,t)},reset:function(){this.willGestureSucceed=!1,this.__s._$za$reset.call(this)},didEnterPool:function(){var e=arguments;this.shouldAllowMovementOutsideTarget=!1,this.__s._$10D$didEnterPool.apply(this,e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ButtonTapGestureRecognizer"},__superMap:{_$h0$pointerDown:"pointerDown",_$kc$pointerMove:"pointerMove",_$sV$pointerUp:"pointerUp",_$yJ$shouldFailGesture:"shouldFailGesture",_$za$reset:"reset",_$10D$didEnterPool:"didEnterPool"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(1),r=i(286),a=i(80),s=a.b.Began,o=a.b.Changed,c=a.b.Ended,l=a.b.Failed,u=a.a.extend({_correctedStartingLocation:null,translation:Object(n.property)({get:function(){var e=this.location,t=this._correctedStartingLocation;return e&&t?{x:e.x-t.x,y:e.y-t.y}:{x:NaN,y:NaN}},set:function(e){var t=this.location,i=this._correctedStartingLocation;t&&i&&(i.x=t.x-e.x,i.y=t.y-e.y)}}),velocity:Object(n.property)({readOnly:!0,get:function(){var i={x:0,y:0},e=function(u){var d=u.length-1;if(d<=1)return"continue";var e=u.reduce(function(e,t,i){var n=e.elapsedTime;if(i===d)return{x:e.x/n,y:e.y/n};var r=u[i+1],a=t.timestamp-r.timestamp,s=Math.min(a,250-n),o=r.x-t.x,c=r.y-t.y,l=s/a;return e.x=e.x+o*l,e.y=e.y+c*l,e.elapsedTime=n+s,e},{x:0,y:0,elapsedTime:0}),t=Math.abs(e.x)+Math.abs(e.y);Math.abs(i.x)+Math.abs(i.y)<t&&(i=e)},t=this._trackedPointerLocations.values(),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}e(a)}return i}}),location:Object(n.property)({get:function(){var e=0,t=0,i=this._trackedPointerLocations,n=i.values(),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var s;if(r){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var o=s[0];e+=o.x,t+=o.y}var c=i.size;return{x:e/=c,y:t/=c}}}),stateGenerator:r.a,_trackedPointerLocations:Object(n.instance)(Map),_updatePointerLocation:function(e){var t=e.pointerId,i=e.clientX,n=e.clientY,r=this._trackedPointerLocations,a=performance.now(),s=r.get(t);s||(s=[],r.set(t,s)),s.unshift({x:i,y:n,timestamp:a});for(var o=a-250,c=s.length-1;0<=c;c--)if(s[c].timestamp>=o){s.splice(c+2);break}},pointerDown:function(e){if(0===this._trackedPointerLocations.size){this._updatePointerLocation(e);var t=this.location;this._correctedStartingLocation=t,this.state=s}else{var i=this.translation;this._updatePointerLocation(e),this.translation=i,this.state=o}},pointerMove:function(e){this._updatePointerLocation(e),this.state=o},pointerUp:function(e){this._updatePointerLocation(e);var t=this._trackedPointerLocations;if(1===t.size)this.state=c;else{var i=this.translation;t.delete(e.pointerId),this.translation=i,this.state=o}},pointerCancel:function(e){this.state=l},reset:function(){this.__s._$2M7$reset.call(this),this._trackedPointerLocations.clear(),this._correctedStartingLocation=null},staticMembers:{__QUALIFIED_CLASS_NAME__:"PanGestureRecognizer"},__superMap:{_$2M7$reset:"reset"}})},function(e,o,c){"use strict";(function(y){c.d(o,"a",function(){return r}),o.c=f,o.b=a;var e=c(1100),t=(c.n(e),c(1)),b=c(2),n=c(10),l=c(280),h=c(132),i=c(279),u=c(283),r=t.CoreObject.extend(i.a,{application:null,events:null,init:function(e){var t=e&&e.element;if(t){var i=y.document,n=t;t===i&&(n=i.body),this._cursorLockElement=n,delete e.element}if(this.__s._$a6$init.call(this,e),this._eventListeners=new Map,this.events){var r=this.events,a=Array.isArray(r),s=0;for(r=a?r:r[Symbol.iterator]();;){var o;if(a){if(s>=r.length)break;o=r[s++]}else{if((s=r.next()).done)break;o=s.value}var c=o,l=c.handlers,u=c.useCapture,d=Object.entries(l),h=Array.isArray(d),p=0;for(d=h?d:d[Symbol.iterator]();;){var f;if(h){if(p>=d.length)break;f=d[p++]}else{if((p=d.next()).done)break;f=p.value}var _=f,m=_[0],g=_[1],v=Object(b._15)(g.bind(this));this._eventListeners.set(m,[v,u||!1])}}}t&&this.addEventListenersToElement(t)},addEventListenersToElement:function(e){var t=y.document;!t||e!==t.body&&e!==t.documentElement||(e=y.document),d(e),this._listenedElements.push(e);var i=this._eventListeners.entries(),n=Array.isArray(i),r=0;for(i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var s=a,o=s[0],c=s[1],l=c[0],u=c[1];Object(b.h)(e,o,l,u)}},prependEventListenerToElement:function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=0<=this._listenedElements.indexOf(e);r&&this._removeEventListener(e,t),Object(b.h)(e,t,i,n),r&&this._addEventListener(e,t)},_addEventListener:function(e,t){if(this._eventListeners.has(t)){var i=this._eventListeners.get(t),n=i[0],r=i[1];Object(b.h)(e,t,n,r)}},_removeEventListener:function(e,t){if(this._eventListeners.has(t)){var i=this._eventListeners.get(t),n=i[0],r=i[1];Object(b._1)(e,t,n,r)}},_listenedElements:Object(t.instance)(Array),_eventListeners:null,dispatchEvent:function(e){e||Object(b.y)("RootResponder#dispatchEvent requires an event.");var t=e.cwType;"keyDown"!==t&&"keyUp"!==t||l.a.get("sharedInstance")[t](e);var i,n=this.getPointerCapture(e.pointerId),r=f(e);if(e.targetView=r,this._synthesizePointerMoveEventsIfNecessary(e),n){if(!function(e,t){var i=t.cwType;if("pointerUp"===i||"pointerCancel"===i||"pointerMove"===i)return!0;var n=p(t.target);return!n||e.get("element")===n}(n,e))return;i=n}else(i=r)||(i=this.getPath("application.topFocusLayer.focusResponder"));i||(i=this),this.willDispatchEvent(e);var a=!1;if(e.bubbles?a=Object(u.a)(i,t,e):i.handleEvent&&(_[0]=t,_[1]=e,a=i.handleEvent.apply(i,_),_[0]="",_[1]=null),this.didDispatchEvent(e,a),e.pointerType===h.b.TOUCH&&("pointerUp"===t||"pointerCancel"===t)){var s=h.a.create({nativeEvent:e,cwType:"pointerOut",target:e.target});this.dispatchEvent(s);for(var o=r;o;){var c=h.a.create({cwType:"pointerLeave",bubbles:!1,target:o.element});this.dispatchEvent(c),o=o.parent}}return a},_synthesizePointerMoveEventsIfNecessary:function(e){var t,i=e.cwType;if("pointerOut"===i&&this._checkIfPointerLeft(e),"pointerMove"===i&&this._dispatchPointerEnterOrLeave(e,e.targetView),e.pointerType===h.b.TOUCH&&"pointerDown"===i)for(t=e.targetView;t;){var n=h.a.create({cwType:"pointerEnter",bubbles:!1,target:t.element});this.dispatchEvent(n);var r=h.a.create({target:t.element,bubbles:!1,cwType:"pointerOver"});this.dispatchEvent(r),t=t.parent}},_checkIfPointerLeft:function(e){for(var t=e.relatedTarget,i=this._listenedElements,n=i.length,r=0;r<n;r++)if(i[r].contains(t))return;return this._pointerLeft(e)},_previousPointerMoveView:null,_previousViewAncestors:Object(t.instance)(Array),_previousViewAncestorsSwap:Object(t.instance)(Array),_pointerLeft:function(e){return this._dispatchPointerEnterOrLeave(e,null),!1},_dispatchPointerEnterOrLeave:function(e,t){if(t!==this._previousPointerMoveView){var i=this._previousViewAncestorsSwap;i.length=0;for(var n=t;n;)i.push(n),n=n.parent;for(var r,a=i.length-1,s=this._previousViewAncestors,o=s.length-1;s[o]===i[a]&&0<=o&&0<=a;)o--,a--;for(r=0;r<=o;r++){var c=s[r];if(!c.isDisposed){var l=h.a.create({cwType:"pointerLeave",bubbles:!1,target:c.element});this.dispatchEvent(l)}}for(r=0;r<=a;r++){var u=i[r],d=h.a.create({cwType:"pointerEnter",bubbles:!1,target:u.element});this.dispatchEvent(d)}this._previousViewAncestors=i,this._previousViewAncestorsSwap=s,this._previousPointerMoveView=t}},willDispatchEvent:b.e,didDispatchEvent:b.e,lockCursor:function(e){var t;switch(e){case"default":t="cw-global-cursor-default";break;case"pointer":t="cw-global-cursor-pointer";break;case"horizontal-resize":t="cw-global-cursor-horizontal-resize";break;case"vertical-resize":t="cw-global-cursor-vertical-resize"}var i=this._cursorLockElement;t&&i.classList.add(t),this._cursorLockClassName=t,Object(b.h)(i,"selectstart",s)},releaseCursor:function(){var e=this._cursorLockClassName,t=this._cursorLockElement;e&&t.classList.remove(e),this._cursorLockClassName=null,Object(b._1)(t,"selectstart",s)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootResponder"},__superMap:{_$a6$init:"init"}}),d=function(e){if(n.f.isPointerSupported){var t=y.document;e===t&&(e=t.body);var i=e.style;i?(i.msTouchAction="none",i.touchAction="none"):b.T.warn("Could not attach `touch-action` property to the `RootResponder`s element. Some touch events will be handled by default browser behavior instead of going to the `RootResponder`.")}};function p(e){return Object(b.G)(e,y.SVGElementInstance)?e.correspondingElement:e}function f(e){return a(p(e.target))}function a(e){for(var t;e&&!(t=e.view);)e=e.parentNode;return t}function s(e){return e.preventDefault&&e.preventDefault(),!1}var _=new Array(2)}).call(o,c(5))},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n,r=i(10),a=i(514),s=i(515),o=i(516),c=i(517),l=i(518),u=i(519),d=i(520),h=i(521),p=i(522),f=[{handlers:l.a,useCapture:!1},{handlers:o.a,useCapture:!0},{handlers:c.a,useCapture:!1},{handlers:s.a,useCapture:!1},{handlers:a.a,useCapture:!1}];switch(r.f.isMouseWheelSupported&&f.push({handlers:p.a,useCapture:!1}),r.f.pointerEventClass){case"pointer":n=d.a;break;case"touch":n=h.a;break;case"mouse":n=u.a}n&&f.push({useCapture:!1,handlers:n})},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var o=i(2),s=i(287),c=(i(1103),function e(t,i){if(t){if(!t.getFullYear)throw new TypeError("Object passed to date formatter was not a date!");isNaN(t.getTime())&&Object(o.y)("Invalid date passed to date formatter")}else Object(o.y)("No date passed to date formatter.");i||Object(o.y)("No formatting string passed to date formatter. Date: "+t);for(var n=i.length,r=i[0],a=1;a<n;a++)i[a]!==r&&Object(o.y)("Invalid format string for a date; all characters mustbe the same: "+i+"; date: "+t);var s=e[r];return s||Object(o.y)("Formatter `"+r+"` not supported for date: "+t),s(t,n)});c.G=function(e,t){var i="Date.Era.";return i+=0<=e.getFullYear()?"AD":"BC",t<=3?Object(s.d)(i+".Abbreviated"):4===t?Object(s.d)(i+".Full"):5===t?Object(s.d)(i+".Letter"):void Object(o.y)("Invalid era format: Expected at most 5 digits; found "+t+".")},c.y=function(e,t){var i=e.getFullYear();1===t&&(t=i.length);for(var n=Math.abs(i).toString();n.length<t;)n="0"+n;return n.substr(n.length-t)},c.Y=c.y,c.u=function(e,t){var i=e.getFullYear();1===t&&(t=i.length);for(var n=e.getFullYear()<0,r=Math.abs(i).toString();r.length<t;)r="0"+r;return(n?"-":"")+r.substr(r.length-t)},c.Q=function(e,t,i){var n=e.getMonth(),r=Math.floor(n/3)+1,a="Date.Quarter."+(i?"StandAlone.":"")+"Q"+r;return 1===t?""+r:2===t?"0"+r:3===t?Object(s.d)(a+".Abbreviated"):4===t?Object(s.d)(a+".Full"):void Object(o.y)("Unrecognized number of characters for quarter: "+t)},c.q=function(e,t){return c.Q(e,t,!0)},c.ENGLISH_MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],c.M=function(e,t,i){var n=e.getMonth(),r=""+(n+1),a="Date.Month."+(i||"")+c.ENGLISH_MONTH_NAMES[n];return 1===t?r:2===t?(r.length<2&&(r="0"+r),r):3===t?Object(s.d)(a+".Abbreviated"):4===t?Object(s.d)(a+".Full"):5===t?Object(s.d)(a+".Letter"):void Object(o.y)("The # of Ms or Ls must be 1 to 5. Supplied: "+t)},c.L=function(e,t){return c.M(e,t,"StandAlone.")},c.P=function(e,t){return c.M(e,t,"Prepositional.")},c.d=function(e,t){var i=""+e.getDate();return t>i.length&&(i="0"+i),i},c.D=function(e,t){var i=new Date(e.getFullYear(),0,1).getTime(),n=e.getTime()-i,r=Math.floor(n/864e5)+1;for(r=""+r;r.length<t;)r="0"+r;return r},c.ENGLISH_DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c.E=function(e,t){return t<3&&(t=3),c.e(e,t)},c.e=function(e,t,i){var n=e.getDay(),r=""+(n+1),a="Date.Day."+(i?"StandAlone.":"")+c.ENGLISH_DAY_NAMES[n];return 1===t?r:2===t?r="0"+r:3===t?Object(s.d)(a+".Abbreviated"):4===t?Object(s.d)(a+".Full"):5===t?Object(s.d)(a+".Letter"):void Object(o.y)("Unrecognized number of `e`s, `c`s, or `E`s in date format string.")},c.c=function(e,t){return c.e(e,t,!0)},c.a=function(e,t){1!==t&&Object(o.y)("`a` can only be included in a date format string once.");var i="Date.Period."+(11<e.getHours()?"PM":"AM");return Object(s.d)(i)},c._h=function(e,t,i,n){var r=e.getHours();i||(r%=12),n&&(i?0===r&&(r=24):0===r&&(r=12));var a=""+r;return a.length<t&&(a="0"+a),a},c.h=function(e,t){return c._h(e,t,!1,1)},c.H=function(e,t){return c._h(e,t,!0,0)},c.K=function(e,t){return c._h(e,t,!1,0)},c.k=function(e,t){return c._h(e,t,!0,1)},c.m=function(e,t){for(var i=""+e.getMinutes();i.length<t;)i="0"+i;return i},c.s=function(e,t){for(var i=""+e.getSeconds();i.length<t;)i="0"+i;return i},c.S=function(e,t){var i=e.getMilliseconds()/1e3,n=Math.pow(10,t);for(i=""+(i=Math.round(i*n));i.length<t;)i="0"+i;return i},c.A=function(e,t){var i=new Date(e.getFullYear(),e.getMonth(),e.getDay()).getTime(),n=e.getTime()-i;for(n=""+n;n.length<t;)n="0"+n;return n}},function(e,t,i){"use strict";var n=i(287);n.b(n.c(),{"Date.Era.AD.Abbreviated":"AD","Date.Era.AD.Full":"Anno Domini","Date.Era.AD.Letter":"A","Date.Era.BC.Abbreviated":"BC","Date.Era.BC.Full":"Before Christ","Date.Era.BC.Letter":"B","Date.Quarter.Q1.Abbreviated":"Q1","Date.Quarter.Q1.Full":"1st quarter","Date.Quarter.StandAlone.Q1.Abbreviated":"Q1","Date.Quarter.StandAlone.Q1.Full":"1st Quarter","Date.Quarter.Q2.Abbreviated":"Q2","Date.Quarter.Q2.Full":"2nd quarter","Date.Quarter.StandAlone.Q2.Abbreviated":"Q2","Date.Quarter.StandAlone.Q2.Full":"2nd Quarter","Date.Quarter.Q3.Abbreviated":"Q3","Date.Quarter.Q3.Full":"3rd quarter","Date.Quarter.StandAlone.Q3.Abbreviated":"Q3","Date.Quarter.StandAlone.Q3.Full":"3rd Quarter","Date.Quarter.Q4.Abbreviated":"Q4","Date.Quarter.Q4.Full":"4th quarter","Date.Quarter.StandAlone.Q4.Abbreviated":"Q4","Date.Quarter.StandAlone.Q4.Full":"4th Quarter","Date.Month.January.Abbreviated":"Jan","Date.Month.January.Full":"January","Date.Month.January.Letter":"J","Date.Month.StandAlone.January.Abbreviated":"Jan","Date.Month.StandAlone.January.Full":"January","Date.Month.StandAlone.January.Letter":"J","Date.Month.Prepositional.January.Abbreviated":"Jan","Date.Month.Prepositional.January.Full":"January","Date.Month.Prepositional.January.Letter":"J","Date.Month.February.Abbreviated":"Feb","Date.Month.February.Full":"February","Date.Month.February.Letter":"F","Date.Month.StandAlone.February.Abbreviated":"Feb","Date.Month.StandAlone.February.Full":"February","Date.Month.StandAlone.February.Letter":"F","Date.Month.Prepositional.February.Abbreviated":"Feb","Date.Month.Prepositional.February.Full":"February","Date.Month.Prepositional.February.Letter":"F","Date.Month.March.Abbreviated":"Mar","Date.Month.March.Full":"March","Date.Month.March.Letter":"M","Date.Month.StandAlone.March.Abbreviated":"Mar","Date.Month.StandAlone.March.Full":"March","Date.Month.StandAlone.March.Letter":"M","Date.Month.Prepositional.March.Abbreviated":"Mar","Date.Month.Prepositional.March.Full":"March","Date.Month.Prepositional.March.Letter":"M","Date.Month.April.Abbreviated":"Apr","Date.Month.April.Full":"April","Date.Month.April.Letter":"A","Date.Month.StandAlone.April.Abbreviated":"Apr","Date.Month.StandAlone.April.Full":"April","Date.Month.StandAlone.April.Letter":"A","Date.Month.Prepositional.April.Abbreviated":"Apr","Date.Month.Prepositional.April.Full":"April","Date.Month.Prepositional.April.Letter":"A","Date.Month.May.Abbreviated":"May","Date.Month.May.Full":"May","Date.Month.May.Letter":"M","Date.Month.StandAlone.May.Abbreviated":"May","Date.Month.StandAlone.May.Full":"May","Date.Month.StandAlone.May.Letter":"M","Date.Month.Prepositional.May.Abbreviated":"May","Date.Month.Prepositional.May.Full":"May","Date.Month.Prepositional.May.Letter":"M","Date.Month.June.Abbreviated":"Jun","Date.Month.June.Full":"June","Date.Month.June.Letter":"J","Date.Month.StandAlone.June.Abbreviated":"Jun","Date.Month.StandAlone.June.Full":"June","Date.Month.StandAlone.June.Letter":"J","Date.Month.Prepositional.June.Abbreviated":"Jun","Date.Month.Prepositional.June.Full":"June","Date.Month.Prepositional.June.Letter":"J","Date.Month.July.Abbreviated":"Jul","Date.Month.July.Full":"July","Date.Month.July.Letter":"J","Date.Month.StandAlone.July.Abbreviated":"Jul","Date.Month.StandAlone.July.Full":"July","Date.Month.StandAlone.July.Letter":"J","Date.Month.Prepositional.July.Abbreviated":"Jul","Date.Month.Prepositional.July.Full":"July","Date.Month.Prepositional.July.Letter":"J","Date.Month.August.Abbreviated":"Aug","Date.Month.August.Full":"August","Date.Month.August.Letter":"A","Date.Month.StandAlone.August.Abbreviated":"Aug","Date.Month.StandAlone.August.Full":"August","Date.Month.StandAlone.August.Letter":"A","Date.Month.Prepositional.August.Abbreviated":"Aug","Date.Month.Prepositional.August.Full":"August","Date.Month.Prepositional.August.Letter":"A","Date.Month.September.Abbreviated":"Sep","Date.Month.September.Full":"September","Date.Month.September.Letter":"S","Date.Month.StandAlone.September.Abbreviated":"Sep","Date.Month.StandAlone.September.Full":"September","Date.Month.StandAlone.September.Letter":"S","Date.Month.Prepositional.September.Abbreviated":"Sep","Date.Month.Prepositional.September.Full":"September","Date.Month.Prepositional.September.Letter":"S","Date.Month.October.Abbreviated":"Oct","Date.Month.October.Full":"October","Date.Month.October.Letter":"O","Date.Month.StandAlone.October.Abbreviated":"Oct","Date.Month.StandAlone.October.Full":"October","Date.Month.StandAlone.October.Letter":"O","Date.Month.Prepositional.October.Abbreviated":"Oct","Date.Month.Prepositional.October.Full":"October","Date.Month.Prepositional.October.Letter":"O","Date.Month.November.Abbreviated":"Nov","Date.Month.November.Full":"November","Date.Month.November.Letter":"N","Date.Month.StandAlone.November.Abbreviated":"Nov","Date.Month.StandAlone.November.Full":"November","Date.Month.StandAlone.November.Letter":"N","Date.Month.Prepositional.November.Abbreviated":"Nov","Date.Month.Prepositional.November.Full":"November","Date.Month.Prepositional.November.Letter":"N","Date.Month.December.Abbreviated":"Dec","Date.Month.December.Full":"December","Date.Month.December.Letter":"D","Date.Month.StandAlone.December.Abbreviated":"Dec","Date.Month.StandAlone.December.Full":"December","Date.Month.StandAlone.December.Letter":"D","Date.Month.Prepositional.December.Abbreviated":"Dec","Date.Month.Prepositional.December.Full":"December","Date.Month.Prepositional.December.Letter":"D","Date.Day.Monday.Abbreviated":"Mon","Date.Day.Monday.Full":"Monday","Date.Day.Monday.Letter":"M","Date.Day.StandAlone.Monday.Abbreviated":"Mon","Date.Day.StandAlone.Monday.Full":"Monday","Date.Day.StandAlone.Monday.Letter":"M","Date.Day.Tuesday.Abbreviated":"Tue","Date.Day.Tuesday.Full":"Tuesday","Date.Day.Tuesday.Letter":"T","Date.Day.StandAlone.Tuesday.Abbreviated":"Tue","Date.Day.StandAlone.Tuesday.Full":"Tuesday","Date.Day.StandAlone.Tuesday.Letter":"T","Date.Day.Wednesday.Abbreviated":"Wed","Date.Day.Wednesday.Full":"Wednesday","Date.Day.Wednesday.Letter":"W","Date.Day.StandAlone.Wednesday.Abbreviated":"Wed","Date.Day.StandAlone.Wednesday.Full":"Wednesday","Date.Day.StandAlone.Wednesday.Letter":"W","Date.Day.Thursday.Abbreviated":"Thu","Date.Day.Thursday.Full":"Thursday","Date.Day.Thursday.Letter":"R","Date.Day.StandAlone.Thursday.Abbreviated":"Thu","Date.Day.StandAlone.Thursday.Full":"Thursday","Date.Day.StandAlone.Thursday.Letter":"R","Date.Day.Friday.Abbreviated":"Fri","Date.Day.Friday.Full":"Friday","Date.Day.Friday.Letter":"F","Date.Day.StandAlone.Friday.Abbreviated":"Fri","Date.Day.StandAlone.Friday.Full":"Friday","Date.Day.StandAlone.Friday.Letter":"F","Date.Day.Saturday.Abbreviated":"Sat","Date.Day.Saturday.Full":"Saturday","Date.Day.Saturday.Letter":"S","Date.Day.StandAlone.Saturday.Abbreviated":"Sat","Date.Day.StandAlone.Saturday.Full":"Saturday","Date.Day.StandAlone.Saturday.Letter":"S","Date.Day.Sunday.Abbreviated":"Sun","Date.Day.Sunday.Full":"Sunday","Date.Day.Sunday.Letter":"S","Date.Day.StandAlone.Sunday.Abbreviated":"Sun","Date.Day.StandAlone.Sunday.Full":"Sunday","Date.Day.StandAlone.Sunday.Letter":"S","Date.Period.AM":"AM","Date.Period.PM":"PM","ReorderableSimpleListViewController.CancelledMove":"Cancelled move","ReorderableSimpleListViewController.GrabbedItem.MovedUp":"Moved above %{itemTitle}","ReorderableSimpleListViewController.GrabbedItem.MovedDown":"Moved below %{itemTitle}","ReorderableSimpleListViewController.ItemDropped":"Moved %{itemTitle} to position %{positionNumber}","AXGrabToggleButton.AriaLabel.Ungrabbed":"Reorder %{title}","AXGrabToggleButton.AriaLabel.Grabbed":"Use arrow keys to move. Press Return or Enter to commit or Escape to cancel."})},function(e,t){},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return a});var n=i(1),r=Object(n.createEnumGroup)("VerticalAlignment",function(e){e("Top"),e("Middle"),e("Bottom")}),a=Object(n.createEnumGroup)("HorizontalAlignment",function(e){e("Left"),e("Middle"),e("Right")})},function(e,r,a){"use strict";(function(t){a.d(r,"a",function(){return n});var e=a(3),i=a(1),l=a(2),n=a(526).a.extend({dispose:function(){var e=arguments;this.__s._$AZ$dispose.apply(this,e),t.cancelAnimationFrame(this._scheduledMeasurement)},targetLayout:Object(i.instance)(e.C),targetIsHidden:Object(e.T)({dependencies:["target.isAttached","_targetMeasurementFailed"],readOnly:!0,get:Object.assign(function(){return!this.getPath("target.isAttached")||this._targetMeasurementFailed},{__CW__getter:function(e,t,i,n){return!n.internalGetPath(this,t[0+i])||n.internalGet(this,t[1+i])}})}),_targetMeasurementFailed:Object(e.T)(!1),recomputeLayoutIfNecessary:Object(e.U)({inputs:["shouldMeasure"],callback:function(e){if(t.cancelAnimationFrame(this._scheduledMeasurement),this._targetMeasurementFailed=!1,e){var c=function(){var e=this.target,t=this.targetLayout,i=e.element;if(i){var n=i.getBoundingClientRect(),r=n.left,a=n.top,s=n.width,o=n.height;0===r&&0===a&&0===s&&0===o?this._targetMeasurementFailed=!0:(this._targetMeasurementFailed=!1,t.beginBatchSet().setIfChanged("x",r).setIfChanged("y",a).setIfChanged("width",s).setIfChanged("height",o).end())}this._scheduledMeasurement=Object(l._3)(c)}.bind(this);c()}}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"DOMLayoutMeasurer"},__superMap:{_$AZ$dispose:"dispose"}})}).call(r,a(5))},function(e,t,i){"use strict";var n=i(2),r=i(3),a=i(1),s=(i(288),i(289));i(290),a.Protocol,r.q,Object(r.T)(!0),Object(r.T)(!1),Object(a.property)(Object(a.instance)([s.a.TEXT])),a.RequiredMethod.define(),n.e,n.e,n.e},function(e,t,a){"use strict";(function(e){var t=a(2),i=a(3),n=a(1),r=(a(288),a(289));a(290),n.Protocol,i.q,Object(n.property)(Object(n.instance)([r.a.TEXT])),n.RequiredMethod.define(),Object(i.T)({readOnly:!0,dependencies:["_dragHovers"],get:Object.assign(function(){return 0<this._dragHovers},{__CW__getter:function(e,t,i,n){return 0<n.internalGet(this,t[0+i])}})}),Object(i.T)(0),t.e,t.e,t.e,t.e}).call(t,a(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(1),a={mixinDependencies:[n.q],layoutContext:Object(n.T)({strong:!0,type:n.D,defaultValue:Object(r.instance)(n.C)})}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(527),a={mixinDependencies:[i(294).a],horizontalScrollIndicatorClass:r.a,verticalScrollIndicatorClass:r.b,scrollIndicatorsShouldFade:Object(n.T)(!0),didScrollBy:function(e,t,i){if(e||i&&i.deltaX&&this.canScrollHorizontally){var n=this.horizontalScrollIndicator;n&&n.didScroll(i)}if(t||i&&i.deltaY&&this.canScrollVertically){var r=this.verticalScrollIndicator;r&&r.didScroll(i)}},showScrollIndicators:function(){var e=this.horizontalScrollIndicator;e&&e.renewVisibility();var t=this.verticalScrollIndicator;t&&t.renewVisibility()},createScrollIndicatorOptions:function(e){var t=arguments,i=this.__s._$ix$createScrollIndicatorOptions.apply(this,t);return i.scrollIndicatorShouldFade=this.bindingFor("scrollIndicatorsShouldFade"),i},__superMap:{_$ix$createScrollIndicatorOptions:"createScrollIndicatorOptions"}}},function(e,t){},function(e,t){},function(e,t,i){"use strict";var n=i(1114),r=(i.n(n),i(10)),a=(i(2),i(3),i(294));i(295).a,a.a,r.a.get("sharedInstance").window,Object.assign(function(){return this.element.clientHeight},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i]).clientHeight}}),Object.assign(function(){return this.element.clientWidth},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i]).clientWidth}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a});var c=i(3),s=i(2),n=i(541),r=c.t.extend({type:n.a,init:function(e){var t=arguments;return"string"==typeof e?this.__s._$ca$init.call(this,{viewOutlet:e}):this.__s._$ca$init.apply(this,t)},initializeMember:function(e,t){var i=arguments,n=this.__s._$hK$initializeMember.apply(this,i),r=this,a="_"+t+"DidChange",s="_"+t,o="_"+t+"_view";return this._internalValueKey=s,this._internalViewKey=o,e.registerMetadata(a,Object(c.U)(t,t+".view",function(e,t){r.childViewControllerDidChange(this,e,t)})),n},childViewControllerDidChange:function(e,t,i){var n=e[this._internalValueKey],r=e[this._internalViewKey];e[this._internalValueKey]=t,e[this._internalViewKey]=i,n===t&&r===i||this.transition.call(e,n,r,t,i,this)},inheritFrom:function(e){var t=arguments;this.__s._$y1$inheritFrom.apply(this,t),this.viewOutlet||(this.viewOutlet=e.viewOutlet)},transition:function(e,t,i,n,r){e&&e.retain(),i&&i.retain();var a=r.viewOutlet;a||Object(s.y)("ChildViewController expects a `viewOutlet` to write to"),i&&(i._destinationViewOutlet=a),e!==i?(e&&e.willMoveToParentViewController(null),i&&i.willMoveToParentViewController(this),e!==i&&this._isViewLoaded&&this.get("view").set(a,n),e&&this.removeChildViewController(e),i&&this.addChildViewController(i),e&&e.didMoveToParentViewController(null),i&&i.didMoveToParentViewController(this)):t!==n&&this._isViewLoaded&&this.get("view").set(a,n),e&&e.release(),i&&i.release()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ChildViewControllerProperty"},__superMap:{_$ca$init:"init",_$hK$initializeMember:"initializeMember",_$y1$inheritFrom:"inheritFrom"}}),a=function(e){return r.define.apply(r,arguments)}},function(e,t,i){"use strict";var n=i(1117),r=(i.n(n),i(292),i(3)),l=i(2),u=i(136),d=(r.q,Object(r.T)(!0),Object(r.T)("bottom"),Object(r.T)("left"),Object(r.T)(0),Object(r.U)("element","arrowIsShowing","arrowDirection","arrowAlignment","arrowOffset",function(e,t,i,n,r){if(e){var a=this._arrowDiv,s=this._arrowContainer;if(t){if(d[i]||Object(l.y)('Attempted to point arrow: "'+i+'". Arrows can only be point in the `left`, `right`, `top` or `bottom` direction.',this),h[i][n]||(n=p[i]),!a){var o=document.createElement("div");s=this._arrowContainer=document.createElement("div"),a=this._arrowDiv=document.createElement("div"),s.className="cw-arrow-container",o.className="cw-arrow-centering",a.className="cw-arrow",o.appendChild(a),s.appendChild(o),e.appendChild(s)}var c=e.className.replace(/(\s|^)cw-arrow-\w*(\s|$)/,"$2");e.className=c,c=s.className.replace(/(\s|^)cw-align-\w*(\s|$)/,"$2"),s.className=c,e.classList.add("cw-has-arrow","cw-arrow-"+i),s.classList.add("cw-align-"+n),"center"===n&&(n=p[i]),Object(u.a)(a,n,r)}else s&&(e.classList.remove("cw-has-arrow"),e.removeChild(s))}}),{top:!0,bottom:!0,right:!0,left:!0}),h={};h.top=h.bottom={left:!0,center:!0,right:!0,defaultAlignment:"left"},h.left=h.right={top:!0,center:!0,bottom:!0,defaultAlignment:"top"};var p={};p.top=p.bottom="left",p.left=p.right="top"},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(3),r=i(1),a=i(2),s={radioGroupValue:Object(n.T)(),registerRadioButton:function(e){var t=this._radioGroupButtons;if(-1===t.indexOf(e)){var i=this._indexedRadioGroupButtonsByValue,n=e.value,r=this.radioGroupValue;i.get(n)&&Object(a.y)("You may not add multiple buttons with the same value (%{value}) to a radio group.",{value:n,group:this}),e._isChecked=r===n,i.set(n,e),t.push(e)}},unregisterRadioButton:function(e){var t=this._radioGroupButtons.indexOf(e);this._radioGroupButtons.splice(t,1),this._indexedRadioGroupButtonsByValue.removeKey(e.value)},selectRadioItemByValue:function(e){this.radioGroupValue!==e&&(this.radioGroupValue=e)},mixinDependencies:[r.InstanceSupport,n.q],viewClass:Object(r.accumulator)({ariaRole:"radiogroup"}),_radioGroupButtons:Object(r.instance)(Array),_indexedRadioGroupButtonsByValue:Object(r.instance)(n.g),_previousValue:null,_radioGroupValueDidChange:Object(n.U)("radioGroupValue",function(e){var t=this._previousValue;this._previousValue=e;var i=this._indexedRadioGroupButtonsByValue.get(t);i&&(i._isChecked=!1);var n=this._indexedRadioGroupButtonsByValue.get(e);n&&(n._isChecked=!0)})}},function(e,s,o){"use strict";(function(n){o.d(s,"a",function(){return a});var e=o(59),t=o(174),i=o(175),r=o(296),a=e.a.extend({dependencies:[t.a,i.a,r.a],action:function(e){var t=n.document.createElement("div");t.innerHTML='<div id="cw-aria-live-region" aria-live="polite"></div>';var i=t.firstChild;i.style.cssText="position:fixed; top:-1px; width:1px; height:1px; overflow:hidden;",e.rootElement.appendChild(i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"AriaLiveRegionInitializer"}})}).call(s,o(5))},function(e,l,u){"use strict";(function(r){u.d(l,"a",function(){return a});var e=u(1),t=u(3),i=u(10),n=u(2),c=u(543),a=e.CoreObject.extend(t.q,e.SharedInstance,{staticMembers:{booleanProperty:c.a.booleanProperty,numberProperty:c.a.numberProperty,stringProperty:c.a.stringProperty,enumProperty:c.a.enumProperty,__QUALIFIED_CLASS_NAME__:"Config"},_config_debugValues:null,_config_urlValues:null,_config_defaultValues:null,_shouldWriteChangesToSessionStorage:!1,init:function(){this._config_defaultValues={},this._config_urlValues=Object.create(this._config_defaultValues),this._config_debugValues=Object.create(this._config_urlValues),this.__s._$wV$init.call(this),this.constructor===a?Object(n.y)("CW.Config cannot be instantiated directly, must subclass."):this.constructor.storageKey||Object(n.y)("Must define a `storageKey` static member for CW.Config subclasses."),this._computedStorageKey="Apple:Config:"+this.constructor.storageKey,s.call(this),function(){var e=o.getItem(this._computedStorageKey),t=this._config_defaultValues,i=!1;if(e)try{for(var n in e=JSON.parse(e))e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(this.set(n,e[n]),i=!0)}catch(e){}return i}.call(this)&&this.didLoadConfigFromSessionStorage(),this._shouldWriteChangesToSessionStorage=!0,Object(n.h)(r,"hashchange",s.bind(this))},didLoadConfigFromSessionStorage:function(){},setFromString:function(e,t){this.set(e,this.getMetadata(e).parse(t))},typeOf:function(e){return this.getMetadata(e).configType},dump:function(e){e||(e="");var t=this._config_debugValues,i=this._config_urlValues,n="",r="",a="",s=[],o=this.getMetadataByType(c.a);for(n in o)o.hasOwnProperty(n)&&(r=e+n+": ",a="",t.hasOwnProperty(n)&&(a+=this.getDebugValue(n)+" (Debug); "),i.hasOwnProperty(n)&&(a+=this.getURLValue(n)+" (URL); "),a+=this.getDefaultValue(n)+" (Default)",s.push(r+a));return s.join("\n")},getDefaultValue:function(e){return void 0!==this._config_defaultValues[e]?this._config_defaultValues[e]:this.getMetadata(e).getForObject(this,e)},setDefaultValue:function(e,t){this._config_defaultValues[e]=t,this.propertyChanged(e)},getURLValue:function(e){if(this._config_urlValues.hasOwnProperty(e))return this._config_urlValues[e]},getDebugValue:function(e){if(this._config_debugValues.hasOwnProperty(e))return this._config_debugValues[e]},clearDebugValues:function(){var e=this.getMetadataByType(c.a);for(var t in e)e.hasOwnProperty(t)&&this.set(t,void 0)},writeToSessionStorage:function(){this._shouldWriteChangesToSessionStorage&&this._computedStorageKey&&o.setItem(this._computedStorageKey,JSON.stringify(this._config_debugValues))},__superMap:{_$wV$init:"init"}});function s(){var e=function(e){var t={},i="#cw_config:";if(e.substr(0,i.length)!==i)return t;var n,r,a,s,o=(e=e.substr(i.length)).split("&"),c=o.length;for(r=0;r<c;r++){var l=(n=o[r]).indexOf("=");l<0?(a=n,s="true"):(a=n.substr(0,l),s=n.substr(l+1)),a=decodeURIComponent(a),s=decodeURIComponent(s),t[a]=s}return t}(r.location.hash);for(var t in e)if(e.hasOwnProperty(t)){var i=e[t],n=this.getMetadata(t);n&&(void 0!==(i=n.parse(i))?this._config_urlValues[t]=i:delete this._config_urlValues[t],this.propertyChanged(t))}}var o=i.e.get("sharedInstance")}).call(l,u(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1),r=n.CoreObject.extend(n.SharedInstance,{_cookieString:null,_cookiesObj:null,getCookies:function(){var e=document.cookie;if(this._cookieString===e)return this._cookiesObj;var t={};if(this._cookieString=e)for(var i=e.split(";"),n=0,r=i.length;n<r;n++){var a=i[n].split("="),s=a.shift().trim(),o=a.join("=").trim();t[s]=o}return this._cookiesObj=t},getCookie:function(e){return this.getCookies()[e]},removeCookie:function(e,t,i){var n=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT";t&&(n=n+"; domain="+t),i&&(n=n+"; path="+i),document.cookie=n},removeCookies:function(e,t,i){var n,r;if(e instanceof Array)for(n=0,r=e.length;n<r;n++)this.removeCookie(e[n],t,i);else{var a=document.cookie.split(";");for(n=0,r=a.length;n<r;n++){var s=a[n],o=s.indexOf("="),c=-1<o?s.substr(0,o):s;e.test(c)&&this.removeCookie(c,t,i)}}},setCookie:function(e,t){var i=e+"="+t+";";document.cookie=i},staticMembers:{__QUALIFIED_CLASS_NAME__:"CookieManager"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(3),r=i(461),a={show:function(){this.isAttached||this.paneManager.presentViewController(this)},hide:function(){this.isAttached&&this.paneManager.dismissViewController(this)},toggle:function(){this.isAttached?this.hide.apply(this,arguments):this.show.apply(this,arguments)},paneManager:Object(n.T)({readOnly:!0,binding:r.a.bindingFor("application")}),isActivePane:Object(n.T)({readOnly:!0,dependencies:["paneManager.activePane"],get:Object.assign(function(){return this===this.getPath("paneManager.activePane")},{__CW__getter:function(e,t,i,n){return this===n.internalGetPath(this,t[0+i])}})}),keyDown:function(t){var e=this._keyEquivalentViews;if(!e)return!1;for(var i=e.length;i--;){var n=e[i];!n.isDisposed&&n.isAttached&&n.keyEquivalent||e.splice(i,1)}return e.some(function(e){return e&&e.performKeyEquivalent&&e.performKeyEquivalent(t)})},registerKeyEquivalent:function(e){var t=this._keyEquivalentViews||(this._keyEquivalentViews=[]);-1===t.indexOf(e)&&t.push(e)}}},function(e,t){},function(e,t,o){"use strict";(function(e){o(10);var t=o(3),i=o(7),n=(o(2),o(1)),r=(o(297),o(301)),a=(o(302),o(177),o(178),Object(n.createEnumGroup)("Justification",function(e){e("Left"),e("Right"),e("Center"),e("Full")})),s={columnWidth:Object(t.T)(100),columnSpacing:Object(t.T)(0),justification:Object(t.T)(a.Left),verticalAlignment:Object(t.T)(i.l.Middle),sectionLeftPadding:Object(t.T)(0),sectionRightPadding:Object(t.T)(0)};t.G.create().retain(e,"FlowLayout: fakeSize initial retain");r.a,Object(n.accumulator)(s),Object(n.property)({strong:!0}),Object(n.property)({get:function(){var e=this.row,t=this.sectionY-e.y;return this.bottom-t+(e.height-this.height)}}),Object(n.property)({get:function(){var e=this.row,t=this.sectionY-e.y;return this.y-t}}),Set,Map,Array,Array,Array}).call(t,o(5))},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(1),o=i(14),r=i(3),c=i(10),a=i(554),s=i(555),l=i(553),u=i(304),d=i(556),h=o.h.Ended,p={itemViewDidMove:function(e,t){var i=arguments;this.__s._$E_$itemViewDidMove.apply(this,i);var n=this.owner.isItemAtHandleSelected(t.handle);e.isSelected=n},viewForViewClass:function(e){var t=arguments,i=this.__s._$Hv$viewForViewClass.apply(this,t),n=e.hasMixin(o.g)?i:this.owner,r=i.singleTapGestureRecognizer=o.a.create({event:"selectView",delegate:n});i.addGestureRecognizer(r);var a=i.extendGestureRecognizer=o.a.create({modifiers:[o.l.Shift],event:"extendSelectView",delegate:n});i.addGestureRecognizer(a);var s=i.toggleGestureRecognizer=o.a.create({modifiers:[c.b.sharedInstance.isWindows?o.l.Alt:o.l.Cmd],event:"toggleSelectView",delegate:n});return i.addGestureRecognizer(s),i},__superMap:{_$E_$itemViewDidMove:"itemViewDidMove",_$Hv$viewForViewClass:"viewForViewClass"}},f={mixinDependencies:[d.a,o.g,o.b],viewClass:Object(n.accumulator)({init:function(){var e=arguments;this.__s._$kp$init.apply(this,e);var t=this.clearSelectionTapGestureRecognizer=o.r.create({event:"clearSelection",delegate:this});this.addGestureRecognizer(t)},__superMap:{_$kp$init:"init"}}),selectView:function(e){var t=e.state,i=e.view;t===h&&"item"===this.presenter.cellForView(i).cellType&&this.sendEvent("userSelectionRequest",{view:i,operation:u.a.SET})},extendSelectView:function(e){var t=e.state,i=e.view;t===h&&"item"===this.presenter.cellForView(i).cellType&&this.sendEvent("userSelectionRequest",{view:i,operation:u.a.EXTEND})},toggleSelectView:function(e){var t=e.state,i=e.view;t===h&&"item"===this.presenter.cellForView(i).cellType&&this.sendEvent("userSelectionRequest",{view:i,operation:u.a.TOGGLE})},gestureRecognizerShouldReceive:function(e,t){var i=arguments;if(e.instanceOf(o.a)){var n=e.view;return"item"===this.presenter.cellForView(n).cellType}return this.__s._$1Gi$gestureRecognizerShouldReceive.apply(this,i)},userSelectionRequest:function(e){if(e){var t=e.view,i=this.presenter.cellForView(t);i?this.selectionController.userPerformedSelectionOperation(i.handle,e.operation):this.selectionController.userPerformedSelectionOperation(null,e.operation)}},itemViewClass:Object(n.accumulator)(l.a),presenter:Object(n.accumulator)(p),selectionController:Object(r.T)({defaultValue:Object(n.instance)(a.a),downstreamBindings:{collection:"(owner).collection",isMultipleSelectionEnabled:"(owner).isMultipleSelectionEnabled",isEmptySelectionEnabled:"(owner).isEmptySelectionEnabled"}}),selectionDelegate:Object(n.instance)(n.CoreObject.extend(s.a)),selectItem:function(e,t){if(this.isSelectionEnabled){var i=this.collection.indexOf(e);this.selectItemAtIndex(i,t)}},selectItemAtIndex:function(e,t){if(this.isSelectionEnabled){var i=this.collection.startHandle.at(e);this.userPerformedSelectionOperation(i,t)}},__superMap:{_$1Gi$gestureRecognizerShouldReceive:"gestureRecognizerShouldReceive"}}},function(e,t){},function(e,t){},function(e,t,i){"use strict";var r=i(3),n=i(1);i(137),Object(n.accumulator)({cellClass:Object(n.accumulator)({customHeight:-1,invalidate:function(){var e=arguments;-1!==this.customHeight&&this.handle.wasRemoved&&(this.release(this,"CustomRowHeightSupport: retaining cell with custom height"),this.customHeight=-1),this.__s._$Vi$invalidate.apply(this,e)},didEnterPool:function(){var e=arguments;this.customHeight=-1,this.__s._$XS$didEnterPool.apply(this,e)},__superMap:{_$Vi$invalidate:"invalidate",_$XS$didEnterPool:"didEnterPool"}}),sizeForItem:function(e,t){var i=arguments,n=t.customHeight;return-1!==n?r.G.create({height:n,width:e.viewportWidth}):this.__s._$eg$sizeForItem.apply(this,i)},__superMap:{_$eg$sizeForItem:"sizeForItem"}})},function(e,t,i){"use strict";var n=i(1),r=i(3),a=i(301),p=i(137),s=i(557),o=i(558),c={headerViewClass:Object(r.T)(),footerViewClass:Object(r.T)(),itemViewDidMove:function(e,t){var i=arguments;"header"===t.cellType&&(e.isFloatingToTop=t.isFloatingToTop,e.element.style.clip="rect("+t.clipTop+"px auto auto auto)"),this.__s._$Ss$itemViewDidMove.apply(this,i)},viewClassKeysByCellType:Object(n.accumulator)({header:"headerViewClass",footer:"footerViewClass"}),__superMap:{_$Ss$itemViewDidMove:"itemViewDidMove"}};Object(n.accumulator)(a.a),Object(r.T)({defaultValue:Object(n.accumulator)(c),downstreamBindings:{headerViewClass:"(owner).headerViewClass",footerViewClass:"(owner).footerViewClass"}}),Object(r.S)({inputs:["collection.contentsDidChange","collection._sectionsProxy.contentsDidChange","collection.sectionLengthsDidChange","collection._invalidateCacheOnSectionsContentsChange","collection.invalidateSectionLengthsOnContentsChange","collection._invalidateCacheOnSectionsChange","collection.handleProvider.handlesDidUpdate","collection._sectionsProxy.handleProvider.handlesDidUpdate","collection._sourceDidChange"],callback:function(e,t,i,n,r,a,s,o,c){if(e||t||i||c){var l=e&&e.context,u=t&&t.context,d=i&&i.context,h=!!c;this.update(p.a.create({itemsChanges:l,sectionsChanges:u,invalidSections:d,collectionChanged:h,everythingChanged:!(l||u||d||h)}))}}}),Object(r.T)(o.a),Object(r.T)(s.a)},function(e,t,i){"use strict";i(3);i(560).a},function(e,t,i){"use strict";var n=i(1),r=(i(3),i(178)),a=(i(552),i(562)),s=i(564),o=i(565),c=i(566);a.a,s.a,Object(n.instance)(o.a),r.a,Object(n.instance)(c.a)},function(e,t,l){"use strict";(function(p){var f=l(1),_=l(3),m=l(2),e=l(308),t=l(307),i=l(309);function n(e){return this._provider._proxyHandle(e)}var r={previous:n,next:n,start:n,end:n,atDistance:n},a=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e})({mixinDependencies:[_.q,_.d]},function(e,n,r){var a={},s=[e],o=new p.Set;a[n]=Object(_.T)({strong:!0});for(var c=void 0;c=s.shift();){var t=function(t,e){if("mixinDependencies"===t&&s.unshift.apply(s,e),t===n&&Object(m.y)("proxyKey collision proxying "+t+" on "+c),o.has(t))return"continue";var i=r[t]||m.c;Object(m.G)(e,f.RequiredMethod)?a[t]=function(){var e;return i.call(this,(e=this[n])[t].apply(e,arguments))}:Object(m.G)(e,f.RequiredProperty)?a[t]=Object(f.property)({get:function(){return i.call(this,this[n][t])},set:function(e){return this[n][t]=e}}):Object(m.G)(e,_.E)?(Object(m.y)("unable to generate proxy on "+t+" of observable property "+e.toString()),a[t]=Object(_.T)({dependencies:["proxyKey."+t],get:function(){return i.call(this,this[n][t])},set:function(e){return this[n][t]=e}})):Object(m.G)(e,f.Required)?Object(m.y)("unable to generate proxy on "+t+" of "+e.toString()):o.add(t)},i=Object.entries(c),l=Array.isArray(i),u=0;for(i=l?i:i[Symbol.iterator]();;){var d;if(l){if(u>=i.length)break;d=i[u++]}else{if((u=i.next()).done)break;d=u.value}var h=d;t(h[0],h[1])}}return a}(_.d,"proxiedHandle",r),{init:function(e,t,i){this.proxiedHandle=i,this.__s._$wg$init.call(this,e,t)},__superMap:{_$wg$init:"init"}}),s=f.CoreObject.extend(a,t.a,{firstItem:Object(f.property)({get:function(){var e=this._provider.source._itemSource;return e.handleProvider._proxyHandle(e.firstItemInSection(this.proxiedHandle))}}),lastItem:Object(f.property)({get:function(){var e=this._provider.source._itemSource;return e.handleProvider._proxyHandle(e.lastItemInSection(this.proxiedHandle))}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ListSectionHandle"}}),o=(i.a,_.b.extend(_.q,{endHandle:Object(f.property)({get:function(){return this._proxyHandle(this.proxiedHandleProvider.endHandle)}}),startHandle:Object(f.property)({get:function(){return this._proxyHandle(this.proxiedHandleProvider.startHandle)}}),HandleClass:null,at:function(){var e;return this._proxyHandle((e=this.proxiedHandleProvider).at.apply(e,arguments))},_proxyHandle:function(e){var t=this._handleMap,i=t.get(e);if(i)return i;var n=this.source,r=this.HandleClass.create(n,this,e);return t.set(e,r),r.registerWeakReference(this,this._handleWasDisposed,r),r},_handleWasDisposed:function(e){this._handleMap.delete(e.proxiedHandle)},_handleMap:Object(f.instance)(p.Map),proxiedHandleProvider:Object(_.T)({dependencies:["source.source.handleProvider"],readOnly:!0,get:Object.assign(function(){return this.source.source.handleProvider},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])}})}),handlesDidUpdate:Object(_.S)("source.source",m.e),staticMembers:{__QUALIFIED_CLASS_NAME__:"ListProxyHandleProvider"}})),c=f.CoreObject.extend(_.q,_.n,_.l,{HandleProviderClass:o,source:Object(_.T)({strong:!0}),contentsDidChange:Object(_.S)("source",m.e),contentsDidChangeUntracked:Object(_.S)("source",m.e),_sourceDidChange:Object(_.S)("source",m.e),iteratorClass:Object(f.property)({get:function(){return this.source.iteratorClass}}),length:Object(f.property)({get:function(){return this.source.length}}),encodedAdd:function(){var e;return(e=this.source).encodedAdd.apply(e,arguments)},encodedRemove:function(){var e;return(e=this.source).encodedAdd.apply(e,arguments)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ListProxy"}});e.a,Object(f.instance)(c.extend({HandleProviderClass:Object(f.accumulator)({HandleClass:s}),_itemSource:Object(_.T)()}))}).call(t,l(5))},function(e,t,i){"use strict";var n=i(3),r=i(1),a=(i(2),i(308)),s=i(307),o=i(309);o.a;function c(e){e._sectionDidChange()}var l=n.w.extend(s.a,{_handleCache:Object(r.instance)(Set),_registerCache:function(e){this._handleCache.add(e)},_unregisterCache:function(e){this._handleCache.delete(e)},_flushCaches:function(){var e=this._handleCache;e.forEach(c),e.clear()},_handleRemove:function(){this._flushCaches()},cleanup:function(){this._flushCaches(),this.__s._$vj$cleanup.call(this)},_invalidItem:function(){var e=this.source.adapter.handleProvider.at(-1);return e._cachedSectionHandle=this,e},firstItem:Object(r.property)({readOnly:!0,get:function(){var e=this.source.adapter;if(!this.isValid)return this._invalidItem();var t=e._indicesForSection(this.value,this.position);return t.endIndex<t.startIndex?this._invalidItem():e.handleProvider.at(t.startIndex)}}),lastItem:Object(r.property)({readOnly:!0,get:function(){var e=this.source.adapter;if(!this.isValid)return this._invalidItem();var t=e._indicesForSection(this.value,this.position);return t.endIndex<t.startIndex?this._invalidItem():e.handleProvider.at(t.endIndex)}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SectionHandle"},__superMap:{_$vj$cleanup:"cleanup"}}),u=n.x.extend({HandleClass:l,staticMembers:{__QUALIFIED_CLASS_NAME__:"SectionHandleProvider"}});var d=n.s.extend({HandleProviderClass:u,adapter:Object(n.T)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"UnsafeSectionsProxy"}});function h(e,t,i,n){var r=i._indicesForSection(e,t),a=r.startIndex,s=r.endIndex;return n<a?-1:s<n?1:0}a.a,Object.assign(function(e){return this.source.length=e},{__CW__setter:function(e,t,i,n,r){return i[0+n]=e}}),Object(r.instance)(d),Object(r.instance)(n.h),Array},function(e,t,i){"use strict";var b=i(3),n=i(1);i(303),i(305);Object(n.instance)(b.h),Object(n.instance)(b.h),Object.assign(function(e){var t=this._actualSelection,i=this.collection;e?e.serializer===t.serializer?e=e.clone():(t.clear(),e&&t.addEach(e),e=t):e=b.h.create(),this._actualSelection=b.h.create();var n=this.getPath("collection.length");if(!this.isEmptySelectionEnabled&&i&&n&&0===e.length)for(var r=i.startHandle;r.isValid&&!this.selectItemAtHandle(r);r=r.next);else for(var a=this.shouldStoreRemovedSelection,s=this.isMultipleSelectionEnabled,o=e.createIterator();o.isValid;o.moveToNext()){var c=o.encodedValue,l=i?i.encodedIndexOf(c):-1,u=!1;if(-1===l)a&&this._actualSelection.encodedAdd(c);else{var d=i.startHandle.at(l).retain(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled");u=this.selectItemAtHandle(d),d.release(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled")}if(!s&&u)break}var h=this._pivot,p=h;if(!h||!e.encodedContains(h.encodedValue))if(0<e.length)if(i){for(var f=e.createIterator(),_=void 0;f.isValid;)_=f.encodedValue,f.moveToNext();p=i.startHandle.at(i.encodedIndexOf(_))}else p=null;else p=i?i.startHandle:null;return this.pivot=p,this.selectionDidChange=!0,e},{__CW__setter:function(e,t,i,n,r){var a=this._actualSelection,s=this.collection;e?e.serializer===a.serializer?e=e.clone():(a.clear(),e&&a.addEach(e),e=a):e=b.h.create(),this._actualSelection=b.h.create();var o=this.getPath("collection.length");if(!this.isEmptySelectionEnabled&&s&&o&&0===e.length)for(var c=s.startHandle;c.isValid&&!this.selectItemAtHandle(c);c=c.next);else for(var l=this.shouldStoreRemovedSelection,u=this.isMultipleSelectionEnabled,d=e.createIterator();d.isValid;d.moveToNext()){var h=d.encodedValue,p=s?s.encodedIndexOf(h):-1,f=!1;if(-1===p)l&&this._actualSelection.encodedAdd(h);else{var _=s.startHandle.at(p).retain(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled");f=this.selectItemAtHandle(_),_.release(this,"IndexedSelectionController#selectedIndices: enforcing isMultipleSelectionEnabled")}if(!u&&f)break}var m=this._pivot,g=m;if(!m||!e.encodedContains(m.encodedValue))if(0<e.length)if(s){for(var v=e.createIterator(),y=void 0;v.isValid;)y=v.encodedValue,v.moveToNext();g=s.startHandle.at(s.encodedIndexOf(y))}else g=null;else g=s?s.startHandle:null;return i[1+n]=g,i[0+n]=!0,e}})},function(e,t,i){"use strict";var n=i(62);i.d(t,"b",function(){return n.a}),i(310),i(1137);var r=i(105);i.d(t,"e",function(){return r.a}),i(82);var a=i(138);i.d(t,"k",function(){return a.modelProperty}),i(568);var s=i(1138);i.d(t,"f",function(){return s.a}),i(315),i(316);var o=i(317);i.d(t,"g",function(){return o.Relationship}),i(1139),i(1140),i(180),i(311);var c=i(313);i.d(t,"a",function(){return c.DataManager}),i(314),i(570);var l=i(32);i.d(t,"h",function(){return l.Store});var u=i(63);i.d(t,"j",function(){return u.b}),i(1141),i(1142);var d=i(573);i.d(t,"i",function(){return d.ThreeWayMergeDelegateSupport});var h=i(574);i.d(t,"c",function(){return h.a}),i.d(t,"d",function(){return h.b}),i.d(t,"l",function(){return h.d}),i(572),i(571),i(312),i(569),i(181),i(567)},function(e,t,i){"use strict";i(1),i(3),i(2),i(317)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),a=i(2),r=i(315),s=n.CoreObject.extend({handlerResolver:r.a,handlesType:null,nestedOperationHandlers:null,action:function(e,t){var i=e&&e.operation;if(i){"function"!=typeof this.handlerResolver&&Object(a.y)("OperationHandler#handlerResolver must be a function",{operationHandler:this,handlerResolver:this.handlerResolver});var n=i.type,r=this.handlerResolver(n,this.get("nestedOperationHandlers"));return r||Object(a.y)("CW.Data.OperationHandler#action found no sub-handler to handle sub-operation: %{operationType} - %{subOperationType}",{subOperationType:i.type,operationType:e.type}),r.action(i,t)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"OperationHandler"}})},function(e,t,i){"use strict";i(1),i(63)},function(e,t,i){"use strict";i(3);var n=i(1),r=i(2);i(314).a,Object(n.instance)(Array),r.e},function(e,t,i){"use strict";var n=i(1);n.Protocol,n.RequiredProperty.define(),n.RequiredProperty.define(),n.RequiredProperty.define(),n.RequiredProperty.define(),n.RequiredProperty.define(),n.RequiredProperty.define()},function(e,t,i){},function(e,t,i){"use strict";i(318),i(1144);var n=i(1145);i.d(t,"e",function(){return n.a}),i(319),i(1146),i(576),i(577);var r=i(578);i.d(t,"d",function(){return r.a}),i(579),i(321);var a=i(1147);i.d(t,"b",function(){return a.a}),i(322);var s=i(1148);i.d(t,"c",function(){return s.a}),i(580);var o=i(106);i.d(t,"g",function(){return o.b}),i.d(t,"a",function(){return o.a}),i(581);var c=i(582);i.d(t,"f",function(){return c.a});var l=i(585);i.d(t,"h",function(){return l.a}),i(1149),i(583),i(584);var u=i(323);i.d(t,"k",function(){return u.a});var d=i(320);i.d(t,"i",function(){return d.a}),i(1150);var h=i(1151);i.d(t,"j",function(){return h.a}),i(575)},function(e,t,i){"use strict";i(2),i(3)},function(e,r,a){"use strict";(function(t){a.d(r,"a",function(){return i});var e=a(3),n=a(2),i=a(319).a.extend({outgoingWindow:Object(e.T)({readOnly:!0,get:function(){var e=t.parent;return e?{actualOutgoingWindow:e,postMessage:function(e,t){var i=this.actualOutgoingWindow;if(i.postMessage)return i.postMessage(e,t);n.T.warn("ParentWindowChannel: postMessage of "+e+" to detached iframe at "+t+" was ignored")}}:null}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ParentWindowChannel"}})}).call(r,a(5))},function(e,t,i){"use strict";i(10),i(1);var n=i(576),r=i(577);n.a,r.a},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var d=i(1),h=i(2),n=i(321).a.extend({callRemoteProcedure:function(e){var t,i=this.channel;f(i,e);for(var n=d.CorePromise.create(),r=arguments.length,a=Array(1<r?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var o,c,l,u=(t=this.messageFormatter).generateCallMessageFor.apply(t,[e].concat(a));return o=n,c=u.id,l=this,p[c]&&p[c][1]===l&&Object(h.y)("A handler was already registered for response for message id",{messageId:c,handler:l}),p[c]=[o,l],i.send(this.serializer.encode(u)),n},sendNotification:function(e){var t,i=this.channel;f(i,e);for(var n=arguments.length,r=Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var s=(t=this.messageFormatter).generateNotificationMessageFor.apply(t,[e].concat(r));i.send(this.serializer.encode(s))},shouldHandleMessage:function(e){return!!e&&Object(h.x)(e.jsonrpc)&&e.jsonrpc===this.messageFormatter.jsonRpcVersion&&(Object(h.x)(e.result)||Object(h.x)(e.error))},handleMessage:function(e){var t,i,n=function(e,t){var i=p[e];if(i&&i[1]===t)return p[e]=void 0,i[0]}(e.id,this);n&&(Object(h.x)(e.result)?(i=e,n.resolve(i.result)):Object(h.x)(e.error)&&(t=e,n.reject(t.error)))},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcCaller"}}),p={};function f(e,t){e&&!e.isDisconnected||Object(h.y)("Attempted to call `%{methodName}` without a connected channel.",{methodName:t,sender:this})}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var c=i(1),h=i(2),p=i(322),n=i(321).a.extend({hasHandlerForProcedure:function(e){return Object(h.x)(f(e,this))},registerProcedure:function(e,t,i){!function(e,t,i,n){var r=n.channel,a=o.get(r);a||(a=new Map,o.set(r,a));var s=a.get(e);s&&Object(h.y)("A handler for `%{procedureName}` was already registered on this channel",{procedureName:e,registration:s}),a.set(e,{listener:n,target:t,handlerMethodName:i})}(e,t,i=i||e,this)},registerProcedures:function(e,t){for(var i=e.length,n=0;n<i;n++){var r=e[n];Array.isArray(r)?this.registerProcedure(r[0],t,r[1]):this.registerProcedure(r,t)}},unregisterProcedure:function(e){var t=this.channel,i=o.get(t);i&&i.get(e).listener===this&&(i.delete(e),0===i.size&&i.delete(t))},unregisterProcedures:function(e){var t=this;e.forEach(function(e){t.unregisterProcedure(e)})},unregisterAllProcedures:function(){var e=o.get(this.channel);if(e)for(var t=e.entries(),i=void 0;i=t.next().value;){var n=i[0];i[1].listener===this&&e.delete(n)}},shouldHandleMessage:function(e){var t=this;return 0<(Array.isArray(e)?e:[e]).filter(function(e){return e&&Object(h.x)(e.jsonrpc)&&e.jsonrpc===t.messageFormatter.jsonRpcVersion&&Object(h.x)(e.method)}).length},handleMessage:function(e){var n=this,t=Array.isArray(e),i=t?e:[e],r=c.CorePromise.wrapFunction(l),a=this.messageFormatter,s=[],o={};return i.forEach(function(e){var t=e.id,i=r(e,n).then(function(e){o[t]=function(e,t,i){if(Object(h.x)(t))return e.generateResultMessageFor(t,i)}(a,t,e)}).catch(function(e){if(o[t]=u(a,t,e),!(e instanceof p.b))throw e});s.push(i)}),c.CorePromise.all(s).then(function(){return d(n,i,o,t)},function(e){throw d(n,i,o,t),e})},dispose:function(){this.unregisterAllProcedures(),this.__s._$2_Q$dispose.call(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"JsonRpcListener"},__superMap:{_$2_Q$dispose:"dispose"}}),o=new Map;function f(e,t){var i=o.get(t.channel);if(i){var n=i.get(e);if(n&&n.listener===t)return n}return null}function l(e,t){if(t.isDisposed)return new Promise(function(){});var i=e.method,n=e.params,r=void 0===n?[]:n;if(Object(h.x)(r)&&!Array.isArray(r)){var a="JSON-RPC calls in JavaScript cannot support `params` as an Object, only as an Array";throw h.T.error(a,e),new p.d(a,{message:e})}var s=f(i,t);if(!s){var o="The JSON-RPC registration was not found";throw h.T.error(o,e,t),new p.e(o,{message:e,listener:t})}var c=s.target;if(!c){var l="The JSON-RPC target was not found";throw h.T.error(l,e,t),new p.e(l,{message:e,listener:t})}var u=c[s.handlerMethodName];if(!u){var d="The JSON-RPC method was not found";throw h.T.error(d,e,t),new p.e(d,{message:e,listener:t})}return u.call.apply(u,[c].concat(r))}function u(e,t,i){if(Object(h.x)(t))return e.generateErrorMessageFor(t,i)}function d(e,t,r,i){var a=e.messageFormatter,s=[];if(t.forEach(function(e){var t=e.id;if(Object(h.x)(t)){var i=r[t];if(!i){var n=new p.c("The JSON-RPC call was part of a batch which failed due to a fatal error thrown by another call.");i=u(a,t,n)}s.push(i)}}),0<s.length){var n=i?s:s[0];e.channel.send(e.serializer.encode(n))}}},function(e,t,i){},function(e,t,i){"use strict";i(1),i(10),i(2)},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var s=i(10),o=i(2),n=i(3),r=i(1),a=i(106),c=i(582),l=i(323),u=c.a.extend(n.q,{init:function(){var e=arguments;this.__s._$Ij$init.apply(this,e),this.get("transport")!==l.a.get("sharedInstance")&&Object(o.y)("Attempting a file upload from an unsupported browser.",this);var t=this.uploadProgress;t.bytesTotal=this._totalSize||0,this.on(a.b.SUCCEEDED,function(){t.bytesTransferred=t.bytesTotal})},method:a.a.POST,body:Object(n.T)({set:function(e){return this.generateFormDataFromBody(e)},didChange:o.e}),files:Object(r.instance)(Array),bodySerializer:null,shouldTrackUploadProgress:!0,formKey:"files",generateFormDataFromBody:function(e){var t=s.c.get("sharedInstance");if(t.isFormData(e)||!e)return e;var i=t.isFileList(e),n=t.isFile(e),r=t.isBlob(e);n||i||r||Object(o.y)("Must provide either a File or FileList.",{fileOrFileList:e});var a=new FormData;return this._totalSize=0,i?Array.prototype.forEach.call(e,function(e){this.appendFileToFormData(e,a)},this):this.appendFileToFormData(e,a),a},appendFileToFormData:function(e,t){var i=this.get("formKey"),n=s.a.get("sharedInstance");!e.size&&n.get("isIE")&&n.get("majorVersion")<=10?t.append(i,""):t.append(i,e),this._totalSize+=e.size||0,this.files.push(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadRequest"},__superMap:{_$Ij$init:"init"}})},function(e,t,i){"use strict";i(1153),i(586),i(324),i(1154),i(588),i(589),i(587),i(590)},function(e,t,i){"use strict";i(1),i(3),i(7)},function(e,t,i){"use strict";i(14),i(10),i(7),i(1),i(2),i(324),i(586),i(587),i(588),i(589),i(590),"function"==typeof Symbol&&Symbol.iterator},function(e,t,i){"use strict";i(1156)},function(e,t,i){},function(e,t,i){"use strict";i(325),i(591),i(326),i(327),i(592),i(1160),i(1165),i(328),i(329),i(182),i(330),i(331),i(593),i(594);var n=i(184);i.d(t,"j",function(){return n.c}),i.d(t,"i",function(){return n.b}),i.d(t,"k",function(){return n.d}),i.d(t,"h",function(){return n.a}),i(597),i(185);var r=i(1166);i.d(t,"b",function(){return r.a}),i(1168),i(601);var a=i(332);i.d(t,"l",function(){return a.b}),i.d(t,"d",function(){return a.a});var s=i(333);i.d(t,"m",function(){return s.a}),i(1170),i(335),i(1172),i(600);var o=i(599);i.d(t,"a",function(){return o.b});var c=i(183);i.d(t,"c",function(){return c.b});var l=i(186);i.d(t,"e",function(){return l.a}),i(1173),i(606),i(608),i(1174);var u=i(1175);i.d(t,"f",function(){return u.a}),i(1177),i(1179),i(602);var d=i(596);i.d(t,"g",function(){return d.a}),i(334),i(595),i(598);var h=i(1180);i.d(t,"n",function(){return h.a}),i(605),i(604);var p=i(1182);i.d(t,"o",function(){return p.a}),i(1183),i(1184);var f=i(1186);i.d(t,"p",function(){return f.a}),i(603);var _=i(1187);i.d(t,"q",function(){return _.a}),i(609),i(607)},function(e,t){},function(e,t){},function(e,t,i){"use strict";var n=i(1),r=(i(14),i(3)),a=i(2),s=i(183),o=i(329),c=i(330),l=i(327),u=i(592),d=i(331),h=i(596),p=i(184),f=(Object(n.instance)(r.r),Object(n.instance)(n.CoreObject.extend(o.a)),Object(r.R)("contentController.desiredSize"),Object(n.instance)(l.a,{bottomPadding:5,dividerRowHeight:12,rowHeight:19,topPadding:5}),p.a,p.c,p.b,p.d,Boolean,Object.assign(function(){return Object(a.x)(this.dismissTimeoutId)},{__CW__getter:function(e,t,i,n){return Object(a.x)(n.internalGet(this,t[0+i]))}}),s.a.None,Object(n.instance)(u.a),Boolean,c.a,d.a,s.b.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHiding",truevalue:"cw-hiding",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"MenuArrowPopoverView"},additionalClassNames:["cw-menu-arrow-popover-view"],isFocusable:!0,isHiding:Object(r.T)({defaultValue:!1,type:Boolean})}));Object(n.instance)(f)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){"use strict";var n=i(1);n.Protocol,n.RequiredMethod.define(),n.RequiredMethod.define()},function(e,t,i){"use strict";i.d(t,"a",function(){return h});var a=i(7),n=i(14),s=i(2),r=i(3),o=i(1),c=i(599),l=i(186),u=i(601),d=a.n.extend({viewClass:c.a,view:Object(r.T)({downstreamBindings:{iconNames:"(owner).iconNames",message:"(owner).message",description:"(owner).description",accessoryView:"(owner).accessoryView",primaryButtonView:"(owner).primaryButtonView",alternateButtonView:"(owner).alternateButtonView",otherButtonView:"(owner).otherButtonView"}}),iconNames:Object(r.T)(),message:Object(r.T)(),description:Object(r.T)(),accessoryView:Object(r.T)(),primaryButtonView:Object(r.T)(),alternateButtonView:Object(r.T)(),otherButtonView:Object(r.T)(),staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertContentController"}}),h=u.a.extend({staticMembers:{show:function(e){var t=this.create(e);return t.show(),t},__QUALIFIED_CLASS_NAME__:"AlertViewController"},message:Object(r.T)(),description:Object(r.T)(),iconNames:Object(r.T)(),accessoryView:Object(r.T)({strong:!0,didChange:function(e){if(e){e.alertView=this.view;var t=this._previousAccessoryView;t&&(t.alertView=null,this._previousAccessoryView=e)}}}),primaryButton:Object(r.T)({set:function(e){return p(this,e,"primary",n.i.RETURN)}}),alternateButton:Object(r.T)({set:function(e){return p(this,e,"alternate",n.i.ESC)}}),otherButton:Object(r.T)({set:function(e){return p(this,e,"other")}}),createButtonView:function(e){return l.a.create(e)},viewClass:c.b,contentController:Object(r.T)({defaultValue:Object(o.instance)(d),downstreamBindings:{iconNames:"(owner).iconNames",message:"(owner).message",description:"(owner).description",accessoryView:"(owner).accessoryView",primaryButtonView:"(owner).primaryButton",alternateButtonView:"(owner).alternateButton",otherButtonView:"(owner).otherButton"}}),_previousAccessoryView:Object(o.property)({strong:!0})});function p(e,t,i,n){if(t){Object(s.G)(t,a.a)||(t=e.createButtonView(t)),n&&(t.keyEquivalent=n);var r=t.element;return t._originalClassName||(t._originalClassName=r.className),r.className=t._originalClassName,r.classList.add(i),t}}},function(e,t){},function(e,t,i){"use strict";i(7);var n=i(1),r=(i(3),i(602)),a=i(185);r.a,Object(n.instance)(a.a,{constraintStyle:a.a.MANUAL_STYLE}),Object(n.instance)(a.a,{constraintStyle:a.a.AUTO_STYLE})},function(e,t){},function(e,t,i){"use strict";var n=i(7),r=i(3),a=(i(1),i(605));n.i,a.a,Object,Object(r.R)("value")},function(e,t){},function(e,t,i){"use strict";i(335),i(249),i(172),i(14);var n=i(1),r=i(3),a=i(7),s=i(2);s.e,s.e,s.e,Object(n.instance)(r.g),r.f,r.f,Object.assign(function(){return 0<this._animatingItemViews.length},{__CW__getter:function(e,t,i,n){return 0<n.internalGet(this,t[0+i]).length}}),Object(n.instance)(r.h),a.h},function(e,t,i){"use strict";i(186),i(3);var r=i(172);Object.assign(function(){return this.isOn?Object(r.e)("AXGrabToggleButton.AriaLabel.Grabbed"):Object(r.e)("AXGrabToggleButton.AriaLabel.Ungrabbed",{title:this.titleOfThingToBeGrabbed})},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])?Object(r.e)("AXGrabToggleButton.AriaLabel.Grabbed"):Object(r.e)("AXGrabToggleButton.AriaLabel.Ungrabbed",{title:n.internalGet(this,t[0+i])})}})},function(e,t,i){"use strict";var n=i(7),r=i(3),a=i(1),s=i(2),o=i(606),c=i(608);Object.assign;Array,String,Boolean,Object.assign(function(){var e=this.items;if(e){var t=e.reduce(function(e,t){return e+t.value},0);return t&&"number"==typeof t?t:void Object(s.y)("Capacity Meter: Unable to calculate total capacity from provided items.")}},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(r){var a=r.reduce(function(e,t){return e+t.value},0);return a&&"number"==typeof a?a:void Object(s.y)("Capacity Meter: Unable to calculate total capacity from provided items.")}}}),o.a,c.a,Object.assign(function(){return!this.items||!this.totalCapacity},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])||!n.internalGet(this,t[1+i])}}),Object(a.instance)(n.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"emptyTitle",attributes:{}}],classes:["empty-message"],attributes:{hidden:{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"",attributes:{},attribute:"hidden"}}}}}})),r.I,r.I,Object.assign(function(){return!this.isEmpty},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1176),r=(i.n(n),i(7)),a=i(2),s=i(3),o=r.m.extend(r.c,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"cw-checkbox",children:[{type:"ELEMENT",tagname:"input",children:[],name:"controlElement",attributes:{id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"inputGUID",attributes:{},attribute:"id"},type:"checkbox"}},{type:"ELEMENT",tagname:"label",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"label",attributes:{}}],attributes:{for:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"inputGUID",attributes:{},attribute:"for"}}}]}},className:"cw-ui-checkbox",__QUALIFIED_CLASS_NAME__:"Checkbox"},inputGUID:Object(s.T)({type:"string",defaultValue:function(){return Object(a.D)(this)+"Input"}}),isChecked:Object(s.T)({type:"boolean",defaultValue:!1,didChange:function(e){"boolean"==typeof e?(this.controlElement.checked=e,this.controlElement.indeterminate=!1):this.controlElement.indeterminate=!0}}),isFocusable:!1,label:Object(s.T)(""),change:function(e){this.isChecked=this.controlElement.checked}})},function(e,t){},function(e,t,i){"use strict";var n=i(1178),r=(i.n(n),i(10)),a=i(2);i(7),i(3);Object.assign(function(){return Math.min(1,Math.max(0,(this.value-this.minimumValue)/(this.maximumValue-this.minimumValue)))},{__CW__getter:function(e,t,i,n){return Math.min(1,Math.max(0,(n.internalGet(this,t[0+i])-n.internalGet(this,t[1+i]))/(n.internalGet(this,t[2+i])-n.internalGet(this,t[1+i]))))}}),Object.assign(function(){return 1===this.fractionalProgress},{__CW__getter:function(e,t,i,n){return 1===n.internalGet(this,t[0+i])}}),Object.assign(function(){var e=100*this.fractionalProgress;return this.showValueAsInteger?e.toFixed(0)+"%":e.toFixed(1)+"%"},{__CW__getter:function(e,t,i,n){var r=100*n.internalGet(this,t[1+i]);return n.internalGet(this,t[0+i])?r.toFixed(0)+"%":r.toFixed(1)+"%"}}),Object.assign(function(e){return e||Math.round(this.size/6)},{__CW__getter:function(e,t,i,n){return e||Math.round(n.internalGet(this,t[0+i])/6)}}),a.c,r.b.sharedInstance.bindingFor("devicePixelRatio"),Object.assign(function(){return Math.ceil(r.b.sharedInstance.devicePixelRatio)},{__CW__getter:function(e,t,i,n){return Math.ceil(n.internalGetPath(this,t[0+i]))}})},function(e,t){},function(e,t,i){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1181),r=(i.n(n),i(7)),a=i(3),s=r.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["progress-bar"],name:"progressNode",attributes:{role:"progressbar","aria-valuenow":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"value",attributes:{},attribute:"aria-valuenow"},"aria-valuemin":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"minimumValue",attributes:{},attribute:"aria-valuemin"},"aria-valuemax":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maximumValue",attributes:{},attribute:"aria-valuemax"}}}],classes:["total"]}],classes:["cw-progress-view"]}},className:"cw-ui-progress-view",__QUALIFIED_CLASS_NAME__:"ProgressView"},minimumValue:Object(a.T)({defaultValue:0,type:"number"}),maximumValue:Object(a.T)({defaultValue:100,type:"number"}),value:Object(a.T)({defaultValue:0}),_updateDOM:Object(a.U)("value",function(e){this.get("progressNode").setAttribute("style","width:"+(e||0)+"%")})})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(3),r=i(7),u=i(1),a=i(609),s=r.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"_buttons"}],classes:["cw-segmented-control",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isDisabled",truevalue:"disabled",attributes:{}}]}},className:"cw-ui-views-controls-segmented",__QUALIFIED_CLASS_NAME__:"Segmented"},ariaRole:Object(n.T)("tablist"),value:Object(n.T)(),isDisabled:Object(n.T)({defaultValue:!1,type:"boolean"}),segments:Object(n.T)({get:function(e){return e},set:function(e){return n.f.create(e)}}),buttonClass:a.a,_buttons:Object(n.T)(Object(u.instance)(n.r)),buttonAriaRole:Object(n.T)("tab"),_redraw:Object(n.U)("element","segments",function(e,t){var i=this.get("_buttons");if(e&&i){if(i.beginBatchedChanges(),i.clear(),t)for(var n=t.get("length"),r=this.get("value"),a=0,s=n;a<s;a++){var o=t.objectAt(a),c=this.buttonClass.create({additionalClassNames:Object(u.accumulator)(o.classNames||[]),title:o.title,value:o.value,icon:o.icon,isDisabled:this.isDisabled,target:this,action:"didToggle",tooltip:o.tooltip,isOn:o.value===r,ariaRole:this.buttonAriaRole}),l=c.get("element").classList;0===a?l.add("cw-first"):a===n-1&&l.add("cw-last"),i.push(c)}i.endBatchedChanges()}}),_updateButtonStates:Object(n.U)("value",function(e){var t,i=this.get("_buttons");if(i)for(var n=0,r=i.get("length");n<r;n++)(t=i.objectAt(n)).set("isOn",t.get("value")===e),t.get("element").setAttribute("aria-selected",t.get("isOn"))}),didToggle:function(e){e&&this.set("value",e.get("value"))}})},function(e,t,i){"use strict";var n=i(7),r=i(3),a=i(1),c=(i(2),n.c,Object(a.instance)(r.r),n.m.extend(n.c,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"option",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"label",attributes:{}}],attributes:{value:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"value",attributes:{},attribute:"value"}}}},className:"cw-ui-select-option-view",__QUALIFIED_CLASS_NAME__:"SelectOptionView"},isFocusable:!1})),l=n.m.extend(n.c,{staticMembers:{template:{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"_optionViews",attributes:{tagName:"optgroup",label:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"label",attributes:{},attribute:"label"}}},className:"cw-ui-select-option-group-view",__QUALIFIED_CLASS_NAME__:"SelectOptionGroupView"},options:Object(r.T)(Object(a.instance)(r.r)),_redraw:Object(r.U)("element","options","options.contentsDidChange",s),isFocusable:!1});function s(e,t,i){if(e&&t){var n=this._optionViews;n.beginBatchedChanges(),n.clear();for(var r=0,a=t.length;r<a;r++){var s=t.objectAt(r),o=s.options?l:c;n.push(o.create(s))}n.endBatchedChanges(),this.element.value=this.value}}},function(e,t,i){"use strict";var n=i(1185),r=(i.n(n),i(10)),a=i(7),o=i(2),c=(i(3),r.b.sharedInstance);function u(e,t){return e-t}function l(e){return e}a.a,Object.assign(function(){return!isNaN(this._currentDragOffset)},{__CW__getter:function(e,t,i,n){return!isNaN(n.internalGet(this,t[0+i]))}}),Object.assign(function(){return!this.isVertical},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])}}),Object.assign(function(e){this.isVertical=!e},{__CW__setter:function(e,t,i,n,r){i[0+n]=!e}}),Object.assign(function(){return this.minValue>this.maxValue},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])>n.internalGet(this,t[1+i])}}),Object.assign(function(){return this._isReversed?this.maxValue:this.minValue},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?n.internalGet(this,t[2+i]):n.internalGet(this,t[1+i])}}),Object.assign(function(){return this._isReversed?this.minValue:this.maxValue},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?n.internalGet(this,t[1+i]):n.internalGet(this,t[2+i])}}),Object.assign(function(){var e=this.notchValues,t=this._minValue,i=this._maxValue;if(!e)return[];var n,r,a=[],s=e.length;for(n=0;n<s;n++)+(r=e[n])!==r||r<=t||i<=r||a.push(this._rawIdealHandlePositionForValue(r,t,i,this._handleTravel,this._inverseHandlePositionTween));return a.sort(u),a},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]),s=n.internalGet(this,t[2+i]);if(!r)return[];var o,c=[],l=r.length;for(o=0;o<l;o++)+(e=r[o])!==e||e<=a||s<=e||c.push(this._rawIdealHandlePositionForValue(e,a,s,n.internalGet(this,t[3+i]),n.internalGet(this,t[4+i])));return c.sort(u),c}}),Object.assign(function(){var t=this.handlePositionTween;if(t||(t=l),t._slider_scaledTween)return t._slider_scaledTween;var i=t(0),n=t(1);return i===+i&&n===+n&&i!==n||Object(o.y)("Function  used for handlePositionTween must return numbers, and (0) cannot equal (1).",{fOf0:i,fOf1:n,tweenFunction:t}),t._slider_scaledTween=function(e){return(t(e)-i)/(n-i)}},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(r||(r=l),r._slider_scaledTween)return r._slider_scaledTween;var a=r(0),s=r(1);return a===+a&&s===+s&&a!==s||Object(o.y)("Function  used for handlePositionTween must return numbers, and (0) cannot equal (1).",{fOf0:a,fOf1:s,tweenFunction:r}),r._slider_scaledTween=function(e){return(r(e)-a)/(s-a)}}}),Object.assign(function(){var a=this._scaledHandlePositionTween;return a._slider_inverseTween?a._slider_inverseTween:a._slider_inverseTween=function(e){for(var t,i,n=0,r=1;(t=a(i=(r+n)/2)-e)<0?n=i:r=i,1e-7<t||t<-1e-7;);return i}},{__CW__getter:function(e,t,i,n){var a=n.internalGet(this,t[0+i]);return a._slider_inverseTween?a._slider_inverseTween:a._slider_inverseTween=function(e){for(var t,i,n=0,r=1;(t=a(i=(r+n)/2)-e)<0?n=i:r=i,1e-7<t||t<-1e-7;);return i}}}),Object.assign(function(){return this.trackLength-this.handleLength},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])-n.internalGet(this,t[0+i])}}),c.bindingFor("devicePixelRatio"),Object.assign(function(){var e=this._minValue,t=this._maxValue,i=Math.max(e,Math.min(t,this.value)),n=this._handleTravel,r=this._inverseHandlePositionTween,a=c.devicePixelRatio,s=this._rawIdealHandlePositionForValue(i,e,t,n,r);return s=Math.round(s*a)/a,Math.max(0,Math.min(n,s))},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]),a=n.internalGet(this,t[2+i]),s=(e=Math.max(r,Math.min(a,n.internalGet(this,t[0+i]))),n.internalGet(this,t[3+i])),o=n.internalGet(this,t[4+i]),c=n.internalGetPath(this,t[5+i]),l=this._rawIdealHandlePositionForValue(e,r,a,s,o);return l=Math.round(l*c)/c,Math.max(0,Math.min(s,l))}}),Object.assign(function(e){var t=this._minValue,i=this._maxValue,n=this._handleTravel,r=this._handlePositionTween,a=this.step;e=Math.max(0,Math.min(n,e));var s=this._rawIdealValueForHandlePosition(e,t,i,n,r);a&&(s=Math.round((s-t)/a)*a+t),s=Math.max(Math.min(s,i),t);var o=this.intervals;if(o)for(var c=o.length;c;){var l=o[1+(c-=2)],u=o[c],d=c?o[c-1]:-1/0;if(s<=l&&u<=s)break;if(d<s){s=l<s?l:Math.abs(s-u)<Math.abs(s-d)?u:d;break}if(!c&&s<u){s=u;break}}this.value=s},{__CW__setter:function(e,t,i,n,r){var a=this._minValue,s=this._maxValue,o=this._handleTravel,c=this._handlePositionTween,l=this.step;e=Math.max(0,Math.min(o,e));var u=this._rawIdealValueForHandlePosition(e,a,s,o,c);l&&(u=Math.round((u-a)/l)*l+a),u=Math.max(Math.min(u,s),a);var d=this.intervals;if(d)for(var h=d.length;h;){var p=d[1+(h-=2)],f=d[h],_=h?d[h-1]:-1/0;if(u<=p&&f<=u)break;if(_<u){u=p<u?p:Math.abs(u-f)<Math.abs(u-_)?f:_;break}if(!h&&u<f){u=f;break}}i[0+n]=u}}),Object.assign(function(){return this.isHorizontal?"translateX":"translateY"},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?"translateX":"translateY"}}),Object.assign(function(){return this.isHorizontal?"offsetWidth":"offsetHeight"},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?"offsetWidth":"offsetHeight"}}),(l._slider_scaledTween=l)._slider_inverseTween=l},function(e,t){},function(e,s,o){"use strict";(function(t){o.d(s,"a",function(){return a});var r=o(10),e=o(7),i=o(3),n=o(2),a=e.m.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"canvas",children:[],classes:["cw-spinner-view"],styles:{height:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"height"},width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"size",attributes:{},unit:"px",property:"width"},display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"block",falsevalue:"none",attributes:{},unit:null,property:"display"}},attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}}},className:"cw-ui-spinner-view",__QUALIFIED_CLASS_NAME__:"SpinnerView"},size:Object(i.T)(32),color:"#000000",image:Object(i.T)({set:function(e){if("string"==typeof e){var t=new Image;return t.src=e,t}return e}}),tooltip:Object(i.T)(null),period:600,tickCount:12,tickReach:.54375,tickWidth:(12-90/255)/64,isVisible:Object(i.T)(!0),isAnimating:Object(i.T)({readOnly:!0,dependencies:["isVisible","isAttached"],get:Object.assign(function(){return this.isVisible&&this.isAttached},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])&&n.internalGet(this,t[1+i])}})}),drawStep:function(e){this._currentStep=e;var t=this._canvas,i=this._context,n=this.size*r.b.sharedInstance.devicePixelRatio;n!==t.width||n!==t.height?t.width=t.height=n:i.clearRect(0,0,n,n),this._backingSize=n,i.save(),i.translate(n/2,n/2),i.rotate(2*e*Math.PI/this.tickCount),this.image?this._drawImageContent():this._drawGeneratedContent(),i.restore()},drawTick:function(e,t,i){var n,r,a,s,o,c,l=this.tickReach*t/2,u=this.tickWidth*t/2;n=e,r=-u/2,a=-t/2,s=u,o=l,c=Math.min(s/2,o/2,void 0===c?1/0:c),n.beginPath(),n.moveTo(r+c,a),n.arcTo(r+s,a,r+s,a+o,c),n.arcTo(r+s,a+o,r,a+o,c),n.arcTo(r,a+o,r,a,c),n.arcTo(r,a,r+s,a,c),n.closePath(),n.fill()},_tickOpacities:{12:[1,.90196,.76078,.65098,.54118,.43137,.38039,.32157,.25882,.21961,.2,.16863]},_animationFrameId:0,_backingSize:0,init:function(e){var t=arguments;this.__s._$27d$init.apply(this,t),this._canvas=this.element,this._context=this._canvas.getContext("2d")},dispose:function(){var e=arguments;t.cancelAnimationFrame(this._animationFrameId),this.__s._$2Bt$dispose.apply(this,e)},_startOrStopAnimation:Object(i.U)("isAnimating",function(e){if(e){if(this._animStartTime)return;this._animStartTime=Date.now(),this.drawStep(0),this._tick()}else this._animStartTime=null,this.isInitialized&&this.drawStep(0)}),_tick:function(){if(this.isAnimating){this._animationFrameId=Object(n._3)(this._tick.bind(this));var e=this.tickCount,t=this.period/e,i=((Date.now()-this._animStartTime)/t|0)%e;i!==this._currentStep&&this.drawStep(i)}},_drawImageContent:function(){var e=this.image,t=this._context,i=this._backingSize;t.drawImage(e,-i/2,-i/2,i,i)},_drawGeneratedContent:function(){var e=this._context,t=this._backingSize,i=this.tickCount;e.fillStyle=this.color;for(var n=0;n<i;n++)e.globalAlpha=this._opacityForTickOfCount(n,i),this.drawTick(e,t),e.rotate(-2*Math.PI/i);e.globalAlpha=1},_opacityForTickOfCount:function(e,t){var i=this._tickOpacities[t];if(i)return i[e];var n=2/t,r=e/(t-1),a=Math.pow(r,.6),s=.7*(.5-.5*Math.cos(a*Math.PI))+.3*a;return s*n+1*(1-s)},__superMap:{_$27d$init:"init",_$2Bt$dispose:"dispose"}})}).call(s,o(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(7),r=i(14),a=i(2),s=i(3),o=i(1),c=n.m.extend(n.c,{staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"input",children:[],classes:["cw-text-field",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}}],attributes:{type:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"type",attributes:{},attribute:"type"},maxlength:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maxLength",attributes:{},attribute:"maxlength"},autocomplete:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocomplete",attributes:{},attribute:"autocomplete"},autocorrect:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocorrect",attributes:{},attribute:"autocorrect"},autocapitalize:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocapitalize",attributes:{},attribute:"autocapitalize"},spellcheck:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"spellcheck",attributes:{},attribute:"spellcheck"},placeholder:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{},attribute:"placeholder"},"aria-invalid":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"hasInvalidValue",attributes:{},attribute:"aria-invalid"},id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"id",attributes:{},attribute:"id"}}}},className:"cw-ui-views-text-field",__QUALIFIED_CLASS_NAME__:"TextField"},value:Object(s.T)(""),type:"text",placeholder:void 0,action:"submit",maxLength:null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"default",id:null,hasInvalidValue:!1,isEditable:Object(s.T)(!0),isFocusable:Object(s.T)({readOnly:!0,dependencies:["isDisabled"],get:Object.assign(function(){return!this.isDisabled},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])}})}),defaultFocusElement:Object(s.R)("element"),selection:Object(s.T)({cacheable:!1,dependencies:["element"],writeDependencies:["_selection"],get:function(){var e=this.controlElement,t=void 0,i=void 0,n=void 0,r=null;if(""===e.value?t=i=0:("selectionStart"in e&&(t=e.selectionStart),"selectionEnd"in e&&(i=e.selectionEnd)),null===t||null===i){var a=document.selection;if(a){var s=a.type;!s||"None"!==s&&"Text"!==s||(n=(r=a.createRange()).text.length,i=(t=Math.abs(r.moveStart("character",0-(e.value.length+1))))+n)}}return n=-1===t||-1===i?-1:i-t,Object.freeze({start:t,end:i,length:n,value:e.value.slice(t,i)})},set:Object.assign(function(e){this.set("_selection",e)},{__CW__setter:function(e,t,i,n,r){i[0+n]=e}}),writeDependencySetPathMap:["false"]}),select:function(){var e=this.controlElement;e&&e.select()},isDefaultTabbingEnabled:!0,allowedCharacters:void 0,isIMEInputActive:Object(s.T)(!1),didFocus:function(){this.controlElement.focus()},didBlur:function(){this.sendEvent("didEndEditing",this)},input:function(e){this._elementValueDidChange(),this._compositionDidEnd=!1},keyDown:function(e){if(e.which===r.i.RETURN){this.sendEvent("didEndEditing",this);var t=this.action,i=!1;return t&&(i=this.sendEvent(t,this)),this.select(),i}return!1},compositionStart:function(e){this.set("isIMEInputActive",!0)},compositionEnd:function(e){this._compositionDidEnd=!0,this.set("isIMEInputActive",!1)},_compositionDidEnd:!1,handleSelectionChange:function(e){this.propertyChanged("selection")},init:function(){var e=arguments;this.__s._$37j$init.apply(this,e);var t=this.controlElement;this.isDefaultTabbingEnabled||t.setAttribute("tabindex","-1");var i=this.placeholder;i&&t.setAttribute("aria-label",i);var n=this.allowedCharacters;!n||n instanceof RegExp||Object(a.y)("Must use only RegExp for TextField character validation.")},_isPlaceholderShowing:Object(s.T)({dependencies:["value","isIMEInputActive"],readOnly:!0,get:Object.assign(function(){if(!this.isIMEInputActive){var e=this.value;if(!Object(a.x)(e)||""===e)return!0}return!1},{__CW__getter:function(e,t,i,n){if(!n.internalGet(this,t[1+i])){var r=n.internalGet(this,t[0+i]);if(!Object(a.x)(r)||""===r)return!0}return!1}})}),_valueDidChange:Object(s.U)("value",function(e){var t=this.controlElement;t.value!==e&&(t.value=Object(a.x)(e)?e:"")}),_elementValueDidChange:function(){var e=this.controlElement,t=this.value,i=e.value;(this._compositionDidEnd||t!==i)&&(this.isIMEInputActive?this.value=i:this._isInputAllowed(i)?this.set("value",i):e.value=t||"")},_isInputAllowed:function(e){var t=this.allowedCharacters;return!t||!e||t.test(e)},_selectionEventElement:null,_attachmentDidChange:Object(s.S)("element","isAttached",function(e,t){var i=this._selectionEventElement;!i||i===e&&t||(Object(a._1)(i,"select",this._handleSelectionChangeBound),this._selectionEventElement=null),e&&t&&(this._selectionEventElement=e,Object(a.h)(e,"select",this._handleSelectionChangeBound))}),_handleSelectionChangeBound:Object(o.property)(function(){return this.handleSelectionChange.bind(this)}),_selection:Object(s.T)(),_selectionDidChange:Object(s.U)("_selection",function(e){if(e){var t=this.controlElement,i=e.start,n=e.end;this.focus();var r=null;if(t.setSelectionRange)t.setSelectionRange(i,n);else{(r=t.createTextRange()).move("character",i),r.moveEnd("character",n-i);try{r.select()}catch(e){return null}}}}),_statusDidChange:Object(s.U)("isDisabled","isEditable",function(e,t){var i=this.controlElement;e?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled"),t?i.removeAttribute("readonly"):i.setAttribute("readonly","readonly")}),__superMap:{_$37j$init:"init"}})},function(e,r,a){"use strict";(function(i){a.d(r,"a",function(){return n});var e=a(1189),T=(a.n(e),a(4)),u=a(8),d=a(0),A=a(16),O=a(86),t=a(1491),h=a(1492),o=a(1493),n=u.a.extend({toolbarViewControllerClass:t.a,primaryServiceName:"drivews",rootViewController:null,fileSystem:d._105(),session:d._105(),iconService:d._105(),raiseAlertService:d._105(),shouldDisplayToolbar:!0,shouldEnableRemoteActions:d._107(!1),remoteActionService:d._105({strong:!0,type:o.a}),Initializers:d._85([O.e,d.D]),_configureCloudKit:function(){var e={containers:[{containerIdentifier:"com.apple.clouddocs",environment:"production",privateDatabasePartition:"",publicDatabasePartition:"",sharedDatabasePartition:""}],services:{fetch:u.c,Promise:d.w}},t=i.CloudKit;t||(u.o.cloudOSService.recordStat("CouldNotLoadCloudKitJS"),d._75("Unable to continue, `window.CloudKit` is missing")),t.configure(e),this.cloudKit=t},didResolveCKShortGUID:function(e,t){u.o.cloudOSService.setRoute("");var i=t.share.recordName;this.rootViewController.attemptToSelectSharedItem(i)},prepareForLoad:function(){this.__s._$16P$prepareForLoad.call(this),this._configureCloudKit(),h.a.activate();var t=this.cloudOSService,e=A.n.create(t),i=A.m.create(t),n=t.environment,r=this.cloudOSPrefetchProxyFactory=A.H.create(),a=A.B.create(),s=A.A.create(a,e,i),o=T.B.create(A.L,[s]),c=A.N.create(o),l=this.fileSystem=A.k.create(e,i,n,{cloudOSService:this.cloudOSService,cloudOSPrefetchProxyFactory:r,uploadFilesService:c});p(l),this.iconService=O.r.create(l),l.load().catch(function(e){!0===e.pcsMissing?t.exit(u.f,d._100.stringifyRecordedLogMessages()):!0===e.pcsInvalid?t.exit(u.e,d._100.stringifyRecordedLogMessages()):t.exit(u.g,d._100.stringifyRecordedLogMessages())})},didFetchStartup:function(e,t,i){var n=this.cloudOSPrefetchProxyFactory.getCachedPrefetchQuery();n&&(n.completeFetch(e,t),this.cloudOSPrefetchProxyFactory.disposeCachedPrefetchQuery())},_fileSystemIsReady:d._106({inputs:["fileSystem.status"],callback:function(e){if(e===A.l.Ready||e===A.l.PollingForMigration){var t=this.cloudOSService,i=this.fileSystem,n=i.loggingService,r=i.hostService,a=this.session=i.getNewSession(),s=this.iconService,o=O.x.create(s),c=A.f.create(),l=A.t.create(r),u=O.B.create(n),d=O.A.create(n,r,o,c,l,u),h=O.C.create(n);this.domHistoryService=A.c.create(a);var p=this.raiseAlertService=O.u.create(s,o,d,h,O.I.supportHelpPage).service,f=this.toolbarViewControllerClass.create(t,a,p,o,s,h,d),_=O.t.create(a,p),m=O.z.create(),g=O.y.create(a,{primaryViewController:_,secondaryViewController:m}),v=T.B.create(A.q),y=A.o.create(l),b=A.u.create(l),I=A.g.create(b,y,i.loggingService),S=A.E.create(l,I,t,n),w=O.f.create(l,I),C=T.B.create(O.l,[a,I,v,S,p,s,o,d,c,l,w,u,h]),E=O.n.create(C,a);this.rootViewController=O.v.create(E,a,p,{toolbarViewController:f,statusBarViewController:g}),this.didPrepareForLoad()}}}),didBecomeLoaded:function(){var s=this;this.__s._$33Y$didBecomeLoaded.call(this),this.run().then(function(){var e=s.fileSystem,t=s.session,i=s.rootViewController,n=t.actionPolicy,r=t.trashPolicy;s.domHistoryService.activate(),s.shouldEnableRemoteActions&&(s.remoteActionService=o.a.create(),n.remoteActionService=s.remoteActionService),n.bind("selection",i.bindingFor("currentSelection")),r.bind("selection",i.bindingFor("currentSelection")),n.bind("folderContent",s.bindingFor("session.currentWorkingDirectory.content")),r.bind("folderContent",s.bindingFor("session.currentWorkingDirectory.content")),n.bind("currentUser",u.o.bindingFor("currentUser")),e.listen("quotaData",function(){n.isOverQuota=e.quotaData.overQuota});var a=s.getPath("cloudOSService.environment.appParameters");a&&a.acceptedFileTypes&&(n.selectableFileTypes=a.acceptedFileTypes),i.beginAppearanceTransition(!0),i.endAppearanceTransition(!0),i.prepare(),d._78("SFNSText",{success:function(){i.view.invalidateSubviewFrames(!0)}})})},didBecomeActive:function(){this.__s._$3o2$didBecomeActive.call(this),document.cookie="client=icloudweb";var e=this.fileSystem;e&&e.refreshQuotaData();var t=this.session.currentWorkingDirectory;t&&t.content.sync()},receiveMeCard:function(e){},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRApp"},__superMap:{_$16P$prepareForLoad:"prepareForLoad",_$33Y$didBecomeLoaded:"didBecomeLoaded",_$3o2$didBecomeActive:"didBecomeActive"}}),p=function(e){d._46.extend(d.y).create().MergeStrategy=e.getMergeStrategy()}}).call(r,a(5))},function(e,t){},function(e,t,i){},function(e,h,p){"use strict";(function(n){p.d(h,"a",function(){return d});var r=p(0),a=p(610),s=p(64),o=p(187),t=p(12),c=r._67("BRKit.WindowStateEnum",{Inactive:"Inactive",Prepared:"Prepared",UpdateViews:"UpdateViews"}),i=r._18.extend({viewClass:r._57.extend({staticMembers:{template:{type:"MULTIVIEWOUTLET",tagname:"views",children:[],classes:["cw-pane-container"],name:"panes"}}}),init:function(e){var t=this;this.__s._$Ed$init.call(this,e);var i=this._windowResizeHandler=this._windowDidResize.bind(this);this._performViewsUpdateHandle=this._performViewsUpdate.bind(this),r._61(n,"resize",i),this._renderViewsQueue=a.a.create(),this._layoutViewsQueue=a.a.create(),this._timeoutObserver=s.a.observe("timeoutCompleted",function(e){e&&t.updateViewsIfNeeded()}),this._frameObserver=o.a.observe("frameCompleted",function(e){e&&t.updateViewsIfNeeded()}),this._state=c.Prepared},addRootView:function(e){this.getPath("view.panes").push(e),e.constructor.kindOf(t.a)&&(e.invalidateFrame(),e.setNeedsRender(),e.setNeedsLayout(),this.updateViewsIfNeeded())},removeRootView:function(e){this.getPath("view.panes").remove(e),e.constructor.kindOf(t.a)&&(e.invalidateFrame(),e.setNeedsRender(),e.setNeedsLayout(),this.updateViewsIfNeeded())},queueViewForLayout:function(e){this._layoutViewsQueue.add(e)},queueViewForRender:function(e){this._renderViewsQueue.add(e)},_windowDidResize:function(){switch(this._state){case c.UpdateViews:this._pendingWindowResizeChange=!0;break;case c.Prepared:for(var e=this.getPath("view.panes"),t=e.length,i=0;i<t;i++){var n=e.objectAt(i);n.invalidateFrame&&n.invalidateFrame()}this.updateViewsIfNeeded()}},updateViewsIfNeeded:function(){switch(this._state){case c.Prepared:this._state=c.UpdateViews,this._performViewsUpdate()}},_performViewsUpdate:function(){this._state!==c.UpdateViews&&r._75("Invalid call. Incorrect state",{windowObject:this});var e=this._renderViewsQueue,t=this._layoutViewsQueue;do{for(;e.hasNext();)e.next().renderIfNeeded();for(;t.hasNext();)t.next().layoutIfNeeded()}while(e.hasNext());this._finalizeViewsUpdate()},_finalizeViewsUpdate:function(){this._state!==c.UpdateViews&&r._75("Invalid call. Incorrect state",{windowObject:this}),this._state=c.Prepared,this._pendingWindowResizeChange&&(this._pendingWindowResizeChange=!1,r._116(this._windowResizeHandler))},staticMembers:{__QUALIFIED_CLASS_NAME__:"PaneManager"},__superMap:{_$Ed$init:"init"}}),l=r._37.extend({didDispatchEvent:function(e,t){var i=this.application;i&&i._paneManager&&i._paneManager.updateViewsIfNeeded()},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootResponder"}}),e=r.d.extend({dependencies:[r._36],action:function(e){var t=l.create({application:e,element:e.rootElement,events:r._122});e.rootResponder=t},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootResponderInitializer"}}),u=r._38.extend({dependencies:[e,r._45],staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewControllerInitializer"}}),d=r.d.extend({dependencies:[u],action:function(e){var t=i.create({isRootViewController:!0,application:e});(e._paneManager=t).willAttach(),e.rootElement.appendChild(t.view.element),t.nextResponder=e.rootResponder,t._setIsAttached(!0),t.view.isAttached=!0,t.didAttach(),t.addPane(e.rootViewController)},staticMembers:{__QUALIFIED_CLASS_NAME__:"BRKitAdapterPaneManagerInitializer"}})}).call(h,p(5))},function(e,t){},function(e,t,i){"use strict";(function(l){t.a=function(){var e,t,i,n,r,a=1===arguments.length?arguments[0]:null;if(u._93(a)){var s=a.path,o=a.root;e=u.i.create(s,o);var c=a.transform;c&&(t=e,i=c,n=d.create({input:t,transform:i}),(r=u.i.create("output")).rootObject=n,e=r)}else e=u._64.apply(l,arguments);return e};var u=i(0),d=u.v.extend(u._8,{input:u._105(),output:u._105({readOnly:!0,get:function(e){return this._output}}),init:function(e){this._transform=e.transform,this.__s._$K8$init.call(this,e)},_inputDidChange:u._106("input",function(e){var t=(0,this._transform)(e);this._output=t,this.propertyChanged("output")}),staticMembers:{__QUALIFIED_CLASS_NAME__:"BindingTransform"},__superMap:{_$K8$init:"init"}})}).call(t,i(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(616),a=n.v.extend(n._8,r.a,{dependencies:n._105(n._85(n._47)),_rawDependencies:n._105({readOnly:!0,dependencies:["dependencies"],get:Object.assign(function(){var e=this.dependencies;return e?e.toArray():[]},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.toArray():[]}})}),instanceClass:null,getInstance:function(){for(var e=this._rawDependencies,t=this.instanceClass,i=e,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return r&&0<r.length&&(i=e.concat(r)),t.create.apply(t,i).retain().autorelease()},init:function(e,t){for(var i=arguments.length,n=Array(2<i?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];this.__s._$VB$init.apply(this,n),this.instanceClass=e,t&&this.dependencies.addEach(t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"Factory"},__superMap:{_$VB$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(340).a.extend({totalAmount:n._107({readOnly:!0,get:function(){return this._totalAmount}}),percentageComplete:n._107({readOnly:!0,get:function(){return this._percentageComplete}}),amountComplete:n._107({readOnly:!0,get:function(){return this._amountComplete}}),children:n._107({readOnly:!0,get:function(){return this._children}}),init:function(){this.__s._$D0$init.call(this),this._children=[],this._totalAmount=0,this._amountComplete=0,this._percentageComplete=0,this._childProgressInfoItems={},this._computedItemPercentageWeight=0;var i=this;this._progressChangedHandler=function(e){if(e){var t=e.context;i._progressDidChange(t)}}},addChildProgress:function(e){this.didStartAddingChildProgress();var t=e.observe("changed",this._progressChangedHandler);this._children.push(e),this._childProgressInfoItems[n._82(e)]={changedObserver:t,includeAmount:!0,percentageWeight:null},this.didFinishAddingChildProgress(),this._update()},adjustWeightForChildProgress:function(e,t){var i=this._getItemInfoForChildProgress(e);i||n._75("Cannot adjust weight. Not a valid child progress",{groupProgress:this}),(t<=0||1<=t)&&n._75("Cannot adjust weight. Invalid weight: "+t,{groupProgress:this}),i.percentageWeight=t,this._update()},clearWeightForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);t||n._75("Cannot adjust weight. Not a valid child progress",{groupProgress:this}),t.percentageWeight=null,this._update()},includeAmountForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);t||n._75("Cannot include amount. Not a valid child progress",{groupProgress:this}),t.includeAmount=!0,this._update()},excludeAmountForChildProgress:function(e){var t=this._getItemInfoForChildProgress(e);t||n._75("Cannot exclude amount. Not a valid child progress",{groupProgress:this}),t.includeAmount=!1,this._update()},didStartAddingChildProgress:function(e){this._isAddingChildProgress=!0},didFinishAddingChildProgress:function(e){this._isAddingChildProgress=!1},_progressDidChange:function(e){this._isAddingChildProgress||this._updateAmounts()},_getItemInfoForChildProgress:function(e){return this._childProgressInfoItems[n._82(e)]||null},_update:function(){this._updateComputedItemPercentageWeight(),this._updateAmounts()},_updateComputedItemPercentageWeight:function(){for(var e=this._children,t=0,i=0,n=0,r=e.length;n<r;n++){var a=e[n],s=this._getItemInfoForChildProgress(a);null===s.percentageWeight?t++:i+=s.percentageWeight}var o=0;0<t&&(o=(1-i)/t),this._computedItemPercentageWeight=o},_updateAmounts:function(){for(var e=this._children,t=this._computedItemPercentageWeight,i=0,n=0,r=0,a=0,s=0,o=e.length;s<o;s++){var c=e[s],l=this._getItemInfoForChildProgress(c),u=l.percentageWeight;null===u&&(u=t),n+=u*c.get("percentageComplete"),l.includeAmount&&(i+=c.get("amountComplete"),a+=c.get("totalAmount")),c.get("isComplete")&&r++}r===e.length&&(n=100,i=a),this._percentageComplete=n,this._amountComplete=i,this._totalAmount=a,this.changed(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"GroupProgress"},__superMap:{_$D0$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.x.extend(n._8,{changed:n._118(),size:n._107({readOnly:!0,get:function(){return this.get("length")}}),init:function(e){this._batchChangeCounter=1,this.__s._$5R$init.call(this,e),this._batchChangeCounter=0,this._batchChanged=!1},add:function(e){var t=this.__s._$7n$add.call(this,e);return!0===t&&(this._batchChanged=!0,this._notifyChange()),t},addItems:function(e){var t=this;this.beginBatchChanges(),e.forEach(function(e){t.add(e)}),this.endBatchChanges()},remove:function(e){var t=this.__s._$E3$remove.call(this,e);return!0===t&&(this._batchChanged=!0,this._notifyChange()),t},removeItems:function(e){var t=this;this.beginBatchChanges(),e.forEach(function(e){t.remove(e)}),this.endBatchChanges()},clear:function(){this.removeItems(this.toArray()||[])},batchChanges:function(e){this.beginBatchChanges(),e(this),this.endBatchChanges()},beginBatchChanges:function(){this._batchChangeCounter++},endBatchChanges:function(){this._batchChangeCounter--,0===this._batchChangeCounter?this._notifyChange():this._batchChangeCounter<0&&n._75("BRKit.ObservableSet#endBatchChanges: Cannot invoke. Invalid state")},_notifyChange:function(){0===this._batchChangeCounter&&this._batchChanged&&(this._batchChanged=!1,this.changed())},staticMembers:{__QUALIFIED_CLASS_NAME__:"ObservableSet"},__superMap:{_$5R$init:"init",_$7n$add:"add",_$E3$remove:"remove"}})},function(e,t,i){},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i(0),o=i(338),n=i(615),u=i(620),r=n.a.extend({createIterator:function(){return s.create(this._sortedEntities)},init:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Object.defineProperty(this,"_entityComparator",{value:e,writable:!0}),Object.defineProperty(this,"_sortedEntities",{value:[]}),this.__s._$Ix$init.apply(this,i)},didAddEntityWithId:function(e,t,i){var n=this._sortedEntities,r=this._entityComparator,a=Object(u.a)(e,n,r);c(e,n,a),i&&l(i,o.b.Insert,e,a)},willRemoveEntityWithId:function(e,t,i){var n=this._sortedEntities,r=this.getIndexForEntity(e);d(r,n),i&&l(i,o.b.Remove,e,r)},didUpdateEntityWithId:function(e,t,i){var n=this._sortedEntities,r=this.getIndexForEntity(e);d(r,n);var a=this._entityComparator,s=Object(u.a)(e,n,a);c(e,n,s),i&&l(i,o.b.Update,e,r,s)},resortEntities:function(e){var t=this._sortedEntities;this._entityComparator=e,t.sort(e)},some:function(e){return this._sortedEntities.some(e)},getEntityAtIndex:function(e){return this._sortedEntities[e]||null},getIndexForEntity:function(e){if(!this.containsEntity(e))return null;var t=this.getIdentifierForEntity(e),i=this._entityComparator,n=this._sortedEntities,r=Object(u.a)(e,n,i),a=n[r],s=null;if(a&&(s=this.getIdentifierForEntity(a)),s===t)return r;for(var o=n.length,c=r+1;!(o<=c)&&0===i(a=n[c],e);){if((s=this.getIdentifierForEntity(a))===t)return c;c++}for(c=r-1;!(c<0)&&0===i(a=n[c],e);){if((s=this.getIdentifierForEntity(a))===t)return c;c--}for(var l=0;l<o;l++)if(a=n[l],(s=this.getIdentifierForEntity(a))===t)return l;return null},toArray:function(){return this._sortedEntities.slice()},filter:function(e){var t=this._sortedEntities.filter(e);return r.create(this._entityComparator,{entities:t})},comparator:a._107({readOnly:!0,get:function(){return this._entityComparator}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SortedEntitySet"},__superMap:{_$Ix$init:"init"}}),s=a.v.extend({init:function(e){this.__s._$1x4$init.call(this),this._entities=e,this._counter=0},hasNext:function(){return this._counter<this._entities.length},next:function(){var e=this._entities[this._counter];return this._counter++,e},staticMembers:{__QUALIFIED_CLASS_NAME__:"SortedEntitySetIterator"},__superMap:{_$1x4$init:"init"}});function c(e,t,i){i>=t.length?t.push(e):t.splice(i,0,e)}function l(e,t,i,n,r){switch(t){case o.b.Insert:e.recordInsert(i,n);break;case o.b.Remove:e.recordRemove(i,n);break;case o.b.Update:e.recordUpdate(i,n,r);break;default:a._75("Cannot update change set. Invalid item action",{changeSetItemAction:t})}}function d(e,t){e<0||t.splice(e,1)}},function(e,t,i){"use strict";i(0)},function(e,t,n){"use strict";(function(e){var t=n(0),i=n(617);t.v.extend({pollPeriodMs:2e3,toleranceMs:3e4,lastTimeMs:0,interval:null,init:function(e){var t=arguments;this.__s._$DW$init.apply(this,t),this.update()},update:function(){this.lastTimeMs=Date.now(),this.interval&&e.clearInterval(this.interval),this.interval=t._114(this._poll.bind(this),this.pollPeriodMs)},_poll:function(){var e=Date.now(),t=this.lastTimeMs+this.pollPeriodMs;this.lastTimeMs=e,Math.abs(e-t)>this.toleranceMs&&this.clockDidChange()},clockDidChange:function(){t._100.debug("System clock may have changed"),i.b.dispatchNotification(i.a.create({id:"SystemClockChanged"}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"SystemClockChangeMonitor"},__superMap:{_$DW$init:"init"}}).create()}).call(t,n(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(139),a=i(619),s=n.v.extend(n._8,{runState:n._107({readOnly:!0,get:function(){return this._taskRunState}}),error:n._107({readOnly:!0,get:function(){return this._taskError}}),result:n._107({readOnly:!0,get:function(){return this._taskResult}}),isCancellable:n._107({readOnly:!0,get:function(){return(t=(e=this).runState)!==a.a.Cancelled&&t!==a.a.Completed&&e.shouldAllowCancel();var e,t}}),cancelled:n._118(),init:function(e){this.__s._$DT$init.call(this,e),this._taskRunState=a.a.Pending,this._taskError=null,this._taskResult=null,this._isCancellingRun=!1},run:function(){return this._taskRunState!==a.a.Pending&&n._75("Invalid state. Cannot run",{task:this}),this._promise=r.a.create(),this.startRun(),this._taskRunState=a.a.Running,this._promise},cancel:function(e){this.get("isCancellable")||n._75("Cannot cancel task. Not allowed.",{task:this}),this._taskRunState=a.a.Cancelled,this._isCancellingRun=!0},shouldAllowCancel:function(){return!1},startRun:function(){},finishRunWithSuccess:function(e){this._taskResult=e||null,this._taskRunState=a.a.Completed.Succeeded,this._promise.resolve(e)},finishRunWithFailure:function(e){this._taskError=e||null,this._taskRunState=a.a.Completed.Failed,this._promise.reject(e)},finishCancellingRun:function(e,t){t&&!0===t.force?(this._taskRunState=a.a.Cancelled,this._isCancellingRun=!0):this._isCancellingRun||n._75("Cannot finish cancelling. Invalid call.",{task:this}),this._isCancellingRun=!1,this._promise&&this._promise.cancel(e),this.cancelled(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"Task"},__superMap:{_$DT$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),a=i(139),s=r._67("TaskScheduler.TaskStatus",["Pending","Running","Done"]),n=r.v.extend(r._8,{delegate:null,traceId:null,trace:!1,allowedMaximumRunningTasks:1,suspend:function(){this._suspended||(this._suspended=!0)},resume:function(){if(this._suspended){this._suspended=!1;var e=this._tasksQueue;e&&0<e.length&&this._tryRunningNextTask()}},isActive:r._105({readOnly:!0,dependencies:["hasScheduledTasks","hasRunningTasks"],get:Object.assign(function(){return!(!this.hasScheduledTasks&&!this.hasRunningTasks)},{__CW__getter:function(e,t,i,n){return!(!n.internalGet(this,t[0+i])&&!n.internalGet(this,t[1+i]))}})}),isSuspended:r._105({readOnly:!0,get:function(){return this._suspended}}),hasScheduledTasks:r._105({readOnly:!0,get:function(){return 0<this._tasksQueue.length}}),hasRunningTasks:r._105({readOnly:!0,get:function(){return 0<this._runningTasksCount}}),runningTasksCount:r._107({readOnly:!0,get:function(){return this._runningTasksCount}}),scheduledTasksCount:r._107({readOnly:!0,get:function(){return this._tasksQueue.length}}),init:function(e){this.__s._$gp$init.call(this,e),this._suspended=!1,this._tasksQueue=[],this._runningTasks={},this._runningTasksCount=0},scheduleTask:function(e){var t=a.a.create(),i={status:s.Pending,task:e,promise:t},n=this,r=!0;return i.cancelObserver=e.observe("cancelled",function(e){e&&(r||n._taskDidCancel(i,e.context))}),r=!1,this._tasksQueue.push(i),this.didScheduleTask(e),this.propertyChanged("hasScheduledTasks"),this._logTrace("scheduled task for run",e),this._tryRunningNextTask(),t},cancelAllQueuedTasks:function(){if(!this._isCancellingTasks){this._isCancellingTasks=!0;var e=this._tasksQueue,i=this,n=[];e.forEach(function(e){var t=e.task;t.isCancellable?(t.cancel(),i.taskDidCancel(e)):n.push(e)}),this._tasksQueue=n,this._isCancellingTasks=!1,this.propertyChanged("hasScheduledTasks"),this._notifyFinishingScheduledTasksIfNeeded(),this._tryRunningNextTask()}},_tryRunningNextTask:function(){if(!this._suspended)for(var e=this.get("allowedMaximumRunningTasks"),t=this._tasksQueue;;){if(this._runningTasksCount===e)return void this._logTrace("Maximum number of tasks currently running. Cannot run another task");var i=t.shift();if(!i)return void this._logTrace("queue empty. No tasks to run");this._runTask(i)}},_runTask:function(t){var e=t.task;this._logTrace("running task",e),this.willStartRunningTask(e),t.status=s.Running,this._runningTasks[r._82(e)]=t,this._runningTasksCount++,this.propertyChanged("hasRunningTasks"),this.propertyChanged("hasScheduledTasks");var i=this;e.run().then(function(e){i._taskDidComplete(t,e)}).catch(function(e){i._taskDidFail(t,e)}),this.didStartRunningTask(e)},_taskDidComplete:function(e,t){var i=e.task,n=e.promise;this._logTrace("task completed",i),this._beginFinalizingTask(e),this.taskDidComplete(i),n.resolve(t),this._endFinalizingTask(i)},_taskDidFail:function(e,t){var i=e.task,n=e.promise;this._logTrace("task failed",i),this._beginFinalizingTask(e),this.taskDidFail(i,t),n.reject(t),this._endFinalizingTask(i)},_taskDidCancel:function(e,t){var i=e.task,n=e.promise;this._logTrace("task cancelled",i),this._beginFinalizingTask(e),this.taskDidCancel(i),n.cancel(t),this._endFinalizingTask(i)},_beginFinalizingTask:function(e){switch(e.status){case s.Pending:this._isCancellingTasks||(r._110(e,this._tasksQueue),this.propertyChanged("hasScheduledTasks"));break;case s.Running:var t=e.task;delete this._runningTasks[r._82(t)],this._runningTasksCount--,this.propertyChanged("hasRunningTasks")}e.status=s.Done,e.cancelObserver.disconnect()},_endFinalizingTask:function(e){this._isCancellingTasks||(this._tryRunningNextTask(),this._notifyFinishingScheduledTasksIfNeeded())},_notifyFinishingScheduledTasksIfNeeded:function(){var e=this._runningTasksCount,t=this._tasksQueue.length;0===e&&0===t&&this.didFinishRunningScheduledTasks()},didScheduleTask:function(e){var t=this.get("delegate"),i=t?t.taskSchedulerDidScheduleTask:null;i&&i.call(t,this,e)},didFinishRunningScheduledTasks:function(){var e=this.get("delegate"),t=e?e.taskSchedulerDidFinishRunningScheduledTasks:null;t&&t.call(e,this)},willStartRunningTask:function(e){var t=this.get("delegate"),i=t?t.taskSchedulerWillStartRunningTask:null;i&&i.call(t,this,e)},didStartRunningTask:function(e){var t=this.get("delegate"),i=t?t.taskSchedulerDidStartRunningTask:null;i&&i.call(t,this,e)},taskDidComplete:function(e){var t=this.get("delegate"),i=t?t.taskSchedulerTaskDidComplete:null;i&&i.call(t,this,e)},taskDidFail:function(e,t){var i=this.get("delegate"),n=i?i.taskSchedulerTaskDidFail:null;n&&n.call(i,this,e,t)},taskDidCancel:function(e){var t=this.get("delegate"),i=t?t.taskSchedulerTaskDidCancel:null;i&&i.call(t,this,e)},_logTrace:function(e,t){if(this.trace){var i=this.traceId,n=(i?"[BRKit.TaskScheduler: "+i+"]":this)+" "+e;t&&(n+=": "+t),r._100.debug(n)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"TaskScheduler"},__superMap:{_$gp$init:"init"}})},function(e,t,i){},function(e,t,i){"use strict";var n=i(0),r=i(12);n._8},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var c=i(0),n=i(341),l=i(64),u=i(623),r=n.a.extend({delegate:null,dragStart:function(e,t){if(!this.shouldAllowDrag(e,t))return!1;var i,n=this.delegate;if(n&&(i=n.dragSourceHandlerShouldAllowDrag)&&!i.call(n,this,t))return!1;n&&(i=n.dragSourceHandlerWillStartDragging)&&i.call(n,this,t);var r=this.getGhostImageInfo(e,t);if(r){var a=document.body,s=r.element;s.classList.add("drive-ui"),a.insertBefore(s,a.firstChild),Object(u.f)(e,s,r.offsetX,r.offsetY),l.a.setTimeout(function(){s.parentNode&&s.parentNode.removeChild(s)},0)}var o=this.getDragSourceInfo(e,t);return o&&(o.get("type")||c._75("Drag source info missing type",{dragSourceHandler:this,evt:e,view:t,dragSourceInfo:o})),this.get("dragService").draggingStarted(t,e,o),n&&(i=n.dragSourceHandlerDidStartDragging)&&i.call(n,this,t),this.didDragStart(e,t),!0},dragEnd:function(e,t){var i,n=this.delegate;return n&&(i=n.dragSourceHandlerWillEndDragging)&&i.call(n,this,t),this.get("dragService").draggingEnded(),n&&(i=n.dragSourceHandlerDidEndDragging)&&i.call(n,this,t),this.didDragEnd(e,t),!0},shouldAllowDrag:function(e,t){return!0},drag:function(e,t){},didDragStart:function(e,t){},didDragEnd:function(e,t){},getGhostImageInfo:function(e,t){return null},getDragSourceInfo:function(e,t){return null},staticMembers:{__QUALIFIED_CLASS_NAME__:"DragSourceHandler"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1207),r=(i.n(n),function(e,t,i,n){if("function"==typeof e.dataTransfer.setDragImage)e.dataTransfer.setDragImage(t,i,n);else{var r=e.target;r.classList.add("cw2-set-drag-image-original"),t.style.top=0,t.style.left=0,t.classList.add("cw2-set-drag-image-ghost"),r.appendChild(t),setTimeout(function(){t.parentNode.removeChild(t),r.classList.remove("cw2-set-drag-image-original")},0)}})},function(e,t){},function(e,t,i){"use strict";function o(e,t){return e.priority-t.priority}t.a=function(e,t,i,n,r){(t=t.slice()).sort(o);var a=0,s=(t=t.filter(function(e){return!(void 0!==n&&e<n||void 0!==r&&r<e)})).length;for(a=0;a<s&&!((i=t[a](e,i))<=0);a++);return i}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend({width:0,height:0,items:null,init:function(){var e=arguments;this.items=[],this.__s._$Nr$init.apply(this,e)},addItem:function(e,t,i){var n=o.create(this,e);return t||(t={left:0,top:0,width:0,height:0}),n.reset(t,i),this.items.push(n),this[e]=n},reset:function(e,t){var i,n=this.items,r=n.length;for(i=0;i<r;i++)n[i].reset()},staticMembers:{__QUALIFIED_CLASS_NAME__:"LayoutPlan"},__superMap:{_$Nr$init:"init"}}),a=n.o.extend({initializeMember:function(e,t){var i=this.get,n=this.set;if(!i||!n){var r="_"+t;i||(i=function(){return this[r]}),n||(n=function(e){this[r]=e})}return Object.defineProperty(e,t,{get:i,set:n}),null},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeProperty"}}),s=function(e){return a.create(e)},o=n.v.extend({_left:0,_top:0,_width:0,_height:0,_right:0,_bottom:0,init:function(e,t){this.plan=e,this.key=t,this.__s._$13A$init.call(this)},reset:function(e,t){if(e){var i,n,r=0,a=0;r=e.left,a=e.top,i=e.width,n=e.height,t&&(r-=t.left,a-=t.top),this._initialLeft=r,this._initialTop=a,this._initialWidth=i,this._initialHeight=n}this._left=this._initialLeft,this._top=this._initialTop,this._width=this._initialWidth,this._height=this._initialHeight,this._right=this._left+this._width,this._bottom=this._top+this._height},widthHasChanged:s({get:function(){return this._width!==this._initialWidth}}),heightHasChanged:s({get:function(){return this._height!==this._initialHeight}}),centerHorizontally:function(e,t){var i=0,n=0;"number"==typeof e?(t=e,i=this.plan.width):e?(i=e._width,n=e._left):i=this.plan.width,t||(t=0);var r=n+i/2-this._width/2+t;this._left=r,this._right=r+this._width},centerVertically:function(e,t){var i=0,n=0;"number"==typeof e?(t=e,i=this.plan.height):e?(i=e._height,n=e._top):(e=this.plan,i=this.plan.height),t||(t=0);var r=n+i/2-this._height/2+t;this._top=r,this._bottom=r+this._height},resizeSoThatLeft:function(e,t){var i=c(this._left,e,t);this._left=i,this._width=this._right-this._left},resizeSoThatRight:function(e,t){var i=c(this._right,e,t);this._right=i,this._width=this._right-this._left},resizeSoThatTop:function(e,t){var i=c(this._top,e,t);this._top=i,this._height=this._bottom-i},resizeSoThatBottom:function(e,t){var i=c(this._bottom,e,t);this._bottom=i,this._height=i-this._top},moveSoThatLeft:function(e,t){var i=c(this._left,e,t);this._left=i,this._right=i+this._width},moveSoThatRight:function(e,t){var i=c(this._right,e,t);this._right=i,this._left=i-this._width},moveSoThatTop:function(e,t){var i=c(this._top,e,t);this._top=i,this._bottom=i+this._height},moveSoThatBottom:function(e,t){var i=c(this._bottom,e,t);this._bottom=i,this._top=i-this._height},moveLeftSoThatWidth:function(e,t){var i=c(this._width,e,t);this._width=i,this._left=this._right-i},moveRightSoThatWidth:function(e,t){var i=c(this._width,e,t);this._width=i,this._right=this._left+i},moveTopSoThatHeight:function(e,t){var i=c(this._height,e,t);this._height=i,this._top=this._bottom-i},moveBottomSoThatHeight:function(e,t){var i=c(this._height,e,t);this._height=i,this._bottom=this._top+i},setLeft:function(e){this._left=e,this._right=e+this._width},setRight:function(e){this._right=e,this._left=e-this._width},setTop:function(e){this._top=e,this._bottom=e+this._height},setBottom:function(e){this._bottom=e,this._top=e-this._height},setWidth:function(e){this.setWidthFromLeft(e)},setWidthFromLeft:function(e){this._width=e,this._right=this._left+e},setWidthFromRight:function(e){this._width=e,this._left=this._right-e},setHeight:function(e){this.setHeightFromTop(e)},setHeightFromTop:function(e){this._height=e,this._bottom=this._top+e},setHeightFromBottom:function(e){this._height=e,this._top=this._bottom-e},left:s({set:function(e){this.setLeft(e)}}),right:s({set:function(e){this.setRight(e)}}),top:s({set:function(e){this.setTop(e)}}),bottom:s({set:function(e){this.setBottom(e)}}),width:s({set:function(e){this.setWidth(e)}}),height:s({set:function(e){this.setHeight(e)}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"LayoutPlanItem"},__superMap:{_$13A$init:"init"}});function c(e,t,i){return">="===t?Math.max(e,i):"<="===t?Math.min(e,i):void n._75("Unknown operator in layout plan: "+t,{left:e,right:i})}},function(e,t,i){"use strict";t.a=function(e){return a.create(e)};var n=i(0),r=i(343),a=n._3.extend({requiresSupport:r.a,init:function(){var e=arguments,i=this;this.value=function(e,t){return i.call(this,e,t)},this.__s._$5Y$init.apply(this,e)},setItemPosition:function(e,t){},call:function(e,t,i){var n=i,r=0,a=0,s=t.length;for(a=0;a<s;a++){var o=t[a];n+=r=Math.max(r,this.marginBefore(o)),this.setItemPosition(o,n),n+=o.width,r=this.marginAfter(o)}return n+r},marginBefore:function(e){return 0},marginAfter:function(e){return 0},staticMembers:{__QUALIFIED_CLASS_NAME__:"DirectionalLayout"},__superMap:{_$5Y$init:"init"}}).extend({setItemPosition:function(e,t){e.left=t},staticMembers:{__QUALIFIED_CLASS_NAME__:"LeftToRightLayout"}})},function(e,t,i){},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r={draggable:n._105(!0),dragSourceHandler:null,dragStart:function(e){var t=this.get("draggable"),i=this.get("dragSourceHandler");return!1!==(!!t&&(!i||i.dragStart(e,this)))?(this.brResetGestureRecognizers(),this.didStartDragging(e),!0):(e.preventDefault(),!1)},dragEnd:function(e){var t=this.get("dragSourceHandler");return!1!==(!t||t.dragEnd(e,this))&&(e.preventDefault(),this.didEndDragging(e),!0)},drag:function(e){var t=this.get("dragSourceHandler");return!1!==(!t||t.drag(e,this))&&(this.didDrag(e),!0)},didStartDragging:function(e){},didEndDragging:function(e){},didDrag:function(e){},_br_dragsourcehandlersupport_draggableDidChange:n._106("draggable","element",function(e,t){t&&t.setAttribute("draggable",e)})}},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var r,o=i(0),n=i(341),a=i(625),s=i(342),c=n.a.extend({_actionPolicy:o._105(o._64("delegate.session.actionPolicy")),delegate:o._105(),dragEnter:function(e,t){d.dragEnter(e,t);var i=this._getDragSourceInfo(e),n=this.get("dragService");return!!this.shouldAllowDrop(e,t,i)&&n.get("dragInitiator")!==t&&this!==r&&(r=this,n.setDragTargetHandler(this,e,t),void this.didDragEnter(e,t,i))},dragOver:function(e,t){d.dragOver(e,t);var i=this._getDragSourceInfo(e);if(!this.shouldAllowDrop(e,t,i)){var n=o.j.get("sharedInstance").get("isChrome"),r=o.C.get("sharedInstance").get("isWindows"),a=o.C.get("sharedInstance").get("osMajorVersion");return e.dataTransfer.dropEffect=n&&r&&10<=a?"pointer":"none",!1}var s=this.get("dragService");if(s.get("dragInitiator")===t)return!1;s.setDragTargetHandler(this,e,t),this.didDragOver(e,t,i)},dragLeave:function(e,t){if(d.dragLeave(e,t),this===r)return!1;r=null,this.get("dragService").clearDragTargetHandler(),this.didDragLeave(e,t)},drop:function(e,t){var i=this._getDragSourceInfo(e);if(!this.shouldAllowDrop(e,t,i))return!1;this.get("dragService").setDropHandler(this._finishDrop,this,e,t,i),d.drop(e,t)},_finishDrop:function(e,t,i){this.willCompleteDrop(e,t,i);var n,r=this.getDropInfo(e,t,i),a=this.delegate;a&&(n=a.dragTargetHandlerPerformActionForDropInfo)&&n.call(a,this,r),this.didCompleteDrop(e,t,i)},getDragTargetInfo:function(e,t){return null},getDropInfo:function(e,t,i){return null},shouldAllowDrop:function(e,t,i){return!(!i||!t)},didDragEnter:function(e,t,i){},didDragOver:function(e,t,i){},didDragLeave:function(e,t,i){},willCompleteDrop:function(e,t,i){},didCompleteDrop:function(e,t,i){},_getDragSourceInfo:function(e){return this.get("dragService").get("dragSourceInfo")},staticMembers:{__QUALIFIED_CLASS_NAME__:"DragTargetHandler"}}),l=null,u=null,d={dragEnter:function(e,t){var i=Object(s.a)(),n=i.get("dragSourceInfo");n||(n=function(e){var t=e.dataTransfer&&e.dataTransfer.types;if(t)for(var i=0,n=t.length;i<n;i++)if("Files"===t[i])return!0;return!1}(e)?a.c.create({effectAllowed:a.a.COPY,type:a.b.FILE_SYSTEM,data:{items:null}}):a.c.create({effectAllowed:a.a.NONE,type:a.b.NONE}),l=t,h(),i.draggingStarted(null,e,n))},dragOver:function(e,t){h()},dragLeave:function(e,t){l===t&&(h(),u=o._116(p,100))},drop:function(e,t){if(l){var i=Object(s.a)();h(),l=null;var n=i.dragSourceInfo,r=e.dataTransfer;this._checkIfMsEdgeThrowsAccessIsDeniedException(r)?(n.data.items=null,n.meta.isAccessDenied=!0):n.data.items=r.files,i.draggingEnded()}},_checkIfMsEdgeThrowsAccessIsDeniedException:function(e){if(o.j.sharedInstance.isEdge)try{return e.items===this}catch(e){return!0}return!1}};function h(){u&&(clearTimeout(u),u=null)}function p(){l=null,Object(s.a)().draggingEnded()}},function(e,t,i){},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={isDragTargetFocused:i(0)._105(!1),dragTargetHandler:null,drop:function(e){var t=this.get("dragTargetHandler");return!1!==(!!t&&t.drop(e,this))&&(e.preventDefault(),e.stopPropagation(),!0)},dragEnter:function(e){var t=this.get("dragTargetHandler");return!1!==(!!t&&t.dragEnter(e,this))&&(e.preventDefault(),!0)},dragOver:function(e){var t=this.get("dragTargetHandler");return!1!==(!!t&&t.dragOver(e,this))&&(e.preventDefault(),!0)},dragLeave:function(e){var t=this.get("dragTargetHandler");return!1!==(!!t&&t.dragLeave(e,this))&&(e.preventDefault(),!0)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e,t){this.action=e,this.data=t};n.prototype.get=function(e){return this[e]},n.create=function(e,t){var i=new n(e,t);return Object.freeze(i),i}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e,t){this.action=e,this.data=t};n.prototype.get=function(e){return this[e]},n.create=function(e,t){var i=new n(e,t);return Object.freeze(i),i}},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i(192)},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a});var n=i(0),r=n.v.extend({groups:n._107({readOnly:!0,get:function(){return this._groups}}),init:function(e){this.__s._$47$init.call(this,e),this._groups=[]},addMenuGroup:function(e){this._groups.push(e)},getMenuGroupByIndex:function(e){return this._groups[e]||null},staticMembers:{__QUALIFIED_CLASS_NAME__:"Menu"},__superMap:{_$47$init:"init"}}),a=n.v.extend(n._8,{id:null,title:"",value:null,checked:n._105(!1),target:null,action:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var r=i(0),n=i(191),a=i(628),s=i(629),o=i(64),c=i(346),l=r.v.extend({menu:null,menuItem:r._107({readOnly:!0,get:function(){return this._tappedMenuItem}}),popoverLayoutMargins:n.a.ZERO,popoverContentSizeConstraints:null,popoverVisible:r._107({readOnly:!0,get:function(){return this._popover.get("popoverVisible")}}),init:function(e){this.__s._$CY$init.call(this,e);var t=this._menuViewController=u.create({menuController:this,menu:this.menu});this._popover=s.a.create({delegate:this,contentViewController:t,popoverLayoutMargins:this.get("popoverLayoutMargins"),popoverContentSizeConstraints:this.get("popoverContentSizeConstraints"),additionalClassNames:r._60(["sharp-corners"])})},presentPopoverForView:function(e,t){this._tappedMenuItem=null,this._popover.presentPopoverForView(e,t)},dismissPopover:function(){this._popover.dismissPopover()},menuViewPerformActionForMenuItem:function(e,t){this._tappedMenuItem=t,this.dismissPopover(),o.a.setTimeout(function(){this._performTargetActionForMenuItem(t)}.bind(this))},popoverControllerShouldDismissPopover:function(e){return!0},popoverControllerDidDismissPopover:function(e){},_performTargetActionForMenuItem:function(e){var t=e.get("target"),i=e.get("action");if(t&&i){var n=i;r._95(i)&&(n=t[i]),r._92(n)||r._75("Cannot perform action. Action must be a function on target",{controller:this,action:i,target:t}),n.call(t,this)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuPopoverController"},__superMap:{_$CY$init:"init"}}),u=c.a.extend({menuController:null,menu:r._105(),viewClass:a.a,createView:function(){return this.viewClass.create({delegate:this.menuController,menu:this.menu})},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewController"}})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(642),a=n.v.extend(n._55,{urlString:n._107({defaultValue:"",validators:[r.a]}),requestProperties:{},staticMembers:{__QUALIFIED_CLASS_NAME__:"HostInfo"}})},function(e,t,i){"use strict";(function(Te){var e=i(1229),Ae=(i.n(e),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});Te.IntlPolyfill=function(){var e="function"==typeof Symbol&&"symbol"===Ae(Symbol.iterator)?function(e){return void 0===e?"undefined":Ae(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":Ae(e)},t=function(){function l(e){this.value=e}function t(r){var a,s;function o(e,t){try{var i=r[e](t),n=i.value;n instanceof l?Promise.resolve(n.value).then(function(e){o("next",e)},function(e){o("throw",e)}):c(i.done?"return":"normal",i.value)}catch(e){c("throw",e)}}function c(e,t){switch(e){case"return":a.resolve({value:t,done:!0});break;case"throw":a.reject(t);break;default:a.resolve({value:t,done:!1})}(a=a.next)?o(a.key,a.arg):s=null}this._invoke=function(n,r){return new Promise(function(e,t){var i={key:n,arg:r,resolve:e,reject:t,next:null};s?s=s.next=i:(a=s=i,o(n,r))})},"function"!=typeof r.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(e){return new l(e)}}}(),i=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),E=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=void 0===Te?self:Te,d=Object.freeze({asyncIterator:function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},asyncGenerator:t,asyncGeneratorDelegate:function(n,e){var t={},r=!1;function i(t,i){return r=!0,i=new Promise(function(e){e(n[t](i))}),{done:!1,value:e(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(t[Symbol.iterator]=function(){return this}),t.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof n.throw&&(t.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof n.return&&(t.return=function(e){return i("return",e)}),t},asyncToGenerator:function(e){return function(){var o=e.apply(this,arguments);return new Promise(function(a,s){return function t(e,i){try{var n=o[e](i),r=n.value}catch(e){return void s(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})}},classCallCheck:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass:i,defineEnumerableProperties:function(e,t){for(var i in t){var n=t[i];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i,n)}return e},defaults:function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e},defineProperty:E,get:function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,i,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},inherits:function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Ae(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},interopRequireDefault:function(e){return e&&e.__esModule?e:{default:e}},interopRequireWildcard:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t},newArrowCheck:function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},objectDestructuringEmpty:function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},objectWithoutProperties:function(e,t){var i={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i},possibleConstructorReturn:function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Ae(t))&&"function"!=typeof t?e:t},selfGlobal:r,set:function e(t,i,n,r){var a=Object.getOwnPropertyDescriptor(t,i);if(void 0===a){var s=Object.getPrototypeOf(t);null!==s&&e(s,i,n,r)}else if("value"in a&&a.writable)a.value=n;else{var o=a.set;void 0!==o&&o.call(r,n)}return n},slicedToArray:function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},slicedToArrayLoose:function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var i,n=[],r=e[Symbol.iterator]();!(i=r.next()).done&&(n.push(i.value),!t||n.length!==t););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},taggedTemplateLiteral:function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},taggedTemplateLiteralLoose:function(e,t){return e.raw=t,e},temporalRef:function(e,t,i){if(e===i)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},temporalUndefined:{},toArray:function(e){return Array.isArray(e)?e:Array.from(e)},toConsumableArray:function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},typeof:e,extends:n,instanceof:function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}}),a=function(){var e=function(){};try{return Object.defineProperty(e,"a",{get:function(){return 1}}),Object.defineProperty(e,"prototype",{writable:!1}),1===e.a&&e.prototype instanceof Object}catch(e){return!1}}(),T=!a&&!Object.prototype.__defineGetter__,V=Object.prototype.hasOwnProperty,A=a?Object.defineProperty:function(e,t,i){"get"in i&&e.__defineGetter__?e.__defineGetter__(t,i.get):(!V.call(e,t)||"value"in i)&&(e[t]=i.value)},O=Array.prototype.indexOf||function(e){if(!this.length)return-1;for(var t=arguments[1]||0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},s=Object.create||function(e,t){var i;function n(){}for(var r in n.prototype=e,i=new n,t)V.call(t,r)&&A(i,r,t[r]);return i},o=Array.prototype.slice,c=Array.prototype.concat,U=Array.prototype.push,B=Array.prototype.join,$=Array.prototype.shift,l=Function.prototype.bind||function(e){var t=this,i=o.call(arguments,1);return t.length,function(){return t.apply(e,c.call(i,o.call(arguments)))}},W=s(null),D=Math.random();function F(e){for(var t in e)(e instanceof F||V.call(e,t))&&A(this,t,{value:e[t],enumerable:!0,writable:!0,configurable:!0})}function G(){A(this,"length",{writable:!0,value:0}),arguments.length&&U.apply(this,o.call(arguments))}function M(){if(W.disableRegExpRestore)return function(){};for(var s={lastMatch:RegExp.lastMatch||"",leftContext:RegExp.leftContext,multiline:RegExp.multiline,input:RegExp.input},o=!1,e=1;e<=9;e++)o=(s["$"+e]=RegExp["$"+e])||o;return function(){var e=/[.?*+^$[\]\\(){}|-]/g,t=s.lastMatch.replace(e,"\\$&"),i="";if(o)for(var n=1;n<=9;n++){var r=s["$"+n];r?(r=r.replace(e,"\\$&"),i+=t.substring(0,t.indexOf(r))+"(",t=r+")"+t.substring(t.indexOf(r)+r.length)):(i+="(",t=")"+t)}i=(i+=t).replace(/((^|[^\\])((\\\\)*\\[()])+|[^()])+/g,function(e){return"[\\s\\S]{"+e.replace(/\\(.)/g,"$1").length+"}"});var a=new RegExp(i,s.multiline?"gm":"g");a.lastIndex=s.leftContext.length,a.exec(s.input)}}function y(e){if(null===e)throw new TypeError("Cannot convert null or undefined to object");return"object"===(void 0===e?"undefined":d.typeof(e))?e:Object(e)}function h(e){return"number"==typeof e?e:Number(e)}function z(e){return V.call(e,"__getInternalProperties")?e.__getInternalProperties(D):s(null)}F.prototype=s(null),G.prototype=s(null);var u="(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3})",p="[0-9a-wy-z]",f=p+"(?:-[a-z0-9]{2,8})+",_="x(?:-[a-z0-9]{1,8})+",m=RegExp("^(?:(?:[a-z]{2,3}(?:-[a-z]{3}(?:-[a-z]{3}){0,2})?|[a-z]{4}|[a-z]{5,8})(?:-[a-z]{4})?(?:-(?:[a-z]{2}|\\d{3}))?(?:-"+u+")*(?:-"+f+")*(?:-"+_+")?|"+_+"|(?:(?:en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-(?:guoyu|hakka|min|min-nan|xiang))))$","i"),g=RegExp("^(?!x).*?-("+u+")-(?:\\w{4,8}-(?!x-))*\\1\\b","i"),v=RegExp("^(?!x).*?-("+p+")-(?:\\w+-(?!x-))*\\1\\b","i"),b=RegExp("-"+f,"ig"),S=void 0,I={tags:{"art-lojban":"jbo","i-ami":"ami","i-bnn":"bnn","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","no-bok":"nb","no-nyn":"nn","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-CH-DE":"sgg","zh-guoyu":"cmn","zh-hakka":"hak","zh-min-nan":"nan","zh-xiang":"hsn","sgn-BR":"bzs","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsl","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs","zh-cmn":"cmn","zh-cmn-Hans":"cmn-Hans","zh-cmn-Hant":"cmn-Hant","zh-gan":"gan","zh-wuu":"wuu","zh-yue":"yue"},subtags:{BU:"MM",DD:"DE",FX:"FR",TP:"TL",YD:"YE",ZR:"CD",heploc:"alalc97",in:"id",iw:"he",ji:"yi",jw:"jv",mo:"ro",ayx:"nun",bjd:"drl",ccq:"rki",cjr:"mom",cka:"cmr",cmk:"xch",drh:"khk",drw:"prs",gav:"dev",hrr:"jal",ibi:"opa",kgh:"kml",lcq:"ppr",mst:"mry",myt:"mry",sca:"hle",tie:"ras",tkk:"twm",tlw:"weo",tnf:"prs",ybd:"rki",yma:"lrr"},extLang:{aao:["aao","ar"],abh:["abh","ar"],abv:["abv","ar"],acm:["acm","ar"],acq:["acq","ar"],acw:["acw","ar"],acx:["acx","ar"],acy:["acy","ar"],adf:["adf","ar"],ads:["ads","sgn"],aeb:["aeb","ar"],aec:["aec","ar"],aed:["aed","sgn"],aen:["aen","sgn"],afb:["afb","ar"],afg:["afg","sgn"],ajp:["ajp","ar"],apc:["apc","ar"],apd:["apd","ar"],arb:["arb","ar"],arq:["arq","ar"],ars:["ars","ar"],ary:["ary","ar"],arz:["arz","ar"],ase:["ase","sgn"],asf:["asf","sgn"],asp:["asp","sgn"],asq:["asq","sgn"],asw:["asw","sgn"],auz:["auz","ar"],avl:["avl","ar"],ayh:["ayh","ar"],ayl:["ayl","ar"],ayn:["ayn","ar"],ayp:["ayp","ar"],bbz:["bbz","ar"],bfi:["bfi","sgn"],bfk:["bfk","sgn"],bjn:["bjn","ms"],bog:["bog","sgn"],bqn:["bqn","sgn"],bqy:["bqy","sgn"],btj:["btj","ms"],bve:["bve","ms"],bvl:["bvl","sgn"],bvu:["bvu","ms"],bzs:["bzs","sgn"],cdo:["cdo","zh"],cds:["cds","sgn"],cjy:["cjy","zh"],cmn:["cmn","zh"],coa:["coa","ms"],cpx:["cpx","zh"],csc:["csc","sgn"],csd:["csd","sgn"],cse:["cse","sgn"],csf:["csf","sgn"],csg:["csg","sgn"],csl:["csl","sgn"],csn:["csn","sgn"],csq:["csq","sgn"],csr:["csr","sgn"],czh:["czh","zh"],czo:["czo","zh"],doq:["doq","sgn"],dse:["dse","sgn"],dsl:["dsl","sgn"],dup:["dup","ms"],ecs:["ecs","sgn"],esl:["esl","sgn"],esn:["esn","sgn"],eso:["eso","sgn"],eth:["eth","sgn"],fcs:["fcs","sgn"],fse:["fse","sgn"],fsl:["fsl","sgn"],fss:["fss","sgn"],gan:["gan","zh"],gds:["gds","sgn"],gom:["gom","kok"],gse:["gse","sgn"],gsg:["gsg","sgn"],gsm:["gsm","sgn"],gss:["gss","sgn"],gus:["gus","sgn"],hab:["hab","sgn"],haf:["haf","sgn"],hak:["hak","zh"],hds:["hds","sgn"],hji:["hji","ms"],hks:["hks","sgn"],hos:["hos","sgn"],hps:["hps","sgn"],hsh:["hsh","sgn"],hsl:["hsl","sgn"],hsn:["hsn","zh"],icl:["icl","sgn"],ils:["ils","sgn"],inl:["inl","sgn"],ins:["ins","sgn"],ise:["ise","sgn"],isg:["isg","sgn"],isr:["isr","sgn"],jak:["jak","ms"],jax:["jax","ms"],jcs:["jcs","sgn"],jhs:["jhs","sgn"],jls:["jls","sgn"],jos:["jos","sgn"],jsl:["jsl","sgn"],jus:["jus","sgn"],kgi:["kgi","sgn"],knn:["knn","kok"],kvb:["kvb","ms"],kvk:["kvk","sgn"],kvr:["kvr","ms"],kxd:["kxd","ms"],lbs:["lbs","sgn"],lce:["lce","ms"],lcf:["lcf","ms"],liw:["liw","ms"],lls:["lls","sgn"],lsg:["lsg","sgn"],lsl:["lsl","sgn"],lso:["lso","sgn"],lsp:["lsp","sgn"],lst:["lst","sgn"],lsy:["lsy","sgn"],ltg:["ltg","lv"],lvs:["lvs","lv"],lzh:["lzh","zh"],max:["max","ms"],mdl:["mdl","sgn"],meo:["meo","ms"],mfa:["mfa","ms"],mfb:["mfb","ms"],mfs:["mfs","sgn"],min:["min","ms"],mnp:["mnp","zh"],mqg:["mqg","ms"],mre:["mre","sgn"],msd:["msd","sgn"],msi:["msi","ms"],msr:["msr","sgn"],mui:["mui","ms"],mzc:["mzc","sgn"],mzg:["mzg","sgn"],mzy:["mzy","sgn"],nan:["nan","zh"],nbs:["nbs","sgn"],ncs:["ncs","sgn"],nsi:["nsi","sgn"],nsl:["nsl","sgn"],nsp:["nsp","sgn"],nsr:["nsr","sgn"],nzs:["nzs","sgn"],okl:["okl","sgn"],orn:["orn","ms"],ors:["ors","ms"],pel:["pel","ms"],pga:["pga","ar"],pks:["pks","sgn"],prl:["prl","sgn"],prz:["prz","sgn"],psc:["psc","sgn"],psd:["psd","sgn"],pse:["pse","ms"],psg:["psg","sgn"],psl:["psl","sgn"],pso:["pso","sgn"],psp:["psp","sgn"],psr:["psr","sgn"],pys:["pys","sgn"],rms:["rms","sgn"],rsi:["rsi","sgn"],rsl:["rsl","sgn"],sdl:["sdl","sgn"],sfb:["sfb","sgn"],sfs:["sfs","sgn"],sgg:["sgg","sgn"],sgx:["sgx","sgn"],shu:["shu","ar"],slf:["slf","sgn"],sls:["sls","sgn"],sqk:["sqk","sgn"],sqs:["sqs","sgn"],ssh:["ssh","ar"],ssp:["ssp","sgn"],ssr:["ssr","sgn"],svk:["svk","sgn"],swc:["swc","sw"],swh:["swh","sw"],swl:["swl","sgn"],syy:["syy","sgn"],tmw:["tmw","ms"],tse:["tse","sgn"],tsm:["tsm","sgn"],tsq:["tsq","sgn"],tss:["tss","sgn"],tsy:["tsy","sgn"],tza:["tza","sgn"],ugn:["ugn","sgn"],ugy:["ugy","sgn"],ukl:["ukl","sgn"],uks:["uks","sgn"],urk:["urk","ms"],uzn:["uzn","uz"],uzs:["uzs","uz"],vgt:["vgt","sgn"],vkk:["vkk","ms"],vkt:["vkt","ms"],vsi:["vsi","sgn"],vsl:["vsl","sgn"],vsv:["vsv","sgn"],wuu:["wuu","zh"],xki:["xki","sgn"],xml:["xml","sgn"],xmm:["xmm","ms"],xms:["xms","sgn"],yds:["yds","sgn"],ysl:["ysl","sgn"],yue:["yue","zh"],zib:["zib","sgn"],zlm:["zlm","ms"],zmi:["zmi","ms"],zsl:["zsl","sgn"],zsm:["zsm","ms"]}};function N(e){for(var t=e.length;t--;){var i=e.charAt(t);"a"<=i&&i<="z"&&(e=e.slice(0,t)+i.toUpperCase()+e.slice(t+1))}return e}function w(e){return!!m.test(e)&&!g.test(e)&&!v.test(e)}function C(e){for(var t=void 0,i=void 0,n=1,r=(i=(e=e.toLowerCase()).split("-")).length;n<r;n++)if(2===i[n].length)i[n]=i[n].toUpperCase();else if(4===i[n].length)i[n]=i[n].charAt(0).toUpperCase()+i[n].slice(1);else if(1===i[n].length&&"x"!==i[n])break;(t=(e=B.call(i,"-")).match(b))&&1<t.length&&(t.sort(),e=e.replace(RegExp("(?:"+b.source+")+","i"),B.call(t,""))),V.call(I.tags,e)&&(e=I.tags[e]);for(var a=1,s=(i=e.split("-")).length;a<s;a++)V.call(I.subtags,i[a])?i[a]=I.subtags[i[a]]:V.call(I.extLang,i[a])&&(i[a]=I.extLang[i[a]][0],1===a&&I.extLang[i[1]][1]===i[0]&&(i=o.call(i,a++),s-=1));return B.call(i,"-")}var L=/^[A-Z]{3}$/,x=/-u(?:-[0-9a-z]{2,8})+/gi;function P(e){if(void 0===e)return new G;for(var t=new G,i=y(e="string"==typeof e?[e]:e),n=(c=i.length,u=l=void 0,l=h(c),(u=isNaN(l)?0:0===l||-0===l||l===1/0||l===-1/0?l:l<0?-1*Math.floor(Math.abs(l)):Math.floor(Math.abs(l)))<=0?0:u===1/0?Math.pow(2,53)-1:Math.min(u,Math.pow(2,53)-1)),r=0;r<n;){var a=String(r);if(a in i){var s=i[a];if(null===s||"string"!=typeof s&&"object"!==(void 0===s?"undefined":d.typeof(s)))throw new TypeError("String or Object type expected");var o=String(s);if(!w(o))throw new RangeError("'"+o+"' is not a structurally valid language tag");o=C(o),-1===O.call(t,o)&&U.call(t,o)}r++}var c,l,u;return t}function R(e,t){for(var i=t;i;){if(-1<O.call(e,i))return i;var n=i.lastIndexOf("-");if(n<0)return;2<=n&&"-"===i.charAt(n-2)&&(n-=2),i=i.substring(0,n)}}function k(e,t,i,n,r){if(0===e.length)throw new ReferenceError("No locale data has been provided for this object yet.");i["[[localeMatcher]]"];var a,s=(a=function(e,t){for(var i=0,n=t.length,r=void 0,a=void 0,s=void 0;i<n&&!r;)a=t[i],r=R(e,s=String(a).replace(x,"")),i++;var o=new F;if(void 0!==r){if(o["[[locale]]"]=r,String(a)!==String(s)){var c=a.match(x)[0],l=a.indexOf("-u-");o["[[extension]]"]=c,o["[[extensionIndex]]"]=l}}else o["[[locale]]"]=S;return o}(e,t))["[[locale]]"],o=void 0,c=void 0;V.call(a,"[[extension]]")&&(c=(o=function(e){var t=e.length;if(0===t)return[];for(var i=[],n=!0,r=3,a=r,s=r;r<t;){if(45===e.codePointAt(r)){if(r-a==2){if(1<a-s){var o=e.substring(s,a-1);i.push(o)}var c=e.substring(a,r);i.push(c),s=r+1,n=!1}else if(!0===n){var l=e.substring(a,r);i.push(l),s=r+1}a=r+1}r+=1}if(t-a==2){if(1<a-s){var u=e.substring(s,a-1);i.push(u)}s=a}var d=e.substring(s,t);return i.push(d),i}(a["[[extension]]"])).length);var l=new F;l["[[dataLocale]]"]=s;for(var u="-u",d=0,h=n.length;d<h;){var p=n[d],f=r[s][p],_=f[0],m="",g=O;if(void 0!==o){var v=g.call(o,p);if(-1!==v)if(v+1<c&&2<o[v+1].length){var y=o[v+1];-1!==g.call(f,y)&&(m="-"+p+"-"+(_=y))}else{-1!==g(f,"true")&&(_="true")}}if(V.call(i,"[["+p+"]]")){var b=i["[["+p+"]]"];-1!==g.call(f,b)&&b!==_&&(_=b,m="")}l["[["+p+"]]"]=_,u+=m,d++}if(2<u.length){var I=s.indexOf("-x-");if(-1===I)s+=u;else s=s.substring(0,I)+u+s.substring(I);s=C(s)}return l["[[locale]]"]=s,l}function j(e,t,i){var n,r=void 0;if(void 0!==i&&(void 0!==(r=(i=new F(y(i))).localeMatcher)&&"lookup"!==(r=String(r))&&"best fit"!==r))throw new RangeError('matcher should be "lookup" or "best fit"');for(var a in n=function(e,t){for(var i=t.length,n=new G,r=0;r<i;){var a=t[r];void 0!==R(e,String(a).replace(x,""))&&U.call(n,a),r++}return o.call(n)}(e,t))V.call(n,a)&&A(n,a,{writable:!1,configurable:!1,value:n[a]});try{A(n,"length",{writable:!1})}catch(e){}return n}function H(e,t,i,n,r){var a=e[t];if(void 0!==a){if(a="boolean"===i?Boolean(a):"string"===i?String(a):a,void 0!==n&&-1===O.call(n,a))throw new RangeError("'"+a+"' is not an allowed value for `"+t+"`");return a}return r}function K(e,t,i,n,r){var a=e[t];if(void 0!==a){if(a=Number(a),isNaN(a)||a<i||n<a)throw new RangeError("Value is not a number or outside accepted range");return Math.floor(a)}return r}var Q={};Object.defineProperty(Q,"getCanonicalLocales",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=P(e),i=[],n=t.length,r=0;r<n;)i[r]=t[r],r++;return i}});var q={BHD:3,BYR:0,XOF:0,BIF:0,XAF:0,CLF:4,CLP:0,KMF:0,DJF:0,XPF:0,GNF:0,ISK:0,IQD:3,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,UGX:0,UYI:0,VUV:0,VND:0};function Y(){var e=arguments[0],t=arguments[1];return this&&this!==Q?function(e,t,i){var n=z(e),r=M();if(!0===n["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");A(e,"__getInternalProperties",{value:function(){if(arguments[0]===D)return n}}),n["[[initializedIntlObject]]"]=!0;var a=P(t);i=void 0===i?{}:y(i);var s=new F,o=H(i,"localeMatcher","string",new G("lookup","best fit"),"best fit");s["[[localeMatcher]]"]=o;var c=W.NumberFormat["[[localeData]]"],l=k(W.NumberFormat["[[availableLocales]]"],a,s,W.NumberFormat["[[relevantExtensionKeys]]"],c);n["[[locale]]"]=l["[[locale]]"],n["[[numberingSystem]]"]=l["[[nu]]"],n["[[dataLocale]]"]=l["[[dataLocale]]"];var u=l["[[dataLocale]]"],d=H(i,"style","string",new G("decimal","percent","currency"),"decimal");n["[[style]]"]=d;var h,p=H(i,"currency","string");if(void 0!==p&&(h=N(String(p)),!1===L.test(h)))throw new RangeError("'"+p+"' is not a valid currency code");if("currency"===d&&void 0===p)throw new TypeError("Currency code is required when style is currency");var f,_=void 0;"currency"===d&&(p=p.toUpperCase(),n["[[currency]]"]=p,_=void 0!==q[f=p]?q[f]:2);var m=H(i,"currencyDisplay","string",new G("code","symbol","name"),"symbol");"currency"===d&&(n["[[currencyDisplay]]"]=m),J(n,i,"currency"===d?_:0),void 0===n["[[maximumFractionDigits]]"]&&(n["[[maximumFractionDigits]]"]="currency"===d?Math.max(n["[[minimumFractionDigits]]"],_):"percent"===d?Math.max(n["[[minimumFractionDigits]]"],0):Math.max(n["[[minimumFractionDigits]]"],3));var g=H(i,"useGrouping","boolean",void 0,!0);n["[[useGrouping]]"]=g;var v=c[u].patterns[d];return n["[[positivePattern]]"]=v.positivePattern,n["[[negativePattern]]"]=v.negativePattern,n["[[boundFormat]]"]=void 0,n["[[initializedNumberFormat]]"]=!0,T&&(e.format=X.call(e)),r(),e}(y(this),e,t):new Q.NumberFormat(e,t)}function J(e,t,i){var n=K(t,"minimumIntegerDigits",1,21,1),r=K(t,"minimumFractionDigits",0,20,i),a=K(t,"maximumFractionDigits",r,20),s=t.minimumSignificantDigits,o=t.maximumSignificantDigits;e["[[minimumIntegerDigits]]"]=n,e["[[minimumFractionDigits]]"]=r,e["[[maximumFractionDigits]]"]=a,void 0===s&&void 0===o||(o=K(t,"maximumSignificantDigits",s=K(t,"minimumSignificantDigits",1,21,1),21,21),e["[[minimumSignificantDigits]]"]=s,e["[[maximumSignificantDigits]]"]=o)}function X(){var e=null!==this&&"object"===d.typeof(this)&&z(this);if(!e||!e["[[initializedNumberFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.NumberFormat object.");if(void 0===e["[[boundFormat]]"]){var t=l.call(function(e){return ee(this,Number(e))},this);e["[[boundFormat]]"]=t}return e["[[boundFormat]]"]}function Z(e,t){var i,n,r=z(e),a=r["[[dataLocale]]"],s=r["[[numberingSystem]]"],o=W.NumberFormat["[[localeData]]"][a],c=o.symbols[s]||o.symbols.latn,l=void 0;!isNaN(t)&&t<0?(t=-t,l=r["[[negativePattern]]"]):l=r["[[positivePattern]]"];for(var u=new G,d=l.indexOf("{",0),h=0,p=0,f=l.length;-1<d&&d<f;){if(-1===(h=l.indexOf("}",d)))throw new Error;if(p<d){var _=l.substring(p,d);U.call(u,{"[[type]]":"literal","[[value]]":_})}var m=l.substring(d+1,h);if("number"===m)if(isNaN(t)){var g=c.nan;U.call(u,{"[[type]]":"nan","[[value]]":g})}else if(isFinite(t)){"percent"===r["[[style]]"]&&(t*=100);var v=(i=t,void 0,n=z(e),V.call(n,"[[minimumSignificantDigits]]")&&V.call(n,"[[maximumSignificantDigits]]")?function(e,t,i){var n=i,r=void 0,a=void 0;if(0===e)r=B.call(Array(n+1),"0"),a=0;else{a=function(e){if("function"==typeof Math.log10)return Math.floor(Math.log10(e));var t=Math.round(Math.log(e)*Math.LOG10E);return t-(Number("1e"+t)>e)}(Math.abs(e));var s=Math.round(Math.exp(Math.abs(a-n+1)*Math.LN10));r=String(Math.round(a-n+1<0?e*s:e/s))}if(n<=a)return r+B.call(Array(a-n+1+1),"0");if(a===n-1)return r;if(0<=a?r=r.slice(0,a+1)+"."+r.slice(a+1):a<0&&(r="0."+B.call(Array(1-(a+1)),"0")+r),0<=r.indexOf(".")&&t<i){for(var o=i-t;0<o&&"0"===r.charAt(r.length-1);)r=r.slice(0,-1),o--;"."===r.charAt(r.length-1)&&(r=r.slice(0,-1))}return r}(i,n["[[minimumSignificantDigits]]"],n["[[maximumSignificantDigits]]"]):function(e,t,i,n){var r,a=n,s=Math.pow(10,a)*e,o=0===s?"0":s.toFixed(0),c=-1<(r=o.indexOf("e"))?o.slice(r+1):0;c&&(o=o.slice(0,r).replace(".",""),o+=B.call(Array(c-(o.length-1)+1),"0"));var l=void 0;if(0!==a){var u=o.length;u<=a&&(o=B.call(Array(a+1-u+1),"0")+o,u=a+1);var d=o.substring(0,u-a);o=d+"."+o.substring(u-a,o.length),l=d.length}else l=o.length;for(var h=n-i;0<h&&"0"===o.slice(-1);)o=o.slice(0,-1),h--;return"."===o.slice(-1)&&(o=o.slice(0,-1)),l<t&&(o=B.call(Array(t-l+1),"0")+o),o}(i,n["[[minimumIntegerDigits]]"],n["[[minimumFractionDigits]]"],n["[[maximumFractionDigits]]"]));te[s]?function(){var t=te[s];v=String(v).replace(/\d/g,function(e){return t[e]})}():v=String(v);var y=void 0,b=void 0,I=v.indexOf(".",0);if(0<I?(y=v.substring(0,I),b=v.substring(I+1,I.length)):(y=v,b=void 0),!0===r["[[useGrouping]]"]){var S=c.group,w=[],C=o.patterns.primaryGroupSize||3,E=o.patterns.secondaryGroupSize||C;if(y.length>C){var T=y.length-C,A=T%E,O=y.slice(0,A);for(O.length&&U.call(w,O);A<T;)U.call(w,y.slice(A,A+E)),A+=E;U.call(w,y.slice(T))}else U.call(w,y);if(0===w.length)throw new Error;for(;w.length;){var D=$.call(w);U.call(u,{"[[type]]":"integer","[[value]]":D}),w.length&&U.call(u,{"[[type]]":"group","[[value]]":S})}}else U.call(u,{"[[type]]":"integer","[[value]]":y});if(void 0!==b){var F=c.decimal;U.call(u,{"[[type]]":"decimal","[[value]]":F}),U.call(u,{"[[type]]":"fraction","[[value]]":b})}}else{var M=c.infinity;U.call(u,{"[[type]]":"infinity","[[value]]":M})}else if("plusSign"===m){var N=c.plusSign;U.call(u,{"[[type]]":"plusSign","[[value]]":N})}else if("minusSign"===m){var L=c.minusSign;U.call(u,{"[[type]]":"minusSign","[[value]]":L})}else if("percentSign"===m&&"percent"===r["[[style]]"]){var x=c.percentSign;U.call(u,{"[[type]]":"literal","[[value]]":x})}else if("currency"===m&&"currency"===r["[[style]]"]){var P=r["[[currency]]"],R=void 0;"code"===r["[[currencyDisplay]]"]?R=P:"symbol"===r["[[currencyDisplay]]"]?R=o.currencies[P]||P:"name"===r["[[currencyDisplay]]"]&&(R=P),U.call(u,{"[[type]]":"currency","[[value]]":R})}else{var k=l.substring(d,h);U.call(u,{"[[type]]":"literal","[[value]]":k})}p=h+1,d=l.indexOf("{",p)}if(p<f){var j=l.substring(p,f);U.call(u,{"[[type]]":"literal","[[value]]":j})}return u}function ee(e,t){for(var i=Z(e,t),n="",r=0;i.length>r;r++){n+=i[r]["[[value]]"]}return n}A(Q,"NumberFormat",{configurable:!0,writable:!0,value:Y}),A(Q.NumberFormat,"prototype",{writable:!1}),W.NumberFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["nu"],"[[localeData]]":{}},A(Q.NumberFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:l.call(function(e){if(!V.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=M(),i=arguments[1],n=this["[[availableLocales]]"],r=P(e);return t(),j(n,r,i)},W.NumberFormat)}),A(Q.NumberFormat.prototype,"format",{configurable:!0,get:X}),Object.defineProperty(Q.NumberFormat.prototype,"formatToParts",{configurable:!0,enumerable:!1,writable:!0,value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,e=null!==this&&"object"===d.typeof(this)&&z(this);if(!e||!e["[[initializedNumberFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.NumberFormat object.");return function(e,t){for(var i=Z(e,Number(c)),n=[],r=0,a=0;i.length>a;a++){var s=i[a],o={};o.type=s["[[type]]"],o.value=s["[[value]]"],n[r]=o,r+=1}return n}(this)}});var te={arab:["","","","","","","","","",""],arabext:["","","","","","","","","",""],bali:["","","","","","","","","",""],beng:["","","","","","","","","",""],deva:["","","","","","","","","",""],fullwide:["","","","","","","","","",""],gujr:["","","","","","","","","",""],guru:["","","","","","","","","",""],hanidec:["","","","","","","","","",""],khmr:["","","","","","","","","",""],knda:["","","","","","","","","",""],laoo:["","","","","","","","","",""],latn:["0","1","2","3","4","5","6","7","8","9"],limb:["","","","","","","","","",""],mlym:["","","","","","","","","",""],mong:["","","","","","","","","",""],mymr:["","","","","","","","","",""],orya:["","","","","","","","","",""],tamldec:["","","","","","","","","",""],telu:["","","","","","","","","",""],thai:["","","","","","","","","",""],tibt:["","","","","","","","","",""]};A(Q.NumberFormat.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var e=void 0,t=new F,i=["locale","numberingSystem","style","currency","currencyDisplay","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","useGrouping"],n=null!==this&&"object"===d.typeof(this)&&z(this);if(!n||!n["[[initializedNumberFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.");for(var r=0,a=i.length;r<a;r++)V.call(n,e="[["+i[r]+"]]")&&(t[i[r]]={value:n[e],writable:!0,configurable:!0,enumerable:!0});return s({},t)}});var ie=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/[rqQASjJgwWIQq]/,ae=["era","year","month","day","weekday","quarter"],se=["hour","minute","second","hour12","timeZoneName"];function oe(e){for(var t=0;t<se.length;t+=1)if(e.hasOwnProperty(se[t]))return!1;return!0}function ce(e){for(var t=0;t<ae.length;t+=1)if(e.hasOwnProperty(ae[t]))return!1;return!0}function le(e,t){for(var i={_:{}},n=0;n<ae.length;n+=1)e[ae[n]]&&(i[ae[n]]=e[ae[n]]),e._[ae[n]]&&(i._[ae[n]]=e._[ae[n]]);for(var r=0;r<se.length;r+=1)t[se[r]]&&(i[se[r]]=t[se[r]]),t._[se[r]]&&(i._[se[r]]=t._[se[r]]);return i}function ue(e){return e.pattern12=e.extendedPattern.replace(/'([^']*)'/g,function(e,t){return t||"'"}),e.pattern=e.pattern12.replace("{ampm}","").replace(ne,""),e}function de(e,t){switch(e.charAt(0)){case"G":return t.era=["short","short","short","long","narrow"][e.length-1],"{era}";case"y":case"Y":case"u":case"U":case"r":return t.year=2===e.length?"2-digit":"numeric","{year}";case"Q":case"q":return t.quarter=["numeric","2-digit","short","long","narrow"][e.length-1],"{quarter}";case"M":case"L":return t.month=["numeric","2-digit","short","long","narrow"][e.length-1],"{month}";case"w":return t.week=2===e.length?"2-digit":"numeric","{weekday}";case"W":return t.week="numeric","{weekday}";case"d":return t.day=2===e.length?"2-digit":"numeric","{day}";case"D":case"F":case"g":return t.day="numeric","{day}";case"E":return t.weekday=["short","short","short","long","narrow","short"][e.length-1],"{weekday}";case"e":return t.weekday=["numeric","2-digit","short","long","narrow","short"][e.length-1],"{weekday}";case"c":return t.weekday=["numeric",void 0,"short","long","narrow","short"][e.length-1],"{weekday}";case"a":case"b":case"B":return t.hour12=!0,"{ampm}";case"h":case"H":return t.hour=2===e.length?"2-digit":"numeric","{hour}";case"k":case"K":return t.hour12=!0,t.hour=2===e.length?"2-digit":"numeric","{hour}";case"m":return t.minute=2===e.length?"2-digit":"numeric","{minute}";case"s":return t.second=2===e.length?"2-digit":"numeric","{second}";case"S":case"A":return t.second="numeric","{second}";case"z":case"Z":case"O":case"v":case"V":case"X":case"x":return t.timeZoneName=e.length<4?"short":"long","{timeZoneName}"}}function he(e,t){if(!re.test(t)){var i={originalPattern:t,_:{}};return i.extendedPattern=t.replace(ie,function(e){return de(e,i._)}),e.replace(ie,function(e){return de(e,i)}),ue(i)}}var pe={second:{numeric:"s","2-digit":"ss"},minute:{numeric:"m","2-digit":"mm"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},month:{numeric:"L","2-digit":"LL",narrow:"LLLLL",short:"LLL",long:"LLLL"},weekday:{narrow:"ccccc",short:"ccc",long:"cccc"}},fe=s(null,{narrow:{},short:{},long:{}});function _e(e,t,i,n,r){var a=e[t]&&e[t][i]?e[t][i]:e.gregory[i],s={narrow:["short","long"],short:["long","narrow"],long:["short","narrow"]},o=V.call(a,n)?a[n]:V.call(a,s[n][0])?a[s[n][0]]:a[s[n][1]];return null!==r?o[r]:o}function me(){var e=arguments[0],t=arguments[1];return this&&this!==Q?function(e,t,i){var n=z(e),r=M();if(!0===n["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");A(e,"__getInternalProperties",{value:function(){if(arguments[0]===D)return n}}),n["[[initializedIntlObject]]"]=!0;var a=P(t);i=ve(i,"any","date");var s=new F,o=H(i,"localeMatcher","string",new G("lookup","best fit"),"best fit");s["[[localeMatcher]]"]=o;var c=W.DateTimeFormat,l=c["[[localeData]]"],u=k(c["[[availableLocales]]"],a,s,c["[[relevantExtensionKeys]]"],l);n["[[locale]]"]=u["[[locale]]"],n["[[calendar]]"]=u["[[ca]]"],n["[[numberingSystem]]"]=u["[[nu]]"],n["[[dataLocale]]"]=u["[[dataLocale]]"];var d=u["[[dataLocale]]"],h=i.timeZone;if(void 0!==h&&"UTC"!==(h=N(h)))throw new RangeError("timeZone is not supported.");for(var p in n["[[timeZone]]"]=h,s=new F,ge)if(V.call(ge,p)){var f=H(i,p,"string",ge[p]);s["[["+p+"]]"]=f}var _,m=void 0,g=l[d],v=(_=g.formats,"[object Array]"===Object.prototype.toString.call(_)?_:function(e){var t=e.availableFormats,i=e.timeFormats,n=e.dateFormats,r=[],a=void 0,s=void 0,o=void 0,c=void 0,l=void 0,u=[],d=[];for(a in t)t.hasOwnProperty(a)&&((o=he(a,s=t[a]))&&(r.push(o),oe(o)?d.push(o):ce(o)&&u.push(o)));for(a in i)i.hasOwnProperty(a)&&((o=he(a,s=i[a]))&&(r.push(o),u.push(o)));for(a in n)n.hasOwnProperty(a)&&((o=he(a,s=n[a]))&&(r.push(o),d.push(o)));for(c=0;c<u.length;c+=1)for(l=0;l<d.length;l+=1)s="long"===d[l].month?d[l].weekday?e.full:e.long:"short"===d[l].month?e.medium:e.short,(o=le(d[l],u[c])).originalPattern=s,o.extendedPattern=s.replace("{0}",u[c].extendedPattern).replace("{1}",d[l].extendedPattern).replace(/^[,\s]+|[,\s]+$/gi,""),r.push(ue(o));return r}(_));if(o=H(i,"formatMatcher","string",new G("basic","best fit"),"best fit"),g.formats=v,"basic"===o)m=function(e,t){for(var i=-1/0,n=void 0,r=0,a=t.length;r<a;){var s=t[r],o=0;for(var c in ge)if(V.call(ge,c)){var l=e["[["+c+"]]"],u=V.call(s,c)?s[c]:void 0;if(void 0===l&&void 0!==u)o-=20;else if(void 0!==l&&void 0===u)o-=120;else{var d=["2-digit","numeric","narrow","short","long"],h=O.call(d,l),p=O.call(d,u),f=Math.max(Math.min(p-h,2),-2);2===f?o-=6:1===f?o-=3:-1===f?o-=6:-2===f&&(o-=8)}}i<o&&(i=o,n=s),r++}return n}(s,v);else{var y=H(i,"hour12","boolean");s.hour12=void 0===y?g.hour12:y,m=function(e,t){var i=[];for(var n in ge)V.call(ge,n)&&void 0!==e["[["+n+"]]"]&&i.push(n);if(1===i.length){var r=function(e,t){var i;if(pe[e]&&pe[e][t])return i={originalPattern:pe[e][t],_:E({},e,t),extendedPattern:"{"+e+"}"},E(i,e,t),E(i,"pattern12","{"+e+"}"),E(i,"pattern","{"+e+"}"),i}(i[0],e["[["+i[0]+"]]"]);if(r)return r}for(var a=-1/0,s=void 0,o=0,c=t.length;o<c;){var l=t[o],u=0;for(var d in ge)if(V.call(ge,d)){var h=e["[["+d+"]]"],p=V.call(l,d)?l[d]:void 0;if(h!==(V.call(l._,d)?l._[d]:void 0)&&(u-=2),void 0===h&&void 0!==p)u-=20;else if(void 0!==h&&void 0===p)u-=120;else{var f=["2-digit","numeric","narrow","short","long"],_=O.call(f,h),m=O.call(f,p),g=Math.max(Math.min(m-_,2),-2);m<=1&&2<=_||2<=m&&_<=1?0<g?u-=6:g<0&&(u-=8):1<g?u-=3:g<-1&&(u-=6)}}l._.hour12!==e.hour12&&(u-=1),a<u&&(a=u,s=l),o++}return s}(s,v)}for(var b in ge)if(V.call(ge,b)&&V.call(m,b)){var I=m[b];I=m._&&V.call(m._,b)?m._[b]:I,n["[["+b+"]]"]=I}var S=void 0,w=H(i,"hour12","boolean");if(n["[[hour]]"])if(w=void 0===w?g.hour12:w,!0===(n["[[hour12]]"]=w)){var C=g.hourNo0;n["[[hourNo0]]"]=C,S=m.pattern12}else S=m.pattern;else S=m.pattern;return n["[[pattern]]"]=S,n["[[boundFormat]]"]=void 0,n["[[initializedDateTimeFormat]]"]=!0,T&&(e.format=ye.call(e)),r(),e}(y(this),e,t):new Q.DateTimeFormat(e,t)}A(Q,"DateTimeFormat",{configurable:!0,writable:!0,value:me}),A(me,"prototype",{writable:!1});var ge={weekday:["narrow","short","long"],era:["narrow","short","long"],year:["2-digit","numeric"],month:["2-digit","numeric","narrow","short","long"],day:["2-digit","numeric"],hour:["2-digit","numeric"],minute:["2-digit","numeric"],second:["2-digit","numeric"],timeZoneName:["short","long"]};function ve(e,t,i){if(void 0===e)e=null;else{var n=y(e);for(var r in e=new F,n)e[r]=n[r]}e=s(e);var a=!0;return"date"!==t&&"any"!==t||void 0===e.weekday&&void 0===e.year&&void 0===e.month&&void 0===e.day||(a=!1),"time"!==t&&"any"!==t||void 0===e.hour&&void 0===e.minute&&void 0===e.second||(a=!1),!a||"date"!==i&&"all"!==i||(e.year=e.month=e.day="numeric"),!a||"time"!==i&&"all"!==i||(e.hour=e.minute=e.second="numeric"),e}function ye(){var e=null!==this&&"object"===d.typeof(this)&&z(this);if(!e||!e["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.DateTimeFormat object.");if(void 0===e["[[boundFormat]]"]){var t=l.call(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return Ie(this,void 0===e?Date.now():h(e))},this);e["[[boundFormat]]"]=t}return e["[[boundFormat]]"]}function be(e,t){if(!isFinite(t))throw new RangeError("Invalid valid date passed to format");var i=e.__getInternalProperties(D);M();for(var n,r,a,s,o=i["[[locale]]"],c=new Q.NumberFormat([o],{useGrouping:!1}),l=new Q.NumberFormat([o],{minimumIntegerDigits:2,useGrouping:!1}),u=(n=t,i["[[calendar]]"],r=i["[[timeZone]]"],new F({"[[weekday]]":(a=new Date(n))[(s="get"+(r||""))+"Day"](),"[[era]]":+(0<=a[s+"FullYear"]()),"[[year]]":a[s+"FullYear"](),"[[month]]":a[s+"Month"](),"[[day]]":a[s+"Date"](),"[[hour]]":a[s+"Hours"](),"[[minute]]":a[s+"Minutes"](),"[[second]]":a[s+"Seconds"](),"[[inDST]]":!1})),d=i["[[pattern]]"],h=new G,p=0,f=d.indexOf("{"),_=0,m=i["[[dataLocale]]"],g=W.DateTimeFormat["[[localeData]]"][m].calendars,v=i["[[calendar]]"];-1!==f;){var y=void 0;if(-1===(_=d.indexOf("}",f)))throw new Error("Unclosed pattern");p<f&&U.call(h,{type:"literal",value:d.substring(p,f)});var b=d.substring(f+1,_);if(ge.hasOwnProperty(b)){var I=i["[["+b+"]]"],S=u["[["+b+"]]"];if("year"===b&&S<=0?S=1-S:"month"===b?S++:"hour"===b&&!0===i["[[hour12]]"]&&0==(S%=12)&&!0===i["[[hourNo0]]"]&&(S=12),"numeric"===I)y=ee(c,S);else if("2-digit"===I)2<(y=ee(l,S)).length&&(y=y.slice(-2));else if(I in fe)switch(b){case"month":y=_e(g,v,"months",I,u["[["+b+"]]"]);break;case"weekday":try{y=_e(g,v,"days",I,u["[["+b+"]]"])}catch(e){throw new Error("Could not find weekday data for locale "+o)}break;case"timeZoneName":y="";break;case"era":try{y=_e(g,v,"eras",I,u["[["+b+"]]"])}catch(e){throw new Error("Could not find era data for locale "+o)}break;default:y=u["[["+b+"]]"]}U.call(h,{type:b,value:y})}else if("ampm"===b){y=_e(g,v,"dayPeriods",11<u["[[hour]]"]?"pm":"am",null),U.call(h,{type:"dayPeriod",value:y})}else U.call(h,{type:"literal",value:d.substring(f,_+1)});p=_+1,f=d.indexOf("{",p)}return _<d.length-1&&U.call(h,{type:"literal",value:d.substr(_+1)}),h}function Ie(e,t){for(var i=be(e,t),n="",r=0;i.length>r;r++){n+=i[r].value}return n}W.DateTimeFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["ca","nu"],"[[localeData]]":{}},A(Q.DateTimeFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:l.call(function(e){if(!V.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=M(),i=arguments[1],n=this["[[availableLocales]]"],r=P(e);return t(),j(n,r,i)},W.NumberFormat)}),A(Q.DateTimeFormat.prototype,"format",{configurable:!0,get:ye}),Object.defineProperty(Q.DateTimeFormat.prototype,"formatToParts",{enumerable:!1,writable:!0,configurable:!0,value:function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,e=null!==this&&"object"===d.typeof(this)&&z(this);if(!e||!e["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.DateTimeFormat object.");return function(e,t){for(var i=be(e,void 0===s?Date.now():h(s)),n=[],r=0;i.length>r;r++){var a=i[r];n.push({type:a.type,value:a.value})}return n}(this)}}),A(Q.DateTimeFormat.prototype,"resolvedOptions",{writable:!0,configurable:!0,value:function(){var e=void 0,t=new F,i=["locale","calendar","numberingSystem","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"],n=null!==this&&"object"===d.typeof(this)&&z(this);if(!n||!n["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.");for(var r=0,a=i.length;r<a;r++)V.call(n,e="[["+i[r]+"]]")&&(t[i[r]]={value:n[e],writable:!0,configurable:!0,enumerable:!0});return s({},t)}});var Se=Q.__localeSensitiveProtos={Number:{},Date:{}};Se.Number.toLocaleString=function(){if("[object Number]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a number for Number.prototype.toLocaleString()");return ee(new Y(arguments[0],arguments[1]),this)},Se.Date.toLocaleString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[0],i=arguments[1];return Ie(new me(t,i=ve(i,"any","all")),e)},Se.Date.toLocaleDateString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleDateString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[0],i=arguments[1];return Ie(new me(t,i=ve(i,"date","date")),e)},Se.Date.toLocaleTimeString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleTimeString()");var e=+this;if(isNaN(e))return"Invalid Date";var t=arguments[0],i=arguments[1];return Ie(new me(t,i=ve(i,"time","time")),e)};var we=[function(e,t){return"other"},function(e,t){return t?"other":1==e?"one":"other"},function(e,t){return t?"other":0==e||1==e?"one":"other"},function(e,t){var i=!String(e).split(".")[1];return t?"other":1==e&&i?"one":"other"}],Ce={af:we[1],ak:we[2],am:function(e,t){return t?"other":0<=e&&e<=1?"one":"other"},ar:function(e,t){var i=String(e).split("."),n=Number(i[0])==e&&i[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":3<=n&&n<=10?"few":11<=n&&n<=99?"many":"other"},ars:function(e,t){var i=String(e).split("."),n=Number(i[0])==e&&i[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":3<=n&&n<=10?"few":11<=n&&n<=99?"many":"other"},as:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},asa:we[1],ast:we[3],az:function(e,t){var i=String(e).split(".")[0],n=i.slice(-1),r=i.slice(-2),a=i.slice(-3);return t?1==n||2==n||5==n||7==n||8==n||20==r||50==r||70==r||80==r?"one":3==n||4==n||100==a||200==a||300==a||400==a||500==a||600==a||700==a||800==a||900==a?"few":0==i||6==n||40==r||60==r||90==r?"many":"other":1==e?"one":"other"},be:function(e,t){var i=String(e).split("."),n=Number(i[0])==e,r=n&&i[0].slice(-1),a=n&&i[0].slice(-2);return t?2!=r&&3!=r||12==a||13==a?"other":"few":1==r&&11!=a?"one":2<=r&&r<=4&&(a<12||14<a)?"few":n&&0==r||5<=r&&r<=9||11<=a&&a<=14?"many":"other"},bem:we[1],bez:we[1],bg:we[1],bh:we[2],bm:we[0],bn:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},bo:we[0],br:function(e,t){var i=String(e).split("."),n=Number(i[0])==e,r=n&&i[0].slice(-1),a=n&&i[0].slice(-2),s=n&&i[0].slice(-6);return t?"other":1==r&&11!=a&&71!=a&&91!=a?"one":2==r&&12!=a&&72!=a&&92!=a?"two":(3==r||4==r||9==r)&&(a<10||19<a)&&(a<70||79<a)&&(a<90||99<a)?"few":0!=e&&n&&0==s?"many":"other"},brx:we[1],bs:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-1),o=n.slice(-2),c=r.slice(-1),l=r.slice(-2);return t?"other":a&&1==s&&11!=o||1==c&&11!=l?"one":a&&2<=s&&s<=4&&(o<12||14<o)||2<=c&&c<=4&&(l<12||14<l)?"few":"other"},ca:function(e,t){var i=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&i?"one":"other"},ce:we[1],cgg:we[1],chr:we[1],ckb:we[1],cs:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1];return t?"other":1==e&&r?"one":2<=n&&n<=4&&r?"few":r?"other":"many"},cy:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e,t){var i=String(e).split("."),n=i[0],r=Number(i[0])==e;return t?"other":1!=e&&(r||0!=n&&1!=n)?"other":"one"},de:we[3],dsb:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-2),o=r.slice(-2);return t?"other":a&&1==s||1==o?"one":a&&2==s||2==o?"two":a&&(3==s||4==s)||3==o||4==o?"few":"other"},dv:we[1],dz:we[0],ee:we[1],el:we[1],en:function(e,t){var i=String(e).split("."),n=!i[1],r=Number(i[0])==e,a=r&&i[0].slice(-1),s=r&&i[0].slice(-2);return t?1==a&&11!=s?"one":2==a&&12!=s?"two":3==a&&13!=s?"few":"other":1==e&&n?"one":"other"},eo:we[1],es:we[1],et:we[3],eu:we[1],fa:function(e,t){return t?"other":0<=e&&e<=1?"one":"other"},ff:function(e,t){return t?"other":0<=e&&e<2?"one":"other"},fi:we[3],fil:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-1),o=r.slice(-1);return t?1==e?"one":"other":a&&(1==n||2==n||3==n)||a&&4!=s&&6!=s&&9!=s||!a&&4!=o&&6!=o&&9!=o?"one":"other"},fo:we[1],fr:function(e,t){return t?1==e?"one":"other":0<=e&&e<2?"one":"other"},fur:we[1],fy:we[3],ga:function(e,t){var i=String(e).split("."),n=Number(i[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":n&&3<=e&&e<=6?"few":n&&7<=e&&e<=10?"many":"other"},gd:function(e,t){var i=String(e).split("."),n=Number(i[0])==e;return t?"other":1==e||11==e?"one":2==e||12==e?"two":n&&3<=e&&e<=10||n&&13<=e&&e<=19?"few":"other"},gl:we[3],gsw:we[1],gu:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},guw:we[2],gv:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1],a=n.slice(-1),s=n.slice(-2);return t?"other":r&&1==a?"one":r&&2==a?"two":!r||0!=s&&20!=s&&40!=s&&60!=s&&80!=s?r?"other":"many":"few"},ha:we[1],haw:we[1],he:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1],a=Number(i[0])==e,s=a&&i[0].slice(-1);return t?"other":1==e&&r?"one":2==n&&r?"two":r&&(e<0||10<e)&&a&&0==s?"many":"other"},hi:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},hr:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-1),o=n.slice(-2),c=r.slice(-1),l=r.slice(-2);return t?"other":a&&1==s&&11!=o||1==c&&11!=l?"one":a&&2<=s&&s<=4&&(o<12||14<o)||2<=c&&c<=4&&(l<12||14<l)?"few":"other"},hsb:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-2),o=r.slice(-2);return t?"other":a&&1==s||1==o?"one":a&&2==s||2==o?"two":a&&(3==s||4==s)||3==o||4==o?"few":"other"},hu:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},hy:function(e,t){return t?1==e?"one":"other":0<=e&&e<2?"one":"other"},id:we[0],ig:we[0],ii:we[0],in:we[0],is:function(e,t){var i=String(e).split("."),n=i[0],r=Number(i[0])==e,a=n.slice(-1),s=n.slice(-2);return t?"other":r&&1==a&&11!=s||!r?"one":"other"},it:function(e,t){var i=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&i?"one":"other"},iu:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},iw:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1],a=Number(i[0])==e,s=a&&i[0].slice(-1);return t?"other":1==e&&r?"one":2==n&&r?"two":r&&(e<0||10<e)&&a&&0==s?"many":"other"},ja:we[0],jbo:we[0],jgo:we[1],ji:we[3],jmc:we[1],jv:we[0],jw:we[0],ka:function(e,t){var i=String(e).split(".")[0],n=i.slice(-2);return t?1==i?"one":0==i||2<=n&&n<=20||40==n||60==n||80==n?"many":"other":1==e?"one":"other"},kab:function(e,t){return t?"other":0<=e&&e<2?"one":"other"},kaj:we[1],kcg:we[1],kde:we[0],kea:we[0],kk:function(e,t){var i=String(e).split("."),n=Number(i[0])==e,r=n&&i[0].slice(-1);return t?6==r||9==r||n&&0==r&&0!=e?"many":"other":1==e?"one":"other"},kkj:we[1],kl:we[1],km:we[0],kn:function(e,t){return t?"other":0<=e&&e<=1?"one":"other"},ko:we[0],ks:we[1],ksb:we[1],ksh:function(e,t){return t?"other":0==e?"zero":1==e?"one":"other"},ku:we[1],kw:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},ky:we[1],lag:function(e,t){var i=String(e).split(".")[0];return t?"other":0==e?"zero":0!=i&&1!=i||0==e?"other":"one"},lb:we[1],lg:we[1],lkt:we[0],ln:we[2],lo:function(e,t){return t&&1==e?"one":"other"},lt:function(e,t){var i=String(e).split("."),n=i[1]||"",r=Number(i[0])==e,a=r&&i[0].slice(-1),s=r&&i[0].slice(-2);return t?"other":1==a&&(s<11||19<s)?"one":2<=a&&a<=9&&(s<11||19<s)?"few":0!=n?"many":"other"},lv:function(e,t){var i=String(e).split("."),n=i[1]||"",r=n.length,a=Number(i[0])==e,s=a&&i[0].slice(-1),o=a&&i[0].slice(-2),c=n.slice(-2),l=n.slice(-1);return t?"other":a&&0==s||11<=o&&o<=19||2==r&&11<=c&&c<=19?"zero":1==s&&11!=o||2==r&&1==l&&11!=c||2!=r&&1==l?"one":"other"},mas:we[1],mg:we[2],mgo:we[1],mk:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-1),o=n.slice(-2),c=r.slice(-1);return t?1==s&&11!=o?"one":2==s&&12!=o?"two":7!=s&&8!=s||17==o||18==o?"other":"many":a&&1==s||1==c?"one":"other"},ml:we[1],mn:we[1],mo:function(e,t){var i=String(e).split("."),n=!i[1],r=Number(i[0])==e&&i[0].slice(-2);return t?1==e?"one":"other":1==e&&n?"one":!n||0==e||1!=e&&1<=r&&r<=19?"few":"other"},mr:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":0<=e&&e<=1?"one":"other"},ms:function(e,t){return t&&1==e?"one":"other"},mt:function(e,t){var i=String(e).split("."),n=Number(i[0])==e&&i[0].slice(-2);return t?"other":1==e?"one":0==e||2<=n&&n<=10?"few":11<=n&&n<=19?"many":"other"},my:we[0],nah:we[1],naq:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},nb:we[1],nd:we[1],ne:function(e,t){var i=String(e).split("."),n=Number(i[0])==e;return t?n&&1<=e&&e<=4?"one":"other":1==e?"one":"other"},nl:we[3],nn:we[1],nnh:we[1],no:we[1],nqo:we[0],nr:we[1],nso:we[2],ny:we[1],nyn:we[1],om:we[1],or:we[1],os:we[1],pa:we[2],pap:we[1],pl:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1],a=n.slice(-1),s=n.slice(-2);return t?"other":1==e&&r?"one":r&&2<=a&&a<=4&&(s<12||14<s)?"few":r&&1!=n&&(0==a||1==a)||r&&5<=a&&a<=9||r&&12<=s&&s<=14?"many":"other"},prg:function(e,t){var i=String(e).split("."),n=i[1]||"",r=n.length,a=Number(i[0])==e,s=a&&i[0].slice(-1),o=a&&i[0].slice(-2),c=n.slice(-2),l=n.slice(-1);return t?"other":a&&0==s||11<=o&&o<=19||2==r&&11<=c&&c<=19?"zero":1==s&&11!=o||2==r&&1==l&&11!=c||2!=r&&1==l?"one":"other"},ps:we[1],pt:function(e,t){var i=String(e).split("."),n=Number(i[0])==e;return t?"other":n&&0<=e&&e<=2&&2!=e?"one":"other"},"pt-PT":we[3],rm:we[1],ro:function(e,t){var i=String(e).split("."),n=!i[1],r=Number(i[0])==e&&i[0].slice(-2);return t?1==e?"one":"other":1==e&&n?"one":!n||0==e||1!=e&&1<=r&&r<=19?"few":"other"},rof:we[1],root:we[0],ru:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1],a=n.slice(-1),s=n.slice(-2);return t?"other":r&&1==a&&11!=s?"one":r&&2<=a&&a<=4&&(s<12||14<s)?"few":r&&0==a||r&&5<=a&&a<=9||r&&11<=s&&s<=14?"many":"other"},rwk:we[1],sah:we[0],saq:we[1],sdh:we[1],se:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},seh:we[1],ses:we[0],sg:we[0],sh:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-1),o=n.slice(-2),c=r.slice(-1),l=r.slice(-2);return t?"other":a&&1==s&&11!=o||1==c&&11!=l?"one":a&&2<=s&&s<=4&&(o<12||14<o)||2<=c&&c<=4&&(l<12||14<l)?"few":"other"},shi:function(e,t){var i=String(e).split("."),n=Number(i[0])==e;return t?"other":0<=e&&e<=1?"one":n&&2<=e&&e<=10?"few":"other"},si:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"";return t?"other":0==e||1==e||0==n&&1==r?"one":"other"},sk:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1];return t?"other":1==e&&r?"one":2<=n&&n<=4&&r?"few":r?"other":"many"},sl:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1],a=n.slice(-2);return t?"other":r&&1==a?"one":r&&2==a?"two":r&&(3==a||4==a)||!r?"few":"other"},sma:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smi:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smj:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smn:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sms:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sn:we[1],so:we[1],sq:function(e,t){var i=String(e).split("."),n=Number(i[0])==e,r=n&&i[0].slice(-1),a=n&&i[0].slice(-2);return t?1==e?"one":4==r&&14!=a?"many":"other":1==e?"one":"other"},sr:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-1),o=n.slice(-2),c=r.slice(-1),l=r.slice(-2);return t?"other":a&&1==s&&11!=o||1==c&&11!=l?"one":a&&2<=s&&s<=4&&(o<12||14<o)||2<=c&&c<=4&&(l<12||14<l)?"few":"other"},ss:we[1],ssy:we[1],st:we[1],sv:function(e,t){var i=String(e).split("."),n=!i[1],r=Number(i[0])==e,a=r&&i[0].slice(-1),s=r&&i[0].slice(-2);return t?1!=a&&2!=a||11==s||12==s?"other":"one":1==e&&n?"one":"other"},sw:we[3],syr:we[1],ta:we[1],te:we[1],teo:we[1],th:we[0],ti:we[2],tig:we[1],tk:we[1],tl:function(e,t){var i=String(e).split("."),n=i[0],r=i[1]||"",a=!i[1],s=n.slice(-1),o=r.slice(-1);return t?1==e?"one":"other":a&&(1==n||2==n||3==n)||a&&4!=s&&6!=s&&9!=s||!a&&4!=o&&6!=o&&9!=o?"one":"other"},tn:we[1],to:we[0],tr:we[1],ts:we[1],tzm:function(e,t){var i=String(e).split("."),n=Number(i[0])==e;return t?"other":0==e||1==e||n&&11<=e&&e<=99?"one":"other"},ug:we[1],uk:function(e,t){var i=String(e).split("."),n=i[0],r=!i[1],a=Number(i[0])==e,s=a&&i[0].slice(-1),o=a&&i[0].slice(-2),c=n.slice(-1),l=n.slice(-2);return t?3==s&&13!=o?"few":"other":r&&1==c&&11!=l?"one":r&&2<=c&&c<=4&&(l<12||14<l)?"few":r&&0==c||r&&5<=c&&c<=9||r&&11<=l&&l<=14?"many":"other"},ur:we[3],uz:we[1],ve:we[1],vi:function(e,t){return t&&1==e?"one":"other"},vo:we[1],vun:we[1],wa:we[2],wae:we[1],wo:we[0],xh:we[1],xog:we[1],yi:we[3],yo:we[0],yue:we[0],zh:we[0],zu:function(e,t){return t?"other":0<=e&&e<=1?"one":"other"}};function Ee(){var e=arguments[0],t=arguments[1];return this&&this!==Q?function(e,t,i){var n=z(e);if(!0===n["[[InitializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");A(e,"__getInternalProperties",{value:function(){if(arguments[0]===D)return n}}),n["[[InitializedIntlObject]]"]=!0;var r=P(t),a=H(i=void 0===i?{}:y(i),"type","string",new G("cardinal","ordinal"),"cardinal");n["[[type]]"]=a;var s=new F,o=H(i,"localeMatcher","string",new G("lookup","best fit"),"best fit");s["[[localeMatcher]]"]=o,J(W,i,0),void 0===W["[[maximumFractionDigits]]"]&&(W["[[maximumFractionDigits]]"]=Math.max(W["[[minimumFractionDigits]]"],3));var c=W.PluralRules["[[localeData]]"],l=k(W.PluralRules["[[availableLocales]]"],r,s,W.PluralRules["[[relevantExtensionKeys]]"],c);return n["[[locale]]"]=l["[[locale]]"],n["[[InitializedPluralRules]]"]=!0,e}(y(this),e,t):new Q.PluralRules(e,t)}if(A(Q,"PluralRules",{configurable:!0,writable:!0,value:Ee}),A(Ee,"prototype",{writable:!1}),W.PluralRules={"[[availableLocales]]":Object.keys(Ce),"[[relevantExtensionKeys]]":[],"[[localeData]]":{}},A(Q.PluralRules,"supportedLocalesOf",{configurable:!0,writable:!0,value:l.call(function(e){if(!V.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var t=M(),i=arguments[1],n=this["[[availableLocales]]"],r=P(e);return t(),j(n,r,i)},W.PluralRules)}),A(Q.PluralRules.prototype,"select",{configurable:!0,value:function(e){return function(e,t){if(!Number.isFinite(t))return"other";var i=z(e),a=i["[[locale]]"];return function(e,t,i){for(var n=a;n;n=n.replace(/[-_]?[^-_]*$/,"")){var r=Ce[n];if(r)return r(i,"ordinal"===t)}return"other"}(0,i["[[type]]"],t)}(this,Number(e))}}),A(Q.PluralRules.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var e=void 0,t=new F,i=["locale","type","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],n=null!==this&&"object"===d.typeof(this)&&z(this);if(!n||!n["[[InitializedPluralRules]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.PluralRules object.");for(var r=0,a=i.length;r<a;r++)V.call(n,e="[["+i[r]+"]]")&&(t[i[r]]={value:n[e],writable:!0,configurable:!0,enumerable:!0});return s({},t)}}),A(Q,"__applyLocaleSensitivePrototypes",{writable:!0,configurable:!0,value:function(){for(var e in A(Number.prototype,"toLocaleString",{writable:!0,configurable:!0,value:Se.Number.toLocaleString}),A(Date.prototype,"toLocaleString",{writable:!0,configurable:!0,value:Se.Date.toLocaleString}),Se.Date)V.call(Se.Date,e)&&A(Date.prototype,e,{writable:!0,configurable:!0,value:Se.Date[e]})}}),A(Q,"__addLocaleData",{value:function(e){if(!w(e.locale))throw new Error('Invalid language tag "'+e.locale+'" when calling __addLocaleData("'+e.locale+'", ...) to register new locale data.');!function(e,t){if(!e.number)throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");var i=void 0,n=[t],r=t.split("-");for(2<r.length&&4===r[1].length&&U.call(n,r[0]+"-"+r[2]);i=$.call(n);)U.call(W.NumberFormat["[[availableLocales]]"],i),W.NumberFormat["[[localeData]]"][i]=e.number,e.date&&(e.date.nu=e.number.nu,U.call(W.DateTimeFormat["[[availableLocales]]"],i),W.DateTimeFormat["[[localeData]]"][i]=e.date);void 0===S&&(S=t)}(e,e.locale)}}),A(Q,"__disableRegExpRestore",{value:function(){W.disableRegExpRestore=!0}}),"undefined"==typeof Intl)try{(window.Intl=Q).__applyLocaleSensitivePrototypes()}catch(e){}return Q}()}).call(t,i(5))},function(e,t){},function(e,t,i){"use strict";i(0)._42,Date},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"AccountMenu.AccountSettings":"Account Settings","AccountMenu.SignOut":"Sign Out","Name.Display.FirstAndFamilyNames":"%{firstName} %{familyName}","Name.Display.NameIsCJK.FirstAndFamilyNames":"%{familyName}%{firstName}","Button.Help.Tooltip":"Help and Support","Toolbar.AppSwitcher.Tooltip":"Change App","Toolbar.Button.Action.UserAction":"iCloud Settings & Sign Out","HSA.SignoutDialog.Title":"Sign out of iCloud.com?","HSA.SignoutDialog.CheckboxTitle":"Remember me on this browser so I dont have to verify my identity next time.","HSA.SignoutDialog.SignoutButton":"Sign Out","Button.Cancel":"Cancel"})},function(e,t,i){"use strict";i(0)},function(e,t,i){"use strict";i(0),i(351),i(653),i(656),i(657),i(660)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(142),a=i(15),s=n.v.extend({init:function(){var e=arguments;this._attachments=[],this.__s._$4m$init.apply(this,e)},_windowInstanceId:null,openWindow:function(){a.a.get("currentUser").isServiceActive("mail")?this._windowInstanceId=r.a.openWindowApplication(this.get("_mailComposeURL"),"","width=810,height=677,status=no,toolbar=no"):n._75("Trying to compose email for user without active mail service")},closeWindow:function(){var e,t;this._windowInstanceId&&(e=r.a.windowApplications[this._windowInstanceId])&&(t=e.window)&&t.close()},_mailComposeURL:n._107({readOnly:!0,get:function(){return"https://"+window.location.hostname+"/message/current/"+n._81()+"/index.html#compose?willPM=true"}}),to:n._107(""),cc:n._107(""),bcc:n._107(""),subject:n._107(""),body:n._107(""),addAttachment:function(e,t,i,n){this.get("_attachments").push({fileName:e,type:t,size:i,url:n})},_attachments:null,addAttachments:function(e){this._attachments=this._attachments.concat(e)},populateFields:function(){this.get("hasValidAttachments")||n._75("You must supply property `type` (mime-type) for every attachment.");var e={to:this.get("to"),subject:this.get("subject"),body:this.get("body"),cc:this.get("cc"),bcc:this.get("bcc"),attachments:this._attachments,appName:a.a.cloudOSApplication.capitalizedName};r.a.passWindowApplicationMessage(this._windowInstanceId,"populateFields",e)},hasValidAttachments:n._107({readOnly:!0,get:function(){var e=this._attachments;if(e)for(var t=0,i=e.length;t<i;t++)if(!e[t].type)return!1;return!0}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeEmailController"},__superMap:{_$4m$init:"init"}})},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i(0)},function(e,t,i){"use strict";i(0)},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i(0);i(354).a},function(e,t,i){"use strict";i(0);i(353).a},function(e,t){},function(e,t,i){"use strict";i(0),i(665);var n=i(666),r=(i.n(n),i(355));i.n(r),Object.assign(function(){if(this.getPath("appSwitcherTriggerView.isAttached")){var e,t;t=(e=this.get("style")).getInline("width"),e.set("width","auto");var i=this.get("element").offsetWidth;return e.set("width",t),i}},{__CW__getter:function(e,t,i,n){if(n.internalGetPath(this,t[0+i])){var r,a;a=(r=this.get("style")).getInline("width"),r.set("width","auto");var s=this.get("element").offsetWidth;return r.set("width",a),s}}})},function(e,t){e.exports='<svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 118 34"><path stroke="none" d="M1 3.9c0-1.4 1.2-2.6 2.6-2.6 1.4 0 2.6 1.1 2.6 2.5S5.1 6.4 3.7 6.4h-.1C2.2 6.5 1 5.3 1 3.9zm.4 5.8h4.5v22H1.4v-22zm8.8 6.9C10.2 7 15.7 1 24.1 1 31 1 36.2 5.2 37 11.5h-4.7c-.8-3.9-4.1-6.4-8.2-6.4-5.5 0-9.1 4.5-9.1 11.5s3.5 11.5 9.1 11.5c4.2 0 7.2-2.2 8.2-5.8H37c-1.2 6.2-5.9 9.9-12.9 9.9-8.5 0-13.9-6-13.9-15.6zM40.9 1.5h4.5v30.2h-4.5V1.5zm18.7 7.9c-6.4 0-10.5 4.4-10.5 11.3S53.2 32 59.6 32s10.5-4.3 10.5-11.3c0-6.9-4-11.3-10.5-11.3zm0 18.8c-3.7 0-5.9-2.8-5.9-7.6 0-4.7 2.2-7.6 5.9-7.6s5.9 2.8 5.9 7.6-2.2 7.6-5.9 7.6zm33 3.5h-4.4v-3.8h-.1c-1.3 2.6-3.5 4-6.9 4-4.8 0-7.8-3.1-7.8-8.1V9.7h4.5v13.2c0 3.3 1.6 5.1 4.7 5.1 3.3 0 5.3-2.3 5.3-5.7V9.7h4.5l.2 22zm19.8-30.2v11.8h-.1c-1.3-2.4-3.8-3.9-6.9-3.9-5.5 0-9.3 4.4-9.3 11.2s3.8 11.2 9.3 11.2c3.2 0 5.7-1.5 7-4h.1v3.7h4.4v-30h-4.5zm-5.8 26.6c-3.5 0-5.9-2.9-5.9-7.4s2.3-7.4 5.9-7.4c3.5 0 5.8 2.9 5.8 7.4.1 4.5-2.3 7.4-5.8 7.4z"/></svg>\n'},function(e,t){e.exports='<svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 175.19 74"><g><g><path stroke="none" d="M15.92,58.2V73.8h-1.5V72.4H1.92v1.4H.42V58.2h7V54.9h1.5v3.3Zm-14,6.2h5.5V59.6H1.92Zm0,6.6h5.5V65.8H1.92ZM9,59.6v4.8h5.5V59.6ZM9,71h5.5V65.8H9Z"/><path stroke="none" d="M39,61.8v1.5H29c-1.9,3.9-3.5,6.6-5,8.1,3.7-.2,7.5-.5,11.1-1a22.47,22.47,0,0,0-1.2-2.1c-.4-.7-.9-1.4-1.3-2.1l1.2-.8c.9,1.4,1.8,2.8,2.5,4s1.4,2.4,1.9,3.5L37,74c-.2-.4-.3-.7-.5-1.1s-.4-.7-.6-1.1c-2.1.3-4.3.5-6.6.7l-7.2.6-.4-1.5c.1,0,.2,0,.2-.1s.1-.1.2-.1c1.3-1,3.1-3.7,5.2-8.1h-7V61.8Zm-1.9-5.7v1.4H22.39V56.1Z"/><path stroke="none" d="M48.59,54.8h1.6v6.4h7.7v1.5h-7.7v8.8h9.4V73H41.09V71.5h7.5Z"/><path stroke="none" d="M71,61.7V60.4h-6.1V56.2H71V54.9h1.5v1.3h6.1v4.2h-6.1v1.3H81V63H62.49V61.7Zm1.7,5.1c-.3,2.5-.9,4.1-2,5s-3.6,1.7-7.5,2l-.6-1.3c3.5-.2,5.7-.7,6.8-1.6a5.9,5.9,0,0,0,1.8-4.2Zm5.6,3.4h-1.4V65.6H66.69v4.8h-1.4V64.2h13ZM71,57.4h-4.6v1.7H71Zm2.2,12.7c1.4.4,2.7.8,4,1.2a30,30,0,0,1,3.6,1.4L80,74a43.5,43.5,0,0,0-7.6-2.8Zm3.9-12.7h-4.7v1.7h4.7Z"/><path stroke="none" d="M86.89,60.2a15.47,15.47,0,0,1-.6,3.1l-.9,3-1.3-.5a14,14,0,0,0,.9-2.9,15.47,15.47,0,0,0,.6-3.1Zm2.8-5.1v6.3c-.1,5.7-1.4,9.8-3.9,12.4l-1.1-.9c2.4-2.4,3.6-6.2,3.6-11.5V55.1Zm1.4,5.2c.4.8.8,1.6,1.2,2.5s.7,1.7,1.1,2.7l-1.2.6a23.29,23.29,0,0,0-1.1-2.8,26.78,26.78,0,0,0-1.2-2.4Zm4.5-4.7V73.2h-1.4V55.6Zm1.3,4.5,1.2,2.4c.4.9.7,1.7,1.1,2.7l-1.2.6a21.76,21.76,0,0,0-1.1-2.7,26.78,26.78,0,0,0-1.2-2.4Zm4.4-5.1V73.9h-1.4V55Z"/><path stroke="none" d="M117.69,73.5h-3.6c-.6,0-1.2-.1-1.8-.1a5.77,5.77,0,0,1-1.4-.3,4.82,4.82,0,0,1-2.2-1.5c-.3-.3-.5-.5-.8-.5-.5,0-1.3,1-2.5,2.9l-1.1-1a7.76,7.76,0,0,1,3-3.2V63.5h-3V62h4.3v7.7l.2.2c.1.1.2.1.2.2a4.84,4.84,0,0,0,1.6,1.3,6.16,6.16,0,0,0,2.7.5h7c1,0,1.8-.1,2.4-.1l-.4,1.5h-4.6Zm-12.1-18.4c.7.6,1.4,1.1,2,1.6s1.1,1.1,1.6,1.6l-1.1,1.1a28.81,28.81,0,0,0-3.5-3.3Zm17,5.6v1.4h-6.5c-.6,1.5-1.1,2.8-1.6,3.8a13.7,13.7,0,0,1-1.5,2.5,33.28,33.28,0,0,0,3.7-.5q1.65-.3,3-.6a13,13,0,0,0-.8-1.7c-.3-.6-.6-1.1-.9-1.7l1.2-.4a43.69,43.69,0,0,1,3,6.5l-1.4.4c-.1-.3-.2-.6-.3-1a3.55,3.55,0,0,0-.4-.9,36.52,36.52,0,0,1-4,.7c-1.5.2-3.1.4-5,.6l-.4-1.3c.9-.3,2.1-2.5,3.7-6.5h-4.3V60.6h12.5Zm-1.5-4.7v1.3h-9.5V56Z"/><path stroke="none" d="M125.89,56.2h4.7V54.8H132v1.4h5.6V54.8h1.5v1.4h4.7v1.3h-4.7v1.2h-1.5V57.5H132v1.2h-1.4V57.5h-4.7Zm17.3,3.5v3.9h-1.5V61h-13.8v2.7h-1.4v-4ZM142,68v5.8h-1.5V73h-11.2v.8h-1.4V68Zm-12.7,3.7h11.2V69.2h-11.2Zm.4-9.3H140v4.2h-10.3Zm8.9,3.1V63.6h-7.5v1.9Z"/></g><g><path stroke="none" d="M.52,13.2h6.9V46.7H.52Z"/><path stroke="none" d="M13.69,23.7c0-14.5,8.2-23.7,21-23.7C45.09,0,53,6.4,54.19,16h-7.1a12.21,12.21,0,0,0-12.4-9.7c-8.3,0-13.8,6.8-13.8,17.5s5.4,17.5,13.8,17.5c6.4,0,11-3.3,12.4-8.8h7.1c-1.8,9.5-9,15.1-19.5,15.1C21.79,47.5,13.69,38.4,13.69,23.7Z"/><path stroke="none" d="M60.09.8H67v46h-6.9Z"/><path stroke="none" d="M72.59,30c0-10.5,6.2-17.2,15.9-17.2s15.9,6.6,15.9,17.2-6.1,17.2-15.9,17.2S72.59,40.6,72.59,30Zm24.8,0c0-7.2-3.3-11.5-8.9-11.5s-8.9,4.3-8.9,11.5,3.3,11.5,8.9,11.5S97.39,37.2,97.39,30Z"/><path stroke="none" d="M138.39,46.7h-6.6V41h-.1c-1.9,4-5.3,6.1-10.4,6.1-7.3,0-11.8-4.7-11.8-12.4V13.2h6.9V33.4c0,5.1,2.4,7.8,7.2,7.8,5,0,8-3.4,8-8.7V13.2h6.9V46.7Z"/><path stroke="none" d="M143.69,30c0-10.4,5.7-17.1,14-17.1,4.8,0,8.6,2.2,10.5,5.9h.1V.8h6.9v46h-6.7V41h-.1c-2,3.8-5.8,6.1-10.7,6.1C149.39,47.1,143.69,40.3,143.69,30Zm7.1,0c0,6.9,3.5,11.3,8.9,11.3s8.8-4.5,8.8-11.3-3.5-11.2-8.8-11.2S150.79,23.2,150.79,30Z"/><circle stroke="none" cx="3.97" cy="4.38" r="3.97"/></g></g></svg>\n'},function(e,t){e.exports='<svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><circle fill="none" stroke-width="2" cx="22" cy="22" r="21"/><path fill="none" stroke-width="3" d="M22 28v-3c0-3.8 3.6-5.4 5-7 .7-.8 1-2 1-4 0-2.6-2.4-5.5-6-5.5-4.5 0-6 3.5-6 5.5"/><circle cx="22" cy="33.5" r="2"/></svg>'},function(e,t,i){"use strict";var c=i(0),g=(i(667),i(668),i(350)),p=i(15),n=i(355),r=(i.n(n),i(1249));i.n(r),Object.assign(function(){var e=this.width;return"auto"===e?e:e+"px"},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return"auto"===r?r:r+"px"}}),c._64("owner.helpAnchor"),Object.assign(function(){var e=this.widthOptions;if(this.width,!e)return"";var t,i=e.longName,n=e.shortName;return t=c._120(i.value)?i.value:n.value,this.set("_displayName",t),t},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(n.internalGet(this,t[1+i]),!r)return"";var a,s=r.longName,o=r.shortName;return a=c._120(s.value)?s.value:o.value,this.set("_displayName",a),a}}),p.a.bindingFor("currentUser.firstName"),p.a.bindingFor("currentUser.lastName"),Object.assign(function(){var e=this.isAttached,t=this.displayNameView,i=p.a.currentUser.firstName,n=p.a.currentUser.lastName;if(!e)return null;var r,a,s,o,c,l=Object(g.a)({givenName:i}),u=Object(g.a)({givenName:i,familyName:n}),d=this.get("element"),h=d.style;return r=d.style.width,a=this.get("_displayName")||u,s=h.position,h.width="auto",h.position="absolute",t.writeNameToDOMForMeasurement(l),o=d.offsetWidth,t.writeNameToDOMForMeasurement(u),c=d.offsetWidth,h.width=r,h.position=s,t.writeNameToDOMForMeasurement(a),{shortName:{width:o,value:l},longName:{width:c,value:u}}},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[1+i]),s=n.internalGetPath(this,t[2+i]),o=n.internalGetPath(this,t[3+i]);if(!r)return null;var c,l,u,d,h,p=Object(g.a)({givenName:s}),f=Object(g.a)({givenName:s,familyName:o}),_=this.get("element"),m=_.style;return c=_.style.width,l=this.get("_displayName")||f,u=m.position,m.width="auto",m.position="absolute",a.writeNameToDOMForMeasurement(p),d=_.offsetWidth,a.writeNameToDOMForMeasurement(f),h=_.offsetWidth,m.width=c,m.position=u,a.writeNameToDOMForMeasurement(l),{shortName:{width:d,value:p},longName:{width:h,value:f}}}})},function(e,t){},function(e,t,i){"use strict";t.a=function e(c,t){if(e.cachedResponse){var i=e.cachedResponse;e.cachedResponse=null;var n=v.w.create();return v._116(function(){w(n,{url:"",response:{status:200,headers:"",encodedBody:JSON.stringify(i)},autorelease:v._6})},e.cachedResponseDelay||0),n}var r=c.substr(0,7),a="http://"===r||"https:/"===r,s=t.method||"GET",o=t.headers||{},l=t.body||"",u=function(e){var t={},i=c.split("?");if(1<i.length)for(var n=i[1].split("&"),r=0;r<n.length;r++){var a=n[r].split("="),s=a[0],o=a[1];t[s]=decodeURIComponent(o)}return t}(),d=c.split("?");1<d.length&&(c=d[0]);var h,p={method:s,headers:o,body:l,shouldReportSuccess:!0,shouldReportFailure:!0,reportingPathname:null};if(a)if(-1!==c.indexOf("/device/")){var f=v._53.create(c).path;(h=y.a.create(p)).setPath("url.serviceName",I),h.setPath("url.pathname",f)}else t.credentials&&"include"===t.credentials&&(p.useCredentialsIfCrossOrigin=!0),p.url=c,h=v._29.create(p);else(h=y.a.create(p)).setPath("url.serviceName",b),h.setPath("url.pathname",c),h.url.setQueryParameter("remapEnums",!0),h.onStatus(423,C.bind(this,Object.keys(p))),h.onStatus(424,C.bind(this,Object.keys(p)));h.url=E(h.url,u),h.retain();var _=v.w.create();h.didSucceed=w.bind(this,_),h.didFail=function(e,t){var i=t.get("response");if(-1===S.indexOf(i.status)){if(i&&i.status)return w(e,t);var n=i.encodedBody,r=new TypeError(n);e.reject(r),t.autorelease()}}.bind(this,_);var m=e.config;if(m){var g=m.additionalQueryParameters;g&&(h.url=E(h.url,g))}return h.send().catch(function(e){}),_};var v=i(0),n=i(15),y=i(196),b="ckdatabasews",I="ckdeviceservice",r="default",S=[423,424];function w(e,t){var i=t.response,o=i.headers,n={status:i.status,type:r,headers:function(e){for(var t={},i=o.split("\n"),n=0;n<i.length;n++)if(!(i[n].length<1)){var r=i[n].split(": "),a=r.shift(),s=r.join(":");t[a]=s}return t}(),url:t.url.toString(),text:function(){var e=v.w.create(),t=i.encodedBody;return e.resolve(t),e},json:function(){var e=v.w.create(),t=JSON.parse(i.encodedBody);return e.resolve(t),e}};e.resolve(n),t.autorelease()}function C(e,t){e.push("url"),n.a.cloudOSService.revalidateUser().then(function(){v._100.info("CKRequest: Retrying request after revalidate"),t.set("copyKeys",e),t.copy().send()})}function E(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++){var r=i[n];e.setQueryParameter(r,t[r])}return e}},function(e,t,i){"use strict";i(0),i(15)},function(e,t,i){"use strict";t.a=function(e){e||s._75("You must specify a URL");var t,i=o.a.environment;i&&(i.isBeta&&(t="beta"),i.isCarry&&(t="carry"),i.isFuture&&(t="future"));var n,r=o.a.cloudOSApplication;if(r&&(r.isBeta&&(n="beta"),r.isCarry&&(n="carry"),r.isFuture&&(n="future")),t&&t!==n){if("string"==typeof e){var a=s._53.create(e);return a.appendQueryParameter("rootDomain",t),a.href}e.appendQueryParameter("rootDomain",t)}return e};var s=i(0),o=i(15)},function(e,t,i){"use strict";i(15)},function(e,t,i){"use strict";i(0),i(631),i(669)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0).v.extend({leftButton:null,rightButton:null,titleLabel:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"NavigationItem"}})},function(e,t,i){},function(e,s,o){"use strict";(function(v){o.d(s,"a",function(){return a});var y=o(0),n=o(674),r=o(12),e=o(346),t=o(682),i=(o.n(t),o(1265)),c=(o.n(i),0),a=e.a.extend({_viewControllerStackCache:y._85(Array),isNavigationController:!0,delegate:null,viewAdditionalClassNames:["navigation"],visibleViewController:y._105({readOnly:!0,get:function(){var e=this.viewControllerStack,t=e?e.length:0;return 0<t?e[t-1]:null}}),viewControllerStack:y._107({get:function(){return this._viewControllerStackCache},set:function(e){var t=this._viewControllerStackCache;this._exchangeViewControllerStacks(t,e),this._viewControllerStackCache=e}}),topViewController:y._107({readOnly:!0,get:function(){var e=this.viewControllerStack;return 0===e.length?null:e[e.length-1]}}),navigationBar:y._107({readOnly:!0,get:function(){return this.view.navigationBar}}),createView:function(){var e=r.a.create({additionalClassNames:y._60(this.viewAdditionalClassNames)}),t=n.a.create(),i=r.a.create({additionalClassNames:y._60(["container"])});return e.addSubview(t),e.addSubview(i),e.navigationBar=t,e.container=i,e},pushViewController:function(e){this.isViewVisible||y._75("Cannot push child view controller",{controller:this}),this.logTrace("push view controller",e);var t=this.viewControllerStack,i=this.visibleViewController;this.willShowViewController(e),this.addChildViewController(e),t.push(e),e.retain(),e.didMoveToParentViewController(this),this.transitionFromViewControllerToViewController(i,e,1);var n=e.navigationItem;n||y._75("Cannot push controller. Requires a navigation item",{controller:this}),this.navigationBar.pushNavigationItem(n),this.didShowViewController(e)},popViewController:function(){var e=this.viewControllerStack,t=e.length;if(1<t){var i=e[t-2];this.popToViewController(i)}},popToRootViewController:function(e){var t=this.viewControllerStack;1<t.length&&this.popToViewController(t[0])},popToViewController:function(e){this.isViewVisible||y._75("Cannot push child view controller",{controller:this});var t=this.viewControllerStack,i=this.visibleViewController,n=t.indexOf(e),r=c++;if(-1===n&&y._75("Cannot pop to view controller. Not on stack",{controller:this}),e!==i){e._nvc_transitionCycle=r,this.logTrace("pop to view controller",e),this.willShowViewController(e);var a,s=null;for(a=t.length-1;n<a;a--)(s=t[a]).willMoveToParentViewController(null),this.navigationBar.popNavigationItem();var o=[];for(a=t.length-1;n<a;a--)(s=t[a])._nvc_transitionCycle=r,o.push(s);this.transitionFromViewControllerToViewController(i,e,2,function(){var e=o.length;for(a=0;a<e;a++)(s=o[a])._nvc_transitionCycle===r&&(this.removeChildViewController(s),s.release(),this.didPopViewController(s))}.bind(this)),t.length=n+1,this.didShowViewController(e)}},transitionFromViewControllerToViewController:function(e,t,i,n){var r,a,s,o,c=this.view.container;e&&(e.beginAppearanceTransition(!1),r=e.view,s=r.element),a=t.view,o=a.element,t.beginAppearanceTransition(!0),c.addSubview(t.view),t.endAppearanceTransition(!0);var l,u,d=250;v.event&&v.event.shiftKey&&(d*=10),l=r?r._transitionIdx=1+(0|r._transitionIdx):0,u=a._transitionIdx=1+(0|a._transitionIdx);var h=function(){e&&l===r._transitionIdx&&(c.removeSubview(e.view),e.endAppearanceTransition(!1),s.classList.remove("transitioning-out"),r._nvc_isTransitioning=!1,r.set("left",0)),n&&n()},p=function(){t&&u===a._transitionIdx&&(o.classList.remove("transitioning-in"),a._nvc_isTransitioning=!1,a.set("left",0),t.navigateInTransitionDidFinish&&t.navigateInTransitionDidFinish())};if(r&&r.animate&&a.animate){r._nvc_isTransitioning=!0,s.classList.remove("transitioning-in"),s.classList.add("transitioning-out");var f=0,_=0,m=0,g=0;switch(i){case 1:_=-150,m=150,g=f=0;break;case 2:m=-(_=150),g=f=0}r.left=f,r.animate("left",_,d),r.animate("opacity",0,d,h),a._nvc_isTransitioning||(a.style.set("opacity",0).translate(150*i,0,0),a.set("left",m),a.set("opacity",0)),a._nvc_isTransitioning=!0,o.classList.remove("transitioning-out"),o.classList.add("transitioning-in"),a.animate("left",g,d),a.animate("opacity",1,d,p)}else y._116(function(){h(),p()},1)},willShowViewController:function(e){var t=this.delegate,i=t?t.navigationControllerWillShowViewController:null;i&&i.call(t,this,e)},didShowViewController:function(e){this.propertyChanged("visibleViewController");var t=this.delegate,i=t?t.navigationControllerDidShowViewController:null;i&&i.call(t,this,e)},didPopViewController:function(e){var t=this.delegate,i=t?t.navigationControllerDidPopViewController:null;i&&i.call(t,this,e)},shouldAutomaticallyForwardAppearanceMethods:function(){return!1},viewWillAppear:function(){this.__s._$34W$viewWillAppear.call(this);var e=this.visibleViewController;if(e){this.willShowViewController(e),e.beginAppearanceTransition(!0);var t=e.view;t.parent||this.view.container.addSubview(t)}},viewDidAppear:function(){this.__s._$3B1$viewDidAppear.call(this);var e=this.visibleViewController;if(e){var t=e.view;t.parent||this.view.container.addSubview(t),e.endAppearanceTransition(!0),this.didShowViewController(e)}},viewWillDisappear:function(){this.__s._$3HY$viewWillDisappear.call(this);var e=this.visibleViewController;e&&e.beginAppearanceTransition(!1)},viewDidDisappear:function(){this.__s._$3Ks$viewDidDisappear.call(this);var e=this.visibleViewController;e&&e.endAppearanceTransition(!1)},_exchangeViewControllerStacks:function(e,t){var i,n,r,a=this.isViewVisible,s=a?this.view.container:null,o=this.navigationBar,c=e?e.length:0,l=t?t.length:0;for(this.logTrace("begin exchanging view controller stacks"),0<c&&a&&((i=e[c-1]).beginAppearanceTransition(!1),s.removeSubview(i.view),i.endAppearanceTransition(!1)),n=0;n<l;n++)(i=t[n]).retain();for(n=c-1;0<=n;n--)(i=e[n]).willMoveToParentViewController(null),this.removeChildViewController(i),i.release(),o.popNavigationItem({animate:!1});for(n=0;n<l;n++)(r=(i=t[n]).navigationItem)||y._75("Error exchanging view controller stacks. Controller requires a navigation item",{controller:this,controllerIndex:n}),o.pushNavigationItem(r,{animate:!1}),this.addChildViewController(i),i.didMoveToParentViewController(this);0<l&&a&&(i=t[l-1],this.willShowViewController(i),i.beginAppearanceTransition(!0),s.addSubview(i.view),i.endAppearanceTransition(!0),this.didShowViewController(i)),this.logTrace("end exchanging view controller stacks")},staticMembers:{__QUALIFIED_CLASS_NAME__:"NavigationController"},__superMap:{_$34W$viewWillAppear:"viewWillAppear",_$3B1$viewDidAppear:"viewDidAppear",_$3HY$viewWillDisappear:"viewWillDisappear",_$3Ks$viewDidDisappear:"viewDidDisappear"}})}).call(s,o(5))},function(e,t,i){},function(e,t,i){"use strict";var c=i(675);function n(s,e){var o=0;switch(s){case 1:o=0;break;case 2:o=1;break;case 4:o=2;break;case 8:o=3}return{getDataArray:e,allocArray:function(e){var t=e*s,i=Object(c.a)(t);return c.f.INT_32[1+(i>>2)]=e,this.clearArray(i),i},freeArray:function(e){e<0||Object(c.c)(e)},clearArray:function(e){if(!(e<0))for(var t=this.getDataArray(),i=c.f.INT_32[1+(e>>2)],n=s,r=0;r<i;r++)t[e+8+r*n>>o]=0},dumpArray:function(e){if(!(e<0)){for(var t=[],i=this.getDataArray(),n=c.f.INT_32[1+(e>>2)],r=s,a=0;a<n;a++)t.push(i[e+8+a*r>>o]);return{array:t,length:n,allocatedSpace:c.f.INT_32[e>>2]}}},arrayFromJSArray:function(e){for(var t=this.getDataArray(),i=e.length,n=this.allocArray(i),r=0;r<i;r++){var a=e[r];t[n+8+r*s>>o]=a}return n},putArrayIntoJSArray:function(e,t){var i=this.getDataArray(),n=c.f.INT_32[1+(e>>2)];t.length=n;for(var r=0;r<n;r++)t[r]=i[e+8+r*s>>o]},itemAtIndex:function(e,t){return this.getDataArray()[e+8+t*s>>2]},lengthForArray:function(e){return c.f.INT_32[1+(e>>2)]}}}n(1,function(){return c.f.UINT_8}),n(1,function(){return c.f.INT_8}),n(2,function(){return c.f.UINT_16}),n(2,function(){return c.f.INT_16}),n(4,function(){return c.f.UINT_32}),n(4,function(){return c.f.INT_32}),n(4,function(){return c.f.FLOAT_32}),n(8,function(){return c.f.FLOAT_64})},function(e,t,i){"use strict";var n=i(0),r=i(197);r.a,Object(r.b)(1),Object(r.b)(1),n._106("scale","opacity",function(e,t){this.get("style").scale(e).set("opacity",t)})},function(e,t,i){"use strict";i(0),i(678)},function(e,t,i){"use strict";var n=i(680),g=i(198),v=i(201);g.a.defineAnimator(n.a,{createData:function(e,t,i,n,r,a,s){var o=this.alloc();this.setStartValue(o,void 0===s?Number.MAX_VALUE:s),this.setEndValue(o,e),this.setDuration(o,t);var c=3*i,l=3*(r-i)-c,u=1-c-l,d=3*n,h=3*(a-n)-d,p=1-d-h;return this.setAX(o,u),this.setAY(o,p),this.setBX(o,l),this.setBY(o,h),this.setCX(o,c),this.setCY(o,d),o},start:function(e,t){this.setElapsedTime(e,0);var i=this.getStartValue(e);i===Number.MAX_VALUE&&(i=v.a.getValue(t)),this.setStartValue(e,i);var n=this.getEndValue(e);v.a.setFinalValue(t,n),v.a.setVelocity(t,0),v.a.setAcceleration(t,0),g.a.requestFrameForVariable(t)},tick:function(e,t,i){var n=this.getElapsedTime(e)+i,_=this.getDuration(e),r=this.getEndValue(e);if(this.setElapsedTime(e,n),n<_){var a=this.getStartValue(e),s=r-a,o=n/_,c=this.getAX(e),l=this.getAY(e),u=this.getBX(e),d=this.getBY(e),h=this.getCX(e),p=this.getCY(e),f=function(e,t,i,n,r,a,s,o){var c,l,u,d,h,p,f=1/(200*_);for(u=s,p=0;p<8;p++){if(d=((e*u+i)*u+r)*u-s,Math.abs(d)<f)return u;if(h=(3*e*u+2*i)*u+r,Math.abs(h)<Math.pow(10,-6))break;u-=d/h}if((u=s)<(c=0))return c;if((l=1)<u)return l;for(;c<l;){if(d=((e*u+i)*u+r)*u,Math.abs(d-s)<f)return u;d<s?c=u:l=u,u=.5*(l-c)+c}return u}(c,0,u,0,h,0,o),m=a+((l*f+d)*f+p)*f*s;v.a.setValue(t,m),g.a.requestFrameForVariable(t)}else v.a.setValue(t,r),v.a.setVelocity(t,0),v.a.setAcceleration(t,0),g.a.stopAnimatingVariable(t)},stop:function(e,t){}})},function(e,t,i){"use strict";i(0);i(197).a},function(e,t,i){"use strict";i(0),i(197)},function(e,t){},function(e,t,i){},function(e,t,i){"use strict";i(0)},function(e,t){},function(e,u,d){"use strict";(function(r){d.d(u,"a",function(){return l});var e=d(43),a=d(0),t=d(193),s=d(64),i=d(12),n=d(673),o=a._67("AppIconTypes",function(e){e("APP_ICON"),e("APP_ICON_PLACEHOLDER")}),c=0,l=i.a.extend(e.a,{opaqueTestSize:3,canvasClassName:"",fadeOpacity:e.b(0),prerendered:!1,error:a._118(),size:a._105(60),src:a._105(t.a.EMPTY_SRC),placeholderSrc:a._105(t.a.EMPTY_SRC),reuseIdentifier:a._107,init:function(e){this.__s._$KJ$init.call(this,e)},willMoveToWindow:function(e){this.__s._$LR$willMoveToWindow.call(this,e),e&&this._setupCanvas()},prepareForReuse:function(){var e=this._canvas;e&&(this.$().removeChild(e),this._enqueueCachedCanvas(this._canvas,o.APP_ICON),e=this._canvas=null);var t=this._placeholderCanvas;t&&(this.$().removeChild(t),this._enqueueCachedCanvas(this._placeholderCanvas,o.APP_ICON_PLACEHOLDER),t=this._placeholderCanvas=null)},_addCanvasToView:function(){var e=this._canvas,t=this._placeholderCanvas;e?(t&&(this.$().removeChild(t),this._enqueueCachedCanvas(t,o.APP_ICON_PLACEHOLDER),this._placeholderCanvas=null),this.$().appendChild(e),this._fadeIn()):t&&this.$().appendChild(t)},_fadeIn:function(){this.animate("fadeOpacity",1,10)},_drawPlaceholder:function(){this.set("fadeOpacity",1);var e=this._dequeueCachedCanvas(o.APP_ICON_PLACEHOLDER);if(e)return this._placeholderCanvas=e,void this._addCanvasToView();var t=this,i=this.get("placeholderSrc");if(i){var n=new r.Image;n.src=i,n.onload=function(){s.a.setTimeout(function(){t._placeholderCanvas||(t._placeholderCanvas=t._createNewCanvas());var e=t._placeholderCanvas.getContext("2d");t._drawCanvasMask(),e.globalCompositeOperation="source-atop",e.drawImage(n,0,0,t.size,t.size),e.globalCompositeOperation="source-over",t._addCanvasToView()})}}},_setupCanvas:function(){var e=this._dequeueCachedCanvas(o.APP_ICON);e?(this._canvas=e,this._addCanvasToView()):this._drawCanvas()},_drawCanvas:function(){var t=this;this._drawPlaceholder();var i=++c;this._activeRequestIdx=i;var n=new r.Image,e=this.get("src");e&&(n.src=e,n.onload=function(){s.a.setTimeout(function(){if(i===t._activeRequestIdx){t._canvas||(t._canvas=t._createNewCanvas());var e=t._canvas.getContext("2d");t.set("fadeOpacity",0),t.get("prerendered")||(t._drawCanvasMask(),e.globalCompositeOperation="source-atop"),e.drawImage(n,0,0,t.size,t.size),e.globalCompositeOperation="source-over",t._addCanvasToView()}})},n.onerror=function(){s.a.setTimeout(function(){i===t._activeRequestIdx&&t.error()})})},_drawCanvasMask:function(){var e=this._canvas;if(e){var t=e.getContext("2d"),i=this.size;a.j.get("sharedInstance").get("isIE")&&t.rotate(2*Math.PI),t.fillStyle="#FBFBFB";var n=i*(12.5/60);i<2*n&&(n=i/2),i<2*n&&(n=i/2),t.beginPath(),t.moveTo(n,0),t.arcTo(i,0,i,i,n),t.arcTo(i,i,0,i,n),t.arcTo(0,i,0,0,n),t.arcTo(0,0,i,0,n),t.closePath(),t.fill()}},_dequeueCachedCanvas:function(e){var t=this._getCanvasCacheReuseIdentifier(e);return n.a.dequeueCanvas(t)},_enqueueCachedCanvas:function(e,t){var i=this._getCanvasCacheReuseIdentifier(t);n.a.enqueueCanvas(e,i)},_getCanvasCacheReuseIdentifier:function(e){return this.reuseIdentifier+"::"+e.name},_createNewCanvas:function(){var e=this.get("size"),t=a.C.get("sharedInstance").get("devicePixelRatio"),i=document.createElement("canvas");i.width=e*t,i.height=e*t,i.className=this.canvasClassName,i.style.opacity=this.fadeOpacity,i.style.zIndex=0,i.style.position="absolute";var n=i.getContext("2d");return n.scale(t,t),null!=n.imageSmoothingEnabled?n.imageSmoothingEnabled=!0:(n.mozImageSmoothingEnabled=!0,n.webkitImageSmoothingEnabled=!0,n.msImageSmoothingEnabled=!0),null!=n.imageSmoothingQuality&&(n.imageSmoothingQuality="high"),i},_isImageOpaque:function(e){var t=this.get("opaqueTestSize"),i=document.createElement("canvas");i.width=e.naturalWidth,i.height=e.naturalHeight;var n=i.getContext("2d");return n.drawImage(e,0,0),!!(this._isCornerOpaque(n.getImageData(0,0,t,t))&&this._isCornerOpaque(n.getImageData(e.naturalWidth-t,0,t,t))&&this._isCornerOpaque(n.getImageData(0,e.naturalHeight-t,t,t))&&this._isCornerOpaque(n.getImageData(e.naturalWidth-t,e.naturalHeight-t,t,t)))},_isCornerOpaque:function(e){for(var t=e.data,i=t.length/4,n=0;n<i;n++)if(255!==t[n+3])return!1;return!0},staticMembers:{__QUALIFIED_CLASS_NAME__:"AppIconShowcaseView"},__superMap:{_$KJ$init:"init",_$LR$willMoveToWindow:"willMoveToWindow"}})}).call(u,d(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(1271),a=(i.n(r),i(190)),s=i(188),o=i(12).a.extend(a.a,{staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"active",truevalue:"active",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"pressed",truevalue:"pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"enabled",falsevalue:"disabled",attributes:{}},"br-view"],attributes:{role:"button","aria-disabled":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"false",falsevalue:"true",attributes:{},attribute:"aria-disabled"},tabindex:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tabindex",attributes:{},attribute:"tabindex"},title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"displayTooltip",attributes:{},attribute:"title"},"aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"displayTooltip",attributes:{},attribute:"aria-label"}}},__QUALIFIED_CLASS_NAME__:"Button"},additionalClassNames:n._60(["button"]),tabindex:n._105({defaultValue:0}),title:n._105(""),tooltip:n._105(""),disabledTooltip:n._105(""),displayTooltip:n._105({readOnly:!0,dependencies:["enabled","tooltip","disabledTooltip"],get:Object.assign(function(){var e=this.tooltip,t=this.disabledTooltip;return this.enabled?e:t||e},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[1+i]),a=n.internalGet(this,t[2+i]);return n.internalGet(this,t[0+i])?r:a||r}})}),showTitle:n._107({readOnly:!0,defaultValue:!0}),showLeftAccessory:n._107({readOnly:!0,defaultValue:!1}),showRightAccessory:n._107({readOnly:!0,defaultValue:!1}),init:function(e){this.__s._$UP$init.call(this,e),this._setupDOMStructure(),this._refreshTitle()},_titleDidChange:n._106("title","element",function(e,t){t&&(this._refreshTitle(),this.notifyParentOfDynamicContentChange())}),_refreshTitle:function(){var e=this._titleElem,t=this.get("title");e&&s.a.setElementText(e,t)},_setupDOMStructure:function(){var e=this.get("element"),t=null;this.get("showLeftAccessory")&&((t=this._leftAccessoryElem=document.createElement("div")).className="left-accessory",e.appendChild(t)),this.get("showTitle")&&((t=this._titleElem=document.createElement("div")).className="title",e.appendChild(t)),this.get("showRightAccessory")&&((t=this._rightAccessoryElem=document.createElement("div")).className="right-accessory",e.appendChild(t))},didMoveToWindow:function(e){this.__s._$oK$didMoveToWindow.call(this,e),e||(this.set("active",!1),this.set("pressed",!1))},__superMap:{_$UP$init:"init",_$oK$didMoveToWindow:"didMoveToWindow"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(0),r=i(1273),a=(i.n(r),i(190)),s=i(12),o="mixed",c=s.a.extend(a.a,{staticMembers:{MIXED:o,template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[],classes:["indicator"]},{type:"ELEMENT",tagname:"span",children:[],classes:["title"]}],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"active",truevalue:"active",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"pressed",truevalue:"pressed",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"enabled",falsevalue:"disabled",attributes:{}}],attributes:{role:"checkbox","aria-disabled":{type:"ATTRIBUTEOUTLET",bindingtype:"IFBINDING",name:"enabled",truevalue:"false",falsevalue:"true",attributes:{},attribute:"aria-disabled"},tabindex:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tabindex",attributes:{},attribute:"tabindex"},title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}},__QUALIFIED_CLASS_NAME__:"Checkbox"},additionalClassNames:n._60(["checkbox"]),tabindex:n._105({defaultValue:0}),title:n._105({render:!0,dynamicContent:!0,defaultValue:""}),value:n._105({render:!0,defaultValue:!1}),tooltip:n._105(n._64("title")),render:function(){if(this.shouldRenderForKey("value")){var e,t=this.get("value");e=!0===t||!1!==t&&null!=t&&o,this.$(".indicator").toggleClass("checked",!0===e).toggleClass("not-checked",!1===e).toggleClass("mixed",e===o)}if(this.shouldRenderForKey("title")){var i=this.get("title"),n=!!i&&0<i.length;this.$(".title").toggleClass("show",n).toggleClass("noshow",!n).text(i)}},didEndTracking:function(){this.__s._$a5$didEndTracking.call(this);var e,t=this.get("value");e=t===o||!t,this.set("value",e)},__superMap:{_$a5$didEndTracking:"didEndTracking"}})},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(12).a.extend({isCollectionViewCell:!0,additionalClassNames:n._60(["collection-cell"]),index:0,selected:n._105(),highlighted:n._105(),isDisplaying:n._107({readOnly:!0,get:function(){return this._displaying}}),init:function(e){var t=arguments;this.__s._$7z$init.apply(this,t),this._displaying=!1},beginDisplay:function(){this._displaying=!0,this.$().removeClass("nodisplay")},endDisplay:function(){this._displaying=!1,this.$().addClass("nodisplay")},shouldAutomaticallyForwardSubviewFramesInvalidation:function(){return this._displaying},staticMembers:{__QUALIFIED_CLASS_NAME__:"CollectionViewCell"},__superMap:{_$7z$init:"init"}})},function(e,t,i){},function(e,t,i){"use strict";i(0);var n=i(1279);i.n(n)},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(12).a.extend({additionalClassNames:n._60(["container-view"]),contentView:n._107({get:function(){return this._contentView},set:function(e){if(!this._initializing){var t=this._contentView||void 0;return this.contentViewDidChange(e||null,t),e}}}),preferredSize:n._107({readOnly:!0,get:function(){var e=this.get("contentView");return e?e.get("preferredSize"):null}}),init:function(e){this._initializing=!0;var t=e?e.contentView:null;e&&delete e.contentView,this.__s._$FY$init.call(this,e),this._initializing=!1,this.set("contentView",t)},contentViewDidChange:function(e,t){t&&(t.get("frame").reset(),this.removeSubview(t)),e&&this.addSubview(e),this.notifyParentOfDynamicContentChange(this)},subviewDidChangeDynamicContent:function(e){this.notifyParentOfDynamicContentChange(this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ContainerView"},__superMap:{_$FY$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),r=i(1282),a=(i.n(r),i(1283)),s=(i.n(a),i(683)),o=i(686),c=i(189),l=s.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],name:"alertIcon",classes:["alert-icon"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"message",attributes:{}}],classes:["message"]},{type:"ELEMENT",tagname:"div",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"description",attributes:{}}],classes:["description"]},{type:"ELEMENT",tagname:"div",children:[],classes:["details-container",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"detailsVisible",truevalue:"",falsevalue:"hide-container",attributes:{}}]}],classes:["content-wrapper"]}],classes:["alert-main-content"]},{type:"ELEMENT",tagname:"div",children:[],attributes:{id:"alertAccessoryView"}},{type:"ELEMENT",tagname:"div",children:[{type:"MULTIVIEWOUTLET",tagname:"views",children:[],name:"buttonViews"}],classes:["alert-button-container"]}],name:"alertView",classes:["br-alert"]}],classes:["br-view","br-alert-modal","br-alert-modal"]},__QUALIFIED_CLASS_NAME__:"BRKitDetailedAlertView"},init:function(e){this.__s._$Vr$init.call(this,e),this._detailViews=[]},detailsVisible:n._105({defaultValue:!0}),detailDescriptionsVisible:n._105({defaultValue:!1}),previousDetailDescriptionsVisible:n._107(!1),addDetail:function(e,t,i){var n=u.dequeueDetailView();n.set("title",e),n.set("description",t),n.set("iconView",i),n.set("showDescription",this.get("detailDescriptionsVisible")),n.set("adjustTitleLocationForDescription",this.get("detailDescriptionsVisible")),this._detailViews.push(n),this.addSubview(n,".details-container")},removeDetails:function(){for(var e=this._detailViews,t=e.length,i=0;i<t;i++){var n=e[i];n.prepareForReuse(),this.removeSubview(n,".details-container"),u.queueDetailView(n)}this._detailViews.length=0,this.set("detailDescriptionsVisible",!1),this.set("previousDetailDescriptionsVisible",!1)},_detailDescriptionsVisibleDidChange:n._106("detailDescriptionsVisible",function(e){var t=this._detailViews,i=t?t.length:0;if(this.get("previousDetailDescriptionsVisible")!==e){for(var n=0;n<i;n++){var r=t[n];r.set("showDescription",e),r.set("adjustTitleLocationForDescription",e)}this.set("previousDetailDescriptionsVisible",e)}}),__superMap:{_$Vr$init:"init"}}),u=n.v.extend({init:function(){this.__s._$1UE$init.call(this),this._pool=c.a.create()},dequeueDetailView:function(){return this._pool.dequeueItemForKeyIdentifier("detailview")||o.a.create()},queueDetailView:function(e){this._pool.queueItemForKeyIdentifier(e,"detailview")},__superMap:{_$1UE$init:"init"}}).create()},function(e,t){},function(e,t){},function(e,t,i){"use strict";i(0);var n=i(1285);(i.n(n),i(12)).a},function(e,t){},function(e,t,i){"use strict";i(0);var n=i(1287),r=(i.n(n),i(193));i(108);r.a.EMPTY_SRC},function(e,t){},function(e,t,i){},function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return p});var c=i(0),b=i(139),n=i(684),r=i(344),a=i(108),I=i(140),d=[],u=[],s=c._67("BRKit.GridViewColumnWidthConstraint",["Fixed","Full"]),o=c.v.extend({type:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"GridViewColumnWidthConstraint"}}),l=o.extend({type:s.Fixed,value:0,staticMembers:{__QUALIFIED_CLASS_NAME__:"FixedGridViewColumnWidthConstraint"}}),h=o.extend({type:s.Full,staticMembers:{__QUALIFIED_CLASS_NAME__:"FullGridViewColumnWidthConstraint"}});h.instance=h.create(),o.Fixed=function(e){return l.create({value:e})},o.Full=function(){return h.instance};var p=n.a.extend({additionalClassNames:c._60(["grid"]),delegate:null,columnWidth:c._107({defaultValue:function(){return o.Fixed(40)}}),rowHeight:20,columnSpacing:0,autoExpandColumnSpacing:!1,rowSpacing:0,minimumColumnSpan:1,cellPositioningInfo:null,padding:c._107({readOnly:!0,get:function(){return this._padding}}),anchorIndex:c._107({readOnly:!0,get:function(){return this._anchorIndex}}),itemCount:c._107({readOnly:!0,get:function(){return this._itemsCount}}),preferredSize:c._107({readOnly:!0,get:function(){var e=this._itemsCount,t=this._getGridContentInfoForItemsCountAndAnchorIndex(e,0);return a.a.create(t.contentWidth,t.contentHeight)}}),init:function(e){this.__s._$l2$init.call(this,e),e&&e.padding?this._padding=e.padding:this._padding={top:0,left:0,right:0,bottom:0},this._itemsCount=0,this._anchorIndex=0,this._anchorOffsetY=0,this._itemsIndexShift=0,this._allowScrollAnimationInterruption=!0,this.cellPositioningInfo={},this.addScrollDragRegion(r.b.create({direction:r.b.Direction.Up})),this.addScrollDragRegion(r.b.create({direction:r.b.Direction.Down}))},shouldContinueCurrentScrollAnimationForContentOffset:function(e,t){return!this._allowScrollAnimationInterruption},reload:function(){this.__s._$z2$reload.call(this);var e=this.delegate,t=e?e.gridViewGetAnchorIndexForReload:null,i=t?t.call(e,this):0;this._itemsCount=e.getItemCountForGridView(this),this._anchorIndex=i,this._adjustScrollContentDimensions(),0===i&&this.adjustContentOffset(0,0)},didBeginReloadForContentChanges:function(e){this._updateValuesAndAdjustForChanges(e)},didEndReloadForContentChanges:function(e){},_updateValuesAndAdjustForChanges:function(e){var t=this.delegate;this._itemsCount=t.getItemCountForGridView(this),this._anchorIndex=t.gridViewGetAnchorIndexForContentChanges(this,e),this._adjustScrollContentDimensions()},scrollToCursorIndex:function(){var e=this._cursorIndex;e&&this.scrollToItemAtIndexIntoVisibleRegion(e,!1)},scrollToItemAtIndexIntoVisibleRegion:function(e,t){var i=this._itemsCount,n=this._anchorIndex,r=this._getGridContentInfoForItemsCountAndAnchorIndex(i,n),a=this._getInfoForItemAtIndexAndGridContentInfo(e,r).offsetY,s=this.contentOffset.y,o=this.frame.height,c=r.rowHeight,l=r.rowSpacing,u=Math.round(l/2),d=I.a.create(s,o+s),h=I.a.create(a,c+a),p=0,f=h.containsValue(d.minValue)||h.maxValue<=d.minValue,_=h.containsValue(d.maxValue)||h.minValue>=d.maxValue;f?(p=a-u)<0&&(p=0):_&&(p=h.minValue-o+c+u)+o>r.padddedContentHeight&&(p=r.padddedContentHeight-o);var m=null;if(f||_){var g=this._getRowRangeForContentOffsetY(p)[0],v=r.itemsIndexShift,y=0<g||0===v;this._allowScrollAnimationInterruption=y,m=this.adjustContentOffset(0,p,t),y&&(m=m.then(function(){return this._allowScrollAnimationInterruption=!0,b.a.resolve()}.bind(this)))}else m=b.a.resolve(this);return m},layoutSubviews:function(){this.__s._$1vC$layoutSubviews.call(this);var e=this.contentOffset,t=this._getVisibleIndexRangeForContentOffsetY(e.y),i=t[0],n=t[1],r=this._itemsIndexShift;(this._anchorIndex=i)<0?(i=0,(n+=r)>this._itemsCount-1&&(n=this._itemsCount-1),this._anchorIndex=0,this._itemsIndexShift=0,this.adjustVisibleIndexRange(i,n),this._adjustScrollContentDimensions()):this.adjustVisibleIndexRange(i,n)},didAdjustVisibleIndexRange:function(){this.__s._$2B2$didAdjustVisibleIndexRange.call(this),this._positionVisibleCells()},didReloadCells:function(){this._positionVisibleCells()},frameBoundsDidChange:function(e){this.__s._$2E2$frameBoundsDidChange.call(this,e),this._adjustScrollContentDimensions()},frameDidInvalidate:function(){this.__s._$2Ft$frameDidInvalidate.call(this),this._adjustScrollContentDimensions()},_getColumnWidthValue:function(){var e=this.columnWidth;switch(e.type){case s.Fixed:return e.value;case s.Full:var t=this.padding;return this.frame.width-t.left-t.right;default:return e}},_positionVisibleCells:function(){var e=this.visibleIndexRange;if(e){var t=e.start,i=e.end;this.resetCellPositioningInfo(t);for(var n=this.visibleCells,r=t;r<=i;r++){var a=n[r-t],s=this.getPositionForCell(a);a.adjustPosition(s.x,s.y);var o=this.cellPositioningInfo.colWidth,c=this.rowHeight;a.adjustSize(o,c)}}},resetCellPositioningInfo:function(e){var t=this._itemsIndexShift,i=this._columnCount,n=Math.floor((e+t)/i),r=this.padding,a=r.left,s=n*(this.rowHeight+this.rowSpacing)+r.top,o=this._columnSpacePadding,c=Math.round(o/2),l=this._getColumnWidthValue(),u=this.cellPositioningInfo;u.cellX=a,u.cellY=s,u.col=0,u.colShiftX=c,u.colWidth=l,u.row=n},getPositionForCell:function(e){var t=this.cellPositioningInfo,i=t.cellX+t.colShiftX,n=t.cellY;if(e.index===this.anchorIndex){var r=this.contentOffset;this._anchorOffsetY=r.y-n}var a=this._columnCount;if(t.col===a-1){var s=this.rowHeight,o=this.rowSpacing;t.row+=1,t.col=0,t.cellX=this.padding.left,t.cellY+=s+o}else{var c=t.colWidth,l=this._columnSpacing;t.col+=1,t.cellX+=c+l}return{x:i,y:n}},_columnCount:0,_rowCount:0,_columnSpacing:0,_columnSpacePadding:0,_adjustScrollContentDimensions:function(){var e=this._itemsCount,t=this._anchorIndex,i=this._getGridContentInfoForItemsCountAndAnchorIndex(e,t),n=this._itemsIndexShift=i.itemsIndexShift,r=this._columnCount=i.columnCount;this._rowCount=i.rowCount,this._columnSpacing=i.columnSpacing,this._columnSpacePadding=i.columnSpacePadding;var a=i.paddedContentWidth,s=i.paddedContentHeight;if(0<t||0<this._anchorOffsetY){var o=this.padding,c=this.frame.height,l=Math.floor((t+n)/r)*(this.rowHeight+this.rowSpacing)+o.top+this._anchorOffsetY;s<=c?l=0:s<l+c&&(l=s-c),this.adjustContentOffset(0,l)}this.adjustContentSize(a,s)},_getGridContentInfoForItemsCountAndAnchorIndex:function(e,t){var i,n=this._getColumnWidthValue(),r=this.rowHeight,a=this.columnSpacing,s=this.rowSpacing,o=this.minimumColumnSpan,c=this.frame.width,l=this.padding,u=0,d=o+a*(o-1),h=0,p=0;c-=l.left+l.right;var f=Math.floor(c/(n+a));n+a<c-(u=0<e?f*n+a*(f-1):0)&&(f++,u+=n+a),0<e&&u<d&&(u=d,f=o),0<t&&(e+=h=Math.abs(Math.ceil(t/f)*f-t));var _=Math.ceil(e/f);return i=_*r+s*(_-1),this.autoExpandColumnSpacing&&f<e&&(a+=p=Math.round((c-u)/f)),{columnWidth:n,rowHeight:r,rowSpacing:s,columnSpacing:a,columnSpacePadding:p,padding:l,contentWidth:u,contentHeight:i,paddedContentWidth:u+l.left+l.right,paddedContentHeight:i+l.top+l.bottom,itemsIndexShift:h,columnCount:f,rowCount:_,itemsCount:e,anchorIndex:t}},_getInfoForItemAtIndexAndGridContentInfo:function(e,t){var i=t.padding,n=t.columnSpacing,r=t.rowSpacing,a=t.rowHeight,s=t.columnWidth,o=t.columnCount,c=t.itemsIndexShift+e,l=Math.floor(c/o),u=o<=c?c%(l*o):c;return{index:e,row:l,column:u,offsetX:i.left+u*s+u*n,offsetY:i.top+l*a+l*r}},_getRowRangeForContentOffsetY:function(e){var t=this.contentSize,i=this.padding,n=this.frame.height,r=this.rowSpacing,a=e-i.top,s=n+(a<0?a:0);i.top+t.height<e+n&&(s=i.top+t.height-e),a<0&&(a=0);var o=this.rowHeight+r,c=Math.floor(a/o);(c+1)*o-r<a&&(c+=1);var l=Math.ceil((a+s)/o)-1,u=d;return u[0]=c,u[1]=l,u},_getVisibleIndexRangeForContentOffsetY:function(e){var t=this._getRowRangeForContentOffsetY(e),i=t[0],n=t[1],r=this._columnCount,a=i*r,s=n*r+(r-1),o=this._itemsIndexShift,c=this._itemsCount+o;c-1<s&&(s-=s-(c-1)),a-=o,s-=o;var l=u;return l[0]=a,l[1]=s,l},handleKeyDown:function(e){var t=arguments;if(this.__s._$5Fv$handleKeyDown.apply(this,t))return!0;var i=this._columnCount,n=this._itemsCount,r=this._cursorIndex,a=r,s=Math.floor(r/i),o=this.delegate;switch(null===r&&(r=0),e.which){case c.S.DOWN:if(e.preventDefault(),e.metaKey||e.ctrlKey){if(r<0||n<=r)return!0;o.collectionViewShouldPerformActionForItemAtIndex(this,r)&&o.collectionViewPerformActionForItemAtIndex(this,r)}else a<0?a=0:n<(a+=i)&&(a=n-1,Math.floor(a/i)===s&&(a=r)),this._selectItemAtIndexWithModifiers(a,e);return!0;case c.S.UP:return!e.metaKey&&!e.ctrlKey&&(a<0?a=0:(a-=i)<0&&(a=r),this._selectItemAtIndexWithModifiers(a,e),e.preventDefault(),!0);case c.S.RIGHT:return!e.metaKey&&!e.ctrlKey&&(a++,Math.floor(a/i)!==s&&(a=r),this._selectItemAtIndexWithModifiers(a,e),e.preventDefault(),!0);case c.S.LEFT:return!e.metaKey&&!e.ctrlKey&&(a--,Math.floor(a/i)!==s&&(a=r),this._selectItemAtIndexWithModifiers(a,e),e.preventDefault(),!0);case 9:return e.preventDefault(),!0;case 65:if(e.metaKey||e.ctrlKey)return this._selectItemAtIndexWithModifiers(0,{},!1),this._selectItemAtIndexWithModifiers(n,{shiftKey:!0},!1),e.preventDefault(),!0}return!1},selectItemAtIndexWithModifiers:function(e,t,i){this._selectItemAtIndexWithModifiers(e,t,i)},_selectItemAtIndexWithModifiers:function(e,t,i){if(!isNaN(e)){var n=this._itemsCount;if(e<0&&e++,n<=e&&(e=n-1),!(e<0)){!1!==i&&this.scrollToItemAtIndexIntoVisibleRegion(e,!0),this._beginSelectionForItemAtIndexWithModifiers(e,t),this._endSelectionForItemAtIndexWithModifiers(e,t);var r=this.getVisibleCellAtItemIndex(e);if(r){var a=r.element;a&&a.focus&&a.focus()}}}},staticMembers:{__QUALIFIED_CLASS_NAME__:"GridView"},__superMap:{_$l2$init:"init",_$z2$reload:"reload",_$1vC$layoutSubviews:"layoutSubviews",_$2B2$didAdjustVisibleIndexRange:"didAdjustVisibleIndexRange",_$2E2$frameBoundsDidChange:"frameBoundsDidChange",_$2Ft$frameDidInvalidate:"frameDidInvalidate",_$5Fv$handleKeyDown:"handleKeyDown"}})},function(e,t,i){},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=i(1292),a=(i.n(r),i(12)),s=i(193),o=a.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[]},__QUALIFIED_CLASS_NAME__:"ImageView"},additionalClassNames:n._60(["image"]),alwaysShow:!1,image:n._105({readOnly:!0,get:function(){return this._image}}),src:n._105(s.a.EMPTY_SRC),init:function(e){this.__s._$9A$init.call(this,e),this._loadImage()},reset:function(){this.get("image").reset()},_loadImage:function(){var e=this.get("element"),t=this._image=s.a.create({owner:this,src:n._64(".owner.src")});e.appendChild(t.get("element")),this.propertyChanged("image")},_iv_imageStateDidChange:n._106(".image",".image.state",function(e,t){e&&(this.alwaysShow?this._showImage(!0):this._showImage(t===s.a.STATE_LOADED))}),_showImage:function(e){var t=this.get("image");if(t){var i=t.get("element").classList;e?(i.add("show"),i.remove("hide")):(i.add("hide"),i.remove("show"))}},__superMap:{_$9A$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(12).a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"value",attributes:{escape:"false"}}],classes:["inner"]}],attributes:{title:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"tooltip",attributes:{},attribute:"title"}}},__QUALIFIED_CLASS_NAME__:"LabelView"},additionalClassNames:n._60(["label"]),value:n._105(""),tooltip:n._105(n._64("value")),_valueDidChange:n._106("value",function(e){this.get("isAttached")&&this.notifyParentOfDynamicContentChange()})})},function(e,t,i){},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(0),n=i(12).a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"inputNode"},{type:"ELEMENT",tagname:"span",children:[],name:"metricsNode",classes:["br-resizer"]}],classes:["br-text-area"]},__QUALIFIED_CLASS_NAME__:"ResizingTextArea"},inputNode:r._105({readOnly:!0,defaultValue:r._85(r._50.extend({staticMembers:{template:{type:"ELEMENT",tagname:"textarea",children:[],classes:["cw-text-field",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isFocused",truevalue:"cw-focused",attributes:{}}],attributes:{type:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"type",attributes:{},attribute:"type"},maxlength:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"maxLength",attributes:{},attribute:"maxlength"},autocomplete:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocomplete",attributes:{},attribute:"autocomplete"},autocorrect:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocorrect",attributes:{},attribute:"autocorrect"},autocapitalize:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"autocapitalize",attributes:{},attribute:"autocapitalize"},spellcheck:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"spellcheck",attributes:{},attribute:"spellcheck"},placeholder:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"placeholder",attributes:{},attribute:"placeholder"},"aria-invalid":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"hasInvalidValue",attributes:{},attribute:"aria-invalid"},id:{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"id",attributes:{},attribute:"id"}}}},maxLength:255}))}),value:r._105({dependencies:["inputNode.value"],get:Object.assign(function(){return this.inputNode.value},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])}}),set:Object.assign(function(e){return this.inputNode.value=e},{__CW__setter:function(e,t,i,n,r){return i[0+n]=e}}),didChange:function(e){var t=this._measureTextWidth(e);this.inputNode.style.set("width",t.width+"px"),this.inputNode.style.set("height",t.height+"px")},writeDependencySetPathMap:["true"]}),keyDown:function(e){var t=this.delegate,i=this.inputNode.isIMEInputActive,n=null;switch(e.which){case r.S.RETURN:if(!i&&t&&(n=t.textFieldPerformReturnAction))return n.call(t,this),!0;break;case r.S.ESC:if(!i&&t&&(n=t.textFieldPerformEscapeAction))return n.call(t,this),!0}return!1},isDisabled:r._105(),delegate:null,isFocused:r._105({dependencies:["inputNode.isFocused"],get:Object.assign(function(){return this.inputNode.isFocused},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])}}),set:Object.assign(function(e){return this.inputNode.isFocused=e},{__CW__setter:function(e,t,i,n,r){return i[0+n]=e}}),writeDependencySetPathMap:["true"]}),focus:function(){var e=arguments;this.__s._$rZ$focus.apply(this,e),this.inputNode.focus()},select:function(){this.inputNode.select()},pointerDown:function(){return!0},_measureTextWidth:function(e){var t=this.metricsNode;t.style.width="auto",t.textContent=e;var i=t.offsetWidth;return i=128<=i?128:i+1,t.style.width=i+"px",{width:i,height:t.offsetHeight}},__superMap:{_$rZ$focus:"focus"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var u=i(0),n=i(1297),r=(i.n(n),i(187)),a=i(12),s=i(687),o=a.a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"canvas",children:[],classes:["br-spinner-view"]},__QUALIFIED_CLASS_NAME__:"SpinnerView"},revolutionTime:600,tickCount:12,tickReach:.54375,tickWidth:(12-90/255)/64,spin:u._105(!1),isAnimating:u._105(!1),_tickOpacities:{12:[0,25,61,89,117,145,158,173,189,199,204,212].map(function(e){return(255-e)/255})},init:function(){var e=arguments;this.__s._$jr$init.apply(this,e),this._canvas=this.get("element"),this._context=this._canvas.getContext("2d")},_startOrStopAnimation:u._106("isAnimating",function(e){this._compStyle=null,e?(this._animStartTime=Date.now(),this._drawStep(0),this._tick()):this.isInitialized&&this._drawStep(0)}),_tick:Object(s.a)(function(){if(!this.isDisposed&&this.get("isAnimating")){r.a.requestAnimationFrame(this._tick);var e=this.tickCount,t=this.revolutionTime/e,i=((Date.now()-this._animStartTime)/t|0)%e;i!==this._currentStep&&this._drawStep(i)}}),didMoveToWindow:function(e){this.__s._$18G$didMoveToWindow.call(this,e),this._toggleSpinAnimation()},_spinDidChange:u._106("spin",function(e){this._toggleSpinAnimation()}),_spv_visibleDidChange:u._106("visible",function(e){this._toggleSpinAnimation()}),_toggleSpinAnimation:function(){var e=this.get("isAttached"),t=this.get("spin"),i=this.get("visible");this.set("isAnimating",e&&t&&i)},_drawStep:function(e){var t=this.get("element"),i=u.j.get("sharedInstance");if(i.get("isFirefox")&&!this._compStyle){var n=document.defaultView.getComputedStyle(t,null);if(!n)return;this._compStyle=n}this._ensureStyleInfo();var r=this._usesImageBG,a=this._imageBG;if(this._hasStyleInfo&&(!r||a)){this._currentStep=e;var s=this._canvas,o=this._context,c=r?a.pixelRatio:u.C.get("sharedInstance").get("devicePixelRatio"),l=this._visualSize*c;l!==s.width||l!==s.height?s.width=s.height=l:o.clearRect(0,0,l,l),this._backingSize=l,o.save(),o.translate(l/2,l/2),o.rotate(2*e*Math.PI/this.tickCount),i.get("isIE9OrLower")&&o.rotate(2*Math.PI),this._usesImageBG?this._drawImageContent():this._drawGeneratedContent(),o.restore()}},_drawImageContent:function(){var e=this._imageBG,t=this._context,i=this._backingSize;e&&t.drawImage(e,-i/2,-i/2,i,i)},_drawGeneratedContent:function(){var e=this._context,t=this._backingSize,i=this.tickCount;e.fillStyle=this._color;for(var n=0;n<i;n++)e.globalAlpha=this._opacityForTickOfCount(n,i),this.drawTick(e,t),e.rotate(-2*Math.PI/i);e.globalAlpha=1},drawTick:function(e,t,i){var n,r,a,s,o,c,l=this.tickReach*t/2,u=this.tickWidth*t/2;n=e,r=-u/2,a=-t/2,s=u,o=l,c=Math.min(s/2,o/2,void 0===c?1/0:c),n.beginPath(),n.moveTo(r+c,a),n.arcTo(r+s,a,r+s,a+o,c),n.arcTo(r+s,a+o,r,a+o,c),n.arcTo(r,a+o,r,a,c),n.arcTo(r,a,r+s,a,c),n.closePath(),n.fill()},_opacityForTickOfCount:function(e,t){var i=this._tickOpacities[t];if(i)return i[e];var n=2/t,r=e/(t-1),a=Math.pow(r,.6),s=.7*(.5-.5*Math.cos(a*Math.PI))+.3*a;return s*n+1*(1-s)},_ensureStyleInfo:function(){if(this._debug||!this._hasStyleInfo&&this._canvas&&this._canvas.parentNode){var e=this.get("style");this._visualSize=Math.round(parseFloat(e.get("width")));var t=this._usesImageBG="url("===(e.get("background-image")||"").slice(0,4);t||(this._color=e.get("color")),this._visualSize&&(this._color||t)&&(this._hasStyleInfo=!0)}},__superMap:{_$jr$init:"init",_$18G$didMoveToWindow:"didMoveToWindow"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=i(340).a.extend({percentageComplete:n._107({readOnly:!0,get:function(){return this._percentageComplete}}),totalAmount:n._107({defaultValue:0,set:function(e){return this._isInitializing||this._totalAmountDidChange(e),e}}),amountComplete:n._107({defaultValue:0,get:function(){return this._amountComplete},set:function(e){return this._isInitializing||this._amountCompleteDidChange(e),e}}),init:function(e){this.willInitialize(),this.__s._$Fo$init.call(this,e),this._percentageComplete=0,this.didInitialize(),this._recalculate()},willInitialize:function(){this._isInitializing=!0},didInitialize:function(){this._isInitializing=!1},increaseAmount:function(e){var t=this._amountComplete+e;this._totalAmount<t&&n._75("Cannot increase amount. Great than total amount",{progress:this,amount:e}),this._amountComplete=t,this._recalculate()},complete:function(){100===this._percentageComplete&&n._75("Invalid call. Already complete",{progress:this}),this._amountComplete=this._totalAmount,this._recalculate()},_amountCompleteDidChange:function(e){e>this._totalAmount&&n._75("Invalid value. Amount complete cannot be greater than total amount",{progress:this,amount:e}),this._recalculate()},_totalAmountDidChange:function(e){this._amountComplete>e&&(this._amountComplete=e),this._recalculate()},_recalculate:function(){var e=this._amountComplete,t=this._totalAmount;t<e&&n._75("Cannot update. Amount complete cannot be greater than total",{progress:this}),0!==t&&(this._percentageComplete=e/t*100,this.changed())},staticMembers:{__QUALIFIED_CLASS_NAME__:"UnitProgress"},__superMap:{_$Fo$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(8),r=i(64),a=n.h.extend({url:{serviceName:"drivews"},maxRetries:2,shouldFinalizeWithResponse:function(e,t,i){var n=this._getResponseRetryAfter(e);return!n||i>=this.maxRetries||(r.a.setTimeout(function(){t()},1e3*n),!1)},_getResponseHeaders:function(e){var t=e.headers;if("string"==typeof t){for(var i={},n=(t=t.split("\n")).length;n--;){var r=/^\s*(.+?)\s*:\s*(.*)\s*$/.exec(t[n]);r&&3===r.length&&(i[r[1].toLowerCase()]=r[2])}return i}return t},_getResponseRetryAfter:function(e){if(503===e.get("status")){var t=this._getResponseHeaders(e),i=t&&parseInt(t["retry-after"]);if(i)return i;var n=e.body,r=n&&n.errors;if(r&&503==n.errorCode)for(var a=r.length;a--;){var s=r[a];if(s&&parseInt(s.retryAfterSeconds))return s}}},staticMembers:{__QUALIFIED_CLASS_NAME__:"BKRequest"}})},function(e,t,i){"use strict";i(0).v.create({CJK_UNICODE_RANGES:[[4352,4607],[11904,12031],[12032,12255],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[63744,64255],[65072,65103]],characterCodeIsCJK:function(e){if(!e)return!1;for(var t,i=this.CJK_UNICODE_RANGES,n=0,r=i.length;n<r;++n)if(e>=(t=i[n])[0]&&e<=t[1])return!0;return!1},stringIsCJK:function(e){if(!(e=e&&e.trim()))return!1;for(var t=0,i=e.length-1;t<=i;)if(!this.characterCodeIsCJK(e.charCodeAt(t++))||!this.characterCodeIsCJK(e.charCodeAt(i--)))return!1;return!0}})},function(e,t,i){"use strict";i(360)},function(e,t,i){"use strict";i(360),i(688)},function(e,t,i){"use strict";i(0)},function(e,t,i){"use strict";t.a=function(e,t,i,n){if(null==t)return e;for(var r=n&&n.insertionStr||p,a=n&&n.numberOfLines||1,s=1,o="",c=[];o.length<e.length;){var l=e.substr(o.length),u=l.match(/^\s*\S+|\s+$/),d=o+u[0];if(Object(h.a)(d,i).width<=t)o=d;else{if(s===a){o=f(e,t,r,i);break}""===o&&(o=f(u[0],t,r,i),l=e.substr(u[0].length)),c.push(o),e=l.trim(),o="",s++}}return c.push(o),c.join("\n")};var h=i(671),p="";function f(e,t,i,n){var r=(t-Object(h.a)(i,n).width)/2;return a(e,r,1).replace(/\s+$/,"")+i+a(e,r,-1).replace(/^\s+/,"")}function a(e,t,i){for(var n=0,r=0,a=0,s="",o="",c=e.length;n<c;)if(n++,s=0<i?e.substr(0,n):e.substr(c-n),!e.substr(n-1,n).match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/)){if(t<(r=Object(h.a)(s).width))return o;r!==a&&(o=s),a=r}return o}},function(e,t,i){"use strict";t.a=function(e,t){var i=3<(t=Math.max(3,t))?3:2;return e.length>t?e.substr(0,t-i)+n:e};var n=""},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return a}),i.d(t,"c",function(){return o});var n=i(0),r={keynote:"application/x-iwork-keynote-sffkey",pages:"application/x-iwork-pages-sffpages",numbers:"application/x-iwork-numbers-sffnumbers",123:"application/vnd.lotus-1-2-3",ez:"application/andrew-inset",aw:"application/applixware",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",ccxml:"application/ccxml+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cu:"application/cu-seeme",davmount:"application/davmount+xml",dat:"application/octet-stream",dbk:"application/docbook+xml",dssc:"application/dssc+der",xdssc:"application/dssc+xml",ecma:"application/ecmascript",emma:"application/emma+xml",epub:"application/epub+zip",exi:"application/exi",pfr:"application/font-tdpfr",gml:"application/gml+xml",gpx:"application/gpx+xml",gxf:"application/gxf",stk:"application/hyperstudio",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",jar:"application/java-archive",ser:"application/java-serialized-object",class:"application/java-vm",js:"application/javascript",json:"application/json",jsonml:"application/jsonml+json",lostxml:"application/lost+xml",hqx:"application/mac-binhex40",cpt:"application/mac-compactpro",mads:"application/mads+xml",mrc:"application/marc",mrcx:"application/marcxml+xml",ma:"application/mathematica",nb:"application/mathematica",mb:"application/mathematica",mathml:"application/mathml+xml",mbox:"application/mbox",mscml:"application/mediaservercontrol+xml",metalink:"application/metalink+xml",meta4:"application/metalink4+xml",mets:"application/mets+xml",mods:"application/mods+xml",m21:"application/mp21",mp21:"application/mp21",mp4s:"application/mp4",doc:"application/msword",dot:"application/msword",mxf:"application/mxf",bin:"application/octet-stream",dms:"application/octet-stream",lrf:"application/octet-stream",mar:"application/octet-stream",so:"application/octet-stream",dist:"application/octet-stream",distz:"application/octet-stream",pkg:"application/octet-stream",bpk:"application/octet-stream",dump:"application/octet-stream",elc:"application/octet-stream",deploy:"application/octet-stream",oda:"application/oda",opf:"application/oebps-package+xml",ogx:"application/ogg",omdoc:"application/omdoc+xml",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",oxps:"application/oxps",xer:"application/patch-ops-error+xml",pdf:"application/pdf",pgp:"application/pgp-encrypted",asc:"application/pgp-signature",sig:"application/pgp-signature",prf:"application/pics-rules",p10:"application/pkcs10",p7m:"application/pkcs7-mime",p7c:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",ac:"application/pkix-attr-cert",cer:"application/pkix-cert",crl:"application/pkix-crl",pkipath:"application/pkix-pkipath",pki:"application/pkixcmp",pls:"application/pls+xml",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",cww:"application/prs.cww",pskcxml:"application/pskc+xml",rdf:"application/rdf+xml",rif:"application/reginfo+xml",rnc:"application/relax-ng-compact-syntax",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rs:"application/rls-services+xml",gbr:"application/rpki-ghostbusters",mft:"application/rpki-manifest",roa:"application/rpki-roa",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",spq:"application/scvp-vp-request",spp:"application/scvp-vp-response",sdp:"application/sdp",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",shf:"application/shf+xml",smi:"application/smil+xml",smil:"application/smil+xml",rq:"application/sparql-query",srx:"application/sparql-results+xml",gram:"application/srgs",grxml:"application/srgs+xml",sru:"application/sru+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",tfi:"application/thraud+xml",tsd:"application/timestamped-data",plb:"application/vnd.3gpp.pic-bw-large",psb:"application/vnd.3gpp.pic-bw-small",pvb:"application/vnd.3gpp.pic-bw-var",tcap:"application/vnd.3gpp2.tcap",pwn:"application/vnd.3m.post-it-notes",aso:"application/vnd.accpac.simply.aso",imp:"application/vnd.accpac.simply.imp",acu:"application/vnd.acucobol",atc:"application/vnd.acucorp",acutc:"application/vnd.acucorp",air:"application/vnd.adobe.air-application-installer-package+zip",fcdt:"application/vnd.adobe.formscentral.fcdt",fxp:"application/vnd.adobe.fxp",fxpl:"application/vnd.adobe.fxp",xdp:"application/vnd.adobe.xdp+xml",xfdf:"application/vnd.adobe.xfdf",ahead:"application/vnd.ahead.space",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",acc:"application/vnd.americandynamics.acc",ami:"application/vnd.amiga.ami",apk:"application/vnd.android.package-archive",cii:"application/vnd.anser-web-certificate-issue-initiation",fti:"application/vnd.anser-web-funds-transfer-initiation",atx:"application/vnd.antix.game-component",mpkg:"application/vnd.apple.installer+xml",m3u8:"application/vnd.apple.mpegurl",swi:"application/vnd.aristanetworks.swi",iota:"application/vnd.astraea-software.iota",aep:"application/vnd.audiograph",mpm:"application/vnd.blueice.multipass",bmi:"application/vnd.bmi",rep:"application/vnd.businessobjects",cdxml:"application/vnd.chemdraw+xml",mmd:"application/vnd.chipnuts.karaoke-mmd",cdy:"application/vnd.cinderella",cla:"application/vnd.claymore",rp9:"application/vnd.cloanto.rp9",c4g:"application/vnd.clonk.c4group",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",c11amc:"application/vnd.cluetrust.cartomobile-config",c11amz:"application/vnd.cluetrust.cartomobile-config-pkg",csp:"application/vnd.commonspace",cdbcmsg:"application/vnd.contact.cmsg",cmc:"application/vnd.cosmocaller",clkx:"application/vnd.crick.clicker",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",wbs:"application/vnd.criticaltools.wbs+xml",pml:"application/vnd.ctc-posml",ppd:"application/vnd.cups-ppd",car:"application/vnd.curl.car",pcurl:"application/vnd.curl.pcurl",dart:"application/vnd.dart",rdz:"application/vnd.data-vision.rdz",uvf:"application/vnd.dece.data",uvvf:"application/vnd.dece.data",uvd:"application/vnd.dece.data",uvvd:"application/vnd.dece.data",uvt:"application/vnd.dece.ttml+xml",uvvt:"application/vnd.dece.ttml+xml",uvx:"application/vnd.dece.unspecified",uvvx:"application/vnd.dece.unspecified",uvz:"application/vnd.dece.zip",uvvz:"application/vnd.dece.zip",fe_launch:"application/vnd.denovo.fcselayout-link",dna:"application/vnd.dna",mlp:"application/vnd.dolby.mlp",dpg:"application/vnd.dpgraph",dfac:"application/vnd.dreamfactory",kpxx:"application/vnd.ds-keypoint",ait:"application/vnd.dvb.ait",svc:"application/vnd.dvb.service",geo:"application/vnd.dynageo",mag:"application/vnd.ecowin.chart",nml:"application/vnd.enliven",esf:"application/vnd.epson.esf",msf:"application/vnd.epson.msf",qam:"application/vnd.epson.quickanime",slt:"application/vnd.epson.salt",ssf:"application/vnd.epson.ssf",es3:"application/vnd.eszigno3+xml",et3:"application/vnd.eszigno3+xml",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",fdf:"application/vnd.fdf",mseed:"application/vnd.fdsn.mseed",seed:"application/vnd.fdsn.seed",dataless:"application/vnd.fdsn.seed",gph:"application/vnd.flographit",ftc:"application/vnd.fluxtime.clip",fm:"application/vnd.framemaker",frame:"application/vnd.framemaker",maker:"application/vnd.framemaker",book:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",ltf:"application/vnd.frogans.ltf",fsc:"application/vnd.fsc.weblaunch",oas:"application/vnd.fujitsu.oasys",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",fg5:"application/vnd.fujitsu.oasysgp",bh2:"application/vnd.fujitsu.oasysprs",ddd:"application/vnd.fujixerox.ddd",xdw:"application/vnd.fujixerox.docuworks",xbd:"application/vnd.fujixerox.docuworks.binder",fzs:"application/vnd.fuzzysheet",txd:"application/vnd.genomatix.tuxedo",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",gex:"application/vnd.geometry-explorer",gre:"application/vnd.geometry-explorer",gxt:"application/vnd.geonext",g2w:"application/vnd.geoplan",g3w:"application/vnd.geospace",gmx:"application/vnd.gmx",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gac:"application/vnd.groove-account",ghf:"application/vnd.groove-help",gim:"application/vnd.groove-identity-message",grv:"application/vnd.groove-injector",gtm:"application/vnd.groove-tool-message",tpl:"application/vnd.groove-tool-template",vcg:"application/vnd.groove-vcard",hal:"application/vnd.hal+xml",zmm:"application/vnd.handheld-entertainment+xml",hbci:"application/vnd.hbci",les:"application/vnd.hhe.lesson-player",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",jlt:"application/vnd.hp-jlyt",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl","sfd-hdstx":"application/vnd.hydrostatix.sof-data",mpy:"application/vnd.ibm.minipay",afp:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",list3820:"application/vnd.ibm.modcap",irm:"application/vnd.ibm.rights-management",sc:"application/vnd.ibm.secure-container",icc:"application/vnd.iccprofile",icm:"application/vnd.iccprofile",igl:"application/vnd.igloader",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",igm:"application/vnd.insors.igm",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",i2g:"application/vnd.intergeo",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",rcprofile:"application/vnd.ipunplugged.rcprofile",irp:"application/vnd.irepository.package+xml",xpr:"application/vnd.is-xpr",fcs:"application/vnd.isac.fcs",jam:"application/vnd.jam",rms:"application/vnd.jcp.javame.midlet-rms",jisp:"application/vnd.jisp",joda:"application/vnd.joost.joda-archive",ktz:"application/vnd.kahootz",ktr:"application/vnd.kahootz",karbon:"application/vnd.kde.karbon",chrt:"application/vnd.kde.kchart",kfo:"application/vnd.kde.kformula",flw:"application/vnd.kde.kivio",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",ksp:"application/vnd.kde.kspread",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",htke:"application/vnd.kenameaapp",kia:"application/vnd.kidspiration",kne:"application/vnd.kinar",knp:"application/vnd.kinar",skp:"application/vnd.koan",skd:"application/vnd.koan",skt:"application/vnd.koan",skm:"application/vnd.koan",sse:"application/vnd.kodak-descriptor",lasxml:"application/vnd.las.las+xml",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",apr:"application/vnd.lotus-approach",pre:"application/vnd.lotus-freelance",nsf:"application/vnd.lotus-notes",org:"application/vnd.lotus-organizer",scm:"application/vnd.lotus-screencam",lwp:"application/vnd.lotus-wordpro",portpkg:"application/vnd.macports.portpkg",mcd:"application/vnd.mcd",mc1:"application/vnd.medcalcdata",cdkey:"application/vnd.mediastation.cdkey",mwf:"application/vnd.mfer",mfm:"application/vnd.mfmp",flo:"application/vnd.micrografx.flo",igx:"application/vnd.micrografx.igx",mif:"application/vnd.mif",daf:"application/vnd.mobius.daf",dis:"application/vnd.mobius.dis",mbk:"application/vnd.mobius.mbk",mqy:"application/vnd.mobius.mqy",msl:"application/vnd.mobius.msl",plc:"application/vnd.mobius.plc",txf:"application/vnd.mobius.txf",mpn:"application/vnd.mophun.application",mpc:"application/vnd.mophun.certificate",xul:"application/vnd.mozilla.xul+xml",cil:"application/vnd.ms-artgalry",cab:"application/vnd.ms-cab-compressed",xls:"application/vnd.ms-excel",xlm:"application/vnd.ms-excel",xla:"application/vnd.ms-excel",xlc:"application/vnd.ms-excel",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xltm:"application/vnd.ms-excel.template.macroenabled.12",eot:"application/vnd.ms-fontobject",chm:"application/vnd.ms-htmlhelp",ims:"application/vnd.ms-ims",lrm:"application/vnd.ms-lrm",thmx:"application/vnd.ms-officetheme",cat:"application/vnd.ms-pki.seccat",stl:"application/vnd.ms-pki.stl",ppt:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",pot:"application/vnd.ms-powerpoint",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",docm:"application/vnd.ms-word.document.macroenabled.12",dotm:"application/vnd.ms-word.template.macroenabled.12",wps:"application/vnd.ms-works",wks:"application/vnd.ms-works",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wpl:"application/vnd.ms-wpl",xps:"application/vnd.ms-xpsdocument",mseq:"application/vnd.mseq",mus:"application/vnd.musician",msty:"application/vnd.muvee.style",taglet:"application/vnd.mynfc",nlu:"application/vnd.neurolanguage.nlu",ntf:"application/vnd.nitf",nitf:"application/vnd.nitf",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",ngdat:"application/vnd.nokia.n-gage.data","n-gage":"application/vnd.nokia.n-gage.symbian.install",rpst:"application/vnd.nokia.radio-preset",rpss:"application/vnd.nokia.radio-presets",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",ext:"application/vnd.novadigm.ext",odc:"application/vnd.oasis.opendocument.chart",otc:"application/vnd.oasis.opendocument.chart-template",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",otg:"application/vnd.oasis.opendocument.graphics-template",odi:"application/vnd.oasis.opendocument.image",oti:"application/vnd.oasis.opendocument.image-template",odp:"application/vnd.oasis.opendocument.presentation",otp:"application/vnd.oasis.opendocument.presentation-template",ods:"application/vnd.oasis.opendocument.spreadsheet",ots:"application/vnd.oasis.opendocument.spreadsheet-template",odt:"application/vnd.oasis.opendocument.text",odm:"application/vnd.oasis.opendocument.text-master",ott:"application/vnd.oasis.opendocument.text-template",oth:"application/vnd.oasis.opendocument.text-web",xo:"application/vnd.olpc-sugar",dd2:"application/vnd.oma.dd2+xml",oxt:"application/vnd.openofficeorg.extension",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",mgp:"application/vnd.osgeo.mapguide.package",dp:"application/vnd.osgi.dp",esa:"application/vnd.osgi.subsystem",pdb:"application/vnd.palm",pqa:"application/vnd.palm",oprc:"application/vnd.palm",paw:"application/vnd.pawaafile",str:"application/vnd.pg.format",ei6:"application/vnd.pg.osasli",efif:"application/vnd.picsel",wg:"application/vnd.pmi.widget",plf:"application/vnd.pocketlearn",pbd:"application/vnd.powerbuilder6",box:"application/vnd.previewsystems.box",mgz:"application/vnd.proteus.magazine",qps:"application/vnd.publishare-delta-tree",ptid:"application/vnd.pvi.ptid1",qxd:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",bed:"application/vnd.realvnc.bed",mxl:"application/vnd.recordare.musicxml",musicxml:"application/vnd.recordare.musicxml+xml",cryptonote:"application/vnd.rig.cryptonote",cod:"application/vnd.rim.cod",rm:"application/vnd.rn-realmedia",rmvb:"application/vnd.rn-realmedia-vbr",link66:"application/vnd.route66.link66+xml",st:"application/vnd.sailingtracker.track",see:"application/vnd.seemail",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ifm:"application/vnd.shana.informed.formdata",itp:"application/vnd.shana.informed.formtemplate",iif:"application/vnd.shana.informed.interchange",ipk:"application/vnd.shana.informed.package",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",mmf:"application/vnd.smaf",teacher:"application/vnd.smart.teacher",sdkm:"application/vnd.solent.sdkm+xml",sdkd:"application/vnd.solent.sdkm+xml",dxp:"application/vnd.spotfire.dxp",sfs:"application/vnd.spotfire.sfs",sdc:"application/vnd.stardivision.calc",sda:"application/vnd.stardivision.draw",sdd:"application/vnd.stardivision.impress",smf:"application/vnd.stardivision.math",sdw:"application/vnd.stardivision.writer",vor:"application/vnd.stardivision.writer",sgl:"application/vnd.stardivision.writer-global",smzip:"application/vnd.stepmania.package",sm:"application/vnd.stepmania.stepchart",sxc:"application/vnd.sun.xml.calc",stc:"application/vnd.sun.xml.calc.template",sxd:"application/vnd.sun.xml.draw",std:"application/vnd.sun.xml.draw.template",sxi:"application/vnd.sun.xml.impress",sti:"application/vnd.sun.xml.impress.template",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",sxg:"application/vnd.sun.xml.writer.global",stw:"application/vnd.sun.xml.writer.template",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",svd:"application/vnd.svd",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",xsm:"application/vnd.syncml+xml",bdm:"application/vnd.syncml.dm+wbxml",xdm:"application/vnd.syncml.dm+xml",tao:"application/vnd.tao.intent-module-archive",pcap:"application/vnd.tcpdump.pcap",cap:"application/vnd.tcpdump.pcap",dmp:"application/vnd.tcpdump.pcap",tmo:"application/vnd.tmobile-livetv",tpt:"application/vnd.trid.tpt",mxs:"application/vnd.triscape.mxs",tra:"application/vnd.trueapp",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",utz:"application/vnd.uiq.theme",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",vcx:"application/vnd.vcx",vsd:"application/vnd.visio",vst:"application/vnd.visio",vss:"application/vnd.visio",vsw:"application/vnd.visio",vis:"application/vnd.visionary",vsf:"application/vnd.vsf",wbxml:"application/vnd.wap.wbxml",wmlc:"application/vnd.wap.wmlc",wmlsc:"application/vnd.wap.wmlscriptc",wtb:"application/vnd.webturbo",nbp:"application/vnd.wolfram.player",wpd:"application/vnd.wordperfect",wqd:"application/vnd.wqd",stf:"application/vnd.wt.stf",xar:"application/vnd.xara",xfdl:"application/vnd.xfdl",hvd:"application/vnd.yamaha.hv-dic",hvs:"application/vnd.yamaha.hv-script",hvp:"application/vnd.yamaha.hv-voice",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",saf:"application/vnd.yamaha.smaf-audio",spf:"application/vnd.yamaha.smaf-phrase",cmp:"application/vnd.yellowriver-custom-menu",zir:"application/vnd.zul",zirz:"application/vnd.zul",zaz:"application/vnd.zzazz.deck+xml",vxml:"application/voicexml+xml",wgt:"application/widget",hlp:"application/winhlp",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml","7z":"application/x-7z-compressed",abw:"application/x-abiword",ace:"application/x-ace-compressed",dmg:"application/x-apple-diskimage",aab:"application/x-authorware-bin",x32:"application/x-authorware-bin",u32:"application/x-authorware-bin",vox:"application/x-authorware-bin",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",bcpio:"application/x-bcpio",torrent:"application/x-bittorrent",blb:"application/x-blorb",blorb:"application/x-blorb",bz:"application/x-bzip",bz2:"application/x-bzip2",boz:"application/x-bzip2",cbr:"application/x-cbr",cba:"application/x-cbr",cbt:"application/x-cbr",cbz:"application/x-cbr",cb7:"application/x-cbr",vcd:"application/x-cdlink",cfs:"application/x-cfs-compressed",chat:"application/x-chat",pgn:"application/x-chess-pgn",nsc:"application/x-conference",cpio:"application/x-cpio",csh:"application/x-csh",deb:"application/x-debian-package",udeb:"application/x-debian-package",dgc:"application/x-dgc-compressed",dir:"application/x-director",dcr:"application/x-director",dxr:"application/x-director",cst:"application/x-director",cct:"application/x-director",cxt:"application/x-director",w3d:"application/x-director",fgd:"application/x-director",swa:"application/x-director",wad:"application/x-doom",ncx:"application/x-dtbncx+xml",dtb:"application/x-dtbook+xml",res:"application/x-dtbresource+xml",dvi:"application/x-dvi",evy:"application/x-envoy",eva:"application/x-eva",bdf:"application/x-font-bdf",gsf:"application/x-font-ghostscript",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf",ttf:"application/x-font-ttf",ttc:"application/x-font-ttf",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",afm:"application/x-font-type1",woff:"application/font-woff",arc:"application/x-freearc",spl:"application/x-futuresplash",gca:"application/x-gca-compressed",ulx:"application/x-glulx",gnumeric:"application/x-gnumeric",gramps:"application/x-gramps-xml",gtar:"application/x-gtar",hdf:"application/x-hdf",install:"application/x-install-instructions",iso:"application/x-iso9660-image",jnlp:"application/x-java-jnlp-file",latex:"application/x-latex",lzh:"application/x-lzh-compressed",lha:"application/x-lzh-compressed",mie:"application/x-mie",prc:"application/x-mobipocket-ebook",mobi:"application/x-mobipocket-ebook",application:"application/x-ms-application",lnk:"application/x-ms-shortcut",wmd:"application/x-ms-wmd",wmz:"application/x-msmetafile",xbap:"application/x-ms-xbap",mdb:"application/x-msaccess",obd:"application/x-msbinder",crd:"application/x-mscardfile",clp:"application/x-msclip",exe:"application/x-msdownload",dll:"application/x-msdownload",com:"application/x-msdownload",bat:"application/x-msdownload",msi:"application/x-msdownload",mvb:"application/x-msmediaview",m13:"application/x-msmediaview",m14:"application/x-msmediaview",wmf:"application/x-msmetafile",emf:"application/x-msmetafile",emz:"application/x-msmetafile",mny:"application/x-msmoney",pub:"application/x-mspublisher",scd:"application/x-msschedule",trm:"application/x-msterminal",wri:"application/x-mswrite",nc:"application/x-netcdf",cdf:"application/x-netcdf",nzb:"application/x-nzb",p12:"application/x-pkcs12",pfx:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",spc:"application/x-pkcs7-certificates",p7r:"application/x-pkcs7-certreqresp",rar:"application/x-rar-compressed",ris:"application/x-research-info-systems",sh:"application/x-sh",shar:"application/x-shar",swf:"application/x-shockwave-flash",xap:"application/x-silverlight-app",sql:"application/x-sql",sit:"application/x-stuffit",sitx:"application/x-stuffitx",srt:"application/x-subrip",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",t3:"application/x-t3vm-image",gam:"application/x-tads",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",tfm:"application/x-tex-tfm",texinfo:"application/x-texinfo",texi:"application/x-texinfo",obj:"application/x-tgif",ustar:"application/x-ustar",src:"application/x-wais-source",der:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",fig:"application/x-xfig",xlf:"application/x-xliff+xml",xpi:"application/x-xpinstall",xz:"application/x-xz",z1:"application/x-zmachine",z2:"application/x-zmachine",z3:"application/x-zmachine",z4:"application/x-zmachine",z5:"application/x-zmachine",z6:"application/x-zmachine",z7:"application/x-zmachine",z8:"application/x-zmachine",xaml:"application/xaml+xml",xdf:"application/xcap-diff+xml",xenc:"application/xenc+xml",xhtml:"application/xhtml+xml",xht:"application/xhtml+xml",xml:"application/xml",xsl:"application/xml",dtd:"application/xml-dtd",xop:"application/xop+xml",xpl:"application/xproc+xml",xslt:"application/xslt+xml",xspf:"application/xspf+xml",mxml:"application/xv+xml",xhvml:"application/xv+xml",xvml:"application/xv+xml",xvm:"application/xv+xml",yang:"application/yang",yin:"application/yin+xml",zip:"application/zip",adp:"audio/adpcm",au:"audio/basic",snd:"audio/basic",mid:"audio/midi",midi:"audio/midi",kar:"audio/midi",rmi:"audio/midi",mp4a:"audio/mp4",mpga:"audio/mpeg",mp2:"audio/mpeg",mp2a:"audio/mpeg",mp3:"audio/mpeg",m2a:"audio/mpeg",m3a:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",spx:"audio/ogg",s3m:"audio/s3m",sil:"audio/silk",uva:"audio/vnd.dece.audio",uvva:"audio/vnd.dece.audio",eol:"audio/vnd.digital-winds",dra:"audio/vnd.dra",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",lvp:"audio/vnd.lucent.voice",pya:"audio/vnd.ms-playready.media.pya",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",rip:"audio/vnd.rip",weba:"audio/webm",aac:"audio/x-aac",aif:"audio/x-aiff",aiff:"audio/x-aiff",aifc:"audio/x-aiff",caf:"audio/x-caf",flac:"audio/x-flac",mka:"audio/x-matroska",m3u:"audio/x-mpegurl",wax:"audio/x-ms-wax",wma:"audio/x-ms-wma",ram:"audio/x-pn-realaudio",ra:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",wav:"audio/x-wav",xm:"audio/xm",cdx:"chemical/x-cdx",cif:"chemical/x-cif",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",csml:"chemical/x-csml",xyz:"chemical/x-xyz",bmp:"image/bmp",cgm:"image/cgm",g3:"image/g3fax",gif:"image/gif",ief:"image/ief",jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",ktx:"image/ktx",png:"image/png",btif:"image/prs.btif",sgi:"image/sgi",svg:"image/svg+xml",svgz:"image/svg+xml",tiff:"image/tiff",tif:"image/tiff",psd:"image/vnd.adobe.photoshop",uvi:"image/vnd.dece.graphic",uvvi:"image/vnd.dece.graphic",uvg:"image/vnd.dece.graphic",uvvg:"image/vnd.dece.graphic",sub:"text/vnd.dvb.subtitle",djvu:"image/vnd.djvu",djv:"image/vnd.djvu",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",fbs:"image/vnd.fastbidsheet",fpx:"image/vnd.fpx",fst:"image/vnd.fst",mmr:"image/vnd.fujixerox.edmics-mmr",rlc:"image/vnd.fujixerox.edmics-rlc",mdi:"image/vnd.ms-modi",wdp:"image/vnd.ms-photo",npx:"image/vnd.net-fpx",wbmp:"image/vnd.wap.wbmp",xif:"image/vnd.xiff",webp:"image/webp","3ds":"image/x-3ds",ras:"image/x-cmu-raster",cmx:"image/x-cmx",fh:"image/x-freehand",fhc:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",ico:"image/x-icon",sid:"image/x-mrsid-image",pcx:"image/x-pcx",pic:"image/x-pict",pct:"image/x-pict",pnm:"image/x-portable-anymap",pbm:"image/x-portable-bitmap",pgm:"image/x-portable-graymap",ppm:"image/x-portable-pixmap",rgb:"image/x-rgb",tga:"image/x-tga",xbm:"image/x-xbitmap",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump",eml:"message/rfc822",mime:"message/rfc822",igs:"model/iges",iges:"model/iges",msh:"model/mesh",mesh:"model/mesh",silo:"model/mesh",dae:"model/vnd.collada+xml",dwf:"model/vnd.dwf",gdl:"model/vnd.gdl",gtw:"model/vnd.gtw",mts:"model/vnd.mts",vtu:"model/vnd.vtu",wrl:"model/vrml",vrml:"model/vrml",x3db:"model/x3d+binary",x3dbz:"model/x3d+binary",x3dv:"model/x3d+vrml",x3dvz:"model/x3d+vrml",x3d:"model/x3d+xml",x3dz:"model/x3d+xml",appcache:"text/cache-manifest",ics:"text/calendar",ifb:"text/calendar",css:"text/css",csv:"text/csv",html:"text/html",htm:"text/html",n3:"text/n3",txt:"text/plain",text:"text/plain",conf:"text/plain",def:"text/plain",list:"text/plain",log:"text/plain",in:"text/plain",dsc:"text/prs.lines.tag",rtx:"text/richtext",sgml:"text/sgml",sgm:"text/sgml",tsv:"text/tab-separated-values",t:"text/troff",tr:"text/troff",roff:"text/troff",man:"text/troff",me:"text/troff",ms:"text/troff",ttl:"text/turtle",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",curl:"text/vnd.curl",dcurl:"text/vnd.curl.dcurl",scurl:"text/vnd.curl.scurl",mcurl:"text/vnd.curl.mcurl",fly:"text/vnd.fly",flx:"text/vnd.fmi.flexstor",gv:"text/vnd.graphviz","3dml":"text/vnd.in3d.3dml",spot:"text/vnd.in3d.spot",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",wmls:"text/vnd.wap.wmlscript",s:"text/x-asm",asm:"text/x-asm",c:"text/x-c",cc:"text/x-c",cxx:"text/x-c",cpp:"text/x-c",h:"text/x-c",hh:"text/x-c",dic:"text/x-c",f:"text/x-fortran",for:"text/x-fortran",f77:"text/x-fortran",f90:"text/x-fortran",java:"text/x-java-source",opml:"text/x-opml",p:"text/x-pascal",pas:"text/x-pascal",nfo:"text/x-nfo",etx:"text/x-setext",sfv:"text/x-sfv",uu:"text/x-uuencode",vcs:"text/x-vcalendar",vcf:"text/x-vcard","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpeg",jpm:"video/jpm",jpgm:"video/jpm",mj2:"video/mj2",mjp2:"video/mj2",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg",ogv:"video/ogg",qt:"video/quicktime",mov:"video/quicktime",uvh:"video/vnd.dece.hd",uvvh:"video/vnd.dece.hd",uvm:"video/vnd.dece.mobile",uvvm:"video/vnd.dece.mobile",uvp:"video/vnd.dece.pd",uvvp:"video/vnd.dece.pd",uvs:"video/vnd.dece.sd",uvvs:"video/vnd.dece.sd",uvv:"video/vnd.dece.video",uvvv:"video/vnd.dece.video",dvb:"video/vnd.dvb.file",fvt:"video/vnd.fvt",mxu:"video/vnd.mpegurl",m4u:"video/vnd.mpegurl",pyv:"video/vnd.ms-playready.media.pyv",uvu:"video/vnd.uvvu.mp4",uvvu:"video/vnd.uvvu.mp4",viv:"video/vnd.vivo",webm:"video/webm",f4v:"video/x-f4v",fli:"video/x-fli",flv:"video/x-flv",m4v:"video/x-m4v",mkv:"video/x-matroska",mk3d:"video/x-matroska",mks:"video/x-matroska",mng:"video/x-mng",asf:"video/x-ms-asf",asx:"video/x-ms-asf",vob:"video/x-ms-vob",wm:"video/x-ms-wm",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",avi:"video/x-msvideo",movie:"video/x-sgi-movie",smv:"video/x-smv",ice:"x-conference/x-cooltalk"},a=/(.*)\.([\w-_]+).(zip)$/i,s={pages:!0,"pages-tef":!0,template:!0,keynote:!0,"keynote-tef":!0,key:!0,"key-tef":!0,kth:!0,numbers:!0,"numbers-tef":!0,nmbtemplate:!0,lpdf:!0,band:!0,xcodeproj:!0,playground:!0,theater:!0,app:!0,workflow:!0,rtfd:!0,imovielibrary:!0,pkg:!0},o=function(e){return"string"!=typeof e&&n._75("Wrong type provided."),s[e]||!1}},function(e,t,i){"use strict";i(0),"function"==typeof Symbol&&Symbol.iterator},function(e,t,i){"use strict";i(0)._67("BRApp.FolderContentSortOrderEnum",function(e){e("Ascending"),e("Descending")})},function(e,t,i){"use strict";i(0)._67("BRApp.FolderContentSortTypeEnum",function(e){e("DateModified"),e("Name"),e("Size")})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(4),r=i(0),a=i(44),s=i(65),o=n.R.extend({add:function(e){return e.instanceOf&&e.instanceOf(a.a)||r._75("ObservableItemSet only allows addition of instances of Item"),this.__s._$9k$add.call(this,e)},setTransactionStateForEach:function(t){t.group!==s.a&&r._75("The value of an item's transactionState must be a member of ItemTransactionStateEnum"),this.forEach(function(e){e.transactionState=t}),this.memberTransactionStateDidChange()},memberTransactionStateDidChange:r._118(),staticMembers:{__QUALIFIED_CLASS_NAME__:"ObservableItemSet"},__superMap:{_$9k$add:"add"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(4),r=i(66),a=i(27),s=r.a.extend({init:function(e,t){this.itemIDs=e,this.__s._$Cz$init.call(this,t)},itemIDs:null,run:function(){var t=this,e=this.itemIDs,i=[];return e.forEach(function(e){i.push({drivewsid:e})}),a.a.post("/retrieveItemDetails",{items:i}).then(function(e){return t._requestDidSucceed(e)}).catch(function(e){return n.g.reject(e)})},_requestDidSucceed:function(e){var t=e.body.items,i={};return t.forEach(function(e){i[e.drivewsid]=e.thumbnail}),i},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailQuery"},__superMap:{_$Cz$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(4),c=(i(0),i(84)),r=i(702),a=n._2.extend({init:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Object.defineProperty(this,"_folders",{value:e}),this.__s._$Fv$init.apply(this,i)},startRun:function(){var o=this,e=this._folders;return r.a.create({folders:e}).run().then(function(e){var t,i,n,r,a,s=(t=[],r=n=0,a=!(i=[]),e&&(e.forEach(function(e){n+=e.sharedToMeFileCount,r+=e.sharedFromMeFileCount,e.items.forEach(function(e){c.a.getItemForValue(e.share)===c.a.TO_ME&&t.push(e.name),c.a.getItemForValue(e.share)===c.a.FROM_ME&&i.push(e.name)})}),a=!0),{sharedToMeCountInFolder:n,sharedByMeCountInFolder:r,sharedToMeNamesInFolder:t,sharedByMeNamesInFolder:i,finished:a});o.finishRunWithSuccess(s)}).catch(function(e){o.finishRunWithFailure(e)})},staticMembers:{__QUALIFIED_CLASS_NAME__:"DetermineSharedDescendantsTask"},__superMap:{_$Fv$init:"init"}})},function(e,t,i){"use strict";i(0),i(706),i(54);var n=i(28);i(53);Array,n.a.EmptyTrashCommitTask},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var u=i(0),s=i(4),d=i(83),h=i(44),p=i(361),n=i(54),l=i(45),f=i(46),r=i(28),a=n.a.extend({type:r.a.UploadItem,destinationFolder:null,nativeFile:null,nativeFileUploadService:null,progress:u._107({readOnly:!0,get:function(){return this._transactionProgress}}),stagedFile:u._107({readOnly:!0,get:function(){return this._stagedFile}}),init:function(e,t,i,n,r,a){this.nativeFileUploadService=e,this.nativeFile=n,this.destinationFolder=r,this.__s._$YL$init.call(this,t,i,a),this._transactionProgress=s.E.create()},shouldAllowCancelDuringCommit:function(){var e=this._nativeFileUploadTask;return!!e&&e.isCancellable},getTransactionItemsForFullRevert:function(){return[this._stagedFile]},didCancel:function(){var e=this._nativeFileUploadTask;e&&e.cancel()},didStartPreparing:function(){this.destinationFolder.prepareForTransaction(this)},didStartStaging:function(){for(var e=this.destinationFolder,t=e.content,i=this.nativeFile,n=p.a.getBaseNameForNativeFile(i),r=2,a=n,s=p.a.getUncompressedExtensionForNativeFile(i);t.hasFileWithNameAndExtension(a,s);)a=n+" "+r,r++;var o=new Date;i&&i.lastModifiedDate?o=i.lastModifiedDate:i&&i.lastModified&&o.setTime(i.lastModified);var c=d.a.create({id:u._125(),name:a,extension:s,type:h.b.FILE,dateModified:o,parentId:this.destinationFolder.id,isUploading:!0,uploadProgress:this._transactionProgress});c.fileSystem=this.fileSystem,this.addTransactionItem(c),this._stagedFile=c;var l=e.content;l.beginChanges(),l.addItem(c),l.endChanges()},run:function(){var a=this;this.__s._$1Ez$run.call(this);var e=this.nativeFile,t=this._stagedFile,i=this.destinationFolder,s=i.zone,n=i.docwsid,r=t.extension,o=t.name+(r?"."+r:"");o=o.replace(/\//g,":");var c=this._nativeFileUploadTask=this._createNativeFileUploadTask({nativeFile:e,destinationZone:s,destinationFolderId:n,fileName:o});c.retain(),this._transactionProgress.addChildProgress(c.progress),this._scheduleNativeFileUploadTask(c).then(function(e){var t=e.document;a._document=t;var i="FILE::"+s+"::"+t.id,n=l.a.create(),r=f.a.create({itemID:i,status:f.a.Status.OK});n.addInfoItem(r),a.completeCommitWithSuccess(n)}).catch(function(e){a.completeCommitWithFailure(e)})},applyChangeForCommitInfoItem:function(e){var t=this._stagedFile,i=this.destinationFolder,n=t.dateModified||new Date;u._79().loadData(d.a,{id:e.itemID,name:t.name,extension:t.extension,etag:this._document.etag,type:h.b.FILE.value,dateModified:n,parentId:i.id,zone:i.zone,docwsid:this._document.id,size:this.nativeFile.size});var r=this.fileSystem.getFileById(e.itemID),a=i.content;a.beginChanges(),a.removeItem(t),a.addItem(r),a.endChanges()},revertChangeForCommitInfoItem:function(e){var t=this._stagedFile,i=this.destinationFolder.content;i.beginChanges(),i.removeItem(t),i.endChanges()},didFinalize:function(){this.destinationFolder.content.finalizeForTransaction(this),this._nativeFileUploadTask.release()},_createNativeFileUploadTask:function(e){return this.nativeFileUploadService.createNativeFileUploadTaskForTransaction(e,this)},_scheduleNativeFileUploadTask:function(e){return this.nativeFileUploadService.scheduleNativeFileUploadTaskForTransaction(e,this)},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileTransaction"},__superMap:{_$YL$init:"init",_$1Ez$run:"run"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(68),r=i(69),a=i(55),s=n.a.extend({errorItemType:a.a.CreateFolderError,errorGroupType:r.a.CreateFolderErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"CreateFolderTransactionErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(68),r=i(69),a=i(55),s=n.a.extend({errorItemType:a.a.DeleteItemError,errorGroupType:r.a.DeletedItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"DeleteItemTransactionErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(203),r=i(721),a=i(204),s=n.a.extend({errorGroupType:r.a.RenameItemErrors,allowsAggregationForErrorItem:function(e){return e.type.group===a.a},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.type===this.errorGroupType},staticMembers:{__QUALIFIED_CLASS_NAME__:"LocalEditValidationErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(68),r=i(69),a=i(55),s=n.a.extend({errorItemType:a.a.MoveItemToAppLibraryError,errorGroupType:r.a.MovedItemToAppLibraryErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemToAppLibraryErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(68),r=i(69),a=i(55),s=n.a.extend({errorItemType:a.a.MoveItemError,errorGroupType:r.a.MovedItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemTransactionErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(68),r=i(69),a=i(55),s=n.a.extend({errorItemType:a.a.PutItemBackFromTrashError,errorGroupType:r.a.PutItemsBackFromTrashErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"PutItemsBackFromTrashErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(68),r=i(69),a=i(55),s=n.a.extend({errorItemType:a.a.RenameItemError,errorGroupType:r.a.RenameItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"RenameItemTransactionErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(68),r=i(69),a=i(55),s=n.a.extend({errorItemType:a.a.UploadItemError,errorGroupType:r.a.UploadItemErrors,staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFileTransactionErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(203),r=i(722),a=i(112),s=n.a.extend({errorGroupType:r.a.UploadValidationErrors,allowsAggregationForErrorItem:function(e){return e.type.group===a.a},errorItemIsValid:function(e){return!!e&&this.allowsAggregationForErrorItem(e)},errorGroupIsValid:function(e){return!!e&&e.get("type")===this.get("errorGroupType")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorAggregator"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(723),r=i(112),a=n.a.extend({_compareErrorItemErrorTypes:function(t,i){return r.a.items.find(function(e){return e===t.type.name||e===i.type.name})===i.type.name?1:-1},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadValidationErrorsFilterForErrorGroupItems"}})},function(e,R,k){"use strict";(function(n){k.d(R,"b",function(){return x}),k.d(R,"a",function(){return P}),k(144);var h=k(0),i=k(8),a=k(4),e=k(691),r=k(713),s=k(725),o=k(143),c=k(83),l=k(696),u=k(36),d=k(701),p=k(145),f=k(147),_=k(44),m=k(726),g=k(715),v=k(716),y=k(717),t=k(727),b=k(728),I=k(729),S=k(718),w=k(364),C=k(719),E=k(703),T=k(730),A=k(733),O=k(365),D=k(712),F=k(28),M=k(734),N=k(735),L=k(146),x=h._67("FileSystemStatus",["Uninitialized","Loading","PollingForMigration","InitializingZone","Ready","Error"]),P=h.v.extend(h._8,{MAX_ITEM_NAME_LENGTH:h._105({readOnly:!0,defaultValue:255}),status:h._105(x.Uninitialized),cloudOSService:h._107({strong:!0}),hostService:h._107({strong:!0}),loggingService:h._107({strong:!0}),environment:h._107({strong:!0}),cloudOSPrefetchProxyFactory:h._107({strong:!0}),config:h._107({strong:!0}),loadRootFolderService:h._107({strong:!0}),uploadFilesService:h._107({strong:!0}),cloudOSPrefetchTimeout:6e5,didFetchFolderContent:h._118(),trashDetailsService:h._105({strong:!0}),isReadyToTerminate:h._105({readOnly:!0,dependencies:["hasActiveTransactions"],get:Object.assign(function(){return!this.hasActiveTransactions},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])}})}),isReadyToTerminateObserver:h._106({inputs:["isReadyToTerminate"],callback:function(e){this.hostService.isReadyToTerminateDidChange(e)}}),_didFetchFolderContentObserver:h._106({inputs:["didFetchFolderContent"],callback:function(e){if(e){var t=e.context,i=t.parentFolder,n=t.content;this._accessRightsAssignmentManager.assignRightsToContent(i,n)}}}),didFinishHandlingTransaction:h._118(),_didFinishHandlingTransactionObserver:h._106({inputs:["didFinishHandlingTransaction"],callback:function(e){if(e){var t=e.context.transaction;this._refreshQuotaDataForTransactionIfNeeded(t)}}}),_accessRightsAssignmentManager:h._85(e.a),migrationPollDuration:3e4,itemsDidSynchronize:h._118(),_outstandingFolderQueries:h._107({defaultValue:h._85(n.Object),strong:!0}),init:function(e,t,i,n){this.loggingService=e,this.hostService=t,this.environment=i,this.__s._$1tb$init.call(this,n),this.config||(this.config=N.a),this.trashDetailsService||(this.trashDetailsService=M.a.create()),this._transactionConflictResolver=D.a.create(this,{delegate:this})},_loadPromise:null,load:function(){var t=this;if(this.status!==x.Uninitialized)return this._loadPromise;this.status=x.Loading;var e=this._loadPromise=h.w.create(),i=this.cloudOSService,n=this.environment;this.uploadFilesService&&(this.uploadFilesService.fileSystem=this);var r=!!this.cloudOSPrefetchProxyFactory;if(r){var a=n.requestedStartupInfo;if(r=!!a,a){var s=n.authBag,o=h._53.create(s.servicesInfo.drivews.url);h._53.create(a.url).hostname!==o.hostname&&(i.setStartupInfo(null),r=!1)}}if(r){var c,l=this.cloudOSPrefetchProxyFactory.createAndCachePrefetchQuery(this);this.fetchFolderContentWithProxy(l),c=this.loadRootFolderService=I.a.create(this),this._loadRootFolderDidComplete(c)}else{var u=A.a.create(this),d=this.loadRootFolderService=m.a.create(this,u);d.load().then(function(e){t._loadRootFolderDidComplete(d)}).catch(function(e){t._changeStateToErrorAndRejectLoadPromise(e)})}return e},_changeStateToReadyAndResolveLoadPromise:function(){this.propertyChanged("driveRootFolder"),this._registerPrefetchWithCloudOSIfNeeded(),this.status=x.Ready,this._loadPromise.resolve()},_changeStateToErrorAndRejectLoadPromise:function(e){this.status=x.Error,this._loadPromise.reject(e)},fetchFolderContentWithProxy:function(e){var t=e.folderID;if(!this._outstandingFolderQueries[t])return this._runFolderContentQuery(e);e.decline(l.a.QueryAlreadyActive)},_loadRootFolderDidComplete:function(){this.loadRootFolderService.rootFolder?this._changeStateToReadyAndResolveLoadPromise():4===this.environment.authBag.user.statusCode?this._initializeZone():this._pollForMigration()},_registerPrefetchWithCloudOSIfNeeded:function(){if(this.cloudOSPrefetchProxyFactory){var e=this.cloudOSService,t=this.environment;if(!t.requestedStartupInfo&&this.loadRootFolderService.detected){var i=t.authBag,n=i.servicesInfo.drivews,r=i.user;n&&r.brMigrated&&e.setStartupInfo({url:n.url+"/retrieveItemDetailsInFolders",method:"post",requestPayload:[{drivewsid:N.a.driveRootFolderId,partialData:!1}],timeout:this.cloudOSPrefetchTimeout})}}},_initializeZone:function(){var t=this;this.status=x.InitializingZone;var e=this.loadRootFolderService,i=s.a.create().retain(n,"Self hold on zoneInitService");e.retain(i,"Zone initialization"),i.run().then(function(){return e.load().then(function(){t._changeStateToReadyAndResolveLoadPromise()})}).catch(function(e){h._100.error("Cannot Create CloudDocs Zone for this account"),t._changeStateToErrorAndRejectLoadPromise(e)}).finally(function(){e.release(i,"Zone initialization"),i.release(n,"Self hold on zoneInitService")})},_pollingService:h._107(),_pollForMigration:function(){this.status=x.PollingForMigration;var e=this.loadRootFolderService,t=this._pollingService=b.a.create(this.migrationPollDuration,e.load.bind(e),function(e){return e.detected});t.retain(n,"Self reference"),e.retain(t,"Polling"),t.start().then(this._changeStateToReadyAndResolveLoadPromise.bind(this)).catch(this._changeStateToErrorAndRejectLoadPromise.bind(this)).finally(function(){e.release(t,"Polling"),t.release(n,"Self reference")})},getMergeStrategy:function(){return t.a},getNewSession:function(e){var t=this.status;return t!==x.Ready&&t!==x.PollingForMigration&&h._75("FileSystem not ready: Failed to create a new session because the file system is not ready."),T.a.create(this,this.driveRootFolder,e)},generateMoveItemsToTrashTransaction:function(e){var t=v.a.create(this,this,e);return this._prepareForTransaction(t),t},generateMoveItemsFromTrashTransaction:function(e,t){var i=g.a.create(this,this,e,t);return this._prepareForTransaction(i),i},generatePutItemsBackFromTrashTransaction:function(e){var t=w.a.create(this,this,e);return this._prepareForTransaction(t),t},generateCreateFolderTransaction:function(e,t){var i=r.a.create(this,this,e,t);return this._prepareForTransaction(i),i},generateRenameItemTransaction:function(e,t){var i=C.a.create(this,this,e,t);return this._prepareForTransaction(i),i},generateMoveItemsTransaction:function(e,t){var i=y.a.create(this,this,e,t);return this._prepareForTransaction(i),i},generateUploadFileTransaction:function(e,t){this._validateUploadFilesService();var i=this.uploadFilesService.generateUploadFileTransaction(e,t);return this._prepareForTransaction(i),i},commitUploadFileTransaction:function(e,t){return this._validateUploadFilesService(),this.uploadFilesService.commitUploadFileTransaction(e)},cancelUploadForFile:function(e){this._validateUploadFilesService(),this.uploadFilesService.cancelUploadForFile(e)},_validateUploadFilesService:function(){this.uploadFilesService||h._75("Filesystem requires an UploadFilesService to perform an upload operation")},fetchRootFolderDetails:function(){return E.a.create(this,{queryMode:E.a.Mode.DetailsOnly}).run()},driveRootFolder:h._105({readOnly:!0,strong:!0,get:function(){var e=null,t=N.a.driveRootFolderId;return t&&(e=this.getFolderById(t)),e}}),trashRootFolder:h._105({readOnly:!0,strong:!0,get:function(){var e=null,t=N.a.trashRootFolderId;if(t&&h._79()&&(e=this.getFolderById(t)),!e){var i={drivewsid:N.a.trashRootFolderId,name:h._99("DriveFS.Default.FolderName.RecentlyDeleted"),type:_.b.FOLDER.value,parentId:N.a.driveRootFolderId};t=Object(L.a)(i,this.loggingService),e=this.getFolderById(t)}return e}}),getFolderById:function(e){var t=u.a.find(e);return t&&(t.fileSystem=this),t},getFileById:function(e){var t=c.a.find(e);return t&&(t.fileSystem=this),t},getItemById:function(e){return this.getFileById(e)||this.getFolderById(e)},getItemsByIds:function(e){if(e){for(var t=e.length,i=new Array(t),n=0;n<t;n++)i[n]=this.getItemById(e[n]);return i}},refreshQuotaData:function(){this.hostService.refreshQuotaData()},quotaData:h._105(h._64("environment.quotaData")),_refreshQuotaDataForTransactionIfNeeded:function(e){if(e.commitInfo.hasCommittedItems)switch(e.type){case F.a.UploadItem:case F.a.DeleteItems:case F.a.PurgeRecentlyDeletedItems:case F.a.MoveItemsToTrash:case F.a.PutItemsBackFromTrash:case F.a.MoveItemsFromTrash:this.refreshQuotaData()}},fetchFolderContent:function(e){var t=e.folder.id,i=this._outstandingFolderQueries[t];if(i)return i;var n=p.a.create(this,t,{includeHierarchy:!0});return this._runFolderContentQuery(n)},fetchFolderContentChangeSet:function(e){var n=this,r=e.folder,t=r.id;return d.a.create(t,this,{folderIsInTrash:r.isInTrash,includeHierarchy:!0}).run().then(function(e){n._synchronizeAncestorFolderHierarchy(e.folderInfo,e.hierarchy);var t=e.changes;if(t.hasItems){var i=t.map(function(e){return e.value});n.didFetchFolderContent({fileSystem:n,parentFolder:r,content:i})}return{changes:t}})},_runFolderContentQuery:function(e){var n=this,r=e.folderID,t=e.run().then(function(e){n._outstandingFolderQueries[r]=null,n._synchronizeAncestorFolderHierarchy(e.folderInfo,e.hierarchy);var t=e.folderInfo.id,i=n.getFolderById(t);return n.didFetchFolderContent({fileSystem:n,parentFolder:i,content:e.items}),{items:e.items}}).catch(function(e){var t=n.hostService;return e.type===o.a.PCSMissing?t.exit(i.f,h._100.stringifyRecordedLogMessages()):e.type===o.a.PCSInvalid&&t.exit(i.e,h._100.stringifyRecordedLogMessages()),n._outstandingFolderQueries[r]=null,a.g.reject(e)});return this._outstandingFolderQueries[r]=t},_synchronizeAncestorFolderHierarchy:function(e,t){var i=void 0;e.isDeleted?i=this.getFolderById(e.id).path.map(function(e){return{id:e.id}}):(i=t?t.slice():[]).push({id:e.id,etag:e.etag}),this._synchronizeItems(i)},_synchronizeItems:function(n){var t=this;if(n&&0!==n.length){var e=n.map(function(e){return e.id||e.drivewsid}),r=[];if(this.getItemsByIds(e).forEach(function(e,t){var i=n[t];e?i.etag&&i.etag===e.etag||r.push(e.toJSON()):r.push({id:i.drivewsid||i.id})}),0!==r.length){var i=r.map(function(e){return e.id});f.a.create(this,i).run().then(function(e){t._completeSynchronizingItems(r,e)}).catch(function(e){t.loggingService.recordStat("Error synchronizing items",{class:"FileSystem",errorMessage:e.message,stack:e.stack})})}}},_completeSynchronizingItems:function(e,n){var r=this;e.forEach(function(e){for(var t=0;t<n.length;t++){var i=n[t];if(e.id===i.id){r._completeSynchronizingItem(e,i);break}}}),this.itemsDidSynchronize(n)},_completeSynchronizingItem:function(e,t){if(!e.isDeleted&&t.isDeleted)this.destroyItem(t);else if(e.parentId!==t.parentId){var i=this.getFolderById(e.parentId),n=this.getFolderById(t.parentId);this._moveLocalItem(t,i,n)}},destroyItem:function(e){if(e.isFolder||e.isAppLibrary){var t=e.content;t.beginChanges();for(var i=t.length-1;0<=i;i--){var n=t.getItemAtIndex(i);this.destroyItem(n)}t.endChanges()}var r=e.parent;r&&r.content.removeItem(e),e.destroy()},_moveLocalItem:function(e,t,i){t&&t.content.removeItem(e),i&&i.content.addItem(e)},_activeTransactions:h._105(h._85(h._48)),hasActiveTransactions:h._105({dependencies:["_activeTransactions","_activeTransactions.contentsDidChange"],readOnly:!0,get:Object.assign(function(){return!!this._activeTransactions.length},{__CW__getter:function(e,t,i,n){return!!n.internalGet(this,t[0+i]).length}})}),_prepareForTransaction:function(e){e.prepare(),this._activeTransactions.push(e)},transactionDidBeginFinalizing:function(e){},transactionDidFinalize:function(e){h._110(e,this._activeTransactions),this.didFinishHandlingTransaction({fileSystem:this,transaction:e})},transactionResolveConflictForItem:function(e,t){this._transactionConflictResolver.resolveTransactionConflictForItem(e,t)},transactionConflictResolverDidDeleteItem:function(e,t){},_stagedItems:h._85(n.Set),registerItemAsStaged:function(e){e.retain(this,"Staged item"),this._stagedItems.add(e)},unregisterItemAsStaged:function(e){this._stagedItems.delete(e)&&e.release(this,"Staged item")},itemIsStaged:function(e){return this._stagedItems.has(e)},generateTombstoneItemsTransaction:function(e){var t=O.a.create(this,this,e);return this._prepareForTransaction(t),t},generatePurgeRecentlyDeletedItemsTransaction:function(e){var t=S.a.create(this,this,e);return this._prepareForTransaction(t),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"FileSystem"},__superMap:{_$1tb$init:"init"}})}).call(R,k(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(0),r=(i(4),i(737)),a=i(690),s={mixinDependencies:[n._26],createNativeFileUploadTaskForTransaction:n._31.define(),scheduleNativeFileUploadTaskForTransaction:n._31.define()},o=n.v.extend(s,{init:function(e,t,i,n){this.__s._$KU$init.call(this,n),this.nativeFileUploadTaskService=e,this.loggingService=t,this.hostService=i},nativeFileUploadTaskService:n._107({strong:!0}),loggingService:n._107({strong:!0}),hostService:n._107({strong:!0}),createNativeFileUploadTaskForTransaction:function(e,t){return r.a.create(this.nativeFileUploadTaskService,this.loggingService,this.hostService,e)},scheduleNativeFileUploadTaskForTransaction:function(e,t){return a.a.scheduleTask(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadService"},__superMap:{_$KU$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(0),r=i(738),a=i(741),s=i(739),o=i(740),c=i(53),l=i(206),u=i(148),d=i(111),h=n.v.extend(a.a,{createPrepareSubtaskForNativeFileUploadTask:function(e){return s.a.create(e.hostService)},createTransferSubtaskForNativeFileUploadTask:function(e){return o.a.create()},createCompleteSubtaskForNativeFileUploadTask:function(e){return r.a.create()},validateCompleteSubtaskForNativeFileUploadTask:function(e){var t=e.nativeFile;return!!l.a.fileIsPackage(t)||!!e.transferCommitInfo.singleFile.size},schedulePrepareSubtaskForNativeFileUploadTask:function(e,t){return c.a.scheduleTask(e)},scheduleTransferSubtaskForNativeFileUploadTask:function(e,t){return e.run()},scheduleCompleteSubtaskForNativeFileUploadTask:function(e,t){return c.a.scheduleTask(e)},createDefaultNativeFileUploadError:function(){return u.a.create({type:d.a.FatalError,status:0,message:"Cannot complete native file upload. Request failed."})},staticMembers:{__QUALIFIED_CLASS_NAME__:"NativeFileUploadTaskService"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(742),a=n.v.extend({_prefetchQuery:n._107({strong:!0}),getCachedPrefetchQuery:function(){return this._prefetchQuery},disposeCachedPrefetchQuery:function(){this._prefetchQuery=null},createAndCachePrefetchQuery:function(e){return this._prefetchQuery=r.a.create(e),this._prefetchQuery},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootFolderPrefetchProxyFactory"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=(i(4),{mixinDependencies:[n._26],exit:n._31.define(),getValidateToken:n._31.define(),getConformingTypes:n._31.define(),refreshQuotaData:n._31.define(),isReadyToTerminateDidChange:n._31.define()}),a=n.v.extend(r,{cloudOSService:n._107({strong:!0}),init:function(e){this.__s._$BV$init.call(this),this.cloudOSService=e},exit:function(e,t){return this.cloudOSService.exit(e,t)},getValidateToken:function(){return this.cloudOSService.getValidateToken()},getConformingTypes:function(e){return this.cloudOSService.getConformingTypes(e)},refreshQuotaData:function(){return this.cloudOSService.refreshQuotaData()},isReadyToTerminateDidChange:function(e){return this.cloudOSService.isReadyToTerminateDidChange(e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ICloudDriveHostService"},__superMap:{_$BV$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=(i(4),{mixinDependencies:[n._26],recordStat:n._31.define()}),a=n.v.extend(r,{cloudOSService:n._107({strong:!0}),init:function(e){this.__s._$8J$init.call(this),this.cloudOSService=e},recordStat:function(e,t){return this.cloudOSService.recordStat(e,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ICloudDriveLoggingService"},__superMap:{_$8J$init:"init"}})},function(e,i,n){"use strict";(function(s){n.d(i,"a",function(){return t});var e=n(0),r=(n(4),n(36)),a=e._67("DOMHistoryService.ActivationState",["Inactive","Active"]),t=e.v.extend(e._8,{_activationState:e._105(a.Inactive),session:e._105(),fileSystem:e._105(e._64("session.fileSystem")),isActive:e._105({dependencies:["_activationState"],readOnly:!0,get:Object.assign(function(){return this._activationState===a.Active},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])===a.Active}})}),hasHistory:e._107({readOnly:!0,get:function(){return!!s.history.state}}),init:function(e,t){this.session=e,this.__s._$Oz$init.call(this,t),this._activationState=a.Inactive},activate:function(){this.isActive||(this._activationState=a.Active,this._setupHistoryStateMonitoring())},deactivate:function(){this.isActive&&(this._activationState=a.Inactive,this._teardownHistoryStateMonitoring())},_createHistoryStateForFolder:function(e){var t=!!e.isInTrash,i=e.path.map(function(e){return{id:e.id,name:e.name,etag:e.etag}});if(e.path[0].isTrashRoot){var n=this.fileSystem.driveRootFolder;i.unshift({id:n.id,name:n.name,etag:n.etag})}return{folderId:e.id,path:i,root:r.a.isARootFolder(e.id,this.fileSystem),isInTrash:t}},_currentWorkingDirectoryObserver:e._106({inputs:["session.currentWorkingDirectory"],callback:function(e){if(e){var t=this._createHistoryStateForFolder(e),i=s.history.state;if(i&&i.folderId===t.folderId){var n=t.path,r=i.path,a=!0;if(r.length===n.length&&(a=!!n.find(function(e,t){var i=r[t];return e.id!==i.id})),!a)return;s.history.replaceState(t,e.name,"")}else s.history.pushState(t,e.name,"")}}}),_setupHistoryStateMonitoring:function(){this._historyStatePopObserver=e._126(this._historyDidPopState.bind(this)),e._61(s,"popstate",this._historyStatePopObserver)},_teardownHistoryStateMonitoring:function(){e._109(s,"popstate",this._historyStatePopObserver),this._historyStatePopObserver=null},_historyDidPopState:function(e){var t=s.history.state;null===t?this.session.changeDirectory(this.session.driveRootFolder):this.session.changeDirectory(this._getFolderForHistoryState(t))},_getFolderForHistoryState:function(e){var t=null;return e&&(t=e.root?e.isInTrash?this.session.trashRootFolder:this.session.driveRootFolder:this.fileSystem.getFolderById(e.folderId)),t},_getParentFolderForHistoryState:function(e){var t=null,i=e.path,n=i.length;if(e&&i&&1<n){var r=i[n-2].id;t=this.fileSystem.getFolderById(r)}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"DOMHistoryService"},__superMap:{_$Oz$init:"init"}})}).call(i,n(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(4),a="IMAGE_WORKER",s=n.v.extend({numberOfDownloadImageTasks:n._107(4),scheduler:n._107({get:function(){return this._scheduler}}),init:function(e){var t=arguments;this.__s._$AQ$init.apply(this,t),this._scheduler=this.loadTaskScheduler(),this._currentTasksList={}},loadTaskScheduler:function(){return r._3.create({trace:!1,traceId:"downloadImageTaskController",allowedMaximumRunningTasks:this.numberOfDownloadImageTasks})},downloadImageForURL:function(t,e){var i=this,n=c.create({url:e,identifier:t});return this._addTaskToCurrentTasksList(t,n),this._scheduler.scheduleTask(n).then(function(e){return i._removeTaskFromCurrentTasksList(t),e})},enqueueWorker:function(e){o.enqueueWorker(e)},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},cancelTask:function(e){var t=this._currentTasksList[e];t&&t.isCancellable&&(t.cancel(),this._removeTaskFromCurrentTasksList(e))},_addTaskToCurrentTasksList:function(e,t){this._currentTasksList[e]=t},_removeTaskFromCurrentTasksList:function(e){delete this._currentTasksList[e]},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadImageService"},__superMap:{_$AQ$init:"init"}}),o=n.v.extend({init:function(e){var t=arguments;this.__s._$g_$init.apply(this,t),this._pool=r.I.create()},dequeueWorker:function(){return this._pool.dequeueItemForKeyIdentifier(a)||null},enqueueWorker:function(e){this._pool.queueItemForKeyIdentifier(e,a)},__superMap:{_$g_$init:"init"}}).create(),c=r._2.extend({url:null,identifier:null,startRun:function(){var i=this;r._4.setTimeout(function(){var t=o.dequeueWorker();t||((t=new Image).crossOrigin="https://cvws.icloud-content.com"),t.onload=function(){var e={success:!0,downloadImageWorker:t};i.finishRunWithSuccess(e)},t.onerror=function(e){o.enqueueWorker(t),i.finishRunWithFailure({success:!1})},t.src=i.url})},_getImageDataFromCanvas:function(e){var t=document.createElement("canvas");t.height=e.height,t.width=e.width;var i=t.getContext("2d");return i.drawImage(e,0,0,e.width,e.height),i.getImageData(0,0,e.width,e.height)},shouldAllowCancel:function(){return!this.get("isRunning")},cancel:function(){this.__s._$1H4$cancel.call(this),this.finishCancellingRun()},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadImageTask"},__superMap:{_$1H4$cancel:"cancel"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var o=i(0),n=i(207),r=i(4),a=n.a.extend({loggingService:null,init:function(e,t,i){Object.defineProperty(this,"_service",{value:t,writable:!0}),this.loggingService=i;var n=o.j.sharedInstance;o._97.isDownloadAttributeSupported&&n.isChrome&&n.majorVersion<65&&(this._service=e);for(var r=arguments.length,a=Array(3<r?r-3:0),s=3;s<r;s++)a[s-3]=arguments[s];this.__s._$Vg$init.apply(this,a)},downloadFromURL:function(e){var t=r.g.create();return this.loggingService.recordStat("File Download",{size:e.size}),this._service.downloadFromURL(e),t},downloadFromURLs:function(e){var t=this.loggingService;e.forEach(function(e){t.recordStat("File Download",{size:e.size})}),this._service.downloadFromURLs(e)},busy:o._64("_service.busy"),_completedFetchDownloadURLsPassThrough:o._98({inputs:["_service.completedFetchDownloadURLs"],callback:function(){this.completedFetchDownloadURLs()}}),_failedFetchDownloadURLsPassThrough:o._98({inputs:["_service.failedFetchDownloadURLs"],callback:function(){this.failedFetchDownloadURLs()}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadService"},__superMap:{_$Vg$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var a=i(4),s=i(0),n=i(207),r=Math.floor(50),o=n.a.extend({init:function(e,t){this.itemURLService=e,this.__s._$Un$init.call(this,t)},mixinDependencies:[s._8],itemURLService:null,_downloadURLsProcessed:0,_fileQueue:s._85(Array),downloadFromURL:function(e){var t=[];return t.push(e),this.downloadFromURLs(t)},downloadFromURLs:function(e){this._fileQueue&&this._downloadURLsProcessed&&this._processDownloadQueueIndex||(this._fileQueue=[],this._downloadURLsProcessed=0,this._processDownloadQueueIndex=0);var t=this._fileQueue;return e.forEach(function(e){t.push(e)}),this._processDownloadQueue()},_processDownloadQueue:function(){var t=this;this.busy=!0;var e=this._fileQueue[this._processDownloadQueueIndex],i=0;this._processDownloadQueueIndex<r&&(i=1e3),a._4.setTimeout(function(){c.downloadIFrameForItem(e,t.itemURLService).then(function(){t._incrementDownloadURLsProcessed()}).catch(function(e){t._errorFetchingDownloadURL(e),t._incrementDownloadURLsProcessed()}),t._processDownloadQueueIndex++,t._processDownloadQueueIndex<t._fileQueue.length?t._processDownloadQueue():t.busy=!1},i)},_incrementDownloadURLsProcessed:function(){this._downloadURLsProcessed++,this._downloadURLsProcessed===this._fileQueue.length&&(this.completedFetchDownloadURLs(),d.removeAllPooledIFrames(),this._downloadURLsProcessed=0,this._processDownloadQueueIndex=0)},_errorFetchingDownloadURL:function(e){this.failedFetchDownloadURLs()},staticMembers:{__QUALIFIED_CLASS_NAME__:"IFrameDownloadService"},__superMap:{_$Un$init:"init"}}),c=s.v.extend({scheduler:s._107({get:function(){return this._scheduler}}),init:function(e){var t=arguments;this.__s._$1Ca$init.apply(this,t),this._scheduler=this.loadTaskScheduler()},loadTaskScheduler:function(){return a._3.create({trace:!1,traceId:"downloadIFrameTaskController",allowedMaximumRunningTasks:r})},downloadIFrameForItem:function(e,t){var i=l.create({item:e,itemURLService:t});return this._scheduler.scheduleTask(i)},__superMap:{_$1Ca$init:"init"}}).create(),l=a._2.extend({item:null,itemURLService:null,startRun:function(){var n=this;this.itemURLService.getURLForItem(this.item).then(function(e){var t=e.url,i=e.item;t?n._createIFrameForItem(i,t,5e4).then(function(){n.finishRunWithSuccess()}):n.finishRunWithFailure(i)}).catch(function(e){n.finishRunWithFailure(e)})},_createIFrameForItem:function(t,i,n){var r=a.g.create();return s._116(function(){var e=d.dequeueIFrame();document.body.appendChild(e),e.id=t.id,e.src=i,s._116(function(){e.parentNode.removeChild(e),e.id=null,e.src=null,d.enqueueIFrame(e),r.resolve()},n)}),r},staticMembers:{__QUALIFIED_CLASS_NAME__:"downloadIFrameTask"}}),u="DOWNLOAD_IFRAME_IDENTIFIER",d=s.v.extend({init:function(e){var t=arguments;this.__s._$1uy$init.apply(this,t),this._pool=a.I.create()},dequeueIFrame:function(){var e=this._pool.dequeueItemForKeyIdentifier(u);return e||((e=document.createElement("iframe")).style.display="none",e)},enqueueIFrame:function(e){this._pool.queueItemForKeyIdentifier(e,u)},removeAllPooledIFrames:function(){this._pool.clearAllItems()},__superMap:{_$1uy$init:"init"}}).create()},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=(i(4),i(207).a.extend({init:function(e,t){this.itemURLService=e,this.__s._$9M$init.call(this,t)},mixinDependencies:[n._8],itemURLService:null,_downloadURLsProcessed:0,_fileQueue:n._85(Array),downloadFromURL:function(e){var t=[];return t.push(e),this.downloadFromURLs(t)},downloadFromURLs:function(e){var t=this._fileQueue=[];return this._downloadURLsProcessed=0,e.forEach(function(e){t.push(e)}),this._processDownloadQueue()},_processDownloadQueue:function(){var a=this;this.busy=!0;for(var e=this._fileQueue,t=0;t<e.length;t++){var i=e[t];this.itemURLService.getURLForItem(i).then(function(e){var t=e.url,i=e.item;if(a._incrementDownloadURLsProcessed(),t)if(document.createEvent){var n=document.createElement("a");n.href=t,n.download="";var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}else a._errorFetchingDownloadURL(i);else a._errorFetchingDownloadURL(i)}).catch(function(e){a._incrementDownloadURLsProcessed(),a._errorFetchingDownloadURL(e)})}},_incrementDownloadURLsProcessed:function(){this._downloadURLsProcessed++,this._downloadURLsProcessed===this._fileQueue.length&&(this.completedFetchDownloadURLs(),this.busy=!1)},_errorFetchingDownloadURL:function(e){this.failedFetchDownloadURLs()},staticMembers:{__QUALIFIED_CLASS_NAME__:"LinkDownloadService"},__superMap:{_$9M$init:"init"}}))},function(e,t,i){"use strict";(function(c){i.d(t,"a",function(){return e}),i(144);var u=i(1337),d=i(0),h=i(840),p=i(84),n=i(147),f=c.CloudKit.CKError.ZONE_NOT_FOUND,_=c.CloudKit.CKError.NOT_FOUND,e=d.v.extend({delegate:null,item:null,fileSystem:null,refreshingItemPromise:null,launchSharingUI:function(){var n=this.item,e=d._99("DriveFS.RootFolderName"),t=n.ckRecordHash,i=n.fullName,r=n.share||p.a.FROM_ME,a=n.zoneIDHash,s="iclouddrive",o=h.a.getDetailsForFileExtension(n.extension);o&&(s=o.shareUrlNamespace);var c={provideRootRecordForUpdate:this.provideRootRecordForUpdate.bind(this),provideLatestRootRecordAfterUpdateConflict:this.provideLatestRootRecordAfterUpdateConflict.bind(this),didUpdateRootRecord:this.didUpdateRootRecord.bind(this),didUpdateShareRecord:this.didUpdateShareRecord.bind(this)},l=this._createShareSettings(e,s,i,r,c);return(n.share?u.c.manageShare(l.container,l.dbScope,a,t,l.settings):u.c.initiateShare(l.container,l.dbScope,a,t,l.settings)).catch(function(e){var t=u.d(e),i=t===f||t===_;throw{isSharedToMeUnshared:n.share===p.a.TO_ME&&i}})},_createShareSettings:function(e,t,i,n,r){var a={shareUrlNamespace:t,appName:e,supportedAccess:[u.a.PRIVATE,u.a.PUBLIC],supportedPermissions:[u.b.READ_WRITE,u.b.READ_ONLY],shareTitle:i,shareUrlDescription:i};r&&(a.provideRootRecordForUpdate=r.provideRootRecordForUpdate,a.provideLatestRootRecordAfterUpdateConflict=r.provideLatestRootRecordAfterUpdateConflict,a.didUpdateRootRecord=r.didUpdateRootRecord,a.didUpdateShareRecord=r.didUpdateShareRecord);var s=c.CloudKit.getDefaultContainer(),o=c.CloudKit.DatabaseScope;return{container:s,dbScope:n===p.a.FROM_ME?o.PRIVATE:o.SHARED,settings:a}},_shareWasDeleted:function(e){var t=!1;if(e.deleted)t=!0;else if(e.publicPermission===u.b.NONE){var i=e.participants;i&&1===i.length&&(t="OWNER"===i[0].type)}return t},_shareWasAdded:function(e,t){return e.share&&!t.share},_refreshItemFromServer:function(e,t){var i=d.w.create();return n.a.create(e,[t]).run().then(function(e){var t=null;e&&0<e.length&&(t=e[0].ckRecordHash),i.resolve(t)}).catch(function(e){i.reject(e)}),i},_notifyDelegateIfAppropriate:function(e,t){var i=this.delegate;if(i){var n=i[e];n&&n.call(i,this,t)}},provideRootRecordForUpdate:function(e){return this.refreshingItemPromise?this.refreshingItemPromise:d.w.resolve(this.item.ckRecordHash)},provideLatestRootRecordAfterUpdateConflict:function(e){return this._refreshItemFromServer(this.fileSystem,this.item.id)},didUpdateRootRecord:function(e){var t=this,i=this.item;return e&&!e.deleted?(i.shortGUID||(i.shortGUID=e.shortGUID),i.ckContentRecordTag=e.recordChangeTag):this.refreshingItemPromise=this._refreshItemFromServer(this.fileSystem,i.id).finally(function(){t.refreshingItemPromise=null}),d.w.resolve()},didUpdateShareRecord:function(e){var t=this.item;return this._shareWasDeleted(e)?(this._notifyDelegateIfAppropriate("willRemoveShareFromItem",t),t.share=null,this._notifyDelegateIfAppropriate("didRemoveShareFromItem",t)):this._shareWasAdded(e,t)&&(this._notifyDelegateIfAppropriate("willAddShareToItem",t),t.share=p.a.FROM_ME,this._notifyDelegateIfAppropriate("didAddShareToItem",t)),d.w.resolve()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemSharingService"}})}).call(t,i(5))},function(e,t,i){"use strict";i(1338),i(1339),i(1350),i(209);var n=i(47);i.d(t,"a",function(){return n.a}),i(208),i(376);var r=i(29);i.d(t,"b",function(){return r.a}),i(765),i(85),i(766),i(1351),i(767),i(768),i(210),i(771),i(70),i(772),i(151),i(773),i(774),i(377),i(378),i(211),i(775),i(776),i(373),i(777),i(764),i(375),i(372),i(762),i(763),i(371);var a=i(1352);i.d(t,"c",function(){return a.a}),i(1388),i(1389),i(834),i(394),i(835),i(836),i(815),i(149),i(1390),i(816),i(1391),i(769),i(839),i(827),i(808),i(393),i(828),i(389),i(770),i(837),i(115),i(150),i(114);var s=i(390);i.d(t,"d",function(){return s.a}),i(374),i(838),i(379),i(212),i(380),i(779),i(807),i(806),i(818),i(817),i(819),i(820),i(395),i(381),i(821),i(824),i(829),i(831),i(822),i(396),i(825),i(830),i(832),i(833),i(826),i(153),i(391),i(813),i(809),i(218),i(219),i(217),i(392),i(811),i(810),i(388),i(812),i(382),i(814)},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"CKSharing.UnexpectedTerminationMessage":"An unexpected error occurred.","CKSharing.Busy.LoadingParticipants.Description":"Loading","CKSharing.Busy.Loading.Description":"Loading","CKSharing.Dialog.Button.OK":"OK","CKSharing.Dialog.Button.Continue":"Continue","CKSharing.Dialog.Button.Cancel":"Cancel","CKSharing.Dialog.Button.Done":"Done","CKSharing.ErrorDialog.ACCESS_DENIED.Message":"Your request couldnt be completed.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.CloudKit":"This account has restrictions on the people you can share with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Keynote":"This account has restrictions on the people you can share presentations with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Notes":"This account has restrictions on the people you can share notes with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Numbers":"This account has restrictions on the people you can share spreadsheets with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Pages":"This account has restrictions on the people you can share documents with.","CKSharing.ErrorDialog.ACCESS_DENIED.Description.Drive":"This account has restrictions on the people you can share files with.","CKSharing.ErrorDialog.AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED.Message":"Cannot send message.","CKSharing.ErrorDialog.AddingParticipants.MAIL_ADD_PARTICIPANTS_FAILED.Description":"One or more participants cannot be invited because of an error.","CKSharing.ErrorDialog.DESTROY.Message":"Sharing couldnt be stopped.","CKSharing.ErrorDialog.UPDATE.Message":"Share options couldnt be changed.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_EMAIL.TO_PERSON.Message":"Your invitation couldnt be sent.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_EMAIL.TO_PEOPLE.Message":"Your invitations couldnt be sent.","CKSharing.ErrorDialog.INVITE_TO_PRIVATE.VIA_UNKNOWN.Message":"People couldnt be added.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.CloudKit":"This cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Keynote":"This presentation cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Notes":"This note cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Numbers":"This spreadsheet cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Pages":"This document cant be shared right now.","CKSharing.ErrorDialog.INVITE_TO_PUBLIC.Message.Drive":"This file cant be shared right now.","CKSharing.ErrorDialog.SEND_LINK.Message.CloudKit":"The link cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Keynote":"The link to this presentation cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Notes":"The link to this note cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Numbers":"The link to this spreadsheet cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Pages":"The link to this document cant be sent right now.","CKSharing.ErrorDialog.SEND_LINK.Message.Drive":"The link to this file cant be sent right now.","CKSharing.ErrorDialog.CONFLICT.Description":"Changes were made on another device. Please try again.","CKSharing.ErrorDialog.UNKNOWN_ERROR.Description":"There may be a problem with the server. Please try again later.","CKSharing.ErrorDialog.TOO_MANY_INVITEES.Message":"Youve reached the maximum number of invites.","CKSharing.ErrorDialog.TOO_MANY_INVITEES.Description":"New invitations cant be sent. Reduce the number of people youre inviting or have previously invited, then try again.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF.Message":"You cant share to your own iCloud email address.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF.Description":"Enter other peoples email addresses or phone numbers, then try again.","CKSharing.ErrorDialog.ADDED_ONLY_YOURSELF_EMAIL.Description":"Enter other peoples email addresses, then try again.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.Message":"%{value} is not a valid email address or phone number.","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.OVER_SIZE.Ellipsis":"","CKSharing.ErrorDialog.ValidateTokens.ONE_INVALID_TOKEN.Description":"Please enter a valid email address or phone number, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.SOME_INVALID_TOKENS.Message":"Some email addresses or phone numbers you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.SOME_INVALID_TOKENS.Description":"Please enter valid email addresses or phone numbers, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.ALL_INVALID_TOKENS.Message":"The email addresses or phone numbers you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.ALL_INVALID_TOKENS.Description":"Please enter valid email addresses or phone numbers, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.ONE_INVALID_TOKEN.Message":"%{value} is not a valid email address.","CKSharing.ErrorDialog.ValidateTokens.Email.ONE_INVALID_TOKEN.Description":"Please enter a valid email address, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.SOME_INVALID_TOKENS.Message":"Some email addresses you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.Email.SOME_INVALID_TOKENS.Description":"Please enter valid email addresses, then try sharing again.","CKSharing.ErrorDialog.ValidateTokens.Email.ALL_INVALID_TOKENS.Message":"The email addresses you entered are not valid.","CKSharing.ErrorDialog.ValidateTokens.Email.ALL_INVALID_TOKENS.Description":"Please enter valid email addresses, then try sharing again.","CKSharing.ErrorDialog.OKButton.Title":"OK","CKSharing.ErrorDialog.MailComposer.LoadTimeout.Message":"Cannot open iCloud Mail.","CKSharing.ErrorDialog.MailComposer.LoadTimeout.Description":"There may be a problem with the server. Please try again later.","CKSharing.ConfirmationDialog.PublicToPrivate.Message":"Change to invite only?","CKSharing.ConfirmationDialog.PublicToPrivate.Description.CloudKit.WithTitle":"Only you will have access to %{shareTitle} until you invite people.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.CloudKit.WithoutTitle":"Only you will have access until you invite people.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Drive":"Everyone will be removed from this file and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Pages":"Everyone will be removed from this document and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Keynote":"Everyone will be removed from this presentation and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.PublicToPrivate.Description.Numbers":"Everyone will be removed from this spreadsheet and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Message.CloudKit":"Stop sharing?","CKSharing.ConfirmationDialog.StopSharing.Message.Drive":"Stop sharing this file?","CKSharing.ConfirmationDialog.StopSharing.Message.Pages":"Stop sharing this document?","CKSharing.ConfirmationDialog.StopSharing.Message.Keynote":"Stop sharing this presentation?","CKSharing.ConfirmationDialog.StopSharing.Message.Numbers":"Stop sharing this spreadsheet?","CKSharing.ConfirmationDialog.StopSharing.Message.Notes":"Stop sharing this note?","CKSharing.ConfirmationDialog.StopSharing.Description.CloudKit.WithTitle":"If you stop sharing, other people will no longer have access to %{shareTitle}.","CKSharing.ConfirmationDialog.StopSharing.Description.CloudKit.WithoutTitle":"If you stop sharing, other people will no longer have access.","CKSharing.ConfirmationDialog.StopSharing.Description.Drive":"If you stop sharing, other people will no longer have access to this file and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Pages":"If you stop sharing, other people will no longer have access to this document and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Keynote":"If you stop sharing, other people will no longer have access to this presentation and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Numbers":"If you stop sharing, other people will no longer have access to this spreadsheet and it will be deleted from iCloudDrive on all of their devices.","CKSharing.ConfirmationDialog.StopSharing.Description.Notes":"If you stop sharing, other people will no longer have access to this note and it will be deleted on all of their devices.","CKSharing.ConfirmationDialog.RemoveYourself.Message.CloudKit":"Are you sure you want to remove yourself?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Drive":"Are you sure you want to remove yourself from this shared file?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Pages":"Are you sure you want to remove yourself from this shared document?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Keynote":"Are you sure you want to remove yourself from this shared presentation?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Numbers":"Are you sure you want to remove yourself from this shared spreadsheet?","CKSharing.ConfirmationDialog.RemoveYourself.Message.Notes":"Are you sure you want to remove yourself from this shared note?","CKSharing.ConfirmationDialog.RemoveYourself.Description.CloudKit.WithTitle":"This will remove you from %{shareTitle}.","CKSharing.ConfirmationDialog.RemoveYourself.Description.CloudKit.WithoutTitle":"You will no longer have access.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Drive":"Removing yourself from this shared file will delete the document from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Pages":"Removing yourself from this shared document will delete the document from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Keynote":"Removing yourself from this shared presentation will delete the presentation from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Numbers":"Removing yourself from this shared spreadsheet will delete the spreadsheet from iCloudDrive on all your devices.","CKSharing.ConfirmationDialog.RemoveYourself.Description.Notes":"Removing yourself from this shared note will delete the note from all your devices.","CKSharing.ConfirmationDialog.RemoveFinalParticipant.Message":"Are you sure you want to remove %{name}?","CKSharing.ConfirmationDialog.RemoveFinalParticipant.Description":"Removing the only invited participant will stop sharing.","CKSharing.SummaryText.OwnerAdmin.Private.RW.WOption":"Only people you invite can make changes","CKSharing.SummaryText.OwnerAdmin.Private.RO.WOption":"Only people you invite can view","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.WOption":"Only people you invite can open","CKSharing.SummaryText.OwnerAdmin.Private.RW.NoOption":"People you invite can make changes.","CKSharing.SummaryText.OwnerAdmin.Private.RO.NoOption":"People you invite can view.","CKSharing.SummaryText.OwnerAdmin.Private.Mixed.NoOption":"People you invite can open.","CKSharing.SummaryText.OwnerAdmin.Public.RW.WOption":"Anyone with the link can make changes","CKSharing.SummaryText.OwnerAdmin.Public.RO.WOption":"Anyone with the link can view","CKSharing.SummaryText.OwnerAdmin.Public.RW.NoOption":"Anyone with the link can make changes.","CKSharing.SummaryText.OwnerAdmin.Public.RO.NoOption":"Anyone with the link can view.","CKSharing.SummaryText.Participant.Private.RW":"Only %{ownerName} can invite people.","CKSharing.SummaryText.Participant.Private.RO":"Only %{ownerName} can invite people.","CKSharing.SummaryText.Participant.Private.Mixed":"Only %{ownerName} can invite people.","CKSharing.SummaryText.Participant.Public.RW":"Anyone with the link can make changes.","CKSharing.SummaryText.Participant.Public.RO":"Anyone with the link can view.","CKSharing.PermissionsCombo.AllowEditing":"Can make changes","CKSharing.PermissionsCombo.ViewOnly":"View only","CKSharing.PermissionsCombo.Mixed":"Mixed","CKSharing.ManageShare.Title":"People","CKSharing.ManageShare.Button.AddPeople":"Add People","CKSharing.ManageShare.Button.SendLink":"Send Link","CKSharing.ManageShare.Button.CopyLink":"Copy Link","CKSharing.ManageShare.Button.ShareOptions":"Share Options","CKSharing.ManageShare.Button.Close":"Done","CKSharing.ManageShare.Button.StopSharing":"Stop Sharing","CKSharing.ManageShare.List.Label.Owner":" (Owner)","CKSharing.ManageShare.List.Label.Me":" (Me)","CKSharing.ManageShare.ParticipantSettings.ShowContactCard":"Show Contact Card","CKSharing.ManageShare.ParticipantSettings.CopyEmail":"Copy Email","CKSharing.ManageShare.ParticipantSettings.CopyPhoneNumber":"Copy Phone Number","CKSharing.ManageShare.ParticipantSettings.CanEdit":"Can Make Changes","CKSharing.ManageShare.ParticipantSettings.ViewOnly":"View Only","CKSharing.ManageShare.ParticipantSettings.RemoveAccess":"Remove Access","CKSharing.ManageShare.ParticipantSettings.RemoveMe":"Remove Me","CKSharing.ManageShare.StatusText.Invited":"Invited","CKSharing.ManageShare.StatusText.ViewOnly":"View Only","CKSharing.ManageShare.Settings.AllPermissionsToggle.Label":"Set All Permissions","CKSharing.ManageShare.Settings.AllPermissionsToggle.ReadWrite":"Allow editing","CKSharing.ManageShare.Settings.AllPermissionsToggle.ReadOnly":"View only","CKSharing.InitiateShare.Title":"Add People","CKSharing.AddParticipants.Title.AddPeople":"Add People","CKSharing.AddParticipants.Title.SendLink":"Send Link","CKSharing.AddParticipants.Subtitle.MultipleTransports":"Choose how youd like to send your invitation:","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.CloudKit":"Share this with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Keynote":"Share this presentation with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Numbers":"Share this spreadsheet with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Pages":"Share this document with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Public.Drive":"Share this file with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.CloudKit":"Share this with others, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Keynote":"Add people to this presentation, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Notes":"Add people to this note, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Numbers":"Add people to this spreadsheet, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Pages":"Add people to this document, then send them the link.","CKSharing.AddParticipants.Subtitle.SingleTransport.Private.Drive":"Add people to this file, then send them the link.","CKSharing.AddParticipants.CurrentlyLoggedUser.NameAndAppleId":"%{displayName} (%{appleId})","CKSharing.AddParticipants.CurrentlyLoggedUser.NameOrAppleId":"%{nameOrAppleId}","CKSharing.AddParticipants.AccessLabel.Title":"Who can access:","CKSharing.AddParticipants.AllowLabel.Title":"Permission:","CKSharing.AddParticipants.Transports.CopyLinkButton.Title":"Copy Link","CKSharing.AddParticipants.Transports.EmailButton.Title":"Email","CKSharing.AddParticipants.ShareSettingsDisclosureButton.Title":"Share Options","CKSharing.AddParticipants.CancelButton.Title":"Cancel","CKSharing.AddParticipants.OKButton.Share.Title":"Share","CKSharing.AddParticipants.OKButton.CopyLink.Title":"Copy Link","CKSharing.AddParticipants.InvitationsTextField.Placeholder":"Email addresses or phone numbers","CKSharing.AddParticipants.Public":"Anyone with the link","CKSharing.AddParticipants.Private":"Only people you invite","CKSharing.AddParticipants.Email.Subject.AppName":"Shared from %{appName}","CKSharing.AddParticipants.Email.Subject.ShareTitle":"%{shareTitle}","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Keynote":"Open my shared presentation:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Notes":"Open my shared note:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Numbers":"Open my shared spreadsheet:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Pages":"Open my shared document:","CKSharing.AddParticipants.Email.Bodyprefix.OwnerAdmin.Drive":"Open my shared file:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Keynote":"Open this shared presentation:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Notes":"Open this shared note:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Numbers":"Open this shared spreadsheet:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Pages":"Open this shared document:","CKSharing.AddParticipants.Email.Bodyprefix.Participant.Drive":"Open this shared file:","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Keynote":"Heres the link to your presentation.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Notes":"Heres the link to your note.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Numbers":"Heres the link to your spreadsheet.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Pages":"Heres the link to your document.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.Drive":"Heres the link to your file.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Title.CloudKit":"Heres the link.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Keynote":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Numbers":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Pages":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.Drive":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadOnly.CloudKit":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Keynote":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Numbers":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Pages":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.Drive":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Public.ReadWrite.CloudKit":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Keynote":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Notes":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Numbers":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Pages":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.Drive":"Only the people you invited will be able to view it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadOnly.CloudKit":"Only the people you invited will be able to view.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Keynote":"Only the people you invited will be able to open it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Notes":"Only the people you invited will be able to open it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Numbers":"Only the people you invited will be able to open it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Pages":"Only the people you invited will be able to open it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.Drive":"Only the people you invited will be able to open it.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.Mixed.CloudKit":"Only the people you invited will be able to open.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Keynote":"Only the people you invited will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Notes":"Only the people you invited will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Numbers":"Only the people you invited will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Pages":"Only the people you invited will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.Drive":"Only the people you invited will be able to make changes.","CKSharing.AddParticipants.CopyLink.OwnerAdmin.Subtitle.Private.ReadWrite.CloudKit":"Only the people you invited will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Title.Keynote":"Heres the link to this presentation.","CKSharing.AddParticipants.CopyLink.Participant.Title.Notes":"Heres the link to this note.","CKSharing.AddParticipants.CopyLink.Participant.Title.Numbers":"Heres the link to this spreadsheet.","CKSharing.AddParticipants.CopyLink.Participant.Title.Pages":"Heres the link to this document.","CKSharing.AddParticipants.CopyLink.Participant.Title.Drive":"Heres the link to this file.","CKSharing.AddParticipants.CopyLink.Participant.Title.CloudKit":"Heres the link.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Keynote":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Numbers":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Pages":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.Drive":"Anyone with the link will be able to view it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadOnly.CloudKit":"Anyone with the link will be able to view.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Keynote":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Numbers":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Pages":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.Drive":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Public.ReadWrite.CloudKit":"Anyone with the link will be able to make changes.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Keynote":"Only people %{ownerDisplayName} invited will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Notes":"Only people %{ownerDisplayName} invited will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Numbers":"Only people %{ownerDisplayName} invited will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Pages":"Only people %{ownerDisplayName} invited will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.Drive":"Only people %{ownerDisplayName} invited will be able to access it.","CKSharing.AddParticipants.CopyLink.Participant.Subtitle.Private.CloudKit":"Only people %{ownerDisplayName} invited will have access.","CKSharing.AddParticipants.CopyLink.CopyButton.Title":"Copy Link","CKSharing.AddParticipants.CopyLink.CloseButton.Title":"Close","CKSharing.AddParticipants.TokenItemMenu.EditEmail":"Edit Address","CKSharing.AddParticipants.TokenItemMenu.RemoveEmail":"Remove Address","CKSharing.AddParticipants.TokenItemMenu.EditPhone":"Edit Phone Number","CKSharing.AddParticipants.TokenItemMenu.RemovePhone":"Remove Phone Number","CKSharing.AddParticipants.TokenItemMenu.EditUnknown":"Edit","CKSharing.AddParticipants.TokenItemMenu.RemoveUnknown":"Remove","CKSharing.AddParticipants.TokenItemMenu.AutocompleteItem.Title":"%{field} (%{label})","CKSharing.AddParticipants.TokenItemView.Add":"Add:","CKSharing.CopyEmailOrPhone.Title.Phone":"Phone Number","CKSharing.CopyEmailOrPhone.Title.Email":"Email Address","CKSharing.CopyEmailOrPhone.Subtitle.Phone":"Click the phone number to select it.","CKSharing.CopyEmailOrPhone.Subtitle.Email":"Click the email address to select it.","CKSharing.Offline.Title":"Youre Offline","CKSharing.Offline.Description":"Check your Internet connection.","CKSharing.RichLink.NoShareTitle":"Shared from %{appName}","CKSharing.iWork.Pages":"Pages","CKSharing.iWork.Keynote":"Keynote","CKSharing.iWork.Numbers":"Numbers"})},function(e,t,a){"use strict";(function(e){a(8);var t=a(0),i=(a(113),a(370),a(371)),n=a(764),r=(a(149),a(374),a(1349));a.n(r),i.a,t._85(n.a,{remoteOrigin:"*"})}).call(t,a(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(752),a=i(751),s=r.a.extend(n._8,{batchLoad:function(e){return this.loadMembershipInfoHandler.action({lookupInfoList:e.map(function(e){return i="phoneNumber:",(t=e).startsWith(i)?{type:"phoneNumber",value:t.slice(i.length)}:t.startsWith("email:")?{type:"email",value:t.slice("email:".length)}:null;var t,i})})},loadMembershipInfoHandler:n._107(n._85(a.a)),valueToKey:function(e){var t=e.value;return e.type+":"+t},staticMembers:{__QUALIFIED_CLASS_NAME__:"MembershipInfoLoader"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var u=i(0),d=i(754),n=i(755),r=i(758),a=i(753),h=i(745),s=u.v.extend(u._8,u._42,{getContactFor:function(e){var t=d.a.find(e,this._store);return u._74(t)&&!u._74(t.service)&&(t.service=this),t},lookUpContactByEmailAddress:function(t){return this.loadAllMetadata().then(function(){var e=this._contactsIndexedByEmailAddress[t];return u._74(e)&&1===e.length?this.getContactFor(e.toArray()[0]):null}.bind(this))},lookUpContactByPhoneNumber:function(t){return this.loadAllMetadata().then(function(){var e=this._contactsIndexedByPhoneNumber[t];return u._74(e)&&1===e.length?this.getContactFor(e.toArray()[0]):null}.bind(this))},loadMetadataFor:function(e){var t=this.getContactFor(e);return this.loadAllMetadata().then(function(){return t})},loadImageDataFor:function(e){var t=this,i=d.a.STATES,n=this.getContactFor(e);if(this.getStateFor(e).value>=i.IMAGE_DATA_LOADING.value)return this._imageDataLoadingPromises[e];this.setImageLoadingFor(e);var r=this,a=this.processor.enqueue(function(){return t.loadImageOperationHandler.action({contact:n})}).then(function(){r.setImageLoadedFor(e)}).catch(function(e){u._100.warn("Unable to load image data for contactId: "+n.contactId,e)});return this._imageDataLoadingPromises[e]=a},loadAllMetadata:function(){var e=this;return u._74(this._metadataPromise)||(this._metadataPromise=this.processor.enqueue(function(){return e.loadOperationHandler.action({locale:u._81(),sortOrder:e._sortOrder,includePhoneNumbers:!0,includePhotos:!0})})),this._metadataPromise.catch(function(e){u._100.warn("Unable to load contacts metadata.",e)})},getStateFor:function(e){var t=this._imageLoadingStates[e],i=this._isMetadataLoaded;return i||e===this._meCardId?!i&&e!==this._meCardId||u._74(t)?u._74(t)?t:null:d.a.STATES.META_DATA_LOADED:d.a.STATES.NOT_LOADED},setImageLoadingFor:function(e){var t=d.a.STATES;this.getStateFor(e).value<t.META_DATA_LOADED.value&&u._75("Unable to set image to loading state without loading metadata for contactId=%{id}",{id:e}),this._imageLoadingStates[e]=t.IMAGE_DATA_LOADING},setImageLoadedFor:function(e){var t=d.a.STATES;this.getStateFor(e).value<t.IMAGE_DATA_LOADING.value&&u._75("Unable to set image to loaded state without loading metadata for contactId=%{id}",{id:e}),this._imageLoadingStates[e]=t.IMAGE_DATA_LOADED},processContactRecords:function(e){for(var t=0,i=(e=e.filter(function(e){var t=e.emailAddresses,i=e.phones;return t&&Array.isArray(t)||i&&Array.isArray(i)})).length;t<i;t++){var n=e[t],r=n.emailAddresses,a=n.phones;r&&(n.emailAddresses=r.filter(function(e){return u._74(e.field)})),a&&(n.phones=a.filter(function(e){return u._74(e.field)}))}return this.loadData(e)},loadData:function(l){return u.w.invokeFunction(function(){this._isMetadataLoaded=!0;for(var e=this._store,t=0,i=l.length;t<i;t++){var n=l[t],r=n.contactId,a=n.emailAddresses,s=n.phones,o=this;a&&a.forEach(function(e){var t=e.field,i=o._contactsIndexedByEmailAddress,n=i[t];u._74(n)?n.add(r):i[t]=u.x.create([r])}),s&&s.forEach(function(e){var t=Object(h.a)(e.field),i=o._contactsIndexedByPhoneNumber,n=i[t];u._74(n)?n.add(r):i[t]=u.x.create([r])});var c=u._46.getStoreIdForPrimaryKey(d.a,r);e.hasDataFor(c)||e.writeData(c,n)}}.bind(this))},loadMeCard:function(e){var t=this._meCardId;e.contactId=t;var i=this._store,n=u._46.getStoreIdForPrimaryKey(d.a,t);i.writeData(n,e)},getMeCard:function(){var e=this._meCardId,t=this.getContactFor(e);return u._74(t)?t:(this._store.writeData(e,{}),this.getContactFor(e))},loadOperationHandler:u._105({defaultValue:function(){return r.a.create({service:this})}}),loadImageOperationHandler:u._105({defaultValue:function(){return n.a.create({service:this})}}),processor:u._85(u._23),_store:u._85(u._46),_contactsIndexedByEmailAddress:u._85(u.x),_contactsIndexedByPhoneNumber:u._85(u.x),_imageLoadingStates:u._85(Object),_imageDataLoadingPromises:u._85(Object),_metadataPromise:null,_isMetadataLoaded:u._105(!1),_sortOrder:u._105({readOnly:!0,get:function(){return Object(a.a)()}}),_meCardId:"MECARD",staticMembers:{__QUALIFIED_CLASS_NAME__:"ContactsService"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("SortOrder",{FIRST_LAST:"first,last",LAST_FIRST:"last,first"})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i(0),d=i(759),n=a.v.extend(a._8,a._42,{basePhoneNumberDataPath:"/phone_numbers/2/",defaultCountryCode:a._105(),format:function(s,t,o){t=t||this.defaultCountryCode;var c=this,l=t&&this._loadedFormats[t];if(t&&!l)return this.load(t).then(function(e){return c.format(s,t)});var e=d.a.normalizeString(s),u=this._getCountryCodeFromNumber(e,l)||t;return u?this.load(u).then(function(e){var t=d.a.internationalPrefixForDigits(s,l),i=e.numericCountryCode,n=d.a.formatEntryforDigits(s,t,u,e),r=n.formatted;r||(r=s);var a={countryCode:u,numericCountryCode:i,internationalPrefix:t,input:s,output:r,canonical:n.canonical,format:n.format,nationalPart:n.nationalNumber};return a.isValid=!!o||c.isResultValid(a),a}):a.w.resolve({countryCode:void 0,internationalPrefix:void 0,input:s,output:s,canonical:s,format:void 0,isValid:!1})},load:function(i){var e=this._loadedFormats[i];if(a._96(e))return e;if(e)return e.failure?a.w.reject(e.error):a.w.resolve(e);var t=this.basePhoneNumberDataPath+i+".json",n=a._29.create({method:"GET",timeout:15e3,url:t}),r=this;return this._loadedFormats[i]=n.send().then(function(e){var t=JSON.parse(e.encodedBody.replace(/^'/,"").replace(/'\s*$/,""));return t=r._decompressFormats(t),r._loadedFormats[i]=t}).catch(function(e){throw r._loadedFormats[i]={failure:!0,error:e},e})},_loadedFormats:{},_decompressFormat:function(e){var t=/^\[(\d+)](.*)$/.exec(e),i=/^\[(\d+)-(\d+)](.*)$/.exec(e);return i&&4===i.length?{rangeBegin:i[1],rangeEnd:i[2],format:i[3]}:t&&3===t.length?{rangeBegin:t[1],rangeEnd:t[1],format:t[2]}:e},_decompressFormats:function(e){for(var t=e.split("|"),i=t.slice(4),n=i.length;n--;)i[n]=this._decompressFormat(i[n]);return{countryCode:t[0],numericCountryCode:t[1],internationalAccessCode:t[2],nationalAccessCode:t[3],phoneFormats:i}},_getCountryCodeFromNumber:function(e,t){if(!e)return this.defaultCountryCode;var i=d.a.internationalPrefixForDigits(e,t);return(i=i.replace(/\s+/g,""))?d.a.getCountryCodeFromInput(e,i.length):this.defaultCountryCode},isResultValid:function(e){var t=e.nationalPart,i=e.format;if(!(t&&i&&e.countryCode&&e.canonical))return!1;var n=(t.match(/[0-9]/g)||[]).length,r=i.match(/#+/g);if(!r||!r.length)return!1;for(var a=0,s=0,o=r.length;o--;){var c=r[o].length;s?a+=c:s=c}return a+Math.max(s-2,.5*s)<=n},staticMembers:{__QUALIFIED_CLASS_NAME__:"PhoneNumberFormatter"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=function(e){e||n._75("CKPromise must be called with a resolver function.");var t=n.w.create();return e(t.resolve.bind(t),t.reject.bind(t)),t};r.all=function(e){return n.w.all(e)},r.race=function(e){return n.w.race(e)},r.reject=function(e){return n.w.reject(e)},r.resolve=function(e){return n.w.resolve(e)}},function(e,t,i){"use strict";(function(e){i(0),e.CloudKit}).call(t,i(5))},function(e,t,i){"use strict";var n=i(0),r=i(761);n.y,r.a},function(e,t,i){"use strict";var n=i(0);i(1348),n._42,Date},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DateTime.Relative.JustNow":"Just now","DateTime.Relative.OneMinuteAgo":"1 minute ago","DateTime.Relative.LessThanAnHourAgo":"%{minutes} minutes ago","DateTime.Relative.Today":"%{time:h}:%{time:mm} %{time:a}","DateTime.Relative.Yesterday":"Yesterday","DateTime.Relative.Tomorrow":"Tomorrow","DateTime.Absolute.DateOnly":"%{date:M}/%{date:d}/%{date:yy}","DateTime.Conjunction.NoteHeader":"at","DateTime.Duration.Seperator":":"})},function(e,t){},function(e,t,i){"use strict";i(0)},function(e,t,i){"use strict";var n=i(0);n._26,n._33.define(),n._33.define(),n._33.define(),n._33.define(),n._33.define(),n._33.define()},function(e,t,i){"use strict";i.d(t,"a",function(){return _});var c=i(8),l=i(0),n=i(212),r=i(817),a=i(395),s=i(396),u=i(149),o=i(834),d=i(85),h=i(835),p=i(218),f=i(837),_={initiateShare:b.bind(void 0,a.a),addParticipants:b.bind(void 0,n.a),manageShare:b.bind(void 0,s.a),share:b.bind(void 0,r.a),createWorkflow:g.bind(void 0),presentWorkflow:y.bind(void 0),unshare:function(e,t,i,n,r){var a=m(e,t,i).retain();return(v(n)?l.w.resolve(n):a.fetchDataRecord(n.recordName)).then(function(e){if(v(e))return a.loadShareFromDataHash(e.share),a.deleteShare()}).catch(function(e){throw e})}};function m(e,t,i){return o.a.create(e,t,i).retain().autorelease()}function g(e,t,i,n,r,a,s){if(!(t&&i&&n&&r))throw new l.G("container, databaseScope, zoneID and record are required",{container:t,databaseScope:i,zoneID:n,record:r,settings:a});var o=function(e){var t=void 0;if((t=l._86(e,u.a)?e:u.a.fromJSON(e||{})).logService||(t.logService=c.o.cloudOSService),t.notificationService||(t.notificationService=h.a.create()),!t.loggedInUserIdentity){var i=c.o.currentUser;t.loggedInUserIdentity={givenName:i.firstName,familyName:i.lastName,appleId:i.appleId}}var n=t.supportedTransports;-1===n.indexOf(d.a.COPY_LINK)&&t.supportedTransports.unshift(d.a.COPY_LINK);var r=c.o.environment.authBag.servicesInfo;return-1===n.indexOf(d.a.EMAIL)&&r&&r.mail&&t.supportedTransports.unshift(d.a.EMAIL),t}(a);return e.create(m(t,i,n),r,o,s)}function v(e){return!(!e.share||!e.share.recordName)}function y(e){var t=p.a.create();t.showViewController(e),t.show();var i=l._63(arguments,0,1),n=e.start.apply(e,i);return Object(f.a)(t),n.finally(function(){t.hide()})}function b(e,t,i,n,r,a){return y(g.apply(void 0,arguments))}},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"b",function(){return o});var n=i(0),r=i(778),a=n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"footer",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["button-container"],name:"buttonContainer"},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"username",attributes:{}}]}],classes:["username",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"usernameIsHidden",truevalue:"",falsevalue:"hidden",attributes:{}}]}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsFooterView"},shareButtonTitle:n._105({type:String}),shareButtonIsHidden:n._105({defaultValue:!1,type:Boolean}),shareButtonIsDisabled:n._105({defaultValue:!0,type:Boolean}),doneButtonIsHidden:n._105({defaultValue:!1,type:Boolean}),username:n._105({type:String}),usernameIsHidden:n._105({defaultValue:!1,type:Boolean}),shareButton:n._105({defaultValue:n._85(n.k.extend({ariaLabel:n._99("CKSharing.AddParticipants.OKButton.Share.Title"),action:"sendShare",staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isHidden",truevalue:"hidden",attributes:{}}]}}},additionalClassNames:n._60(["primary"])})),downstreamBindings:{isHidden:"(owner).shareButtonIsHidden",isDisabled:"(owner).shareButtonIsDisabled",title:"(owner).shareButtonTitle"}}),doneButton:n._105({defaultValue:n._85(n.k.extend({ariaLabel:n._99("CKSharing.Dialog.Button.Done"),title:n._99("CKSharing.Dialog.Button.Done"),action:"didCancelAddParticipant",isVisible:n._105(),staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"",falsevalue:"hidden",attributes:{}}]}}}})),downstreamBindings:{isVisible:"(owner).doneButtonIsHidden"}})}),s=a.extend({staticMembers:{templateExtensions:{buttonContainer:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"cancelButton"},{type:"ELEMENT",tagname:"span",children:[],classes:["divider"]},{type:"VIEWOUTLET",tagname:"view",children:[],name:"shareButton"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"doneButton"}]}},__QUALIFIED_CLASS_NAME__:"AddParticipantsFooterViewDesktop"},cancelButtonIsDisabled:n._105(!0),cancelButtonIsHidden:n._105(!1),cancelButton:n._105({defaultValue:n._85(r.a),downstreamBindings:{isHidden:"(owner).cancelButtonIsHidden",isDisabled:"(owner).cancelButtonIsDisabled"}})}),o=a.extend({staticMembers:{templateExtensions:{buttonContainer:{type:"ELEMENT",tagname:"ext",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"shareButton"},{type:"VIEWOUTLET",tagname:"view",children:[],name:"doneButton"}]}},__QUALIFIED_CLASS_NAME__:"AddParticipantsFooterViewIos"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"b",function(){return o});var n=i(0),r=i(778),a=n._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{escape:"false"}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}]}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsHeaderView"},title:n._105({type:String}),subtitle:n._105({type:String})}),s=a,o=a.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"VIEWOUTLET",tagname:"view",children:[],name:"cancelButton",classes:["cancel-button"]},{type:"ELEMENT",tagname:"header",children:[{type:"ELEMENT",tagname:"h1",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"title",attributes:{escape:"false"}}]},{type:"ELEMENT",tagname:"h2",children:[{type:"DATAOUTLET",bindingtype:"DIRECTBINDING",name:"subtitle",attributes:{}}]}]}]},__QUALIFIED_CLASS_NAME__:"AddParticipantsHeaderViewIos"},cancelButtonIsDisabled:n._105({readOnly:!0,defaultValue:!0}),cancelButtonIsHidden:n._105({readOnly:!0,defaultValue:!1}),cancelButton:n._105({defaultValue:n._85(r.a),downstreamBindings:{isHidden:"(owner).cancelButtonIsHidden",isDisabled:"(owner).cancelButtonIsDisabled"}})})},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),r=i(784),a=i(780),s=i(795),o=i(1369),c=(i.n(o),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}),l=a.a.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:[{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"_dataSourceFailed",truevalue:"show-error-indicator",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"TokenizedTextField"},autocompleteDelegate:n._105(),autocompleteDataSource:n._105(),_dataSourceFailed:n._105({readOnly:!0,dependencies:["autocompleteDataSource.loadingStatus"],get:Object.assign(function(){return this.getPath("autocompleteDataSource.loadingStatus")===s.a.Failed},{__CW__getter:function(e,t,i,n){return n.internalGetPath(this,t[0+i])===s.a.Failed}})}),menu:n._105({defaultValue:function(){return r.a.create({target:this,anchor:this})},strong:!0,downstreamBindings:{listCollection:"(owner).lastEditedToken.tokenTextField._items"}}),width:n._105({readOnly:!0,dependencies:["value"],get:function(){return this.getPath("element.offsetWidth")}}),createHashForTokenItemView:function(){var e=arguments,t=this.__s._$iX$createHashForTokenItemView.apply(this,e);return c({},t,{menu:this.bindingFor("menu"),autocompleteDelegate:this.bindingFor("autocompleteDelegate"),autocompleteDataSource:this.bindingFor("autocompleteDataSource")})},__superMap:{_$iX$createHashForTokenItemView:"createHashForTokenItemView"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return a});var r=i(0),n=r.v.extend(r._8,{action:r._105(),title:r._105(),titleIsAlwaysLTR:r._105({type:"boolean"}),iconClass:r._105(),isDisabled:r._105(),keyCombo:r._105(),keySequence:r._105({dependencies:["keyCombo"],get:Object.assign(function(){return this._keySequence||r.U.create(this.keyCombo)},{__CW__getter:function(e,t,i,n){return this._keySequence||r.U.create(n.internalGet(this,t[0+i]))}}),set:function(e){this._keySequence=e}}),hasCheckmark:r._105({type:"boolean"}),shouldEscape:r._105(),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuItem"}}),a=r.v.extend({staticMembers:{__QUALIFIED_CLASS_NAME__:"DividerItem"}});r._8},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var s=i(0),n=i(793),r=i(786),a=i(386),o=s.v.extend(s._8,s.N,{menuDelegate:s._105(),menu:s._105(),selectionControllerShouldSelectItem:function(e,t){var i=this.menu;return this.menuDelegate.shouldHighlightItem(i,t)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuSelectionDelegate"}}),c=s._21.extend({allowedLayouts:s._85([s._12,s._14,s._13,s._15]),arrowLength:0,arrowWidth:0,spaceInset:20,contentController:s._105({defaultValue:function(){return r.a.create({viewItemMappedClass:this.__CW__listViewItemMappedClass,menuDelegate:this.__CW__delegate})},downstreamBindings:{collection:"(owner).listCollection",isEmptySelectionEnabled:"(owner).listIsEmptySelectionEnabled",viewItemMappedClass:"(owner).listViewItemMappedClass",selectionDelegate:"(owner)._selectionDelegate","layoutMetrics.bottomPadding":"(owner).listLayoutBottomPadding","layoutMetrics.rowHeight":"(owner).listLayoutRowHeight","layoutMetrics.rowSpacing":"(owner).listLayoutRowSpacing","layoutMetrics.topPadding":"(owner).listLayoutTopPadding",shouldMeasure:"(owner).shouldMeasure",menuDelegate:"(owner).delegate"}}),_selectionDelegate:s._105({defaultValue:s._85(o),downstreamBindings:{menu:"(owner)",menuDelegate:"(owner).delegate"}}),shouldMeasure:s._105(!0),delegate:s._105({defaultValue:s._85(s.v.extend(n.a))}),desiredSize:s._105(s._64("contentController.desiredSize")),hasOverlay:s._107(!0),listCollection:s._105({strong:!0,defaultValue:s._85(s._9)}),listIsEmptySelectionEnabled:s._105(!0),listLayoutBottomPadding:s._105({readOnly:!0,defaultValue:5}),listLayoutRowHeight:s._105({defaultValue:19}),listLayoutRowSpacing:s._105({defaultValue:0}),listLayoutTopPadding:s._105({readOnly:!0,defaultValue:5}),listViewItemMappedClass:s._105({defaultValue:a.b}),target:s._107(s.K),_matchedLayoutObserver:s._98("matchedLayout.layout.width","matchedLayout.layout.height",function(e,t){this.contentController.measureViewport()}),hide:function(){var e=arguments;this._submenu&&this._submenu.hide(),this.__s._$2Ea$hide.apply(this,e)},keyDown:function(e){switch(e.which){case s.S.DOWN:this.highlightNextItem();break;case s.S.UP:this.highlightPreviousItem();break;case s.S.LEFT:case s.S.RIGHT:break;case s.S.ENTER:this._activateWithItem(this.highlightedItem);break;default:return!1}},_activateWithItem:function(e){var t=this.listCollection,i=t.startHandle.at(-1);e&&(i=t.startHandle.at(t.indexOf(e))),this.delegate.shouldDismissWithHighlightedItem(this,e)&&(this.delegate.menuDidDismissWithHighlightedItem(this,e),this.hide()),this.delegate.itemWasSelected(this,i)},highlightNextItem:function(){var e=this.contentController,t=e.selectionController,i=this.listCollection.startHandle.at(t.selectedIndices.firstIndexAfter(-1)),n=e.selectionController.getSelectableHandleInDirection(i,s._40.DOWN);n&&(e.userPerformedSelectionOperation(n),e.scrollToItem(n.value))},highlightPreviousItem:function(){var e=this.contentController,t=e.selectionController,i=this.listCollection,n=t.selectedIndices.firstIndexAfter(-1),r=i.startHandle.at(-1===n?i.length+1:n),a=e.selectionController.getSelectableHandleInDirection(r,s._40.UP);a&&(e.userPerformedSelectionOperation(a),e.scrollToItem(a.value))},highlightedItem:s._105(s._64("contentController.selectedItem")),_flashViewItem:function(e){this._isDismissing=!0,this.highlightedItem===e&&(s._116(function(){this._targetViewItem=null}.bind(this)),s._116(function(){this._targetViewItem=e}.bind(this),100),s._116(function(){this._targetViewItem=null}.bind(this),200),s._116(function(){this.hide(),this._isDismissing=!1}.bind(this),400))},submenuDidFocus:function(){clearTimeout(this._targetingSubmenuTimeoutId),this._targetingSubmenuTimeoutId=null},_submenu:s._105(),_submenuRect:s._105({dependencies:["_submenu"],readOnly:!0,get:Object.assign(function(){return this._submenu?this._submenu.matchedLayout.layout:null},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])?n.internalGet(this,t[0+i]).matchedLayout.layout:null}})}),_lastPoint:s._105({defaultValue:s._85(Object,{x:0,y:0})}),_currentPoint:s._105({defaultValue:s._85(Object,{x:0,y:0})}),_isSeekingSubmenu:s._105({dependencies:["_lastPoint","_currentPoint","_submenuRect"],readOnly:!0,get:Object.assign(function(){return!!this._submenuRect&&this._isSeriesApproachingRect(this._lastPoint,this._currentPoint,this._submenuRect)},{__CW__getter:function(e,t,i,n){return!!n.internalGet(this,t[2+i])&&this._isSeriesApproachingRect(n.internalGet(this,t[0+i]),n.internalGet(this,t[1+i]),n.internalGet(this,t[2+i]))}})}),_isSeekingSubmenuObs:s._106("_isSeekingSubmenu",function(e){!this._isSeekingSubmenu&&this._targetingSubmenuTimeoutId&&(clearTimeout(this._targetingSubmenuTimeoutId),this._targetingSubmenuTimeoutId=null)}),_isSeriesApproachingRect:function(e,t,i){var n,r;if(n=(i.y-e.y)/(i.x-e.x),r=(i.y-t.y)/(i.x-t.x)<n){var a=i.y+i.height;r=(n=(a-e.y)/(i.x-e.x))<(a-t.y)/(i.x-t.x)}return r},isSubmenuItem:function(e){return e&&!!e.items},isDividerItem:function(e){return null==e.action&&null==e.items},_menuItemForEvent:function(e){var t=s._76(e),i=this.contentController.presenter.cellForView(t);if(i)return i.handle.value},pointerMove:function(e){if(this._isDismissing)return!1;if(e.clientX!==this._currentPoint.x||e.clientY!==this._currentPoint.y){var t=s.g.begin();t.set(this,"_lastPoint",{x:this._currentPoint.x,y:this._currentPoint.y}),t.set(this,"_currentPoint",{x:e.clientX,y:e.clientY}),t.end()}var i=this._menuItemForEvent(e),n=this.highlightedItem;i!==n&&(this.isSubmenuItem(n)&&(this._targetingSubmenuTimeoutId=s._116(function(){this.removeSubmenuForItem()}.bind(this),d),this._hadSubmenu=!0),this.highlightedItem=i)},pointerUp:function(e){if(this._isDismissing)return!1;var t=this.highlightedItem;if(t)return t===this._menuItemForEvent(e)&&(this._activateWithItem(t),!0);this._activateWithItem()},presentSubmenuForItemWithAnchor:function(e,t){var i=h.create({allowedLayouts:[s._14,s._13],listCollection:e.items,parentMenu:this,target:this.target});i.show(t),this._submenu=i},removeSubmenuForItem:function(){this._submenu&&(this._submenu.hide(),this._submenu=null)},viewClass:s._105({readOnly:!0,get:function(){return this.hasOverlay?l:u}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuViewController"},__superMap:{_$2Ea$hide:"hide"}}),l=s._4.extend({popoverView:s._60({additionalClassNames:["cw-menu-view"]}),staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuOverlayPopoverView"}}),u=s.f.extend({additionalClassNames:["cw-menu-view"],staticMembers:{__QUALIFIED_CLASS_NAME__:"MenuPopoverView"}}),d=1e3,h=c.extend({parentMenu:s._105(),pointerUp:function(e){if(!this._isDismissing){var t=e.targetView,i=t.viewController.item;!t.isDisabled&&i&&i.action?(this._flashItem(i),this.sendEvent.call(this.parentMenu,i.action,i)||this.sendEvent.call(this.parentMenu.target,i.action,i)):this.parentMenu.hide()}},viewClass:u.extend({pointerEnter:function(e){this.viewController.parentMenu&&this.viewController.parentMenu.submenuDidFocus()}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"SubmenuViewController"}})},function(e,t,i){"use strict";var n=i(1367),r=(i.n(n),i(0));i(214);i(152).a,Object.assign(function(){return this.shouldEscape?r._73(this.title):this.title},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[1+i])?r._73(n.internalGet(this,t[0+i])):n.internalGet(this,t[0+i])}}),Object.assign(function(){return!!this.iconClass},{__CW__getter:function(e,t,i,n){return!!n.internalGet(this,t[0+i])}})},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(0),n=o.v.extend(o._8,{action:"autocompleteItemWasSelected",value:o._105(null),primaryLabel:o._105(null),category:o._105(null),localizedCategory:o._105({readOnly:!0,dependencies:["category"],get:Object.assign(function(){var e=this.category;if(!e)return null;var t="ContactsAutocomplete.Category."+e,i=o._99(t);return i===t?e:i},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);if(!r)return null;var a="ContactsAutocomplete.Category."+r,s=o._99(a);return s===a?r:s}})}),secondaryLabel:o._105(null),previewValue:o._105(null),matchChunks:null,isContactsGroup:!1,isRecentsGroup:!1,recentsGuid:null,isEnabled:!0,disableMenuFlash:!0,staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var s=i(0),n=i(797),r=i(798),a=s._50.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],styles:{width:{type:"STYLEOUTLET",bindingtype:"DIRECTBINDING",name:"width",attributes:{},unit:"px",property:"width"}}}},__QUALIFIED_CLASS_NAME__:"AutocompleteTextField"},delegate:s._105({type:r.a}),dataSource:s._105({type:n.a}),autocomplete:"off",autocorrect:"off",spellcheck:"false",autocapitalize:"false",width:s._105(500),didAttach:function(){var e=this.dataSource;e&&e.load()},didDetach:function(){},query:s._105(""),fullPreview:s._105(s._64("menu.highlightedItem.previewValue")),highlightedItem:s._105(s._64("menu.highlightedItem")),autocompleteItemWasSelected:function(e){var t=(this.value=e.value).length;s.j.sharedInstance.isEdge&&(this._shouldSkipNextInputEvent=!0),this.selection={start:t,end:t},this.menu.hide(),this.query="";var i=this.delegate;i&&i.autocompleteItemWasSelected&&i.autocompleteItemWasSelected(this,e),this.sendEvent("didAutocomplete",e)},minimumCharacters:s._105(0),backspaceDelay:800,menu:s._105(),isMenuVisible:s._105({readOnly:!0,dependencies:["_items","_items.contentsDidChange","isFocused"],get:Object.assign(function(){return this.isFocused&&0<this._items.length},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[2+i])&&0<n.internalGet(this,t[0+i]).length}})}),_isMenuVisibleDidChange:s._106("isMenuVisible",function(e){var t=this.menu;t&&(e?(t.show(),this.sendEvent("pauseParsing")):(t.hide(),this.sendEvent("resumeParsing")))}),_timeElapsedFromBackspace:s._105({defaultValue:function(){return this.backspaceDelay}}),_isAutocompletingTextField:s._105({readOnly:!0,dependencies:["isMenuVisible","_timeElapsedFromBackspace","isFocused","isIMEInputActive"],get:Object.assign(function(){return this.isMenuVisible&&this.isFocused&&!this.isIMEInputActive&&this._timeElapsedFromBackspace>=this.backspaceDelay},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])&&n.internalGet(this,t[2+i])&&!n.internalGet(this,t[3+i])&&n.internalGet(this,t[1+i])>=this.backspaceDelay}})}),_isAutocompletingTextFieldDidChange:s._106("_isAutocompletingTextField","fullPreview",function(e,t){if(e&&t&&0<t.length){this.value=t;var i=this.query.length,n=this.value.length;s.j.sharedInstance.isEdge&&(this._shouldSkipNextInputEvent=!0),this.selection={start:i,end:n}}}),_items:s._105({readOnly:!0,strong:!0,dependencies:["query","minimumCharacters","dataSource"],get:Object.assign(function(){var e=this.query,t=this.dataSource;return t&&e.length>this.minimumCharacters?t.autocompleteItemsForText(e):s._48.create()},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a=n.internalGet(this,t[2+i]);return a&&r.length>n.internalGet(this,t[1+i])?a.autocompleteItemsForText(r):s._48.create()}})}),_shouldSkipNextInputEvent:!1,input:function(e){if(this.__s._$1Va$input.call(this,e),this._shouldSkipNextInputEvent)this._shouldSkipNextInputEvent=!1;else{var t=this.value;this.query=t?this.value:""}},keyDown:function(e){var t=arguments,i=!1,n=this.isMenuVisible,r=this.highlightedItem;switch(e.which){case s.S.DOWN:e.preventDefault(),this.menu.highlightNextItem(),i=n;break;case s.S.UP:e.preventDefault(),this.menu.highlightPreviousItem(),i=n;break;case s.S.LEFT:case s.S.RIGHT:case s.S.COMMA:r&&n&&(e.preventDefault(),this.autocompleteItemWasSelected(r),i=!0);break;case s.S.ENTER:r&&n?(e.preventDefault(),this.autocompleteItemWasSelected(r),i=!0):n||(i=this.__s._$1zL$keyDown.apply(this,t));break;case s.S.BACKSPACE:this._timeElapsedFromBackspace=0,this._backspaceCompletionTimer.restart(),i=!1;break;default:i=!1}return i},_backspaceCompletionTimer:s._105({defaultValue:function(){return s._52.create({delay:this.backspaceDelay,target:this,action:"_recordTimeElapsedFromBackspace"})}}),_recordTimeElapsedFromBackspace:function(){this._timeElapsedFromBackspace+=this._backspaceCompletionTimer.delay},_isAttachedDidChange:s._106("isAttached",function(e){e?this.didAttach():this.didDetach()}),__superMap:{_$1Va$input:"input",_$1zL$keyDown:"keyDown"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i(1373);var n=i(71),o=i(8),z=i(0),M=i(113),L=i(387),H=i(804),x=i(216),p=i(803),r=i(800),a=i(802),s=z.v.extend(z._8,n.a,{isRecentsEnabled:z._105({readOnly:!0,dependencies:o.o.bindingFor("authBag.servicesInfo"),get:function(){return!!o.o.getPath("authBag.servicesInfo.mail")}}),load:function(){this.contactsDataIsLoaded||(this._failedNetworkRequestCount=0,this.sendContactsRequest(),this.isRecentsEnabled&&this.sendRecentRecipientsRequest({method:"list",type:p.a.RECENT_RECIPIENTS}))},cancel:function(){},loadingStatus:z._105({readOnly:!0,dependencies:["_loadingStatus"],get:Object.assign(function(){return this._loadingStatus},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),autocompleteItemsForText:function(e){return z._48.create(this.findCompletionsInLoadedData(e))},sendContactsRequest:function(e){this.set("contactsRequestIsOutstanding",!0),this.set("contactsRequestHasCompleted",!1),this.set("contactsDataIsLoaded",!1),null!==this._lastSyncToken&&null!==this._lastPrefToken?this.set("syncTokenInUse",!0):this.set("syncTokenInUse",!1);var t={onComplete:"contactsRequestCompleted",onSuccess:"contactsRequestSucceeded",type:p.a.CONTACTS};if(this.get("syncTokenInUse")&&!0===e){var i=this.get("syncInterval");if(this._skipSyncCount<i)return this.set("contactsRequestIsOutstanding",!1),this.set("contactsRequestHasCompleted",!0),this.set("contactsDataIsLoaded",!0),void this._skipSyncCount++}var n=z._81();this.createContactsRequest(this._lastSyncToken,this._lastPrefToken,this._sortOrder,n,this.isPhoneNumberSupportEnabled).send().then(function(e){this.requestDidComplete(e,t)}.bind(this)).catch(function(e){this.requestDidComplete(e,t)}.bind(this)),this._skipSyncCount=0},contactsRequestIsOutstanding:z._105(!1),contactsRequestHasCompleted:z._107(!1),contactsDataIsLoaded:z._105(!1),sendRecentRecipientsRequest:function(e){this.set("recentsRequestIsOutstanding",!0),this.set("recentsRequestHasCompleted",!1),this.set("recentsDataIsLoaded",!1);var t={onComplete:"recentRecipientsRequestCompleted",onSuccess:"recentRecipientsRequestSucceeded",type:e.type},i=new Date;this._recentsReqCount||(this._recentsReqCount=1);var n=i.getTime()+"/"+this._recentsReqCount++,r=e.method,a=e.recentsGuids;this.createRecentRecipientsRequest(n,r,a).send().then(function(e){this.requestDidComplete(e,t)}.bind(this)).catch(function(e){this.requestDidComplete(e,t)}.bind(this))},recentsRequestIsOutstanding:z._107(!1),recentsRequestHasCompleted:z._107(!1),recentsDataIsLoaded:z._107(!1),allDataIsLoadedForQuery:z._107(!1),createContactsRequest:function(e,t,i,n,r){var a=n.replace(/(.*)-(.*)$/,function(e,t,i){return t+"_"+i.toUpperCase()}),s=o.k.create({pathname:"/co/addressbook/",serviceName:"contacts",queryObject:{locale:a,order:i.value,includePhoneNumbers:r}});return null!==e&&null!==t&&s.setMultipleQueryParameters({syncToken:e,prefToken:t}),o.h.create({url:s,serviceName:"contacts",useCredentialsIfCrossOrigin:!0})},createRecentRecipientsRequest:function(e,t,i){var n=o.k.create({pathname:"/wm/recents",serviceName:"mail"}),r={jsonrpc:"2.0",id:e,method:t};i&&(r.params={guids:[i]});var d=this,a=o.h.create({url:n,method:z.H.POST,body:r,timeout:this.INTERVAL_XHR_TIMEOUT_FOR_RECENTS_REQUEST,useCredentialsIfCrossOrigin:!0,shouldFinalizeWithResponse:function(e,t,i){var n=d._redirectCountForTimeout,r=i-n,a=2===Math.floor(e.status/100)&&d.REDIRECT_RESPONSE_TEXT===e.encodedBody,s=e.status===z._30.TIMEDOUT,o=a&&r<d.MAX_REDIRECT,c=s&&n<d.MAX_REDIRECT_FOR_TIMEOUT;if(o||c){c&&d._redirectCountForTimeout++;var l="\n                        Rejecting server response for mailws recents,\n                            Status: "+status+"\n                            ResponseText: "+e.encodedBody+"\n                            Redirect Count: "+r+"\n                            Timeout Redirect Count: "+n+"\n                    ";return z._100.warn(l),t(),!1}if(a||s){var u="\n                            Giving up on retries for mailws recents,\n                                Status: "+status+"\n                                ResponseText: "+e.encodedBody+"\n                                Redirect Count: "+r+"\n                                Timeout Redirect Count: "+n+"\n                        ";z._100.warn(u)}return!(d._redirectCountForTimeout=0)}});return a.setHeader("Content-Type","text/plain"),a},clearLoadedData:function(){this.set("recentsRequestIsOutstanding",!1),this.set("recentsRequestHasCompleted",!1),this.set("contactsRequestIsOutstanding",!1),this.set("contactsRequestHasCompleted",!1),this.set("addContactRequestHasCompleted",!1),this.set("addContactRequestHasFailed",!1),this.set("recentsDataIsLoaded",!1),this.set("contactsDataIsLoaded",!1),this.set("allDataIsLoadedForQuery",!1),this._dataCache=null,this._lastSearchedPrefix=null,this._lastSearchedDataCache=null,this._lastSyncToken=null,this._lastPrefToken=null,this.set("dataRefreshNeeded",!0)},findCompletionsInLoadedData:function(e){var t=this._dataCache;if(!t)return[];var i=this._lastSearchedPrefix;i&&0===e.indexOf(i)&&(t=this._lastSearchedDataCache);var n,r,a,s,o,c,l,u=e.split(" ").filter(z._74),d={},h=u.length;for(r=0;r<h;++r){var p={},f=u[r],_=z._108(f).toLowerCase(),m=_;for(a=0;a<3;++a){var g,v,y;switch(a){case 0:g="recents",v=H.c,y="guid";break;case 1:g="contacts",v=H.a,y="contactId";break;case 2:if(g="groups",v=H.b,y="groupId",0!==r)continue;1<h&&(_=z._108(e).toLowerCase())}var b=t[g],I=v.length;for(s=0;s<I;++s){var S=v[s],w=b[S],C=w.values;if(1<h&&"companyName"===S){if(0!==r)continue;_=z._108(e).toLowerCase()}var E=this._indexForString(C,_),T=_.length-1,A=_.substr(0,T),O=_.charCodeAt(T);A+=String.fromCharCode(O+1);var D=this._indexForString(C,A);if(E<C.length&&E<D){var F="emailAddresses"===S,M=w.records.slice(E,D),N=M.length;for(o=0;o<N;++o)if(c=M[o])for(var L=c.length,x=0;x<L;++x){var P,R,k=P=R=null;F?(R=(P=c[x]).idx,k=P.rec):k=c[x];var j=k[y];if(j)if(d[j]||(d[j]={fields:{},rec:k}),p[j]=!0,F){var V=d[j].fields,U=V[S];U||(V[S]={},U=V[S]),U[R]=f}else{var B=f;"groups"!==g&&"companyName"!==S||(B=e),d[j].fields[S]=B}}}_!==m&&(_=m)}}for(n in d)l=d[n],!d.hasOwnProperty(n)||p[n]||0!==r&&(l.rec.groupId||l.fields.companyName)||delete d[n];c=[];var $={contacts:[],groups:[],result:[]};for(n in d)if(d.hasOwnProperty(n)){var W=d[n].rec;W.address||W.members?$.result.push(W):W.contactId?$.contacts.push(W):W.groupId&&$.groups.push(W)}t=this.generateDataCache($,!0),this._resultsCache=t}var G=this._autocompleteResultsForMatches(t,d);return this._lastSearchedPrefix=e,this._lastSearchedDataCache=t,G},isSearchable:z._107({readOnly:!0,dependencies:["contactsDataIsLoaded","recentsDataIsLoaded"],get:Object.assign(function(){return this.contactsDataIsLoaded||this.recentsDataIsLoaded},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])||n.internalGet(this,t[1+i])}})}),delegate:null,syncInterval:z._107(10),isRecentsGroupsEnabled:z._107(!0),isPhoneNumberSupportEnabled:z._105(!1),syncTokenInUse:z._107(!1),dataRefreshNeeded:z._107(!1),__dummy_prefix__:"__dummy_prefix__",_contactsStore:z._105(z._85(z._46)),resolveGroupsMembershipAsPossibleWithLoadedData:function(e){var t=e.guidToRecordMapping;t||(t={});var i,n,r,a,s,o=e.groups;if(o)for(i in o)if(o.hasOwnProperty(i)&&(n=o[i].records))for(a=n.length-1;0<=a;--a)for(s=(r=n[a]).length-1;0<=s;--s){var c=r[s];this.resolveGroupMembershipAsPossibleWithLoadedData(c,t),c.resolvedContacts.length<=0&&(delete t[c.groupId],r.splice(s,1))}},resolveGroupMembershipAsPossibleWithLoadedData:function(e,t,i){var n=e.resolvedContacts;if(!n||-1===n){i||(i=0),n=[];var r,a={},s=e.contactIds;if(s)for(r=s.length-1;0<=r;--r){var o=s[r],c=t[o];c?a[o]||(n.push(c),a[o]=!0):s.splice(r,1)}e.resolvedContacts=n}},resolveRecentRecipientWithLoadedContacts:function(e,t){if(!e)return[];var i,n,r,a;if(r=e.length,a=t.length,r<1||a<1)return[];for(i=0;i<r;i++)for(n=0;n<a;n++)if(e[i].secondaryLabel===t[n].secondaryLabel){e[i].previewValue=t[n].previewValue,e[i].primaryLabel=t[n].primaryLabel,e[i].secondaryLabel=t[n].secondaryLabel,e[i].value=t[n].value,e[i].contactMatch=t[n].contactMatch,t.splice(n,1),a=t.length;break}},_autocompleteResultsForMatches:function(e,t){var i,n,r,a,s,o=[],c=[],l=[],u={},d=!0,h=this.getPath("delegate.autocompleteField");h&&(d=h.get("shouldMatchGroups"));var p,f,_,m,g,v,y=e.guidToRecordMapping;for(p in t)if(t.hasOwnProperty(p)&&(g=t[p].rec,_=t[p].fields,g.address?(v="Recents",y=e.recents.guidToRecordMapping):g.contactId?(v="Contact",y=e.contacts.guidToRecordMapping):g.groupId&&(v="ContactsGroup",y=e.groups.guidToRecordMapping),m=y[p]))if(f=null,"Recents"===v){if(m.isGroupMemberOnly||(f=this._autocompleteResultsForMatchedRecent(m,_),c.push(f)),!0===this.isRecentsGroupsEnabled&&(i=m.isMemberOf)&&0<i.length)for(n=i.length,s=0;s<n;s++)r=i[s].guid,a={address:m.address,rec:m,matchedFields:_},u[r]||(u[r]=[]),u[r].push(a)}else if("Contact"===v){var b,I,S,w=Object.keys(_).length,C=m.emailAddresses,E=m.phones,T=_.emailAddresses;if(1===w&&T)for(I in T)T.hasOwnProperty(I)&&(S=T[I],b=C[I],f=this._autocompleteResultsForMatchedContact(m,_,{type:x.b.EMAIL,field:b.field,label:b.label},S),o.push(f));else{for(s=(C?C.length:0)-1;0<=s;--s){b=C[s],S=T?T[s]:null;var A={type:x.b.EMAIL,field:b.field,label:b.label};f=this._autocompleteResultsForMatchedContact(m,_,A,S),o.push(f)}for(s=(this.isPhoneNumberSupportEnabled&&E?E.length:0)-1;0<=s;--s){var O=E[s],D={type:x.b.PHONE,field:O.field,label:O.label};f=this._autocompleteResultsForMatchedContact(m,_,D,null),o.push(f)}}}else{if(!d||"ContactsGroup"!==v)continue;f=this._autocompleteResultsForMatchedGroup(m,_),o.push(f)}for(r in u)u.hasOwnProperty(r)&&(f=this._autocompleteResultForMatchedRecentsGroup(u[r],r))&&l.push(f);return this.resolveRecentRecipientWithLoadedContacts(c,o),0<c.length&&(o=(c=this._sortRecentsResultsByTimeStamp(c)).concat(o)),0<l.length&&(l=this._sortRecentsResultsByTimeStamp(l),o=o.concat(l)),o},_autocompleteResultsForMatchedContact:function(e,t,i,n){return Object(a.a)(e,t,i,n,this._contactsStore,this._nameDisplayOrder)},_autocompleteResultsForMatchedRecent:function(e,t){var i,n,r,a,s,o,c,l=e.address;Array.isArray(e.timestamps)||(e.timestamps=[]);var u=e.name;-1===u.indexOf(",")&&(u=u.replace(/^"/,"").replace(/"$/,"")),u||(u=""),i=u,n=l;var d=t.name;t.names&&(d=t.names);var h=d?d.length:0,p=t.address,f=p?p.length:0;u||(i=u=l),d?(r="ContactsAutocomplete.PreviewTemplate.MatchRecentByName",s={matchedName:d+this._matchedNameLabelFromMatchedNamePrefix(u,d).substr(h),emailAddress:l}):(r="ContactsAutocomplete.PreviewTemplate.MatchRecentByEmailAddress",s={matchedEmail:p+l.substr(f),name:u}),a={name:u,emailAddress:l},o=z._77("%{name} <%{emailAddress}>",a),c=z._99(r,s),o=o.replace("",""),c=c.replace("",""),o=o.replace(/\(\s*\)/g,""),c=c.replace(/\(\s*\)/g,""),o=o.replace(/\s+/g," "),c=c.replace(/\s+/g," "),o=o.replace(/([^,<>]*[,<>].*)( <[^<]*)$/,'"$1"$2');var _=this._contactsStore,m=e.recentsGuid;return L.a.create({primaryLabel:i,secondaryLabel:n,value:o,previewValue:c,timestamps:e.timestamps,category:z._99("ContactsAutocomplete.Category.RECENTS"),contactMatch:z._85(x.a,{matchType:x.b.EMAIL,matchValue:l,contactPrimaryKey:m,store:_}),recentsGuid:e.recentsGuid})},_autocompleteResultForMatchedRecentsGroup:function(e,t){var i,n,r,a,s,o,c,l,u,d,h,p,f,_,m,g,v,y,b,I,S,w,C,E,T,A=[],O="",D=[],F=[],M=this._dataCache.guidToRecordMapping;if(!(i=M[t]))return null;for(Array.isArray(i.timestamps)||(i.timestamps=[]),s=e.length,c=(a=i.members).length,p=(r=e[0]).matchedFields,f=(d=r.rec).name,g=d.address,f=f.replace(/"/g,""),p.address?f=""!==f?g+" ("+f+")":g:(n=p.name?p.name:p.names,f=this._matchedNameLabelFromMatchedNamePrefix(f,n)),D.push(f),T=1;T<s;T++)d=e[T].rec,p=e[T].matchedFields,f=d.name,g=d.address,""===f&&(f=g),f=f.replace(/"/g,""),D.push(f);_=D.join(", "),o=e.map(function(e){return e.address});var N=[];for(T=0;T<c;T++)y=(l=a[T]).name,b=l.address,O=(I=M[l.guid])&&I.names&&""!==I.names[0]?I.names[0]:""===y?b:y,-1===o.indexOf(b)&&(O=O.replace(/"/g,"").replace(/,/g,""),A.push(O)),S=[y=y.replace(/^"/,"").replace(/"$/,""),b],h=(h=(h=(h=(h=z._77.apply("%@ <%@>",S)).replace("","")).replace(/\(\s*\)/g,"")).replace(/\s+/g," ")).replace(/([^,<>]*[,<>].*)( <[^<]*)$/,'"$1"$2').trim(),N.push(x.a.create({matchType:x.b.EMAIL,matchValue:b})),F.push(h);return 0<A.length?(1<A.length&&(_+=", "),u=A.pop(),m=z._99("ContactsAutocomplete.GroupMembers",{emailAddresses:A.join(", "),lastEmailAddress:u})):(u=D.pop(),_=z._99("ContactsAutocomplete.GroupMembers",{emailAddresses:D.join(", "),lastEmailAddress:u}),m=""),E=w=_+m,C=F.join(", "),v=[_,m],L.a.create({matchChunks:v,primaryLabel:w,secondaryLabel:void 0,value:C,previewValue:E,timestamps:d.timestamps,isRecentsGroup:!0,recentsGuid:t,contactMatch:z._85(x.a,{matchType:x.b.GROUP,matchValue:N})})},_matchedNameLabelFromMatchedNamePrefix:function(e,t){t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");var i,n,r=new RegExp(t,"i"),a=new RegExp("[\\s,]"+t,"i");if(0===e.search(r))return e;var s=e.search(a);return-1<s?(n=e.substring(0,s),i=e.substring(s+1)+" "+n):i=t+" ("+e+")",i},_autocompleteResultsForMatchedGroup:function(e,t){var i,n=t.name,r=n.length,a=e.name,s=e.contactIds.length,o=null,c=e.resolvedContacts,l=this._contactsStore;if(c){i=[];for(var u=[],d=c.length,h=0;h<d;++h){var p=c[h],f=p.firstName;f||(f="");var _,m=p.lastName;m||(m="");var g=p.emailAddresses;g&&(_=S(g).field);var v,y,b,I=p.phones;if(I&&(_=S(I).field),z._74(_)&&""!==_)v=_,y=x.b.EMAIL;else{if(!this.isPhoneNumberSupportEnabled||!z._74(void 0))continue;v=void 0,y=x.b.PHONE}b=(b=(b=(b=this._nameDisplayOrder===M.d.LAST_FIRST?m+" "+f+" <"+v+">":f+" "+m+" <"+v+">").replace("","")).replace(/\(\s*\)/g,"")).replace(/\s+/g," "),u.push(b),i.push(x.a.create({matchType:y,matchValue:v,contactPrimaryKey:p.contactId,store:l}))}o=u.join(", ")}return L.a.create({primaryLabel:a,secondaryLabel:1===s?z._99("ContactsAutocomplete.GroupSecondaryLabel.Single"):z._99("ContactsAutocomplete.GroupSecondaryLabel.Multiple",{numberOfContacts:s}),category:null,value:o,previewValue:n+a.substr(r)+" ("+s+")",isContactsGroup:!0,contactMatch:z._85(x.a,{matchType:x.b.GROUP,matchValue:i})})},_dataCache:null,initializeDataCache:function(){for(var e={recents:{},contacts:{},groups:{},guidToRecordMapping:{},lastMatch:null},t=0;t<3;++t){var i,n;switch(t){case 0:i="recents",n=H.c;break;case 1:i="contacts",n=H.a;break;case 2:i="groups",n=H.b}for(var r=e[i],a=n.length,s=0;s<a;++s)r[n[s]]={values:[],records:[]};r.guidToRecordMapping={}}return e},generateDataCache:function(e,t){var i=this.initializeDataCache();this._dataCache&&!t&&(e.contacts?i.recents=this._dataCache.recents:e.result&&(i.contacts=this._dataCache.contacts,i.groups=this._dataCache.groups)),e.result&&(i=this._processRecentsRecords(e.result,i,t)),e.contacts&&(i=this._processContactsRecords(e.contacts,"Contact",i)),e.groups&&(i=this._processContactsRecords(e.groups,"ContactsGroup",i)),i.guidToRecordMapping=z._102(i.recents.guidToRecordMapping,i.contacts.guidToRecordMapping,i.groups.guidToRecordMapping);var n=this.__dummy_prefix__;return c(H.c,i.recents,n),c(H.a,i.contacts,n),c(H.b,i.groups,n),i},_processRecentsRecords:function(e,t,i){if(!Array.isArray(e))return z._100.warn("Invalid %@ records found, cannot process.","Recents"),t;var n,r,a,s,o,c,l,u,d,h,p,f,_,m,g,v,y=t.recents,b=[],I=this.__dummy_prefix__;if(i)g=e;else{g=e.filter(function(e){return"CoreMail.RecentRecipient"===e.type}),v=e.filter(function(e){return"CoreMail.RecentGroup"===e.type});var S=g.length;for(r=0;r<S;r++)c=(s=g[r]).guid,o=s.name,(m=s.address)&&(s.recentsGuid=c,c=I+m.toLowerCase(),s.guid=c,1===(b=(o=o.replace(/["||]/g,"").replace(/,/g," ")).split(/\s+/)).length&&(b=o.split(/,/)),s.names=b,y.guidToRecordMapping[c]=s);for(n=v.length,r=0;r<n;r++)if(c=(s=v[r]).guid,o=s.name,u=s.members)for(p=u.length,a=0;a<p;a++)o=(d=u[a]).name,(h=d.address)&&(l=I+h.toLowerCase(),d.guid=l,b=o.replace(/["||]/g,"").split(/\s+/),d.isMemberOf=[{guid:c,memberName:o,memberNames:b}],(_=y.guidToRecordMapping[l])?_.isMemberOf?(_.isMemberOf.push({guid:c,memberName:o,memberNames:b}),_.names.concat(o)):_.isMemberOf=[{guid:c,memberName:o,memberNames:b}]:(d.timestamps=s.timestamps,d.names=b,d.isGroupMemberOnly=!0,g.push(d),y.guidToRecordMapping[l]=d),y.guidToRecordMapping[c]=s)}var w={};f=g.length;var C=this._contactsStore;for(a=0;a<f;a++){var E=g[a],T=E.recentsGuid,A=z._46.getStoreIdForPrimaryKey(M.a,T);if(!C.hasDataFor(A)){var O=E.recentsGuid,D=E.name,F=E.address;w[F]=O,C.writeData(A,{contactId:O,firstName:D,emailAddresses:[{label:z._99("ContactsAutocomplete.Category.RECENTS"),field:F}]})}N(E,y,I)}return t},_processContactsRecords:function(e,t,i){if(!Array.isArray(e))return z._100.warn("Invalid %@ records found, cannot process.",t),i;for(var n,r,a,s,o,c,l,u,d,h=this.__dummy_prefix__,p=this._contactsStore,f=0,_=e.length;f<_;f++)if(n=e[f],u=null,z._93(n)){if("Contact"===t){var m=n.emailAddresses,g=this.isPhoneNumberSupportEnabled&&n.phones?n.phones:[];if(!(m&&Array.isArray(m)||g&&Array.isArray(g)))continue;if(m&&(m=m.filter(function(e){return!!e.field})),g&&(g=g.filter(function(e){return!!e.field})),m&&m.length<=0&&g&&g.length<=0)continue;u=n.normalized,r=i.contacts,s=H.a,l=n.contactId;var v=n.contactId,y=z._46.getStoreIdForPrimaryKey(M.a,v);p.hasDataFor(y)||p.writeData(y,n)}else if("ContactsGroup"===t){if(!n.contactIds)continue;r=i.groups,s=H.b,l=n.groupId,(c=n.name)&&(u=z._108(c).toLowerCase()+":")}if(u){var b,I;l&&(r.guidToRecordMapping[l]=n),d=u.split(":");for(var S=0,w=s.length;S<w;S++){var C=n[o=s[S]];if(C)if("emailAddresses"===o)for(var E=C.length,T=0;T<E;T++)(u=d[S+T])&&"NULL"!==u&&((b=(a=r[o]).temp)||(b={},a.temp=b),(I=b[h+u])?I.push({idx:T,rec:n}):(b[h+u]=[{idx:T,rec:n}],a.values.push(u)));else{if(!(u=d[S])||"NULL"===u)continue;(b=(a=r[o]).temp)||(b={},a.temp=b),(I=b[h+u])?I.push(n):(b[h+u]=[n],a.values.push(u))}}}}else z._100.warn("Invalid %@ record found, skipping.",t);return i},_nameDisplayOrder:z._105({readOnly:!0,get:function(){return M.f()}}),_sortOrder:z._105({readOnly:!0,get:function(){var e=z._81();return M.g(e)?M.e.FIRST_LAST:M.e.LAST_FIRST}}),_lastSyncToken:null,_lastPrefToken:null,_skipSyncCount:0,_redirectCountForTimeout:0,_redirectCount:0,MAX_REDIRECT:4,MAX_REDIRECT_FOR_TIMEOUT:1,REDIRECT_RESPONSE_TEXT:"<h1>Redirect</h1>",INTERVAL_XHR_TIMEOUT_FOR_RECENTS_REQUEST:3e4,requestDidComplete:function(e,t){this._requestDidComplete(e,t)},_requestDidComplete:function(e,t){var i=t.type,n=t.onComplete;n&&this[n].call(this,e,i);var r,a,s,o=!1,c=e.status,l=!1;if(200!=100*Math.floor(c/100))if(o=!0,i===p.a.CONTACTS)switch(c){case 420:case 422:l=!0}else p.a.RECENT_RECIPIENTS;if(r=e.encodedBody)if(0===r.indexOf("<"))o=!0,s="ContactsAutocomplete.Error.Generic";else if(l)s=r;else if("not found"===r)o=!0,s="ContactsAutocomplete.Error.NotFound";else{try{a=e.body}catch(e){o=!0}a?a.errorValue&&(s=a.message,o=!0):o=!0}else o=!0;if(i===p.a.CONTACTS&&!o){var u=this.get("syncTokenInUse");a.syncToken?(this._lastSyncToken=a.syncToken,a.prefToken?this._lastPrefToken=a.prefToken:(o=!0,this._lastPrefToken=null,z._100.warn("Autocomplete contacts response error: no prefToken found."))):u&&"{}"===r||(o=!0,this._lastSyncToken=null,z._100.warn("Autocomplete  contacts response error:  no sync token found.")),!u&&this._lastSyncToken&&this._lastPrefToken&&this.sendContactsRequest()}if(o)if(l)this._lastSyncToken=null,this._lastPrefToken=null,this.sendContactsRequest();else{s||(s="ContactsAutocomplete.Error.Generic"),a&&z._100.warn(z._77("Autocomplete server error: %{err}",{err:c}));var d=t.onError;d?this[d].call(this,e,i,s):this.requestDidError(e,i,s)}else{var h=t.onSuccess;h?this[h].call(this,a,i):this.requestDidSucceed(i)}},requestDidSucceed:function(e){},_failedNetworkRequestCount:z._105(0),requestDidError:function(e,t,i){t===p.a.RECENT_RECIPIENTS?this.set("recentsDataIsLoaded",!1):this.set("contactsDataIsLoaded",!1);var n=i;if(!n)try{n=e.body}catch(e){n="ContactsAutocomplete.Error.Generic"}this._failedNetworkRequestCount+=1},recentRecipientsRequestCompleted:function(){this.set("recentsRequestIsOutstanding",!1)},recentRecipientsRequestSucceeded:function(e,t){if(this.set("recentsRequestHasCompleted",!0),t===p.a.RECENT_RECIPIENTS){if(e&&e.result){var i=this.generateDataCache(e);this._dataCache=i}this.set("recentsDataIsLoaded",!0),this.set("allDataIsLoadedForQuery",!0)}else this.set("recentsRequestHasCompleted",!1),this._lastSearchedPrefix=null,this._lastSearchedDataCache=null},contactsRequestCompleted:function(){this.set("contactsRequestIsOutstanding",!1)},contactsRequestSucceeded:function(e,t){if(this.set("contactsRequestHasCompleted",!0),e&&e.contacts){var i=this.generateDataCache(e);this._dataCache=i,this.resolveGroupsMembershipAsPossibleWithLoadedData(i)}this.set("contactsDataIsLoaded",!0),this.set("allDataIsLoadedForQuery",!0)},_haveDelegatePerform:function(e,t,i){var n=this.get("delegate");return!!n&&n[e](t,i)},_indexForString:function(e,t){if(0===e.length)return 0;for(var i,n,r=!1,a=0,s=e.length-1;!r&&a<=s;){i=!1;var o=e[n=Math.floor((a+s)/2)];o===t?r=!0:o<t?(a=n+1,i=!0):s=n-1}var c=n;return i&&++c,c},_sortRecentsResultsByTimeStamp:function(e){return 1<e.length&&e.sort(function(e,t){var i=e.timestamps.length,n=t.timestamps.length;if(n<i)return-1;if(i<n)return 1;e.timestamps.sort(function(e,t){return t-e}),t.timestamps.sort(function(e,t){return t-e});var r=e.timestamps[i-1],a=t.timestamps[n-1];return r===a?0:a<r?-1:1}),e},_loadingStatus:z._105(),_updateLoadingStatus:z._106("_failedNetworkRequestCount","contactsRequestIsOutstanding","contactsDataIsLoaded",function(e,t,i){var n=this._loadingStatus;this._loadingStatus=Object(r.a)(n,e,t,i)}),staticMembers:{__QUALIFIED_CLASS_NAME__:"DataSource"}});function N(e,t,i){var n=e.normalizedValues;if(n){for(var r=H.c,a=0,s=r.length;a<s;a++){var o,c=r[a];if("names"===c)for(var l=e.names.length,u=0;u<l;u++)(o=n[a+u])&&v("names",o,e,t,i);else(o=n[a])&&v(c,o,e,t,i)}var d=e.guid;t.guidToRecordMapping[d]=e}else{var h=e.address;if(!h)return;n=[h=z._108(h).toLowerCase()],v("address",h,e,t,i);var p=e.name;if(p){p=p.replace(/["||]/g," ").trim();var f=(e.name=p).split(/\s/),_=f.length;1===_&&(_=(f=p.split(/,/)).length);for(var m=0;m<_;m++){var g=f[m];-1===n.indexOf(g)&&(g=z._108(g).toLowerCase(),n.push(g),v("names",g,e,t,i))}}e.normalizedValues=n}}function v(e,t,i,n,r){var a=n[e],s=a.temp;s||(s={},a.temp=s);var o=r+t,c=s[o];return c?c.push(i):(s[o]=[i],a.values.push(t)),t}function c(e,c,l){e.forEach(function(e){var t=c[e],i=t.values,n=t.temp;if(n){i.sort();for(var r=[],a=0,s=i.length;a<s;a++){var o=n[l+i[a]];r.push(o)}t.records=r,delete t.temp}})}function l(e){if(!e)return 0;if("MAIN"===e)return 3;if("HOME"===e)return 3;if("WORK"===e)return 2;switch(e.toLowerCase()){case"main":return 3;case"home":return 2;case"work":return 1;default:return 0}}function S(e){return e.reduce(function(e,t){return l(e.label)>l(t.label)?t:e})}},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"ContactsAutocomplete.Error.Internal":"Internal error","ContactsAutocomplete.Error.Generic":"Couldnt load contacts because of a server error.","ContactsAutocomplete.Error.NotFound":"Couldnt load contacts because the server could not be found.","ContactsAutocomplete.SearchingProgress":"Searching for %{searchString}","ContactsAutocomplete.GroupSecondaryLabel.Multiple":"%{numberOfContacts} contacts","ContactsAutocomplete.GroupSecondaryLabel.Single":"1 contact","ContactsAutocomplete.GroupMembers":"%{emailAddresses} & %{lastEmailAddress}","ContactsAutocomplete.Recents.Delete.Title":"Remove From Recents","ContactsAutocomplete.Recents.Delete.Recipient.Text":"Are you sure you want to remove this recent recipient?","ContactsAutocomplete.Recents.Delete.Group.Text":"Are you sure you want to remove this recent group?","ContactsAutocomplete.Category.WORK":"work","ContactsAutocomplete.Category.HOME":"home","ContactsAutocomplete.Category.MOBILE":"mobile","ContactsAutocomplete.Category.MAIN":"main","ContactsAutocomplete.Category.HOMEFAX":"home fax","ContactsAutocomplete.Category.WORKFAX":"work fax","ContactsAutocomplete.Category.PAGER":"pager","ContactsAutocomplete.Category.OTHER":"other","ContactsAutocomplete.Category.CUSTOM":"custom","ContactsAutocomplete.Category.RECENTS":"recents","ContactsAutocomplete.PreviewTemplate.MatchPersonByFirstName":"%{firstAndLastNameInProperOrder}  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByMiddleName":"%{middleName} (%{firstAndLastNameInProperOrder})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByLastName":"%{lastAndFirstNameInProperOrder}  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByNickName":"%{nickName} (%{firstAndLastNameInProperOrder})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByCompanyName":"%{companyName} (%{firstAndLastNameInProperOrder})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchPersonByContact":"%{contactValue} (%{firstAndLastNameInProperOrder})","ContactsAutocomplete.PreviewTemplate.MatchPersonByNickAndLastName":"%{nickName} %{lastName}  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByFirstName":"%{firstAndLastNameInProperOrder} (%{company})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByMiddleName":"%{middleName} (%{firstAndLastNameInProperOrder}) (%{companyName})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByLastName":"%{lastAndFirstNameInProperOrder} (%{companyName})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByNickName":"%{nickName} (%{firstAndLastNameInProperOrder}) (%{companyName})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByCompanyName":"%{companyName} (%{firstAndLastNameInProperOrder})  %{contactValue}","ContactsAutocomplete.PreviewTemplate.MatchCompanyByContact":"%{contactValue} %{companyName} (%{firstAndLastNameInProperOrder})","ContactsAutocomplete.PreviewTemplate.MatchRecentByName":"%{matchedName}  %{emailAddress}","ContactsAutocomplete.PreviewTemplate.MatchRecentByEmailAddress":"%{matchedEmail} (%{name})"})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(71),r=i(0),a=i(113),s=i(805),o=n.c.extend({listViewItemMappedClass:s.a,contentController:r._105({defaultValue:r._85(n.e.extend({membershipInfoLoader:r._105(r._85(a.c))}))}),staticMembers:{__QUALIFIED_CLASS_NAME__:"AutocompleteMenu"}})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){"use strict";i(0)},function(e,t,i){"use strict";var n=i(0);n._26,n._31.define(),n._31.define(),n._31.define()},function(e,t,i){"use strict";i(0)},function(e,t,i){"use strict";(function(a){var s=i(0),o=i(839),c=s.v.extend({staticMembers:{hasNativeSupportWithoutPrefix:null,hasNativeSupportWithWebKitPrefix:null,hasNativeSupportWithMSPrefix:null,hasNativeSupport:null,encodeFromString:function(e){if(e=a.unescape(encodeURIComponent(e)),!this.hasNativeSupport){var t=s.w.create();return t.resolve(o.a.hash(e)),t}for(var i=new Uint8Array(e.length),n=0,r=e.length;n<r;++n)i[n]=e.charCodeAt(n);return this.hasNativeSupportWithoutPrefix?a.crypto.subtle.digest("SHA-256",i).then(function(e){return c._arrayBufferHashToHexString(e)}):this.hasNativeSupportWithWebKitPrefix?a.crypto.webkitSubtle.digest("SHA-256",i).then(function(e){return c._arrayBufferHashToHexString(e)}):void 0},_arrayBufferHashToHexString:function(e){for(var t,i=[],n=new DataView(e),r=0;r<n.byteLength;r+=4)t=("00000000"+n.getUint32(r).toString(16)).slice(-"00000000".length),i.push(t);return i.join("")},__QUALIFIED_CLASS_NAME__:"SHA256"}}),e=a.crypto;e?e.subtle?c.hasNativeSupportWithoutPrefix=!!e.subtle.digest:e.webkitSubtle&&(c.hasNativeSupportWithWebKitPrefix=!!e.webkitSubtle.digest):a.msCrypto&&a.msCrypto.subtle&&(c.hasNativeSupportWithMSPrefix=!!a.msCrypto.subtle.digest),c.hasNativeSupport=c.hasNativeSupportWithWebKitPrefix||c.hasNativeSupportWithoutPrefix}).call(t,i(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var l=i(4),u=i(0),d=i(368),h=i(369),n=u.v.extend(u._8,{init:function(e,t,i){this.hostService=e,this.environment=t,this.__s._$CB$init.call(this,i)},hostService:u._105(),environment:u._105(),getURLForItem:function(e){return this._getDocWSURLForItem(e)},_getDocWSURLForItem:function(a){var e,t=a.get("zone"),i=a.get("docwsid"),s=l.g.create(),n=this.hostService;try{e=Object(h.a)(n.getValidateToken())}catch(e){var r=d.a.getListOfAvailableCookiesAsConcatenatedString();u._75("Error in BRApp.Services.ItemURLService requesting COSK getValidateCookie()",{error:e,cookies:r})}null==e&&u._100.error("ItemURLService Failed to getAuthTokenFromCookie");var o=l.c.create({useCredentialsIfCrossOrigin:!0}),c=o.url;return c.serviceName="docws",c.pathname="/ws/"+t+"/download/by_id",c.appendQueryParameter("document_id",i),c.appendQueryParameter("token",e),o.didSucceed=function(e){var t=e.get("response"),i=JSON.parse(t.encodedBody),n=i.package_token,r=u.v.create();r.set("item",a),void 0!==n?(r.set("url",n.url),r.set("isPackage",!0)):(r.set("url",i.data_token.url),r.set("isPackage",!1)),s.resolve(r)},o.didFail=function(e){var t,i=e.get("response").get("body");t=i?u.v.create({item:a,errorCode:i.error_code,serverErrorCode:i.serverErrorCode,reason:i.reason}):u.v.create({item:a,errorCode:"UNK",serverErrorCode:"UNK",reason:"UNK"}),s.reject(t)},o.send().catch(function(){}),s},_getDriveWSURLForItem:function(e,t){var i=this._getDriveWSURL()+"/download?drivewsid="+e.get("id");return l.g.createAndResolve(i)},_getDriveWSURL:function(){return this.environment.authBag.getServiceUrlFor("drivews",!1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"ItemURLService"},__superMap:{_$CB$init:"init"}})},function(e,t,l){"use strict";(function(e){l.d(t,"a",function(){return c});var s=l(4),a=l(0),r=l(743),i=a._87(["gif","jpeg","jpg","mp3","mp4","mov","png","txt","wav"]),o={ie9:a._87(["mov","mp4","wav","pdf"]),chrome:a._87(["mp4","mov"]),firefox:a._87(["mp4","mov"])},n=a._87(["key","key-tef","keynote","keynote-tef","numbers","numbers-tef","pages","pages-tef"]),c=a.v.extend(a._8,{init:function(e,t,i,n,r){this.itemURLService=e,this.downloadService=t,this.cloudOSService=i,this.loggingService=n,this.__s._$eE$init.call(this,r)},staticMembers:{actions:{OPEN_IN_BROWSER:0,DOWNLOAD:1,OPEN_IN_IWORK:2},__QUALIFIED_CLASS_NAME__:"OpenFileService"},downloadService:null,itemURLService:null,cloudOSService:null,loggingService:null,delegate:null,loadBrowser:function(){return a.j.sharedInstance},_browserDoesNotSupportExtension:function(e){var t=this._getLowerCaseFileExtension(e),i=this.loadBrowser(),n=void 0;return i.isIE9OrLower?n="ie9":i.isChrome?n="chrome":i.isFirefox&&(n="firefox"),!!n&&o[n][t]},_canOpenFileInBrowser:function(e){var t=this._getLowerCaseFileExtension(e);return!(!i[t]||this._browserDoesNotSupportExtension(e))},_canOpenFileInIWork:function(e){var t=this._getLowerCaseFileExtension(e);return n[t]},openFile:function(t){var i=this,n=r.a.sharedInstance;return t.isInTrash?s.g.create().resolve():this._canOpenFileInBrowser(t)?this._openFileInBrowser(t).then(function(e){n.itemWasOpened(e).catch(function(e){i._handleLastOpenTimeUpdateFailure(t)})}):this._canOpenFileInIWork(t)?this._openFileInIWork(t).then(function(e){n.itemWasOpened(e).catch(function(e){i._handleLastOpenTimeUpdateFailure(t)})}):this._downloadFile(t)},_openFileInBrowser:function(n){var r=s.g.create(),a=e.open("","_blank");return a?(this.itemURLService.getURLForItem(n).then(function(e){var t=e.url;if(!t)return a&&a.close(),void r.reject(e);var i=-1===t.indexOf("?")?"?":"&";a.location.href=t+i+"cd=i",r.resolve(n)}).catch(function(e){a.close(),r.reject(e)}),r):r.reject()},_downloadFile:function(t){var i=s.g.create();return this.downloadService.downloadFromURL(t).then(function(e){i.resolve(t)}).catch(function(e){i.reject(t,c.actions.DOWNLOAD)}),i},_openFileInIWork:function(e){var t=this.cloudOSService;t||a._75("Unable to open files in iWork without CloudOS");var i=e.extension;i=i.replace(/-tef$/,"");var n=encodeURIComponent(e.name.replace(/\s/g,"_"));i&&"key"===i.toLowerCase()&&(i="keynote");var r=e.sharingToken;return r&&(r+="#"+n),t.openIWorkFile({appName:i,sharingToken:r,zone:e.zone,documentId:e.docwsid}),s.g.createAndResolve(e)},_getLowerCaseFileExtension:function(e){var t=e.extension;return t?t.toLowerCase():""},_handleLastOpenTimeUpdateFailure:function(e){this.loggingService.recordStat("couldNotUpdateItemLastOpenedTime"),a._100.warn("Unable to set the last opened time for file ["+e.id+"] "+e.name)},__superMap:{_$eE$init:"init"}})}).call(t,l(5))},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(0),c=(i(4),i(699)),l=i(700),u=i(698),d=i(697),h=i(366),p=i(112),n=o.v.extend(o._8,{fileSystem:o._107({weak:!0}),activeTransactions:o._105({readOnly:!0,get:function(){for(var e=this._activeFileUploadTransactions,t=Object.keys(e),i=t.length,n=new Array(t.length),r=0;r<i;r++){var a=e[t[r]];n[r]=a.transaction}return n}}),activeTransactionsCount:o._105({readOnly:!0,get:function(){return this._activeFileUploadTransactionsCount}}),hasActiveTransactions:o._105({readOnly:!0,dependencies:["activeTransactionsCount"],get:Object.assign(function(){return 0<this.activeTransactionsCount},{__CW__getter:function(e,t,i,n){return 0<n.internalGet(this,t[0+i])}})}),activatedTransaction:o._118(),transactionFinalized:o._118(),init:function(e,t){this._uploadFileTransactionFactory=e,this.__s._$i4$init.call(this,t),this._activeFileUploadTransactions={},this._activeFileUploadTransactionsCount=0,this._uploadFileToTransactionMap={},this._stagedTransactions=[]},generateUploadFileTransaction:function(e,t){return this._uploadFileTransactionFactory.getInstance(this.fileSystem,this.fileSystem,e,t)},commitUploadFileTransaction:function(e,t){var i=this;return this._validateAndPrepareTransaction(e,t).then(function(){return i._commitStagedTransaction(e)})},cancelUploadForFile:function(e){var t=this._uploadFileToTransactionMap[o._82(e)];t?t.get("isCancellable")?t.cancel():o._100.warn("Unable to cancel file upload. Cancel not allowed"):o._100.warn("Unable to cancel file upload. Missing transaction")},_uploadFileTransactionFactory:o._105({strong:!0}),_commitStagedTransaction:function(e){return this.activatedTransaction(e),this.propertyChanged("activeTransactionsCount"),this._activeFileUploadTransactionsCount+=1,e.commit()},_stageAndManageTransaction:function(t){var i=this;if(t){t.stage();var e=t.get("stagedFile"),n=t.observe("finalized",function(e){e&&i._transactionDidFinalize(t)});return this._activeFileUploadTransactions[o._82(t)]={observer:n,transaction:t,file:e},t.retain(this,"UploadFilesService - manage transaction"),this._uploadFileToTransactionMap[o._82(e)]=t}o._100.warn("Unable to upload file to folder. No transaction returned")},_transactionDidFinalize:function(e){var t=o._82(e),i=this._activeFileUploadTransactions,n=i[t];if(n){n.observer.disconnect();var r=n.file;delete this._uploadFileToTransactionMap[o._82(r)],i[t].transaction.release(this,"UploadFilesService - manage transaction"),delete i[t],this._activeFileUploadTransactionsCount--,this.propertyChanged("activeTransactionsCount"),this.transactionFinalized(e)}else o._100.warn("Cannot complete finalizing file upload transaction. Missing info.")},_validateAndPrepareTransaction:function(e,t){var i=this,n=e.destinationFolder;return function(e,t,i){var r=this,n=[],a=h.a.create(e,t,{multipleFiles:i&&i.multipleFiles,meta:i});n.push({validation:function(e){return!e||e&&!e.isAccessDenied},arguments:[i],fail:function(){return h.b.create(p.a.AccessDenied,a)}}),n.push({validation:d.a,arguments:[e,t],fail:function(){return h.b.create(p.a.BadAppLibraryType,a)}}),n.push({validation:u.a,arguments:[e],async:!0,fail:function(){return h.b.create(p.a.NotCompressed,a)}}),n.push({validation:c.a,arguments:[e],fail:function(){return h.b.create(p.a.HiddenFile,a)}}),n.push({validation:l.a,arguments:[e],fail:function(){return h.b.create(p.a.SizeTooBig,a)}});var s=n.map(function(i){var n=o.w.create();return i.async||(i.validation=o.w.wrapFunction(i.validation)),i.validation.apply(r,i.arguments).then(function(e){if(!0===e)n.resolve(!0);else{var t=i.fail();n.reject(t)}}),n});return o.w.all(s).then(function(){return!0}).catch(function(e){return o.w.reject(e)})}(e.nativeFile,n,t).then(function(){return i._stageAndManageTransaction(e)})},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFilesService"},__superMap:{_$i4$init:"init"}})},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__152.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__151.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__150.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__149.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__148.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__147.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__134.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__133.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__132.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__131.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__130.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__129.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__128.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__127.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__126.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__125.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__124.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__123.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__122.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__92.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__91.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__90.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__89.png"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__88.png"},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i(30);var n=i(16),r=i(0),a=i(72).a.extend({errorGroupType:n.J.MovedItemToAppLibraryErrors,getMainMessageForErrorItem:function(e){return r._99("DriveUI.DragDrop.Alert.CannotMoveToAppFolder.Single.Message")},getDescriptionForErrorItem:function(e,t){return s(e.details.destinationFolder)},getMainMessageForErrorGroup:function(e,t){var i=e.items[0].details.destinationFolder;return r._99("DriveUI.DragDrop.Alert.CannotMoveToAppFolder.Description",{appFolderName:i})},getMainDescriptionForErrorGroup:function(e,t){return s(e.items[0].details.destinationFolder)},staticMembers:{__QUALIFIED_CLASS_NAME__:"MoveItemsToAppLibraryErrorItemPresentationInfoGenerator"}});function s(e){return r._99("DriveUI.DragDrop.Alert.CannotMoveToAppFolder.Description",{appFolderName:e})}},function(e,t,i){"use strict";var d=i(4),h=i(0),a=(i(56),i(30),i(117)),p=i(397),n=i(116),r=i(37),f=h._67("BRApp.DownloadAlertState",function(e){e("Closed"),e("Open")});h.v.extend(h._8,{showcaseViewPool:h._107(null),iconService:h._107(null),thumbnailCanvasFactory:h._107(null),thumbnailStatsReporterService:h._107(null),alertState:h._105({defaultValue:f.Closed}),errorDataList:h._85(Array),registerDownloadErrorWithResponseData:function(e){this.alertState===f.Closed?(this.errorDataList.push(e),this._presentSingleFileAlert()):this.alertState===f.Open?(this.errorDataList.push(e),this._switchFromSingleToMultiAlert()):h._75("Download Alert - Unknown state")},registerDownloadError:function(e){var t=h.v.create({item:e,errorCode:"UNK",serverErrorCode:"UNK",reason:"UNK"});this.registerDownloadErrorWithResponseData(t)},_presentSingleFileAlert:function(){var e=this,t=h.e.application._paneManager,i=this.errorDataList[0],n=this._myAlertView;if(n)n.set("message",this._getMessageForSingleErrorItem(i)),n.set("description",this._getDescriptionForSingleErrorItem(i));else{n=a.a.create({message:this._getMessageForSingleErrorItem(i),description:this._getDescriptionForSingleErrorItem(i)});var r=d.h.create({title:h._99("DriveUI.Common.Button.OK"),additionalClassNames:h._60(["ok"]),target:this,action:function(){n.animateClosed(),t.removeRootView(n),e.alertState=f.Closed,e.errorDataList.length=0}});n.buttonViews=[r],this._myAlertView=n}t.addRootView(n),n.animateOpen(),this.alertState=f.Open},_presentMultiFileAlert:function(e){var t=this,i=d.h.create({title:h._99("DriveUI.Common.Button.OK"),additionalClassNames:h._60(["ok"]),target:this,action:function(){r.animateClosed(),h.e.application._paneManager.removeRootView(r),t.alertState=f.Closed,t.errorDataList.length=0}}),n=this.errorDataList.length,r=this._detailedAlert;r?(r.set("message",this._getMessageForMultipleErrorItems(this.errorDataList)),r.set("description",this._getDescriptionForMultipleErrorItems(this.errorDataList))):(r=p.a.create({additionalClassNames:h._60(["brapp"]),iconNames:"iclouddrive",message:this._getMessageForMultipleErrorItems(this.errorDataList),description:this._getDescriptionForMultipleErrorItems(this.errorDataList),buttonViews:[i]}),this._detailedAlert=r);var a=!1;"MultipleErrorTypes"===this._getErrorCodeForMultipleItems(this.errorDataList)&&(a=!0),r.removeDetails();for(var s=0;s<n;s++){var o=this.errorDataList[s],c=o.get("item"),l=c.get("fullName"),u="";a&&(u=this._getItemDescription(o)),r.addDetail(l,u,this._getIconViewForFile(c))}a?r.set("detailDescriptionsVisible",!0):r.set("detailDescriptionsVisible",!1),h.e.application._paneManager.addRootView(r),e?r.animateOpen():(r.updatePosition(),r.get("style").set("opacity",1)),this.alertState=f.Open},_switchFromSingleToMultiAlert:function(){h.e.application._paneManager.removeRootView(this._myAlertView),this._presentMultiFileAlert()},_getIconViewForFile:function(e){var t=n.a.create(this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,{additionalClassNames:h._60(["medium"]),displaySize:r.a.MEDIUM});t.set("content",e);var i=e.get("extension");return t.set("fileType",i),t.set("fileExtension",i),t},_getMessageForSingleErrorItem:function(e){var t,i=e.get("errorCode"),n=e.get("item").get("fullName");switch(i){case"DocumentDeletedException":t=h._99("DriveUI.Alert.Download.Single.Deleted.Title",{fileName:n});break;default:t=h._99("DriveUI.Alert.Download.Single.Generic.Title",{fileName:n})}return t},_getDescriptionForSingleErrorItem:function(e){var t;switch(e.get("errorCode")){case"DocumentDeletedException":t=h._99("DriveUI.Alert.Download.Single.Deleted.Subtitle");break;default:t=h._99("DriveUI.Alert.Download.Single.Generic.Subtitle")}return t},_getMessageForMultipleErrorItems:function(e){var t,i=this._getErrorCodeForMultipleItems(e),n=e.length;switch(i){case"DocumentDeletedException":t=h._99("DriveUI.Alert.Download.Multiple.Deleted.Title",{fileCount:n});break;case"MultipleErrorTypes":t=h._99("DriveUI.Alert.Download.Multiple.Mixed.Title",{fileCount:n});break;default:t=h._99("DriveUI.Alert.Download.Multiple.Generic.Title",{fileCount:n})}return t},_getDescriptionForMultipleErrorItems:function(e){var t;switch(this._getErrorCodeForMultipleItems(e)){case"DocumentDeletedException":t=h._99("DriveUI.Alert.Download.Multiple.Deleted.Subtitle");break;case"MultipleErrorTypes":t=h._99("DriveUI.Alert.Download.Multiple.Mixed.Subtitle");break;default:t=h._99("DriveUI.Alert.Download.Multiple.Generic.Subtitle")}return t},_getItemDescription:function(e){var t;switch(e.get("errorCode")){case"DocumentDeletedException":t=h._99("DriveUI.Alert.Download.Multiple.ItemDetails.Deleted.Subtitle");break;default:t=h._99("DriveUI.Alert.Download.Multiple.ItemDetails.Generic.Subtitle")}return t},_getErrorCodeForMultipleItems:function(e){for(var t,i=0;i<e.length;i++){var n=e[i];if(t){if(t!==n.get("errorCode")){t="MultipleErrorTypes";break}}else t=n.get("errorCode")}return t},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadAlertController"}}).create()},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),s=(i(4),i(16)),o=i(854),c=i(843),r=n.v.extend({service:n._107({get:function(){return this._raiseAlertService}}),showcaseViewPool:n._107(),iconService:n._107(),thumbnailCanvasFactory:n._107(),thumbnailStatsReporterService:n._107(),init:function(e,t,i,n,r,a){this.iconService=e,this.showcaseViewPool=t,this.thumbnailCanvasFactory=i,this.thumbnailStatsReporterService=n,this.thumbnailCanvasFactory=i,this.upgradeButtonUrl=r,this.__s._$UZ$init.call(this,a),this._raiseAlertService=this.loadRaiseAlertService()},upgradeButtonUrl:n._107(),loadRaiseAlertService:function(){var e=o.a.create();e.addErrorAggregator(s.b.create()),e.addErrorAggregator(s.d.create()),e.addErrorAggregator(s.v.create()),e.addErrorAggregator(s.z.create()),e.addErrorAggregator(s.y.create()),e.addErrorAggregator(s.F.create()),e.addErrorAggregator(s.G.create()),e.addErrorAggregator(s.M.create()),e.addErrorAggregator(s.O.create({filters:this._loadFiltersForUploadValidationErrors()}));var t=this.iconService,i=this.showcaseViewPool,n=this.thumbnailCanvasFactory,r=this.thumbnailStatsReporterService,a=this.upgradeButtonUrl;return e.alertPresenter=c.a.create(t,i,n,r,a).alertPresenter,e},_loadFiltersForUploadValidationErrors:function(){var e=[],t=s.R.create();return e.push(t),e},staticMembers:{__QUALIFIED_CLASS_NAME__:"RaiseAlertServiceController"},__superMap:{_$UZ$init:"init"}})},function(e,t,i){"use strict";var n=i(4);i.d(t,"a",function(){return n.d})},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.DragDrop.Dialog.Move.FileShared.Single.Title":"Moving %{fileName} will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.Single.Message.Out":"You are currently sharing this file. Moving it out of this app library will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.Single.Message.In":"You are currently sharing this file. Moving it into this app library will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.Some.Title":"Moving shared files will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.Some.Message.Out":"You are sharing %{fileCount} of these %{fileCountTotal} files. Moving them out of this app library will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.Some.Message.In":"You are sharing %{fileCount} of these %{fileCountTotal} files. Moving them into this app library will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.All.Title":"Moving shared files will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.All.Message.Out":"You are currently sharing these files. Moving them out of this app library will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.All.Message.In":"You are currently sharing these files. Moving them into this app library will stop sharing.","DriveUI.DragDrop.Dialog.Move.FileShared.Button.Move":"Move Anyway","DriveUI.DragDrop.Alert.CannotMoveToAppFolder.Single.Message":"Cannot move this type of file to this application folder","DriveUI.DragDrop.Alert.CannotMoveToAppFolder.Multiple.Message":"Cannot move these files to this application folder","DriveUI.DragDrop.Alert.CannotMoveToAppFolder.Description":"Only files that can be opened by %{appFolderName} can be moved here"})},function(e,t){},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.DateTime.Relative.JustNow":"Just now","DriveUI.DateTime.Relative.OneMinuteAgo":"1 minute ago","DriveUI.DateTime.Relative.LessThanAnHourAgo":"%{minutes} minutes ago","DriveUI.DateTime.Relative.Today":"%{time:h}:%{time:mm} %{time:a}","DriveUI.DateTime.Relative.Yesterday":"Yesterday","DriveUI.DateTime.Relative.Tomorrow":"Tomorrow","DriveUI.DateTime.Absolute.DateOnly":"%{date:M}/%{date:d}/%{date:yy}"})},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i(118),i(56);var l=i(4),a=i(8),s=i(0),o=i(117),n=s.v.extend({init:function(e,t,i){this.itemURLService=e,this.downloadService=t,this.__s._$Gc$init.call(this,i)},itemURLService:s._107(null),emailSelection:function(e){var t=0,i=[];if(e.forEach(function(e){t+=e.get("size"),i.push(e)}),2e7<t)return this._showAttachmentTooLargeAlert(i),l.g.createAndResolve();var n=l.g.create(),r=a.d.create();return r.openWindow(),this._getDownloadDataForItems(i).then(function(e){r.addAttachments(e),r.populateFields(),n.resolve(e)}).catch(function(e){r.closeWindow(),n.reject(e)}),n},_getDownloadDataForItems:function(n,r,a){var e,s,o,c=this;if(r=r||l.g.create(),a=a||[],n&&0!==n.length)return e=n.shift(),this.itemURLService.getURLForItem(e).then(function(e){var t=e.get("item");s=t.get("fullName");var i=e.get("url");!0===e.get("isPackage")?(s+=".zip",o=l._11.zip):(o=l._11[(t.get("extension")||"").toLowerCase()])||(o="application/octet-stream"),a.push({fileName:s,type:o,size:t.get("size"),url:i}),c._getDownloadDataForItems(n,r,a)}).catch(function(e){var t=e.get("item");r.reject(t)}),r;r.resolve(a)},_showAttachmentTooLargeAlert:function(e){var t,i;1===e.length?(t=s._99("DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Title",{fileName:e[0].get("fullName")}),i=s._99("DriveUI.FilesGrid.Error.Email.AttachmentTooLarge.Subtitle",{maxFileSizeInMB:20})):(t=s._99("DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Title"),i=s._99("DriveUI.FilesGrid.Error.Email.AttachmentsTooLarge.Subtitle",{maxFileSizeInMB:20}));var n=l.h.create({shortcut:s.S.RETURN,additionalClassNames:s._60(["ok"]),title:s._99("DriveUI.Common.Button.OK"),target:this,action:function(){r.animateClosed(),s.e.application._paneManager.removeRootView(r)}}),r=o.a.create({message:t,description:i,buttonViews:[n]});s.e.application._paneManager.addRootView(r),r.animateOpen()},staticMembers:{__QUALIFIED_CLASS_NAME__:"ComposeEmailService"},__superMap:{_$Gc$init:"init"}})},function(e,t){},function(e,T,A){"use strict";(function(f){A.d(T,"a",function(){return b}),A(30),A(118),A(56);var _=A(4),m=A(0),h=A(16),e=A(1433),p=(A.n(e),A(117)),o=A(856),t=A(224),i=A(858),c=A(116),n=A(860),r=A(861),a=A(862),g=A(865),s=A(37),l=A(402),v=A(866),u=A(868),d=A(855),y=m._67("DisplayMode",function(e){e("None"),e("Loading"),e("Grid"),e("Empty"),e("Error")}),b=_._8.extend(m._8,t.a,{session:m._105({strong:!0,defaultValue:null}),fileSystem:m._105(m._64("session.fileSystem")),iconService:m._105({strong:!0,defaultValue:null}),composeEmailService:m._105({strong:!0,defaultValue:null}),folder:m._105({strong:!0,defaultValue:null}),showcaseViewPool:m._105({strong:!0,defaultValue:null}),raiseAlertService:m._105({strong:!0,defaultValue:null}),thumbnailCanvasFactory:m._105({strong:!0,defaultValue:null}),thumbnailScalingService:m._105({strong:!0,defaultValue:null}),thumbnailStatsReporterService:m._107({strong:!0,defaultValue:null}),folderContent:m._105({strong:!0,readOnly:!0,dependencies:["folder"],get:Object.assign(function(){var e=this.folder;return e?e.content:null},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]);return r?r.content:null}})}),selection:m._105({readOnly:!0,defaultValue:m._85(h.D)}),_actionPolicy:m._105(m._64("session.actionPolicy")),_trashPolicy:m._105(m._64("session.trashPolicy")),viewClass:i.a,allowsMultipleSelection:m._105(!0),openFileService:m._107({strong:!0,defaultValue:null}),_folderItemInfoPopoverController:m._107({strong:!0}),_folderItemInfoDialogController:m._107({strong:!0}),_cellDragSourceHandler:m._107({strong:!0}),_cellDragTargetHandler:m._107({strong:!0}),_moveItemDragStatusInfoItem:m._107({strong:!0}),_spinner:m._107({strong:!0}),_emptyView:m._107({strong:!0}),_errorView:m._107({strong:!0}),_anchorItems:m._107({strong:!0}),init:function(e,t,i,n,r,a,s,o,c,l,u,d,h,p){this.session=e,this.downloadService=t,this.itemSharingServiceFactory=i,this.openFileService=n,this.raiseAlertService=r,this.iconService=a,this.showcaseViewPool=s,this.thumbnailCanvasFactory=o,this.downloadImageService=c,this.itemURLService=l,this.composeEmailService=u,this.thumbnailScalingService=d,this.thumbnailStatsReporterService=h,this.__s._$1xs$init.call(this,p),this._anchorItems=null,this._currentDisplayMode=y.None,this._cellDragSourceHandler=this.loadFilesGridCellDragSourceHandler(),this._cellDragTargetHandler=this.loadFilesGridCellDragTargetHandler(),this._moveItemDragStatusInfoItem=v.a.create(),this._scrollSpeedAboveThreshold=!1,this._setupScrollingRollingAverageDataStructure();var f=this._folderItemInfoDialogController=this.loadFolderItemInfoDialogController();(this._folderItemInfoPopoverController=this.loadFolderItemInfoPopoverController()).contentController=f},prepareForReuse:function(){this.selection.clear(),this.view.deselectAllItems(),this.folder=null,this._currentDisplayMode=y.None},loadFolderItemInfoDialogController:function(){return a.a.create(this.fileSystem,this)},loadFolderItemInfoPopoverController:function(){var e=this,t=287;return l.a.isLocaleAnExtraLongLanguage()&&(t=350),m._21.extend({viewClass:m._4.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:["br-item-info","drive-ui","files-grid-info-popover"]}}}}),keyDown:function(e){return e.which===m.S.ESC&&(this.filesGridViewController._onDismissPopover(this),!0)},filesGridViewController:m._105(this),modalBackgroundWasClicked:function(){e._onDismissPopover(this)}}).create({allowedLayouts:[m._14,m._13,m._12,m._15],arrowLength:13,arrowWidth:29,delegate:this,desiredSize:m._43.create({height:1/0,width:t}),resolutionStrategy:m.h})},loadFilesGridCellDragSourceHandler:function(){return n.a.create(_._10({root:this,path:"folder"}),_._10({root:this,path:"selection"}),{delegate:this})},loadFilesGridCellDragTargetHandler:function(){return r.a.create({delegate:this})},_onDismissPopover:function(e){var t=this;if(e&&e.isAttached){var i=e.contentController,n=i.content;if(n.isAppLibrary)e.hide();else{var r=i.value;this._tryCommittingNameToFolderItem(r,n).then(function(){t._folderItemInfoPopoverCellIndex=null,t.folderContent.startRemoteSynchronization(),e.hide()}).catch(function(e){throw i.revert(),e}).catch(E(this))}}},_presentFolderItemInfoPopoverForCell:function(e){this._dismissFolderItemInfoPopoverIfNeeded();var t=this.folderContent,i=e.index,n=this._folderItemInfoDialogController;n.content=this.getItemAtIndex(i);var r=this._folderItemInfoPopoverController;r.show(e.infoButton),r.desiredSize.height=n.view.element.getBoundingClientRect().height,this._folderItemInfoPopoverCellIndex=i,t.stopRemoteSynchronization()},_dismissFolderItemInfoPopoverIfNeeded:function(){this._onDismissPopover(this._folderItemInfoPopoverController)},_dismissFolderItemInfoPopoverForCellIndex:function(e){this._folderItemInfoPopoverCellIndex===e&&this._dismissFolderItemInfoPopoverIfNeeded()},_presentSubfolder:function(e){this._dismissFolderItemInfoPopoverIfNeeded(),this.session.changeDirectory(e)},_performNavigateBackAction:function(e){this.session.changeDirectoryUp()},_showModeView:function(e){this.view.addSubview(e,"")},_hideModeView:function(e){this.view.removeSubview(e,"")},_updateDisplayMode:function(){var e,t=this.isViewVisible,i=this.folderContent,n=!!i&&i.isLoading,r=this._currentDisplayMode;if((e=t?n?y.Loading:i.hasError?y.Error:0===this.getItemCount()?y.Empty:y.Grid:y.None)!==r){var a=this.view;i&&i.stopRemoteSynchronization();var s=this._spinner;s&&(this._hideModeView(s),s.spin=!1,this._spinner=null);var o=this._errorView;o&&(this._hideModeView(o),this._errorView=null);var c=this._emptyView;c&&(this._hideModeView(c),this._emptyView=null);var l=!1;switch(e){case y.None:break;case y.Error:this._errorView=o=g.a.create({messageTitle:m._99("DriveUI.FilesGrid.Error.Loading.FolderContent.Title"),messageSubtitle:m._99("DriveUI.FilesGrid.Error.Loading.FolderContent.Subtitle")}),this._showModeView(o),l=!0;break;case y.Loading:this._spinner=s=_._1.create({isAttached:!0}),this._showModeView(s),l=s.spin=!0;break;case y.Empty:i.startRemoteSynchronization();var u=void 0,d=void 0;this.getPath("folder.isDriveRoot")?(d=m._99("DriveUI.FilesGrid.EmptyDrive.Title"),u=m._99("DriveUI.FilesGrid.EmptyDrive.Subtitle")):this.getPath("folder.isInTrash")?d=m._99("DriveUI.FilesGrid.EmptyTrash.Title"):(d=m._99("DriveUI.FilesGrid.EmptyFolder.Title"),u=m._99("DriveUI.FilesGrid.EmptyFolder.Subtitle")),this._emptyView=c=g.a.create({messageTitle:d,messageSubtitle:u}),this._showModeView(c),l=!0;break;case y.Grid:i.startRemoteSynchronization();var h=250;f.event&&f.event.shiftKey&&(h*=10),a.animate("contentOpacity",1,h),r===y.None&&(a.reload(),i.sync(),this._synchronizeSelection())}l&&(a.reload(),a.contentOpacity=0),this._currentDisplayMode=e}},_generatedErrorHandler:null,createView:function(){return this.viewClass.create({additionalClassNames:m._60(["files"]),delegate:this,rowSpacing:20,columnSpacing:20,rowHeight:225,columnWidth:148,autoExpandColumnSpacing:!0,allowsMultipleSelection:this.bindingFor("allowsMultipleSelection"),padding:{top:30,bottom:30,right:30,left:30}})},navigationItem:m._107({strong:!0,get:function(){var e=this._navBackButton,t=this._navStatusLabel;return e||(e=this._navBackButton=_.h.create({additionalClassNames:m._60(["left"]),title:_._10({root:this,path:"folder.name"}),showLeftAccessory:!0,target:this,action:"_performNavigateBackAction"})),t||(t=this._navStatusLabel=u.a.create({defaultStatus:_._10({root:this,path:"folder.name"}),headingLevel:2})).addStatusInfoItem(this._moveItemDragStatusInfoItem),_.O.create({leftButton:e,titleLabel:t})}}),viewDidAppear:function(){var i=this,e=arguments;this.__s._$5PC$viewDidAppear.apply(this,e);var t=this.folderContent;t||m._75("Cannot show view. Required folder content",{controller:this});var n=!0;this._dprChangeObserver=m.C.sharedInstance.observe("devicePixelRatio",function(e){n||_._4.setTimeout(function(){i.view.reload()})}),n=!1,this._moveItemDragStatusInfoItem.activate(),this._folderContentChangeObserver=t.observe("changed",function(e){if(e){var t=e.context;i.folderContentDidChange(t)}}),this.folder.isInTrash?(_.Q.addTargetActionForNotification(this,"performPutFilesBackFromTrash","putFilesBackFromTrash"),_.Q.addTargetActionForNotification(this,"performPurgeRecentlyDeletedItems","purgeRecentlyDeletedItems")):(_.Q.addTargetActionForNotification(this,"performCreateSubfolderAction","createSubfolder"),_.Q.addTargetActionForNotification(this,"performShareFileAction","shareSelectedItem"),_.Q.addTargetActionForNotification(this,"performEmailSelectedItemsAction","emailSelectedItems"),_.Q.addTargetActionForNotification(this,"performMoveSelectedItemsToTrashAction","moveSelectedItemsToTrash"),_.Q.addTargetActionForNotification(this,"performDownloadSelectedItemsAction","downloadSelectedItems"),_.Q.addTargetActionForNotification(this,"performRefreshDisplay","SystemClockChanged"));var r=this._updateDisplayMode.bind(this);this.session.listContents().then(r).catch(r),this._updateDisplayMode()},viewWillDisappear:function(){var e=arguments;this.__s._$62x$viewWillDisappear.apply(this,e),this._dprChangeObserver&&(this._dprChangeObserver.disconnect(),this._dprChangeObserver=null),this._moveItemDragStatusInfoItem.deactivate(),this.folder.isInTrash?(_.Q.removeTargetActionForNotification(this,"performPutFilesBackFromTrash","putFilesBackFromTrash"),_.Q.removeTargetActionForNotification(this,"performPurgeRecentlyDeletedItems","purgeRecentlyDeletedItems")):(_.Q.removeTargetActionForNotification(this,"performCreateSubfolderAction","createSubfolder"),_.Q.removeTargetActionForNotification(this,"performShareFileAction","shareSelectedItem"),_.Q.removeTargetActionForNotification(this,"performEmailSelectedItemsAction","emailSelectedItems"),_.Q.removeTargetActionForNotification(this,"performMoveSelectedItemsToTrashAction","moveSelectedItemsToTrash"),_.Q.removeTargetActionForNotification(this,"performDownloadSelectedItemsAction","downloadSelectedItems"),_.Q.removeTargetActionForNotification(this,"performRefreshDisplay","SystemClockChanged")),this._folderContentChangeObserver.disconnect(),this._folderContentChangeObserver.dispose(),this.folderContent.stopRemoteSynchronization()},viewDidDisappear:function(){this.__s._$6au$viewDidDisappear.call(this),this._updateDisplayMode()},didMoveToParentViewController:function(e){this.__s._$6d_$didMoveToParentViewController.call(this,e),this._anchorItems=m.x.create(),e||(this.selection.clear(),this.folder=null)},beginAppearanceTransition:function(e){this.__s._$6ix$beginAppearanceTransition.call(this,e),e||this._dismissFolderItemInfoPopoverIfNeeded()},navigateInTransitionDidFinish:function(){this.view.showScrollBars()},performCreateSubfolderAction:function(){for(var i=this,e=this.folderContent,t=2,n=m._99("DriveUI.FilesGrid.Default.FolderName.NotNumbered");e.hasItemMatchingName(n);)n=m._99("DriveUI.FilesGrid.Default.FolderName.Numbered",{number:t}),t++;var r=this.folder,a=this.view,s=this.fileSystem.generateCreateFolderTransaction(n,r);s.stage(),this._createFolderTransaction&&(this._createFolderTransaction.commit().catch(E(this)),this._createFolderTransaction=null);var o=(this._createFolderTransaction=s).stagedFolder;this.changeSelectionToItem(o).then(function(){if(i._createFolderTransaction===s){var e=i.getIndexForItem(o),t=a.getVisibleCellAtItemIndex(e);if(!t)return;i.beginEditingCell(t)}})},performMoveSelectedItemsToTrashAction:function(){var i=this,e=this.selection;if(0!==e.size)if(this._doesSelectionContainLockedItems(e))this._alertUserOfLockedFilesBlockingDelete(e);else{e.setTransactionStateForEach(h.r.Committing);var n=e.clone();Object(d.a)(n).then(function(e){if(e){var t={actionButtonTitle:m._99("DriveUI.FilesGrid.Default.Delete"),message:e.message,description:e.description,confirmationHandler:I};return i._displayAlert(t,n)}return I(i,n,i.raiseAlertService)})}else this.fileSystem.loggingService.recordStat("performMoveSelectedItemsToTrashAction() called when selection is 0 items",{class:"BRApp.FilesGridViewController",function:"performMoveSelectedItemsToTrashAction()",selectionCount:0})},_displayAlert:function(e,t){var i=this,n=e.actionButtonTitle,r=e.message,a=e.description,s=e.confirmationHandler,o=m.e.application._paneManager,c=m.w.create(),l=p.a.create({additionalClassNames:m._60(["system-item-delete-alert"]),message:r,description:a,buttonViews:null,suppressedKeyCodes:[m.S.DELETE,m.S.BACKSPACE]}),u=_.h.create({additionalClassNames:m._60(["confirm"]),title:n,target:this,action:function(e){l.animateClosed(),o.removeRootView(l),s(i,t.toArray(),i.raiseAlertService),c.resolve()}}),d=_.h.create({additionalClassNames:m._60(["cancel"]),title:m._99("DriveUI.Common.Cancel"),target:this,action:function(e){i.selection.setTransactionStateForEach(h.r.Prepared),l.animateClosed(),o.removeRootView(l),c.resolve()},shortcut:m.S.RETURN});return l.buttonViews=[d,u],o.addRootView(l),l.animateOpen(),c},_doesSelectionContainLockedItems:function(e){var t=!1;return e.forEach(function(e){!1===e.canDelete&&(t=!0)}),t},_alertUserOfLockedFilesBlockingDelete:function(e){var t=0,i=null;e.forEach(function(e){!1===e.canDelete&&(t++,i=e)});var n,r,a=this.view.window,s="DriveUI.Alert.LockedItem.Delete";1===t?(n=m._99(s+".Single.Message",{name:i.fullName}),r=i.isFolder?m._99(s+".Single.Folder.Description"):m._99(s+".Single.File.Description")):(n=m._99(s+".Multiple.Message"),r=m._99(s+".Multiple.Description"));var o=_.h.create({additionalClassNames:m._60(["ok"]),title:m._99("DriveUI.Common.Button.OK"),target:self,shortcut:m.S.RETURN,action:function(){c.animateClosed(),a.removeRootView(c)}}),c=p.a.create({message:n,description:r,buttonViews:[o]});a.addRootView(c),c.animateOpen()},performShareFileAction:function(){var s=this,o=this.selection.createIterator().value,e=this.itemSharingServiceFactory.getInstance({item:o,fileSystem:this.fileSystem,delegate:this});_.Q.dispatchNotification(_.P.create({id:"startingShareFlow"})),e.launchSharingUI().catch(function(e){var t=m.e.application._paneManager,i=e.isSharedToMeUnshared,n=_.h.create({additionalClassNames:m._60(["confirm"]),title:m._99("DriveUI.Common.Button.OK"),target:s,action:function(){a.animateClosed(),t.removeRootView(a),i&&s.fileSystem.destroyItem(o)}}),r=i?"UnsharedToMe":"Generic",a=p.a.create({message:m._99("DriveUI.FilesGrid.Error.ShareFile."+r+".Message",{filename:o.name}),description:m._99("DriveUI.FilesGrid.Error.ShareFile."+r+".Description"),buttonViews:[n]});t.addRootView(a),a.animateOpen()}).then(function(){_.Q.dispatchNotification(_.P.create({id:"finishedShareFlow"}))})},performEmailSelectedItemsAction:function(){var t=this;this.composeEmailService.emailSelection(this.selection).catch(function(e){t._showFileOpenerErrorAlert(e,"DriveUI.FilesGrid.Error.Attachment")})},performDownloadSelectedItemsAction:function(){var e=this.selection;0<e.size&&this.downloadService.downloadFromURLs(e)},performRefreshDisplay:function(){var e=this.view;e&&e.reload()},performPutFilesBackFromTrash:function(){var e,t,i=this.selection;0===i.size&&(i=this.folderContent.allContent),e=i.toArray(),t=this.raiseAlertService,C(this.session.fileSystem.generatePutItemsBackFromTrashTransaction(e),e,this,t)},performPurgeRecentlyDeletedItems:function(){var e=this.selection;0===e.size&&(e=this.folderContent.allContent);var t,i,n,r,a=(t=e,n=(i=Object(d.b)(t)).message,r=i.description,{actionButtonTitle:m._99("DriveUI.FilesGrid.Default.Delete"),message:n,description:r,confirmationHandler:w});this._displayAlert(a,e)},getItemAtIndex:function(e){return this.folderContent.getItemAtIndex(e)},getIndexForItem:function(e){return this.folderContent.getIndexForItem(e)},getItemCount:function(){var e=this.folderContent;return e?e.length:0},containsItem:function(e){return this.folderContent.containsItem(e)},folderContentDidChange:function(e){if(this.isViewVisible){var t=this.view,i=this.selection,n=this;t.reloadForContentChanges(e,function(){e.forEach(function(e){switch(e.action){case _.j.Action.Remove:var t=e.value;i.remove(t)}}),n._synchronizeSelection(),n._updateDisplayMode()})}},_synchronizeSelection:function(){var i=this,n=this.view;n.deselectAllItems(),this.selection.forEach(function(e){var t=i.getIndexForItem(e);n.selectItemAtIndex(t)})},changeSelectionToItem:function(t){this.selection.batchChanges(function(e){e.clear(),e.add(t)});var e=this.getIndexForItem(t),i=this.view;return i.deselectAllItems(),i.selectItemAtIndex(e),i.scrollToItemAtIndexIntoVisibleRegion(e,!1)},getItemCountForGridView:function(e){return this.getItemCount()},gridViewGetAnchorIndexForContentChanges:function(e,t){for(var i=e.visibleIndexRange,n=i.start,r=i.end,a=n;a<=r;a++){var s=e.getVisibleCellAtItemIndex(a).content;if(s&&this.containsItem(s))return this.getIndexForItem(s)}return 0},gridViewGetAnchorIndexForReload:function(e){var i=this,t=this.folderContent,n=this._anchorItems;if(!t||!n||0===n.length)return 0;var r=-1;return n.forEach(function(e){var t=i.getIndexForItem(e);-1===r?r=t:t<r&&(r=t)}),r},didAddShareToItem:function(e,t){this.selection.changed()},willRemoveShareFromItem:function(e,t){t.shareStateIsToMe()&&S(this,[t],this.raiseAlertService)},didRemoveShareFromItem:function(e,t){this.selection.changed()},collectionViewGetItemIdentifierForCell:function(e,t){return m._82(t.content)},collectionViewGetItemIdentifierForIndex:function(e,t){var i=this.getItemAtIndex(t);return m._82(i)},collectionViewShouldSelectItemAtIndex:function(e,t){var i=this.getItemAtIndex(t);return i&&this._actionPolicy.determineShouldAllowSelection(i)},collectionViewDidSelectItemAtIndex:function(e,t){var i=this.selection,n=this.getItemAtIndex(t);n&&i.add(n)},collectionViewDidDeselectItemAtIndex:function(e,t){var i=this.selection,n=this.getItemAtIndex(t);n&&i.remove(n)},collectionViewGetCellForIndex:function(e,t){var i=this.getItemAtIndex(t),n=this._scrollSpeedAboveThreshold?{scrollSpeedAboveThreshold:this._scrollSpeedAboveThreshold}:{},r=o.a.create(this.session,this.showcaseViewPool,this.iconService,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,this.raiseAlertService,this,n);if(i){r.content=i;var a=this.collectionViewShouldSelectItemAtIndex(e,t);r.isSelectable=a,r.draggable=!i.isAppLibrary&&a,(i.isFile||i.isFolder)&&(r.dragSourceHandler=this._cellDragSourceHandler),(i.isFolder||i.isAppLibrary)&&(r.dragTargetHandler=this._cellDragTargetHandler),this._anchorItems.add(i)}var s=r.showcaseView;return s&&!0===m._86(s,c.a)&&!1===this._scrollSpeedAboveThreshold&&s.resumeThumbnailLoading(),r},collectionViewShouldHighlightCellForIndex:function(e,t){return!1},collectionViewCellDidActivateAtIndex:function(e,t,i,n){t.didActivateWithEvent&&t.didActivateWithEvent(n)},collectionViewShouldReuseCell:function(e,t){var i=t.isDisposed,n=this.fileSystem.loggingService;return i&&n.recordStat("Attempted to reuse disposed cell"),!i&&m._74(t.content)},collectionViewPrepareReusableCell:function(e,t){t.content=null},collectionViewGetReuseIdentifierForCell:function(e,t){return this._getCellReuseIdentifierForFolderContentItem(t.content)},collectionViewGetCellReuseIdentifierForIndex:function(e,t){var i=this.getItemAtIndex(t);return this._getCellReuseIdentifierForFolderContentItem(i)},collectionViewWillDisplayReusableCellForIndex:function(e,t,i){var n=this.getItemAtIndex(i);t.content=n,this._anchorItems.add(n);var r=this.collectionViewShouldSelectItemAtIndex(e,i);t.isSelectable=r,t.draggable=!n.isAppLibrary&&r;var a=t.showcaseView;a&&!0===m._86(a,c.a)&&!1===this._scrollSpeedAboveThreshold&&a.resumeThumbnailLoading()},collectionViewDidEndDisplayingCellForIndex:function(e,t,i){this.endEditingCellIfNeeded(t,!0),this._dismissFolderItemInfoPopoverForCellIndex(i);var n=t.content;this._anchorItems.remove(n)},collectionViewShouldPerformActionForItemAtIndex:function(e,t){return this.collectionViewShouldSelectItemAtIndex(e,t)},collectionViewPerformActionForItemAtIndex:function(e,t){var i=this.getItemAtIndex(t);if(i.transactionStateIsCommitting())return!1;this._performActionForItem(i)},_performActionForItem:function(t){var r=this,i=this.openFileService;if(t.isFolder||t.isAppLibrary)if(t.canListContents)this._presentSubfolder(t);else{var e=this.view.window,n=m._99("DriveUI.Alert.LockedItem.ListContents.Single.Message",{name:t.name}),a=m._99("DriveUI.Alert.LockedItem.ListContents.Single.Description"),s=_.h.create({additionalClassNames:m._60(["ok"]),title:m._99("DriveUI.Common.Button.OK"),target:this,shortcut:m.S.RETURN,action:function(){o.animateClosed(),e.removeRootView(o)}}),o=p.a.create({message:n,description:a,buttonViews:[s]});e.addRootView(o),o.animateOpen()}else if(t.isFile)try{i.openFile(t).catch(function(e){if(e){var t="DriveUI.FilesGrid.Error.OpenFile",i=!1,n=e.errorCode;if(n)switch(n){case"DocumentDeletedException":t+=".Deleted",i=!0;break;case"WSObjectNotFound":e.item.shareStateIsToMe()&&(t+=".Unshared",i=!0)}r._showFileOpenerErrorAlert(e.item,t,i)}})}catch(e){this.fileSystem.loggingService.recordStat("Error performing openFileService action for file",{class:"BRApp.FilesGridViewController",function:"_performActionForItem()",openFileService:i?i.toString():null,item:t?t.toString():null,errorMessage:e.message,errorName:e.name,stack:e.stack})}},_performActionForCell:function(e){this._dismissFolderItemInfoPopoverIfNeeded();var t=e&&e.index,i=this.view;i&&0<=t&&i.selectItemAtIndexWithModifiers(t,{});var n=e.content;n&&this.collectionViewShouldSelectItemAtIndex(i,e.index)&&this._performActionForItem(n)},_showFileOpenerErrorAlert:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=e.fullName,r=m.e.application._paneManager,a=_.h.create({shortcut:m.S.RETURN,additionalClassNames:["button","ok"],title:m._99("DriveUI.Common.Button.OK"),target:this,action:function(){s.animateClosed(),r.removeRootView(s),i&&this.fileSystem.destroyItem(e)}}),s=p.a.create({message:m._99(t+".Title",{fileName:n}),description:m._99(t+".Subtitle"),buttonViews:[a]});r.addRootView(s),s.animateOpen()},_showDownloadErrorAlert:function(){var e=_.h.create({shortcut:m.S.RETURN,title:m._99("DriveUI.Common.Button.OK"),target:this,action:function(){t.animateClosed(),m.e.application._paneManager.removeRootView(t)}}),t=p.a.create({message:m._99("DriveUI.Alert.Download.Single.Title"),description:m._99("DriveUI.Alert.Download.Single.Subtitle"),buttonViews:[e]});m.e.application._paneManager.addRootView(t),t.animateOpen()},_getCellReuseIdentifierForFolderContentItem:function(e){return e?e.isAppLibrary?"app-library":e.isFolder?"folder":"file":null},filesGridCellPerformInfoAction:function(e){this._presentFolderItemInfoPopoverForCell(e)},filesGridCellPerformTitleAction:function(e){this._performActionForCell(e)},filesGridCellPerformCancelAction:function(e){var t=e.content;this.session.cancelUploadForFile(t)},filesGridCellPerformContentEditCommitForValue:function(e,t,i){if(this._createFolderTransaction){t.name=i,this.selection.clear();var n=this.view;n.deselectAllItems(),this._createFolderTransaction.commit().catch(E(this));var r=this.getIndexForItem(t);n.scrollToItemAtIndexIntoVisibleRegion(r,!1),this._createFolderTransaction=null}else this._tryCommittingNameToFolderItem(i,e.content).catch(E(this));this.endEditingCellIfNeeded(e)},filesGridCellPerformContentEditCancelForValue:function(e,t,i){this._createFolderTransaction&&(this._createFolderTransaction.commit().catch(E(this)),this._createFolderTransaction=null),this.endEditingCellIfNeeded(e)},filesGridCellDidBeginEditMode:function(e){this._actionPolicy.isEditing=!0},filesGridCellDidEndEditMode:function(e){this._actionPolicy.isEditing=!1},beginEditingCell:function(e){var t=this._currentlyEditingCell;t!==e&&(t&&t.endEditing(!0),e.beginEditing(),this._currentlyEditingCell=e)},endEditingCellIfNeeded:function(e,t){e.endEditingIfNeeded(t),e===this._currentlyEditingCell&&(this._currentlyEditingCell=null)},_tryCommittingNameToFolderItem:function(e,t){if(t.name===e)return m.w.resolve({error:!1});var i=this.session.validateRenameItem(t,e);if(!1===i){var n=this.fileSystem.generateRenameItemTransaction(t,e);this.selection.clear();var r=this.view;r.deselectAllItems();var a=n.commit().then(function(){return m.w.resolve({transaction:n,error:!1})}),s=this.getIndexForItem(t);return r.scrollToItemAtIndexIntoVisibleRegion(s),a}return m.w.reject(i)},dragSourceHandlerWillStartDragging:function(e,t){var i=t.content,n=this.selection,r=this.folderContent,a=!1;if(n.forEach(function(e){e===i&&(a=!0)}),!a){n.clear(),n.add(i);var s=this.view,o=this.getIndexForItem(i);s.deselectAllItems(),s.selectItemAtIndex(o)}r.stopRemoteSynchronization()},dragSourceHandlerDidEndDragging:function(e,t){this.folderContent.startRemoteSynchronization()},handleUploadFilesDragAndDropAction:function(e,t,i){this.session.uploadFiles(e,t,i,E(this))},folderItemInfoDialogControllerPerformCommitAction:function(t){var e=this,i=t.content,n=t.value;this._tryCommittingNameToFolderItem(n,i).then(function(){e._dismissFolderItemInfoPopoverIfNeeded()}).catch(function(e){throw t.revert(),e}).catch(E(this))},folderItemInfoDialogControllerPerformCancelAction:function(e){this._dismissFolderItemInfoPopoverIfNeeded()},handleKeyDown:function(e){var t=this,i=this.selection,n=this.view,r=this._actionPolicy,a=this._trashPolicy;switch(e.which){case m.S.DELETE:case m.S.BACKSPACE:return this.folder.isInTrash?a.shouldAllowTombstoneFiles&&0<i.size&&this.performPurgeRecentlyDeletedItems():r.shouldAllowMoveToTrash&&0<i.size&&this.performMoveSelectedItemsToTrashAction(),e.preventDefault(),!0;case m.S.RETURN:if(1===i.size){var s=i.toArray()[0],o=this.getIndexForItem(s);n.scrollToItemAtIndexIntoVisibleRegion(o);var c=n.getVisibleCellAtItemIndex(o);c&&(f.location.search.match(/doubleclick/)?this.beginEditingCell(c):e.ctrlKey||e.metaKey?this._performActionForCell(c):this._presentFolderItemInfoPopoverForCell(c))}return!0;case m.S.LEFT:case m.S.RIGHT:return e.preventDefault(),!0;case m.S.UP:return(e.ctrlKey||e.metaKey)&&this._performNavigateBackAction(),e.preventDefault(),!0;case m.S.ESC:if(!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var l=this._folderItemInfoPopoverController;if(!l||!l.isAttached)return this._performNavigateBackAction(),e.preventDefault(),!0;this._dismissFolderItemInfoPopoverIfNeeded()}return!1;case m.S.DOWN:return e.preventDefault(),!0;case 78:if(!this.folder.isInTrash&&(e.ctrlKey||e.altKey))return r.shouldAllowNewFolder&&this.performCreateSubfolderAction(),e.preventDefault(),!0;break;case 69:if(!this.folder.isInTrash&&(e.ctrlKey||e.altKey))return r.shouldAllowEmailFiles&&this.performEmailSelectedItemsAction(),e.preventDefault(),!0;break;case 85:if(!this.folder.isInTrash&&(e.ctrlKey||e.altKey))return r.shouldAllowUploading&&_.Q.dispatchNotification(_.P.create({id:"uploadItems"})),e.preventDefault(),!0;break;case 68:if(!this.folder.isInTrash&&(e.ctrlKey||e.altKey))return r.shouldAllowDownloading&&this.performDownloadSelectedItemsAction(),e.preventDefault(),!0}if(!e.altKey&&!e.metaKey){var u="";if(u=189===e.which?e.shiftKey?"_":"-":String.fromCharCode(e.which),this.folderContent&&u.match(/^[A-Za-z0-9_\- ]$/)){var d=this._textEntryBuffer;d||(d=""),d+=u,this._textEntryBuffer=d,this._textEntryTimeout&&f.clearTimeout(this._textEntryTimeout),this._textEntryTimeout=_._4.setTimeout(function(){t._textEntryTimeout=null,t._textEntryBuffer=null},500);var h=0,p=this.getItemCount();for(h=0;h<p;h++)if(this._itemNameStartsWithStr(this.getItemAtIndex(h),d))return this.view.selectItemAtIndexWithModifiers(h,{},!0),!0}}return!1},_itemNameStartsWithStr:function(e,t){var i=e?e.name.toLowerCase():null;return!(!i||i.substr(0,t.length)!==t.toLowerCase())},scrollViewDidScroll:function(e,t){var i=this;if(t){this._latestOffsetY=t.y,this._latestTime=(new Date).getTime(),this._previousOffsetY&&this._previousTime||(this._previousOffsetY=this._latestOffsetY,this._previousTime=this._latestTime);var n=this._latestTime-this._previousTime,r=this._previousOffsetY-this._latestOffsetY,a=this._calculateScrollSpeedRollingAverage(r,n);this._previousOffsetY=this._latestOffsetY,this._previousTime=this._latestTime,2<a?(this._clearScrollTimeoutIfNeeded(),!1===this._scrollSpeedAboveThreshold&&this._setScrollSpeedThresholdExceeded(!0)):0<a&&this._loadThumbnailAfterScrollEvent(),!0===this._scrollSpeedAboveThreshold&&(this._scrollTimeout||(this._scrollTimeout=_._4.setTimeout(function(){i._setScrollSpeedThresholdExceeded(!1),i._loadThumbnailAfterScrollEvent(),i._resetScrollingRollingAverageDataStructure()},500)))}},_setScrollSpeedThresholdExceeded:function(e){if(e!==this._scrollSpeedAboveThreshold){(this._scrollSpeedAboveThreshold=e)?(this.thumbnailCanvasFactory.suspendThumbnailLoading(),this.downloadImageService.cancelAllTasks(),this.thumbnailScalingService.cancelAllTasks()):this.thumbnailCanvasFactory.resumeThumbnailLoading();for(var t=this.view,i=t.visibleIndexRange,n=i.start,r=i.end,a=n;a<=r;a++){var s=t.getVisibleCellAtItemIndex(a).showcaseView;s&&!0===m._86(s,c.a)&&(e?s.suspendThumbnailLoading():s.resumeThumbnailLoading())}}},_calculateScrollSpeedRollingAverage:function(e,t){this._scrollingRollingAverageData[this._scrollingRollingAverageIndex]=[Math.abs(e),t],this._incrementScrollingRollingAverageIndex();for(var i=0,n=0,r=0;r<this._scrollingRollingAverageData.length;r++){var a=this._scrollingRollingAverageData[r];i+=a[0],n+=a[1]}return i/n},_clearScrollTimeoutIfNeeded:function(){var e=this._scrollTimeout;null!==e&&(clearTimeout(e),this._scrollTimeout=null)},_setupScrollingRollingAverageDataStructure:function(){this._scrollingRollingAverageIndex=0,this._scrollingRollingAverageData=[];for(var e=0;e<10;e++)this._scrollingRollingAverageData[e]=[0,0]},_resetScrollingRollingAverageDataStructure:function(){for(var e=this._scrollingRollingAverageIndex=0;e<this._scrollingRollingAverageData.length;e++)this._scrollingRollingAverageData[e]=[0,0]},_incrementScrollingRollingAverageIndex:function(){9<=this._scrollingRollingAverageIndex?this._scrollingRollingAverageIndex=0:this._scrollingRollingAverageIndex++},_loadThumbnailAfterScrollEvent:function(){var e=this.view.visibleIndexRange,t=e.size,i=this.getItemCount(),n=1*t,r=e.end+1;if(r+n<i)this._loadItemsInRange(r,r+n);else if(r!==i){var a=i-r;this._loadItemsInRange(r,r+a,!0)}var s=1*t,o=e.start-1;0<=(o=o<0?0:o)-s?this._loadItemsInRange(o-s,o):0!==o&&this._loadItemsInRange(o,0)},_loadItemAtIndex:function(e){var t=this.getItemAtIndex(e);t&&t.isFile&&this.thumbnailCanvasFactory.cacheThumbnailCanvasForFile(t,s.a.LARGE)},_loadItemsInRange:function(e,t){var i;if(e<t)for(i=e;i<=t;i++)this._loadItemAtIndex(i);else for(i=t;e<=i;i--)this._loadItemAtIndex(i)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FilesGridViewController"},__superMap:{_$1xs$init:"init",_$5PC$viewDidAppear:"viewDidAppear",_$62x$viewWillDisappear:"viewWillDisappear",_$6au$viewDidDisappear:"viewDidDisappear",_$6d_$didMoveToParentViewController:"didMoveToParentViewController",_$6ix$beginAppearanceTransition:"beginAppearanceTransition"}});function I(e,t,i){var n,r,a,s=[],o=[];return t.forEach(function(e){e.isAppLibrary||e.shareStateIsToMe()?o.push(e):s.push(e)}),0<s.length?(r=s,a=i,C((n=e).session.fileSystem.generateMoveItemsToTrashTransaction(r),r,n,a)):0<o.length?S(e,o,i):void 0}function S(e,t,i){return C(e.session.fileSystem.generateTombstoneItemsTransaction(t),t,e,i)}function w(e,t,i){return C(e.session.fileSystem.generatePurgeRecentlyDeletedItemsTransaction(t),t,e,i)}function C(e,t,i,n){var r=null,a=function(e,t){for(var i=-1,n=t.length-1;0<=n;n--){var r=e.getIndexForItem(t[n]);i=Math.max(r+1,i)}return i}(i,t);if(0<=a&&a<i.getItemCount()&&(r=i.getItemAtIndex(a)),r){var s=i.getIndexForItem(r),o=i.view;o.selectItemAtIndex(s),o.didSelectItemAtIndex(s),o.scrollToItemAtIndexIntoVisibleRegion(s)}return e.commit().catch(n.raiseAlertForErrorItem.bind(n))}function E(t){var e=t._generatedErrorHandler;return e||(e=function(e){if(!e||!e.constructor.kindOf(h.i))throw e;t.raiseAlertService.raiseAlertForErrorItem(e)},t._generatedErrorHandler=e)}}).call(T,A(5))},function(e,t){},function(e,t){},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.NumberFormatter.Units.bytes":"bytes","DriveUI.NumberFormatter.Units.kB":"KB","DriveUI.NumberFormatter.Units.MB":"MB","DriveUI.NumberFormatter.Units.GB":"GB","DriveUI.NumberFormatter.Units.TB":"TB","DriveUI.NumberFormatter.Units.PB":"PB","DriveUI.NumberFormatter.Units.KiB":"KB","DriveUI.NumberFormatter.Units.MiB":"MB","DriveUI.NumberFormatter.Units.GiB":"GB","DriveUI.NumberFormatter.Units.TiB":"TB","DriveUI.NumberFormatter.Units.PiB":"PB","DriveUI.NumberFormatter.ItemSize":"%{number} %{sizeUnit}"})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1438),r=(i.n(n),i(0)),a=i(4),s=a._8.extend({delegate:null,filesGridViewControllerFactory:null,session:null,visibleViewController:r._105(r._64("_navController.visibleViewController")),_navController:r._105(),init:function(e,t){for(var i=arguments.length,n=Array(2<i?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];this.__s._$Om$init.apply(this,n),this.filesGridViewControllerFactory=e,this.session=t,this._viewControllerPool=a.I.create(),this._navController=a.N.create({delegate:this}),this.addChildViewController(this._navController)},createView:function(){return this._navController.get("view")},viewWillAppear:function(){this._setupSessionMonitoring()},viewDidDisappear:function(){this._teardownSessionMonitoring()},_setupSessionMonitoring:function(){var t=this,e=this.session.observe("currentWorkingDirectory",function(e){e&&t._transitionToPath(e)});this._currentWorkingFolderObserver=e},_teardownSessionMonitoring:function(){this._currentWorkingFolderObserver.disconnect()},_transitionToPath:function(e){var t=this._navController,i=t.viewControllerStack,n=t.topViewController,r=i.length,a=e.path,s=a.length;if(0!==r){for(var o=0,c=Math.min(r,s);o<c;o++){var l=i[o],u=a[o];if(l.folder.id!==u.id)return void this._replaceNavigationStackForFolder(e)}var d=void 0;s<r?(d=this._getViewControllerForFolder(e),t.popToViewController(d)):s-1===r&&n.folder===e.parent?((d=this._acquireViewController()).folder=e,t.pushViewController(d)):this._replaceNavigationStackForFolder(e)}else this._replaceNavigationStackForFolder(e)},_createViewControllerStackForFolder:function(e){var t=e.get("path"),n=[],r=this;return t.forEach(function(e,t){var i=r._acquireViewController(e);i.set("folder",e),n.push(i)}),n},_replaceNavigationStackForFolder:function(e){var t=this._createViewControllerStackForFolder(e);this._navController.set("viewControllerStack",t)},_getViewControllerForFolder:function(e){for(var t=this._navController.get("viewControllerStack"),i=t?t.length:0,n=0;n<i;n++){var r=t[n];if(r.get("folder")===e)return r}return null},willShowViewController:function(e){var t=this.delegate,i=t?t.navigationControllerWillShowViewController:null;i&&i.call(t,this,e)},didShowViewController:function(e){var t=this.delegate,i=t?t.navigationControllerDidShowViewController:null;i&&i.call(t,this,e)},navigationControllerDidPopViewController:function(e,t){this._releaseViewController(t)},navigationControllerWillShowViewController:function(e,t){this.willShowViewController(t)},navigationControllerDidShowViewController:function(e,t){this.didShowViewController(t)},_acquireViewController:function(){var e=this._viewControllerPool.dequeueItemForKeyIdentifier("controller");return e||(e=this.filesGridViewControllerFactory.getInstance({allowsMultipleSelection:this.bindingFor("allowsMultipleSelection")}).retain()),e},allowsMultipleSelection:r._105(!0),_releaseViewController:function(e){e.prepareForReuse(),this._viewControllerPool.queueItemForKeyIdentifier(e,"controller")},handleKeyDown:function(e){var t=this._navController.get("topViewController"),i=!1;if(t){var n=t.get("view");n.handleKeyDown&&(i=n.handleKeyDown(e))}return!i&&t&&t.handleKeyDown&&(i=t.handleKeyDown(e)),i},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderNavigationController"},__superMap:{_$Om$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1440),r=(i.n(n),i(119),i(4)),a=i(0),s="DriveUI.FolderToolbar.Button.Download.Tooltip",o=i(870).a.extend({additionalClassNames:a._60(["toolbar-item","download-files"]),title:a._99(s),tooltip:a._99(s),showTitle:!1,tabindex:0,actionPolicy:a._105(),target:this,action:function(){r.Q.dispatchNotification(r.P.create({id:"downloadSelectedItems"}))},init:function(e,t){var i=this;this.actionPolicy=e,this.__s._$Lg$init.call(this,t),e.observe("shouldAllowDownloading",function(e){i.enabled=e})},staticMembers:{__QUALIFIED_CLASS_NAME__:"DownloadFilesButton"},__superMap:{_$Lg$init:"init"}})},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1443),r=(i.n(n),i(119),i(4)),a=i(0),s="DriveUI.FolderToolbar.Button.Email.Tooltip",o=r.h.extend({additionalClassNames:a._60(["toolbar-item","email-files"]),title:a._99(s),showTitle:!1,tabindex:0,target:this,tooltip:a._99(s),init:function(e,t){var i=this;this.actionPolicy=e,this.__s._$G2$init.call(this,t),e.observe("shouldAllowEmailFiles",function(e){i.enabled=e})},action:function(){r.Q.dispatchNotification(r.P.create({id:"emailSelectedItems"}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"EmailFilesButton"},__superMap:{_$G2$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var c=i(0),n=i(4),r=i(1445),a=(i.n(r),n._8.extend({selection:c._105(null),folderContent:c._105(null),folderToolbarItems:c._105({defaultValue:c._85(c._48),set:function(e){return e instanceof Array||e.instanceOf&&e.instanceOf(c._9)?c._48.from(e):e.instanceOf&&e.instanceOf(c._48)?e:void c._75("folderToolbarItems can only be set to an array-like object, which is upgraded to a StrongObservableArray")}}),_currentFolderToolbarItems:c._85(c._47),init:function(e,t){this.folderToolbarItems=e,this.__s._$as$init.call(this,t)},viewClass:n._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:["folder-toolbar"]}},groupSpacing:40}),folderToolbarItemsDidChange:c._106({inputs:["folderToolbarItems","folderToolbarItems.contentsDidChange"],callback:function(e){for(var t=this._currentFolderToolbarItems,i=t.length,n=0;n<i;n++){var r=t.objectAt(n);r.instanceOf(c._58)?this._removeSubViewController(r):r.instanceOf(c._57)&&this.view.removeSubview(r)}this._currentFolderToolbarItems.clear();for(var a=e.length,s=0;s<a;s++){var o=e.objectAt(s);o.instanceOf(c._58)?this._addSubViewController(o):o.instanceOf(c._57)?this.view.addSubview(o):c._75("A FolderToolbarViewController can only accept views or view controllers"),this._currentFolderToolbarItems.push(o)}}}),_addSubViewController:function(e){e.willMoveToParentViewController(this),this.view.addSubview(e.view),this.addChildViewController(e),e.didMoveToParentViewController(this)},_removeSubViewController:function(e){e.willMoveToParentViewController(null),this.view.removeSubview(e.view),this.removeChildViewController(e),e.didMoveToParentViewController(null)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FolderToolbarViewController"},__superMap:{_$as$init:"init"}}))},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(1447),r=(i.n(n),i(119),i(4)),a=i(0),s="DriveUI.FolderToolbar.Button.NewFolder.Tooltip",o=r.h.extend({additionalClassNames:a._60(["toolbar-item","new-folder"]),title:a._99(s),showTitle:!1,tabIndex:0,target:this,tooltip:a._99(s),init:function(e,t){var i=this;this.actionPolicy=e,this.__s._$G0$init.call(this,t),e.observe("shouldAllowNewFolder",function(e){i.enabled=e})},action:function(){r.Q.dispatchNotification(r.P.create({id:"createSubfolder"}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"NewFolderButton"},__superMap:{_$G0$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1449),r=(i.n(n),i(119),i(4)),a=i(0),s=r.h.extend({staticMembers:{templateExtensions:{root:{type:"ELEMENT",tagname:"ext",children:[],classes:["sharing","toolbar-item",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"isShared",truevalue:"on",falsevalue:"",attributes:{}}]}},__QUALIFIED_CLASS_NAME__:"SharingButton"},title:a._64("_titleAndToolipStr"),tabindex:0,target:this,tooltip:a._64("_titleAndToolipStr"),init:function(e,t){var i=this;this.actionPolicy=e,this.__s._$Fv$init.call(this,t),e.observe("isItemShared",function(e){i.isShared=e}),e.observe("shouldAllowSharing",function(e){i.enabled=e})},action:function(){r.Q.dispatchNotification(r.P.create({id:"shareSelectedItem"}))},isShared:a._105(!1),showTitle:!1,_titleAndToolipStr:a._105({readOnly:!0,dependencies:["isShared"],get:Object.assign(function(){return a._99("DriveUI.FolderToolbar.Button.Sharing."+(this.isShared?"Shared":"NotShared")+".Tooltip")},{__CW__getter:function(e,t,i,n){return a._99("DriveUI.FolderToolbar.Button.Sharing."+(n.internalGet(this,t[0+i])?"Shared":"NotShared")+".Tooltip")}})}),__superMap:{_$Fv$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(4),r=i(0),a=(i(119),i(1451)),s=(i.n(a),"DriveUI.FolderToolbar.Button.Delete.Tooltip"),o=n.h.extend({additionalClassNames:r._60(["toolbar-item","trash-files"]),title:r._99(s),showTitle:!1,tabindex:0,target:this,tooltip:r._99(s),init:function(e,t){var i=this;this.actionPolicy=e,this.__s._$G3$init.call(this,t),e.observe("shouldAllowMoveToTrash",function(e){i.enabled=e})},action:function(){n.Q.dispatchNotification(n.P.create({id:"moveSelectedItemsToTrash"}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashFilesButton"},__superMap:{_$G3$init:"init"}})},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(4),r=i(0),a=i(871),s=n._8.extend({uploadViewController:r._105({defaultValue:null,strong:!0}),performUploadFilesAction:function(){var e=this.uploadViewController;e.shouldShowPopover?this.showUploadPopover():e.openSelectorDialog()},actionPolicy:r._105(),_popoverController:r._105(),init:function(e,t,i){this.actionPolicy=e,this.uploadViewController=t,this.__s._$KO$init.call(this,i)},showUploadPopover:function(){var e=this._popoverController;e.popoverVisible||e.presentPopoverForView(this._uploadFilesButton,n.T.Up)},createView:function(){var t=a.a.create({target:this,action:"performUploadFilesAction"});this.actionPolicy.observe("shouldAllowUploading",function(e){t.enabled=e});var e=this.uploadViewController;e.presenterViewController=this,e.inputElement=t.inputElement;var i=n.U.create({additionalClassNames:["drive-ui"],contentViewController:e});return e.listen("shouldBeDismissed",function(e){e&&i.isShowing&&i.dismissPopover()}),n.Q.addTargetActionForNotification(this,"performUploadFilesAction","uploadItems"),this._popoverController=i,this._uploadFilesButton=t},didMoveToParentViewController:function(e){var t=arguments;this.__s._$wg$didMoveToParentViewController.apply(this,t),e||n.Q.removeTargetActionForNotification(this,"performUploadFilesAction","uploadItems")},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadFilesButtonViewController"},__superMap:{_$KO$init:"init",_$wg$didMoveToParentViewController:"didMoveToParentViewController"}})},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.NotMigrated.Contents.Message":"Safely store all of your presentations, spreadsheets, PDFs, images, and any other kind of document in iCloud and access them from your iPhone, iPad, iPod touch, Mac, PC and on iCloud.com.","DriveUI.NotMigrated.Advice":"To use iCloudDrive, go to iCloudsettings on your iOS device, tap iCloudDrive, and follow the instructions to upgrade.","DriveUI.NotMigrated.Advice.Windows":"To use iCloudDrive, download iCloud for Windows and set up iCloud on your PC.","DriveUI.NotMigrated.Advice.Windows.Link":"Download Now","DriveUI.NotMigrated.Advice.Windows.URL":"http://support.apple.com/kb/DL1455","DriveUI.NotMigrated.Footnote":"*iCloudDrive requires iOS8 or later, macOSYosemite or later, or a PC with Windows7 or Windows8runningiCloudforWindows4.0."})},function(e,t){},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__94.jpg"},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__93.jpg"},function(e,t){},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(0),r=i(4),a=i(224),s=i(874),o=i(875),c=i(876),l=i(878),u=r._8.extend(a.a,{session:n._105(),fileSystem:n._105(n._64("session.fileSystem")),currentSelection:n._105(),raiseAlertService:n._105(),init:function(e,t,i){this.session=e,this.raiseAlertService=t,this.__s._$Ry$init.call(this,i)},createView:function(){var e=this._pathBarViewCellDragTargetHandler=l.a.create({delegate:this});return c.a.create(e,this)},_loadPathBarItemForContent:function(e){return s.a.create({contentTitleKey:"name",content:e,accessoryType:this._getAccessoryTypeForContent(e),isEnabled:!0})},_getAccessoryTypeForContent:function(e){return e.isDriveRoot?o.a.Home:e.isFolder?o.a.Folder:e.isAppLibrary?o.a.AppContainer:o.a.FileTall},_currentWorkingDirectoryChanged:n._106("session.currentWorkingDirectory",function(e){var t=this;if(!this._preparing){var i=this.view;if(i&&e){var n=e.path.map(function(e){return t._loadPathBarItemForContent(e)});i.itemStack=n,this._itemStackTop=i.topItem,this._itemStackTop.isEnabled=!1}else this._itemStackTop=null}}),_selectionDidChange:n._106("currentSelection","currentSelection.changed",function(){if(!this._preparing){var e=this.view,t=this.currentSelection;if(e&&t&&this._itemStackTop){var i=this._itemStackTop;if(e.popToPathBarItem(i),1===t.size){var n=t.toArray()[0],r=this._loadPathBarItemForContent(n);r.isEnabled=!1,e.pushPathBarItem(r)}i.isEnabled=!1}}}),pathBarViewPerformActionForPathBarItem:function(e,t){var i=t.content;(i.isFolder||i.isAppLibrary)&&this.session.changeDirectory(i)},handleUploadFilesDragAndDropAction:function(e,t,i){this.session.uploadFiles(e,t,i,this.raiseAlertService.raiseAlertForErrorItem.bind(this.raiseAlertService))},staticMembers:{__QUALIFIED_CLASS_NAME__:"PathBarViewController"},__superMap:{_$Ry$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(1463),r=(i.n(n),i(1464)),a=(i.n(r),i(1465),i(56),i(16)),s=i(4),o=i(0),c=i(117),l=i(873),u=i(879),d=i(224),h=i(880),p=o._67("DisplayMode",function(e){e("None"),e("FolderNavigation"),e("AccountMigration"),e("LoadingRoot")}),f=s._8.extend(d.a,{allowsMove:!1,viewClass:u.a,session:o._105(),raiseAlertService:o._105(),fileSystem:o._105(o._64("session.fileSystem")),toolbarViewController:o._105(),currentSelection:o._105(),folderNavigationController:o._105(),statusBarViewController:o._105({downstreamBindings:{currentSelection:"(owner).currentSelection"}}),displayMode:o._105({readOnly:!0,get:function(){return this._currentDisplayMode}}),trashDetailsService:o._105(o._64("fileSystem.trashDetailsService")),init:function(e,t,i,n){this.session=t,this.raiseAlertService=i,this.folderNavigationController=e,this.__s._$14d$init.call(this,n),(e.delegate=this).addChildViewController(e),e.didMoveToParentViewController(this),this._currentDisplayMode=p.None;var r=this.statusBarViewController;r&&(this.addChildViewController(r),r.didMoveToParentViewController(this));var a=this.toolbarViewController;a&&(this.addChildViewController(a),a.didMoveToParentViewController(this))},prepare:function(){this._isReady=!0},shouldAutomaticallyForwardAppearanceMethods:function(){return!1},viewWillAppear:function(){var e=arguments;this.__s._$1Q2$viewWillAppear.apply(this,e),this._attachKeyboardListener();var t=this.toolbarViewController;t&&(t.beginAppearanceTransition(!0),this.view.addSubview(t.view),t.endAppearanceTransition(!0))},viewWillDisappear:function(){var e=arguments;this.__s._$1aG$viewWillDisappear.apply(this,e);var t=this.view,i=this.folderNavigationController;i.beginAppearanceTransition(!1),t.removeSubview(i.view),i.endAppearanceTransition(!1);var n=this.statusBarViewController;n&&(n.beginAppearanceTransition(!1),t.removeSubview(n.view),n.endAppearanceTransition(!1));var r=this.toolbarViewController;r&&(r.beginAppearanceTransition(!1),t.removeSubview(r.view),r.endAppearanceTransition(!1)),this._detachKeyboardListener()},handleUploadFilesDragAndDropAction:function(e,t,i){this.session.uploadFiles(e,t,i,this.raiseAlertService.raiseAlertForErrorItem.bind(this.raiseAlertService))},handleKeyDown:function(e){var t=!1;return this.displayMode===p.FolderNavigation&&(t=this.folderNavigationController.handleKeyDown(e)),t},_handleKeyDown:function(e){var t=!1,i=e.target,n="";if(i&&(n=i.tagName.toLowerCase()),"input"!==n&&"textarea"!==n){var r=this.view,a=this.toolbarViewController;return r.handleKeyDown?t=r.handleKeyDown(e):a&&a.handleKeyDown&&(t=a.handleKeyDown(e)),t||(t=this.handleKeyDown(e)),t}},navigationControllerWillShowViewController:function(e,t){},navigationControllerDidShowViewController:function(e,t){this.currentSelection=t.selection},_isReady:o._105(!1),_currentDisplayMode:o._107({type:p}),_fileSystemStatusObserver:o._106({inputs:["fileSystem.status","_isReady"],callback:function(e,t){if(t)switch(e){case a.l.PollingForMigration:this._changeDisplayMode(p.AccountMigration);break;case a.l.Ready:this._fileSystemIsReady();break;case a.l.Error:this._fileSystemDidFail()}}}),_attachKeyboardListener:function(){this._handleKeyDown=this._handleKeyDown.bind(this),o._61(document,"keydown",this._handleKeyDown)},_detachKeyboardListener:function(){o._109(document,"keydown",this._handleKeyDown)},_fileSystemIsReady:function(){var e=this.session,t=e.fileSystem.driveRootFolder;e.changeDirectory(t),this.trashDetailsService.beginPolling(),this.view.dragTargetHandler=h.a.create({delegate:this}),this._changeDisplayMode(p.FolderNavigation)},_fileSystemDidFail:function(){var e=s.h.create({additionalClassNames:o._60(["ok"]),title:o._99("DriveUI.Common.Button.OK"),target:this,action:function(){t.animateClosed(),o.e.application._paneManager.removeRootView(t)},shortcut:o.S.RETURN}),t=c.a.create({message:o._99("DriveUI.Alert.UnexpectedError.Message"),description:o._99("DriveUI.Alert.UnexpectedError.Description"),buttonViews:[e]});o.e.application._paneManager.addRootView(t),t.animateOpen()},_changeDisplayMode:function(e){var t=this._currentDisplayMode;if(t!==e){var i=this.view,n=this.folderNavigationController,r=n.view,a=this.statusBarViewController,s=a?a.view:null,o=void 0;switch(t){case p.FolderNavigation:a&&a.beginAppearanceTransition(!1),n.beginAppearanceTransition(!1),i.removeSubview(r),s&&i.removeSubview(s),a&&a.endAppearanceTransition(!1),n.endAppearanceTransition(!1);break;case p.AccountMigration:o=this._getNotMigratedView(),i.removeSubview(o)}switch(e){case p.FolderNavigation:a&&a.beginAppearanceTransition(!0),n.beginAppearanceTransition(!0),i.addSubview(r),s&&i.addSubview(s),a&&a.endAppearanceTransition(!0),n.endAppearanceTransition(!0);break;case p.AccountMigration:o=this._getNotMigratedView(),i.addSubview(o),o.layout()}this._currentDisplayMode=e}},attemptToSelectSharedItem:function(e){var t=this,i=this.session.currentWorkingDirectory.content;if(i.hasLoadedContent){var n=i.findItemMatchingShareRecordName(e);return n?this.folderNavigationController.visibleViewController.changeSelectionToItem(n):o.w.resolve()}return i.loadAllContent().then(function(){return t.attemptToSelectSharedItem(e)})},_getNotMigratedView:function(){var e=this._notMigratedView;return e||(e=this._notMigratedView=l.a.create()),e},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewController"},__superMap:{_$14d$init:"init",_$1Q2$viewWillAppear:"viewWillAppear",_$1aG$viewWillDisappear:"viewWillDisappear"}})},function(e,t){},function(e,t){},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.Alert.UnexpectedError.Message":"An unexpected error has occured.","DriveUI.Alert.UnexpectedError.Description":"Please try again later."})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var h=i(4),s=i(0),u=i(226),p=i(400),n=s.v.extend({iconService:s._107(),init:function(e,t){this.iconService=e,this.__s._$CM$init.call(this,t),this._pool=h.I.create()},shouldAcquireIconCanvasViewAsync:function(i){var n=this,r=h.g.create(),a=s._117(i.fileID);return h._4.setTimeout(function(){var e=n.iconService,t=i.fileType;i.isIWorkFile?e.fetchIconURL(t,p.b.IWORK).then(function(e){e?r.resolve({shouldAcquire:!0,fileID:a}):r.resolve({shouldAcquire:!1,fileID:a})}):t?e.fetchIconURL(t,p.b.DEFAULT).then(function(e){e?r.resolve({shouldAcquire:!0,fileID:a}):r.resolve({shouldAcquire:!1,fileID:a})}):r.resolve({shouldAcquire:!1,fileID:a})}),r},shouldAcquireIconCanvasViewSync:function(e){var t=this.iconService,i=e.fileType;return e.isIWorkFile?!!t.getIconURL(i,p.b.IWORK):!!i&&!!t.getIconURL(i,p.b.DEFAULT)},getShowcaseViewFromCache:function(e){var t=this._pool,i=this.createShowcaseViewReuseIdentifier(e);return t.dequeueItemForKeyIdentifier(i)||null},getShowcaseViewFromCacheWithReuseIdentifier:function(e){return this._pool.dequeueItemForKeyIdentifier(e)||null},isShowcaseViewAvailableForIdentifier:function(e){return this._pool.poolContainsItemsForKeyIdentifier(e)},fetchAppIconShowcaseView:function(l){var u=this,d=h.g.create();return h._4.setTimeout(function(){var i,n,r,a,s,e,o,c,t=u.createShowcaseViewReuseIdentifier(l);(i=l,n=t,r=u.iconService,a=h.g.create(),s=i.canvasSize,e=i.fileType,o=i.isIWorkFile,c=r.getIconTypeForFileType(e),h._4.setTimeout(function(){if(o)r.fetchIconURL(e,p.b.IWORK).then(function(e){if(e){var t=f(e,s,i,n);a.resolve(t)}else a.resolve(null)});else{if(!e)return void a.resolve(null);r.fetchIconURL(e,p.b.DEFAULT).then(function(e){if(e){!1===o&&(s=r.getIconCanvasSizeForType(c));var t=f(e,s,i,n);a.resolve(t)}else a.resolve(null)})}}),a).then(function(e){d.resolve(e)})}),d},getAppIconShowcaseView:function(e){var t,i,n,r,a,s,o,c,l;return t=e,i=this.createShowcaseViewReuseIdentifier(e),n=this.iconService,r=t.fileType,a=t.isIWorkFile,s=t.displaySize,o=n.getIconTypeForFileType(r),c=u.a.getCanvasSizeForAppIconDisplaySize(s),l=void 0,a?(l=n.getIconURL(r,p.b.IWORK))?f(l,c,t,i):null:r&&(l=n.getIconURL(r,p.b.DEFAULT))?(!1===a&&(c=n.getIconCanvasSizeForType(o,s)),f(l,c,t,i)):null},releaseShowcaseView:function(e){var t=this._pool,i=e.get("reuseIdentifier");t.queueItemForKeyIdentifier(e,i)},createThumbnailShowcaseViewUniqueIdentifier:function(e,t){return e.id+"::"+t.name},createShowcaseViewReuseIdentifier:function(e){var t="normal";e.isIWorkFile&&(t="iWork");var i=e.displaySize.name;return e.fileType+"::"+t+"::"+e.iconPrerendered+"::"+i},staticMembers:{__QUALIFIED_CLASS_NAME__:"ShowcaseViewPool"},__superMap:{_$CM$init:"init"}});function f(e,t,i,n){return h.b.create({canvasClassName:i.canvasClassName,src:e,size:t,prerendered:i.iconPrerendered,reuseIdentifier:n})}},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(4),a=i(882),s=r._8.extend({init:function(e,t){this.session=e,this.__s._$JV$init.call(this,t)},viewClass:a.a,primaryViewController:n.n.define({viewOutlet:"primaryView",downstreamBindings:{session:"(owner).session",currentSelection:"(owner).folderSelection"}}),secondaryViewController:n.n.define({viewOutlet:"secondaryView",downstreamBindings:{session:"(owner).session",currentSelection:"(owner).folderSelection"}}),currentSelection:n._105(),folderSelection:n._105({readOnly:!0,dependencies:["currentSelection","currentSelection.changed"],get:Object.assign(function(){return this.currentSelection},{__CW__getter:function(e,t,i,n){return n.internalGet(this,t[0+i])}})}),session:n._105(),staticMembers:{__QUALIFIED_CLASS_NAME__:"StatusBarViewController"},__superMap:{_$JV$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return l}),i(884);var s=i(8),o=i(0),n=i(4),a=i(225),r=i(883),c=o._67("StatusInfoLoadStateEnum",function(e){e("LOADING"),e("LOADED"),e("ERROR")}),l=n._8.extend({viewClass:r.a,view:o._105({downstreamBindings:{statusInfoText:"(owner)._statusInfoText",trashShallowCount:"(owner)._trashShallowCount"}}),session:o._105(),fileSystem:o._105(o._64("session.fileSystem")),_currentFolderContent:o._105(o._64("session.currentWorkingDirectory.content")),_statusInfoText:o._105({readOnly:!0,dependencies:["_folderLoadingState","_selectionStatus","fileSystem.quotaData","_trashShallowCount","_isInTrashFolder","_trashDetailsWereFetched"],get:function(){return this._createLocalizedStatusText()}}),currentSelection:o._105(),_selectionStatus:o._105({readOnly:!0,dependencies:["currentSelection","_folderLoadingState","_currentFolderContent"],get:Object.assign(function(){var e=null;return this.currentSelection&&this._currentFolderContent?(this._folderLoadingState===c.LOADED&&(e={selectedCount:this.currentSelection.size,fromTotalItems:this._currentFolderContent.length}),e):null},{__CW__getter:function(e,t,i,n){var r=null;return n.internalGet(this,t[0+i])&&n.internalGet(this,t[2+i])?(n.internalGet(this,t[1+i])===c.LOADED&&(r={selectedCount:n.internalGet(this,t[0+i]).size,fromTotalItems:n.internalGet(this,t[2+i]).length}),r):null}})}),_isInTrashFolder:o._105({readOnly:!0,dependencies:["_folderLoadingState","_currentFolderContent"],get:Object.assign(function(){var e=!1,t=this._currentFolderContent;return t&&(e=t.isInTrash),e},{__CW__getter:function(e,t,i,n){var r=!1,a=n.internalGet(this,t[1+i]);return a&&(r=a.isInTrash),r}})}),_folderLoadingState:o._105({readOnly:!0,dependencies:["_currentFolderContent","_currentFolderContent.changed","_currentFolderContent.dataState"],get:Object.assign(function(){var e=null;return this._currentFolderContent&&(e=this._currentFolderContent.isLoading?c.LOADING:this._currentFolderContent.hasError?c.ERROR:c.LOADED),e},{__CW__getter:function(e,t,i,n){var r=null;return n.internalGet(this,t[0+i])&&(r=n.internalGet(this,t[0+i]).isLoading?c.LOADING:n.internalGet(this,t[0+i]).hasError?c.ERROR:c.LOADED),r}})}),_trashShallowCount:o._105(),_trashDetailsChangedListener:o._106({inputs:["fileSystem.trashDetailsService.shallowCount"],callback:function(e){isNaN(e)||(this._trashShallowCount=e,this._trashDetailsWereFetched||(this._trashDetailsWereFetched=!0))}}),_trashDetailsWereFetched:o._105(),init:function(){var e=arguments;this.__s._$1JY$init.apply(this,e),this.view.delegate=this},didPressTrashButton:function(e){var t=this.session;t.changeDirectory(t.trashRootFolder)},_createLocalizedStatusText:function(){var e=null;switch(this._folderLoadingState){case c.LOADING:e=this._createLocalizedLoadingText(),this.view.trashButtonVisible=!1;break;case c.LOADED:if(this._selectionStatus&&(!this._isInTrashFolder&&this._trashDetailsWereFetched||this._isInTrashFolder)){this.view.trashButtonVisible=!this._isInTrashFolder;var t=this._createLocalizedSelectedItemsText(this._selectionStatus.selectedCount,this._selectionStatus.fromTotalItems),i=this._createLocalizedQuotaText();e=o._99("DriveUI.StatusBar.Text.SelectionAndQuota",{selectionInfo:t,quotaSize:i})}else e=this._createLocalizedLoadingText();break;case c.ERROR:e=this._createLocalizedQuotaText()}return e},_createLocalizedQuotaText:function(){var e=this.fileSystem.quotaData;if(!e)return"";var t=e.totalStorageInBytes,i=e.usedStorageInBytes;if(!isFinite(t)||!isFinite(i))return"";var n=Math.max(0,t-i),r=Object(a.b)(n,{multipleType:a.a});return o._99("DriveUI.StatusBar.Quota",{size:r})},_createLocalizedLoadingText:function(){return o._99("DriveUI.StatusBar.Loading")},_createLocalizedSelectedItemsText:function(e,t){var i=void 0;i=0===e?"DriveUI.StatusBar.NoItemsSelected."+(0===t?"NoItemsAvailable":1===t?"OneItemAvailable":"MultipleItemsAvailable"):"DriveUI.StatusBar.OneOrMoreItemsSelected";var n=s.p.getNumberFormatter(),r=n.format(e),a=n.format(t);return o._99(i,{numberOfSelectedItems:r,totalNumberOfItems:a})},staticMembers:{__QUALIFIED_CLASS_NAME__:"StatusInfoViewController"},__superMap:{_$1JY$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(4),r=i(0),h=i(226),o=i(881),c=i(886),a=["png","jpg","jpeg","gif","bmp"],s=r.v.extend({init:function(e,t,i,n,r,a,s){this.hostService=t,this.loggingService=e,this.showcaseViewPool=i,this.downloadImageService=n,this.itemURLService=r,this.thumbnailScalingService=a,this.__s._$Od$init.call(this,s),Object.defineProperties(this,{_thumbnailTreatmentTypeService:{value:c.a.create(t)},_pauseThumbnailLoading:{value:!1,writable:!0}})},hostService:r._107(null),loggingService:r._107(null),showcaseViewPool:r._107(null),downloadImageService:r._107(null),itemURLService:r._107(null),thumbnailScalingService:r._107(null),isThumbnailLoadingPaused:r._107({readOnly:!0,default:!1,get:function(){return this._pauseThumbnailLoading}}),canProvideThumbnailCanvasForFile:function(e){return!!e&&!!(e.get("thumbnail")||(i=(t=e).get("size"),(n=t.get("extension"))&&(n=n.toLowerCase(),0<=a.indexOf(n)&&i<1048576&&0<i)));var t,i,n},createThumbnailShowcaseViewForFile:function(e,t,i){return this._pauseThumbnailLoading?{success:!1,reason:"PAUSED"}:{success:!0,thumbnailShowcaseView:o.a.create(e,i,this.downloadImageService,this.itemURLService,this,this._thumbnailTreatmentTypeService,this.thumbnailScalingService,this.loggingService,{displaySize:t})}},cacheThumbnailCanvasForFile:function(e,t){if(!this._pauseThumbnailLoading&&!1!==this.canProvideThumbnailCanvasForFile(e)){var i=this.showcaseViewPool,n=i.createThumbnailShowcaseViewUniqueIdentifier(e,t);if(!i.isShowcaseViewAvailableForIdentifier(n)&&!l.isFileBeingCached(e,t)){var r=this.downloadImageService,a=this.thumbnailScalingService,s=this.itemURLService,o=this._thumbnailTreatmentTypeService;l.preloadThumbnail(this,e,t,r,i,a,s,o)}}},suspendThumbnailLoading:function(){this._pauseThumbnailLoading=!0,l.cancelAllTasks()},resumeThumbnailLoading:function(){this._pauseThumbnailLoading=!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailCanvasFactory"},__superMap:{_$Od$init:"init"}}),l=r.v.extend({currentTasksList:{},suspend:function(){this._suspended||(this._suspended=!0,this._scheduler.suspend())},resume:function(){this._suspended&&(this._suspended=!1,this._scheduler.resume())},scheduler:r._107({get:function(){return this._scheduler}}),init:function(e){var t=arguments;this.__s._$1dW$init.apply(this,t),this._scheduler=this.loadTaskScheduler({delegate:this})},loadTaskScheduler:function(){return n._3.create({trace:!1,traceId:"native file upload",allowedMaximumRunningTasks:1})},preloadThumbnail:function(e,t,i,n,r,a,s,o){var c=this,l=h.a.getCanvasSizeForThumbnailDisplaySize(i),u=this._createKeyForTask(t,l),d=p.create({file:t,displaySize:i,thumbnailCanvasFactory:e,downloadImageService:n,id:u,thumbnailTreatmentTypeService:o,showcaseViewPool:r,thumbnailScalingService:a,itemURLService:s});return this._addTaskToCurrentTasksList(u,d),this._scheduler.scheduleTask(d).then(function(){c._removeTaskFromCurrentTasksList(u)}).catch(function(e){c._removeTaskFromCurrentTasksList(u)})},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},isFileBeingCached:function(e,t){var i=h.a.getCanvasSizeForThumbnailDisplaySize(t),n=this._createKeyForTask(e,i);return!!this.currentTasksList[n]},_createKeyForTask:function(e,t){var i=h.a.getCanvasSizeForThumbnailDisplaySize(t);return e.get("id")+"::"+i},_addTaskToCurrentTasksList:function(e,t){this.currentTasksList[e]=t},_removeTaskFromCurrentTasksList:function(e){delete this.currentTasksList[e]},taskSchedulerTaskDidCancel:function(e,t){delete this.currentTasksList[t.id]},__superMap:{_$1dW$init:"init"}}).create(),p=n._2.extend({id:null,file:null,displaySize:null,thumbnailCanvasFactory:null,showcaseViewPool:null,downloadImageService:null,thumbnailTreatmentTypeService:null,thumbnailScalingService:null,itemURLService:null,startRun:function(){var t=this,e=this.get("thumbnailCanvasFactory"),i=this.get("file"),n=this.get("displaySize"),r=this.showcaseViewPool,a=r.createThumbnailShowcaseViewUniqueIdentifier(i,n),s=o.a.create(i,a,this.downloadImageService,this.itemURLService,e,this.thumbnailTreatmentTypeService,this.thumbnailScalingService,{displaySize:n});this._thumbnailShowcaseViewUpdateListener=s.listen("updated",function(e){t._thumbnailShowcaseViewUpdateListener.disconnect(),t._thumbnailShowcaseViewUpdateListener=null,t._thumbnailShowcaseViewErrorListener.disconnect(),t._thumbnailShowcaseViewErrorListener=null,r.releaseShowcaseView(s),t.finishRunWithSuccess()}),this._thumbnailShowcaseViewErrorListener=s.listen("error",function(e){t._thumbnailShowcaseViewUpdateListener.disconnect(),t._thumbnailShowcaseViewUpdateListener=null,t._thumbnailShowcaseViewErrorListener.disconnect(),t._thumbnailShowcaseViewErrorListener=null,t.finishRunWithFailure(e)}),s.startLoading()},shouldAllowCancel:function(){return!this.get("isRunning")},cancel:function(){this.__s._$2oD$cancel.call(this),this._thumbnailShowcaseViewUpdateListener&&(this._thumbnailShowcaseViewUpdateListener.disconnect(),this._thumbnailShowcaseViewUpdateListener=null),this._thumbnailShowcaseViewErrorListener&&(this._thumbnailShowcaseViewErrorListener.disconnect(),this._thumbnailShowcaseViewErrorListener=null),this.finishCancellingRun()},staticMembers:{__QUALIFIED_CLASS_NAME__:"precacheThumbnailShowcaseViewTask"},__superMap:{_$2oD$cancel:"cancel"}})},function(e,o,c){"use strict";(function(i){c.d(o,"a",function(){return a});var t=c(4),n=c(0),d=c(885),r=c(403),e=navigator.hardwareConcurrency-1||1,a=n.v.extend({scheduler:n._107({get:function(){return this._scheduler}}),loggingService:n._107(null),init:function(e,t){var i=this;Object.defineProperties(this,{_currentTasksList:{value:{}},_pauseBetweenScalingEventTasksList:{value:{}},_scheduler:{value:this.loadTaskScheduler()},_browserSupportsWebWorkers:{value:!1,writable:!0},_canvasSupportsImageScalingQualityHigh:{value:!1,writable:!0},_addTaskToCurrentTasksList:{value:function(e,t){i._currentTasksList[e]=t}},_removeTaskFromCurrentTasksList:{value:function(e){delete i._currentTasksList[e]}},_addTaskToPauseBetweenScalingEventTasksList:{value:function(e,t){i._pauseBetweenScalingEventTasksList[e]=t}},_removeTaskFromPauseBetweenScalingEventTasksList:{value:function(e){delete i._pauseBetweenScalingEventTasksList[e]}}}),this.__s._$hD$init.call(this,t),this.loggingService=e,s()&&(this._browserSupportsWebWorkers=!0),r.a.canvasSupportsImageSmoothingQuality()&&(this._canvasSupportsImageScalingQualityHigh=!0)},loadTaskScheduler:function(){return t._3.create({trace:!1,traceId:"thumbnail scaler",allowedMaximumRunningTasks:e})},drawThumbnailWithTreatmentType:function(e,t,i,n,r,a){var s,o=this;switch(e){case"IMAGES":s=d.b.Image;break;case"VIDEOS":s=d.b.Video;break;case"MUSIC":default:s=d.b.Default}var c,l=this.loggingService;c=this._canvasSupportsImageScalingQualityHigh?d.a.create({icon:t,size:i,identifier:n,scalingHasStartedCallback:r,file:a,treatmentType:s,useImageSmoothingQualityHigh:!0,loggingService:l}):this._browserSupportsWebWorkers?d.a.create({icon:t,size:i,identifier:n,scalingHasStartedCallback:r,file:a,scalingWebWorkerProvider:h,treatmentType:s,loggingService:l}):d.a.create({icon:t,size:i,identifier:n,scalingHasStartedCallback:r,file:a,treatmentType:s,loggingService:l});var u=p.create();return this._addTaskToCurrentTasksList(n,c),this._addTaskToPauseBetweenScalingEventTasksList(n,u),this._scheduler.scheduleTask(u).then(function(){o._removeTaskFromPauseBetweenScalingEventTasksList(n)}),this._scheduler.scheduleTask(c).then(function(e){return o._removeTaskFromCurrentTasksList(n),e})},cancelAllTasks:function(){this._scheduler.cancelAllQueuedTasks()},cancelScaleThumbnailTask:function(e){var t=this._currentTasksList[e],i=this._pauseBetweenScalingEventTasksList[e];t&&t.isCancellable&&(t.cancel(),this._removeTaskFromCurrentTasksList(e)),i&&i.isCancellable&&(i.cancel(),this._removeTaskFromPauseBetweenScalingEventTasksList(e))},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailScalingService"},__superMap:{_$hD$init:"init"}}),h=n.v.extend({init:function(){var e=arguments;this.__s._$1qQ$init.apply(this,e),this._chromeWorkerCounter=0},acquireWorkerPacket:function(){var e=new Worker(c(1473));return e.postMessage({init:this._chromeWorkerCounter++}),{worker:e,scratchCanvas:document.createElement("canvas")}},returnWorkerPacket:function(e){e.worker.terminate(),e=null},__superMap:{_$1qQ$init:"init"}}).create(),p=t._2.extend({startRun:function(){var e=this;t._4.setTimeout(function(){e.finishRunWithSuccess()},100)},shouldAllowCancel:function(){return!this.get("isRunning")},cancel:function(){this.__s._$27E$cancel.call(this),this.finishCancellingRun()},staticMembers:{__QUALIFIED_CLASS_NAME__:"PauseBetweenScalingEventTask"},__superMap:{_$27E$cancel:"cancel"}}),s=function(){var t=!1;if(i.Worker&&(t=!0),n.j.sharedInstance.isIE&&11==n.j.sharedInstance.majorVersion){t=!0;try{var e=new Float32Array(4).buffer;i.postMessage("{}","*",[e])}catch(e){t=!1}}return t}}).call(o,c(5))},function(e,t){e.exports="/applications/iclouddrive/1808Project39/en-us/r$__18.js"},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i(4);var o=i(0),n=o.v.extend({loggingService:null,init:function(e,t){this.loggingService=e,Object.defineProperties(this,{_stats:{value:{files:0,bytes:0}},_fileList:{value:{}},_previousTotalBytes:{value:0,writable:!0},_nextBytesThreshold:{value:52428800,writable:!0}}),this.__s._$Jf$init.call(this,t)},registerFile:function(e){if(e){var t=this._fileList,i=e.id;if(!t[i]){var n,r,a,s,o,c,l,u,d,h={bytes:(n=e).size,extension:n.extension};c=t[i]=h,u=(l=this._stats).files,d=l.bytes,u++,d+=c.bytes,l.files=u,l.bytes=d,s=(a=(r=this)._stats).files,o=a.bytes,s%200==0&&p(r,"File Threshold Crossed: "+s),o>r._nextBytesThreshold&&r._previousTotalBytes<r._nextBytesThreshold&&(p(r,"Bytes Threshold Crossed: "+r._nextBytesThreshold/1024/1024+"MB"),r._nextBytesThreshold+=52428800),r._previousTotalBytes=o}}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ThumbnailStatsReporterService"},__superMap:{_$Jf$init:"init"}});function p(c,e){var t=c._stats,i=t.files,n=t.bytes,r=(n/1024/1024).toFixed(2),a="File and Thumbnail Usage: "+i+" files ("+r+"MB)",s=function(e){for(var t="",i=Object.keys(e),n=0;n<i.length;n++){var r=i[n];t+=r+"\t"+e[r]+"\r"}return t}(function(e){for(var t={},i=c._fileList,n=Object.keys(i),r=0;r<n.length;r++){var a=i[n[r]],s=a.extension,o=t[s];o||(o=0),o+=a.bytes,t[s]=o}return t}());c.loggingService.recordStat(a,{trigger:e,files:i,bytes:n,bytesInMB:r,bytesSummedByExtensionInTabbedFormat:s}),o._100.debug(a+"\ntrigger: "+e+"\nfiles: "+i+"\nbytes: "+n+"\nbytesInMB: "+r+"\nbytesSummedByExtensionInTabbedFormat:\n"+s)}},function(e,t,i){"use strict";i.d(t,"a",function(){return c}),i(404);var n=i(1476),a=(i.n(n),i(8)),l=i(4),s=i(0),r="DriveUI.Toolbar.Button.UserAction.Tooltip",o=l.z.create({right:5}),c=l.h.extend({additionalClassNames:s._60(["toolbar-item","user-action-menu","large-display-text"]),title:s._99(r),tooltip:s._99(r),showRightAccessory:!0,tabindex:0,action:"_performShowUserMenuSettingsAction",cloudOSService:s._105(),init:function(e,t){this.cloudOSService=e,this.__s._$Kc$init.call(this,t);var i=(this.target=this).cloudOSService.environment.authBag.user;this._userObserver=i.observe("firstName","lastName",this._cloudOSUserNameDidChange.bind(this))},_cloudOSUserNameDidChange:function(e,t){var i=a.n({givenName:e}),n=a.n({givenName:e,familyName:t}),r=s._120(n)?n:i;this.title=r},_performShowUserMenuSettingsAction:function(e){var t=this._getUserMenuPopoverController();t.popoverVisible||t.presentPopoverForView(e,l.T.Up)},_getUserMenuPopoverController:function(){var e=this._userMenuPopoverController;return e||(e=l.M.create({menu:this._getUserMenu(),popoverLayoutMargins:o}),this._userMenuPopoverController=e)},_getUserMenu:function(){var e=this._userMenu;if(e)return e;e=l.K.create();var t,i,n,r,a,s,o=this.cloudOSService,c=o.getPath("environment.accountMenu");if(c){for(n=[],a=0,s=(t=c.items).length;a<s;++a)i=t[a],r=l.L.create({title:i.title,action:i.action,target:o}),n.push(r);e.addMenuGroup(n)}return this._userMenu=e},staticMembers:{__QUALIFIED_CLASS_NAME__:"ActionMenuButton"},__superMap:{_$Kc$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i(404);var n=i(1478),r=(i.n(n),i(0)),a=i(4).h.extend({additionalClassNames:r._60(["toolbar-item","apps-launcher","large-display-text"]),title:r._99("DriveUI.Toolbar.ApplicationTitle"),tooltip:r._99("DriveUI.Toolbar.Button.AppsLauncher.Tooltip"),showLeftAccessory:!0,showRightAccessory:!0,tabindex:0,cloudOSService:r._105(null),action:"performShowAppLauncherAction",init:function(e,t){this.cloudOSService=e,this.__s._$Jm$init.call(this,t),this.target=this},performShowAppLauncherAction:function(){var e=this.cloudOSService,t=this.frame.getOriginRect();e.showAppSwitcher(r.v.create({left:t.origin.x,top:t.origin.y,width:t.size.width,height:t.size.height+10}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"AppsLauncherButton"},__superMap:{_$Jm$init:"init"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1480),r=(i.n(n),i(0)),a=r._57.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[],classes:["fixed-space-toolbar-item"],styles:{display:{type:"STYLEOUTLET",bindingtype:"IFBINDING",name:"isVisible",truevalue:"inline-block",falsevalue:"none",attributes:{},unit:null,property:"display"}}},__QUALIFIED_CLASS_NAME__:"FixedSpaceToolbarItemView"},isVisible:r._105(!0)})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i(404);var n=i(1482),r=(i.n(n),i(4)),a=i(0),s="DriveUI.Toolbar.Button.Help.Tooltip",o=r.h.extend({additionalClassNames:a._60(["toolbar-item","help"]),showTitle:!1,title:a._99(s),tooltip:a._99(s),tabindex:0,cloudOSService:a._105(),action:"_performShowHelp",init:function(e,t){this.cloudOSService=e,this.__s._$Hv$init.call(this,t),this.target=this},_performShowHelp:function(){this.cloudOSService.showHelp("mmd0b4a7f5e8")},staticMembers:{__QUALIFIED_CLASS_NAME__:"HelpButton"},__superMap:{_$Hv$init:"init"}})},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(4),r=i(0),a=i(887),s=n._8.extend({contentViewController:r.n.define("contentView"),folderToolbarViewController:r._105({strong:!0}),trashToolbarViewController:r._105({strong:!0}),session:r._105(),currentWorkingDirectoryObserver:r._106({inputs:["session.currentWorkingDirectory"],callback:function(e){this._updateContentViewController(e)}}),viewClass:a.a,_updateContentViewController:function(e){if(e){var t=e.isInTrash,i=this.contentViewController;!i||!t&&i!==this.folderToolbarViewController?(this.folderToolbarViewController.propertyChanged("view"),this.contentViewController=this.folderToolbarViewController):t&&!i!==this.trashToolbarViewController&&(this.trashToolbarViewController.propertyChanged("view"),this.contentViewController=this.trashToolbarViewController)}},staticMembers:{__QUALIFIED_CLASS_NAME__:"ToolbarViewController"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(4),s=(i(1487),i(888)),o=n._99("DriveUI.TrashToolbar.Button.Delete.Title"),c=n._99("DriveUI.TrashToolbar.Button.Delete.All.Title"),l=n._99("DriveUI.TrashToolbar.Button.Recover.Title"),u=n._99("DriveUI.TrashToolbar.Button.Recover.All.Title"),a=r._8.extend({init:function(e,t){this.actionPolicy=e,this.__s._$IP$init.call(this,t)},actionPolicy:n._105(),createView:function(){var e=s.a.create(),r=e.putFilesBackButton;r.target=this,r.action="_performPutFilesBackAction",r.enabled=!1,this.actionPolicy.observe("shouldAllowPutBackFiles",function(e){r.enabled=e});var a=e.deleteFilesButton;return a.target=this,a.action="_purgeRecentlyDeletedItemsAction",this.actionPolicy.observe("shouldAllowTombstoneFiles",function(e){a.enabled=e}),this.actionPolicy.observe("shouldOperateOnAllTrashItems",function(e){var t=e?[c,u]:[o,l],i=t[0],n=t[1];a.title=i,a.tooltip=i,r.title=n,r.tooltip=n}),e},_performPutFilesBackAction:function(){r.Q.dispatchNotification(r.P.create({id:"putFilesBackFromTrash"}))},_purgeRecentlyDeletedItemsAction:function(){r.Q.dispatchNotification(r.P.create({id:"purgeRecentlyDeletedItems"}))},staticMembers:{__QUALIFIED_CLASS_NAME__:"TrashToolbarViewController"},__superMap:{_$IP$init:"init"}})},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DriveUI.TrashToolbar.Button.Recover.Title":"Recover","DriveUI.TrashToolbar.Button.Recover.All.Title":"Recover All","DriveUI.TrashToolbar.Button.Delete.Title":"Delete","DriveUI.TrashToolbar.Button.Delete.All.Title":"Delete All"})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var l=i(0),r=i(4),n=i(891);function u(e,t){return e.sortOrder>t.sortOrder?1:e.sortOrder<t.sortOrder?-1:0}var a=r._8.extend(l._8,{raiseAlertService:l._105(),iconService:l._105(),showcaseViewPool:l._105(),thumbnailStatsReporterService:l._105(),thumbnailCanvasFactory:l._105(),session:l._105(),init:function(e,t,i,n,r,a,s){this.__s._$gj$init.call(this,s),this.session=e,this.raiseAlertService=t,this.showcaseViewPool=i,this.iconService=n,this.thumbnailStatsReporterService=r,this.thumbnailCanvasFactory=a;var o=this.uploadFilesService=e.fileSystem.uploadFilesService,c=this;o.observe("activatedTransaction",function(e){if(e){var t=e.context;c._addTransactionToUploadView(t)}}),o.observe("transactionFinalized",function(e){if(e){var t=e.context;c._prepareToRemoveTransactionFromUploadView(t)}})},createView:function(){return n.a.create(this.showcaseViewPool,this.iconService,this.thumbnailStatsReporterService,this.thumbnailCanvasFactory,r.Z.create(267,567),this.openSelectorDialog.bind(this))},viewDidDisappear:function(){this.clearCompletedUploads()},viewWillAppear:function(){this.__s._$1B4$viewWillAppear.call(this),this.clearCompletedUploads()},inputElement:l._107({set:function(e){if(e){var i=this;l._61(e,"change",function(e){if(e){var t=this.files;t&&0<t.length&&i._uploadFilesToCurrentFolder(t)}})}return e}}),folderContent:l._105(l._64("session.currentWorkingDirectory.content")),_uploadFilesToCurrentFolder:function(e){if(!this.folderContent)return l._100.error("uploadFilesToCurrentFolder: No folderContent."),void l._75("Folder content was not set on UploadViewController");var t=this.raiseAlertService,i={multipleFiles:0!==e.length};this.session.uploadFiles(e,null,i,t.raiseAlertForErrorItem.bind(t))},presenterViewController:null,_addTransactionToUploadView:function(e){var t=this.view,i=e.stagedFile,n=t.createUploadView();n.fileContent=i,this.attachViewListeners(n,e,t);var r=t.getPath("uploadViews.length");if(n&&r<5){var a=n.element.getBoundingClientRect().height;this._itemHeight=a}this._calculateContentSize()},_prepareToRemoveTransactionFromUploadView:function(e){},attachViewListeners:function(n,e){var r=this,a=this.view,t=!e.nativeFile.size,i=e.progress,s=e.constructor.stateEnum;i.observe("changed",function(e){if(e&&!t){if(!n)return l._100.error("Upload view no longer exists, but progress is still occuring."),void l._100.error("uploadProgressView:"+n.toString());n.percentComplete=i.percentageComplete/100,n.bytesTotal=i.totalAmount,n.bytesTransferred=i.amountComplete}}),e.observe("state",function(e){var t;switch(e){case s.Init:case s.Prepared:case s.Staging:case s.Staged:case s.Commit:case s.Commit.Prepared:t=1;break;case s.Commit.Running:t=0;break;case s.Completed:case s.Completed.Success:case s.Completed.Fail:case s.Reverting:case s.Reverted:case s.Finalizing:case s.Finalized:n.isComplete=!0,t=2;break;case s.Cancelled:a.removeUploadView(n),r._calculateContentSize();break;default:t=3}n.sortOrder=t;var i=a.uploadViews.sort(u);a.uploadViews=i});var o=e.stagedFile;n.listen("closeWasClicked",function(e){e&&(r.uploadFilesService.cancelUploadForFile(o),0===a.uploadViews.length&&r.shouldBeDismissed())}),n.listen("retryWasClicked",function(){a.removeUploadView(this),r.retryUploadTransaction(e)});var c=e.transactionDidFail||l._6;e.transactionDidFail=function(){c.apply(this,arguments),n.isFailed=!0}},retryUploadTransaction:function(e){var t=e.file,i=e.destinationFolder,n=this.raiseAlertService;this.session.uploadFile(t,i).catch(n.raiseAlertForErrorItem.bind(n))},clearCompletedUploads:function(){this.view.clearCompleted(),this._calculateContentSize()},shouldBeDismissed:l._118(),shouldShowPopover:l._107({readOnly:!0,get:function(){return this.uploadFilesService.hasActiveTransactions}}),openSelectorDialog:function(){var e=this.inputElement;e.value=null,e.click()},_itemHeight:l._105({defaultValue:82}),_calculateContentSize:function(){var e=this._itemHeight||82,t=this.getPath("view.uploadViews.length")||1;5<t&&(t=5);var i=e*t+62,n=r.Z.create(267,i);this.view.preferredSize=n},staticMembers:{__QUALIFIED_CLASS_NAME__:"UploadViewController"},__superMap:{_$gj$init:"init",_$1B4$viewWillAppear:"viewWillAppear"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.r.extend({staticMembers:{storageKey:"BRApp"},supportHelpPage:n.r.stringProperty("http://support.apple.com/kb/ht4847")}).create()},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),h=i(86),r=h.D.extend({appsLauncherButton:n._105(null),init:function(e,t,i,n,r,a,s){for(var o=arguments.length,c=Array(7<o?o-7:0),l=7;l<o;l++)c[l-7]=arguments[l];this.__s._$6T$init.apply(this,c);var u=h.H.create(t,i,n,r,a,s),d=[h.s.create(t.actionPolicy),h.G.create(t.actionPolicy,u),h.g.create(t.actionPolicy),h.E.create(t.actionPolicy),h.h.create(t.actionPolicy),h.w.create(t.actionPolicy)];this.folderToolbarViewController=h.o.create(d),this.trashToolbarViewController=h.F.create(t.trashPolicy),this.session=t,this.raiseAlertService=i,this.cloudOSService=e},viewWillAppear:function(){var e=arguments;this.__s._$O_$viewWillAppear.apply(this,e);var t=this.appsLauncherButton=h.d.create(this.cloudOSService);this.view.addViewToLeftGroup(t),this.view.addViewToRightGroup(h.a.create(this.cloudOSService)),this.view.addViewToRightGroup(h.m.create()),this.view.addViewToRightGroup(h.p.create(this.cloudOSService))},handleKeyDown:function(e){switch(e.which){case n.S.ESC:if(e.shiftKey&&!e.ctrlKey&&!e.metaKey)return this.appsLauncherButton.performShowAppLauncherAction(this),!0}return!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"ICloudDriveWebAppToolbarViewController"},__superMap:{_$6T$init:"init",_$O_$viewWillAppear:"viewWillAppear"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(8),r=i(0),a=i(4),s=r.v.extend({isActive:r._107({readOnly:!0,get:function(){return this._active}}),activate:function(){this._active||(this._active=!0,a._5.get("default").addObserver(a.F.TRACE_GROUP,o))},deactivate:function(){this._active&&(this._active=!1,a._5.get("default").removeObserver(a.F.TRACE_GROUP,o))}}).create();function o(l){switch(l.status){case a.F.TRACE_STATUS_LOADED_IMAGE:if(!l.src.match(u))return;var e=function(e){for(var t=l.src.match(u)[1].split("&"),i={},n=0,r=t.length;n<r;n++){var a=t[n].split("="),s=a[0],o=a[1];i[s]=o}var c=i.field?i.field.match(/icon(\d+)x(\d+)_(\w+)/):null;return c&&(i.size=c[1]||null,i.type=c[3]||null),i}();if(e.id.match(c))return;var t=n.o.get("cloudOSService"),i=n.o.getPath("authBag.clientInfo");i=i||{},t.recordStat("3rdPartyIconLoaded",{duration:l.duration,iconId:e.id,iconType:e.type,iconSize:e.size,region:i.region,country:i.country,appName:"iclouddrive"})}}var u=/\/getIcons\?(.*)/,c=/^com.apple\./},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(0),r=i(4),a=i(1494),s={Shared:"item-is-shared",Available:"share-option-available",None:"none-available"};Object.freeze(s);var o={Available:"upload-is-available",None:"upload-unavailable"};Object.freeze(o);var c={Available:"download-is-available",None:"download-unavailable"};Object.freeze(c);var l={Available:"delete-is-available",None:"delete-unavailable"};Object.freeze(l);var u=n.v.extend(n._8,a.b,{actionBroadcaster:n._107({strong:!0,type:a.a}),actionsEnabled:n._105({dependencies:["shareFlowActive"],readOnly:!0,get:Object.assign(function(){return!this.shareFlowActive},{__CW__getter:function(e,t,i,n){return!n.internalGet(this,t[0+i])}})}),shareFlowActive:n._105(!1),init:function(e){var t=arguments;this.__s._$Yh$init.apply(this,t),this.actionBroadcaster=a.a.create(this),r.Q.addTargetActionForNotification(this,"shareActionStarted","startingShareFlow"),r.Q.addTargetActionForNotification(this,"shareActionFinished","finishedShareFlow")},dispose:function(e){var t=arguments;this.__s._$e_$dispose.apply(this,t),r.Q.removeTargetActionForNotification(this,"shareActionStarted","startingShareFlow"),r.Q.removeTargetActionForNotification(this,"shareActionFinished","finishedShareFlow")},performShareAction:function(){this.actionsEnabled&&r.Q.dispatchNotification(r.P.create({id:"shareSelectedItem"}))},performUploadAction:function(){this.actionsEnabled&&r.Q.dispatchNotification(r.P.create({id:"uploadItems"}))},performDownloadAction:function(){this.actionsEnabled&&r.Q.dispatchNotification(r.P.create({id:"downloadSelectedItems"}))},performDeleteAction:function(){this.actionsEnabled&&r.Q.dispatchNotification(r.P.create({id:"moveSelectedItemsToTrash"}))},updateSharePolicy:function(e){var t=s.None;e.shouldAllowSharing&&e.isItemShared?t=s.Shared:e.shouldAllowSharing&&(t=s.Available),this.actionBroadcaster.sendSharePolicy(t)},updateUploadPolicy:function(e){var t=e?o.Available:o.None;this.actionBroadcaster.sendUploadPolicy(t)},updateDownloadPolicy:function(e){var t=e?c.Available:c.None;this.actionBroadcaster.sendDownloadPolicy(t)},updateDeletePolicy:function(e){var t=e?l.Available:l.None;this.actionBroadcaster.sendDeletePolicy(t)},shareActionStarted:function(){this.shareFlowActive=!0},shareActionFinished:function(){this.shareFlowActive=!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"RemoteActionService"},__superMap:{_$Yh$init:"init",_$e_$dispose:"dispose"}})},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return s});var n=i(0),r=i(8),a={mixinDependencies:[n._26],performShareAction:n._31.define(),performUploadAction:n._31.define(),performDownloadAction:n._31.define(),performDeleteAction:n._31.define()},s=n.v.extend({parentWindowChannel:n._107({strong:!0,defaultValue:n._85(n._19)}),rpcCaller:n._107({strong:!0,defaultValue:n._85(n.Q)}),rpcListener:n._107({strong:!0,defaultValue:n._85(n.R)}),init:function(e){this.__s._$cQ$init.call(this);var t=r.o.getPath("cloudOSService.environment.hostname");e&&t?(this.parentWindowChannel.remoteOrigin="https://"+t,this.rpcCaller.channel=this.parentWindowChannel,this.rpcListener.channel=this.parentWindowChannel,this.rpcListener.registerProcedure("share-action",e,"performShareAction"),this.rpcListener.registerProcedure("upload-action",e,"performUploadAction"),this.rpcListener.registerProcedure("download-action",e,"performDownloadAction"),this.rpcListener.registerProcedure("delete-action",e,"performDeleteAction")):n._100.error("RemoteActionBroadcaster failed to start, remote actions will not be executed.")},dispose:function(e){var t=arguments;this.__s._$tB$dispose.apply(this,t),this.rpcListener.unregisterAllProcedures()},sendSharePolicy:function(e){this.rpcCaller.callRemoteProcedure("share-policy",e)},sendUploadPolicy:function(e){this.rpcCaller.callRemoteProcedure("upload-policy",e)},sendDownloadPolicy:function(e){this.rpcCaller.callRemoteProcedure("download-policy",e)},sendDeletePolicy:function(e){this.rpcCaller.callRemoteProcedure("delete-policy",e)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RemoteActionBroadcaster"},__superMap:{_$cQ$init:"init",_$tB$dispose:"dispose"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i(1496);var n=i(227),r=(i.n(n),i(8)),a=i(0),f=i(16),_=i(86),m=i(1497),g=i(1524),s=r.a.extend({primaryServiceName:"drivews",rootViewController:null,iconService:a._105(),Initializers:a._85([_.e,a.D]),prepareForLoad:function(){this.__s._$D2$prepareForLoad.call(this),document.body.style.minWidth="500px",document.body.style.minHeight="300px";var e=this.cloudOSService,t=f.n.create(e),i=f.m.create(e),n=e.environment,r=this.fileSystem=f.k.create(t,i,n,{delegate:this}),a=this.iconService=_.r.create(r),s=_.x.create(a),o=f.f.create(),c=f.t.create(i),l=_.B.create(t),u=_.A.create(t,i,s,o,c,l),d=_.C.create(t),h=g.a.create({iconService:a,showcaseViewPool:s,thumbnailCanvasFactory:u,thumbnailStatsReporterService:d}).alertPresenter,p=m.a.create({delegate:this,iconService:a,showcaseViewPool:s,thumbnailCanvasFactory:u,thumbnailStatsReporterService:d,alertPresenter:h});this.rootViewController=p,this.didPrepareForLoad()},didBecomeActive:function(){this.__s._$sM$didBecomeActive.call(this),document.cookie="client=icloudweb"},didBecomeLoaded:function(){var t=this;this.__s._$u3$didBecomeLoaded.call(this),this.run().then(function(){var e=t.rootViewController;e.beginAppearanceTransition(!0),e.endAppearanceTransition(!0);try{a._78("SFNSText",{success:function(){e.view.invalidateSubviewFrames(!0)}})}catch(e){r.o.cloudOSService.recordStat("Unable to use `fontDetector()`",{errorMessage:e.message,errorName:e.name})}})},receiveMeCard:function(e){},staticMembers:{__QUALIFIED_CLASS_NAME__:"DRApp"},__superMap:{_$D2$prepareForLoad:"prepareForLoad",_$sM$didBecomeActive:"didBecomeActive",_$u3$didBecomeLoaded:"didBecomeLoaded"}})},function(e,t,i){"use strict";var n=i(0);n._62(n._81(),{"DR.Delete":"Delete","DR.Cancel":"Cancel","DR.Name":"Name","DR.DateDeleted":"Date Deleted","DR.Size":"Size","DR.SortBy.Name":"Sort by Name","DR.SortBy.Date":"Sort by Date","DR.SortBy.Size":"Sort by Size","DR.SortBy.DateDeleted":"Sort by Date Deleted","DR.Status.Loading":"Searching for recoverable files","DR.ProgressText.Singular":"1 file found","DR.ProgressText.Plural":"%{numberOfFiles} files found","DR.Header.Title":"Restore Files","DR.Header.Description":"Choose the files you would like to restore to iCloudDrive.","DR.RestoreDocument":"Restore","DR.SelectAll":"Select All","DR.DaysRemaining.One":"1 day remaining","DR.DaysRemaining.MoreThanOne":"%{days} days remaining","DR.Disclaimer.MainMessage":"Files show the days remaining before deletion. After that time, they will be permanently deleted.","DR.Disclaimer.SecondaryMessage":"Not seeing something you expected? Starting with iOS11 and macOSHighSierra, supporting applications will put deleted files into RecentlyDeleted. You can restore these files from <a href=\"https://www.icloud.com/#iclouddrive\" target=\"_top\" rel=\"noopener\">iCloud Drive</a> or from your device.","DR.Empty.Message":"No files to restore.","DR.Error.Loading.Message":"There was a problem loading restorable files.","DR.Error.Loading.Description":"Please try again later.","DR.Status.DeleteComplete.Single":"Deleted File","DR.Status.DeleteComplete.Multiple":"Deleted %{count} Files","DR.Status.Deleting.Single":"Deleting File","DR.Status.Deleting.Multiple":"Deleting %{count} Files","DR.Error.Deleting.Single.Message":"There was a problem deleting %{name}.","DR.Error.Deleting.Single.Description":"Try deleting the file again later.","DR.Error.Deleting.Group.Message":"%{count} files could not be deleted.","DR.Error.Deleting.Group.Description":"Try deleting the files again later.","DR.Status.RestoreComplete.Single":"Restored File","DR.Status.RestoreComplete.Multiple":"Restored %{count} Files","DR.Status.Restoring.Single":"Restoring File","DR.Status.Restoring.Multiple":"Restoring %{count} Files","DR.Error.Restoring.Single.Message":"There was a problem restoring %{name}.","DR.Error.Restoring.Single.Description":"Try restoring the file again later.","DR.Error.Restoring.Group.Message":"%{count} files could not be restored.","DR.Error.Restoring.Group.Description":"Try restoring the files again later.","DR.Error.Restoring.MixedErrors.Group.Description":"These files could not be restored for the reasons listed below.","DR.Error.Restoring.QuotaExceeded.Single.Message":"Not enough space to restore %{name}.","DR.Error.Restoring.QuotaExceeded.Single.Description":"Delete files from iCloudDrive or upgrade your storage plan.","DR.Error.Restoring.QuotaExceeded.Group.Message":"Not enough space to restore %{count} files.","DR.Error.Restoring.QuotaExceeded.Group.Description":"Delete files from iCloudDrive or upgrade your storage plan.","DR.Alert.DeleteSelectedItems.Single.Message":"Are you sure you want to permanently delete %{name}?","DR.Alert.DeleteSelectedItems.Single.Description":"Deleting this file means you will no longer be able to restore it back into iCloudDrive.","DR.Alert.DeleteSelectedItems.Multiple.Message":"Are you sure you want to permanently delete these %{count} files?","DR.Alert.DeleteSelectedItems.Multiple.Description":"Deleting these files means you will no longer be able to restore them back into iCloudDrive."})},function(e,t,i){"use strict";i.d(t,"a",function(){return E});var n=i(1498),o=(i.n(n),i(4)),c=i(8),l=i(0),u=i(86),a=i(892),s=i(1499),d=i(893),h=i(1501),r=i(1503),p=i(1505),f=i(1507),_=i(1509),m=i(154),g=i(405),v=i(1515),y=i(1518),b="date",I={singularTitle:"DR.Status.DeleteComplete.Single",pluralTitle:"DR.Status.DeleteComplete.Multiple"},S={singularTitle:"DR.Status.Deleting.Single",pluralTitle:"DR.Status.Deleting.Multiple"},w={singularTitle:"DR.Status.RestoreComplete.Single",pluralTitle:"DR.Status.RestoreComplete.Multiple"},C={singularTitle:"DR.Status.Restoring.Single",pluralTitle:"DR.Status.Restoring.Multiple"},E=o._8.extend({_documentSet:null,_entitiesComparator:null,selectedDocuments:l._105(),sortByType:l._105(),hasMoreItems:l._105(),alertPresenter:l._105(),viewClass:o._7.extend({additionalClassNames:l._60(["dr-root","drive-ui"])}),iconService:l._107(),showcaseViewPool:l._105(),thumbnailCanvasFactory:l._105(),thumbnailStatsReporterService:l._105(),init:function(e){this.__s._$ea$init.call(this,e),this._documentSet=null,this._entitiesComparator=null},shouldAutomaticallyForwardAppearanceMethods:function(){return!1},viewDidAppear:function(){this.__s._$lV$viewDidAppear.call(this),this.fetchAllRecoverableDocuments()},viewDidLoad:function(e){this.workspaceContainerView=o.o.create({additionalClassNames:l._60(["dr-workspace-container"])}),this.rootHeaderView=f.a.create({sortByTitle:o._10({root:this,path:"sortByType",transform:function(e){switch(e){case"name":return l._99("DR.SortBy.Name");case b:return l._99("DR.SortBy.DateDeleted");case"size":return l._99("DR.SortBy.Size");default:return""}}})}),this.restoreDocsWorkspaceView=p.a.create({selectedDocuments:o._10({root:this,path:"selectedDocuments"})}),this.sortByActionMenuButton=this.rootHeaderView.sortByActionMenuButton,this.documentsListView=this.restoreDocsWorkspaceView.documentsListView,this.selectAllDocumentsCheckbox=this.restoreDocsWorkspaceView.selectAllDocumentsCheckbox,this.restoreDocumentsButton=this.restoreDocsWorkspaceView.restoreDocumentsButton,this.purgeDocumentsButton=this.restoreDocsWorkspaceView.purgeDocumentsButton,(this.sortByActionMenuButton.target=this).sortByActionMenuButton.action="performSortByAction",((this.documentsListView.delegate=this).selectAllDocumentsCheckbox.target=this).selectAllDocumentsCheckbox.action="performSelectAllRecoverableDocumentsAction",(this.restoreDocumentsButton.target=this).restoreDocumentsButton.action="performRestoreSelectedDocumentsAction",(this.purgeDocumentsButton.target=this).purgeDocumentsButton.action="performPurgeSelectedDocumentsAction",this.statusView=_.a.create(),this.loadingErrorView=h.a.create();var t=this.permanentDeletionWarning=o.J.create({additionalClassNames:l._60(["dr-text-size-small"]),tooltip:null,value:l._99("DR.Disclaimer.MainMessage")}),i=this.trashTipLabel=o.J.create({additionalClassNames:l._60(["dr-text-size-small","dr-text-light","dr-secondary-label"]),tooltip:null,value:l._99("DR.Disclaimer.SecondaryMessage")}),n=this.subtextWrapper=o._7.create({additionalClassNames:["disclaimer"]});n.addSubview(t),n.addSubview(i),e.addSubview(this.rootHeaderView),e.addSubview(this.workspaceContainerView),e.addSubview(n),this.sortByMenu=o.K.create();var r=[o.L.create({title:l._99("DR.Name"),value:"name",target:this,action:"performSortByMenuAction"}),o.L.create({title:l._99("DR.Size"),value:"size",target:this,action:"performSortByMenuAction"}),o.L.create({title:l._99("DR.DateDeleted"),value:b,target:this,action:"performSortByMenuAction"})];r.sort(function(e,t){return l._104(e.title,t.title)}),this.sortByMenu.addMenuGroup(r),this.menuController=o.M.create({menu:this.sortByMenu}),this.selectedDocuments=o.R.create(),this.sortByType=b},_selectedDocumentsDidChange:l._106("selectedDocuments","selectedDocuments.changed",function(){var n=this.selectedDocuments,r=this.documentsListView,e=this._documentSet;if(n&&r&&e){r.visibleIndexRange.forEach(function(e){var t=r.getVisibleCellAtItemIndex(e),i=t.content;t.checked=n.contains(i)});var t=e.size;this.selectAllDocumentsCheckbox.set("value",n.size===t)}}),_sortByTypeDidChange:l._106("sortByType",function(t){if(t){switch(this.sortByMenu.getMenuGroupByIndex(0).forEach(function(e){e.set("checked",e.value===t)}),t){case"name":this._entitiesComparator=A;break;case b:this._entitiesComparator=O;break;case"size":this._entitiesComparator=D}var e=this._documentSet;e&&e.resortEntities(this._entitiesComparator);var i=this.documentsListView;i&&i.reload()}}),performSortByAction:function(e){this.menuController.presentPopoverForView(e,o.T.Up)},performSortByMenuAction:function(e){var t=e.menuItem.value;this.sortByType=t},performSelectAllRecoverableDocumentsAction:function(e){var t=this._documentSet,i=this.selectedDocuments;e.value?i.addItems(t):i.removeItems(t)},performPurgeSelectedDocumentsAction:function(){this.purgeSelectedDocuments()},performRestoreSelectedDocumentsAction:function(){this.restoreSelectedDocuments()},_presentRecoverableFiles:function(){var e=this.restoreDocsWorkspaceView;this.workspaceContainerView.contentView=e},_presentEmptyStatus:function(){var e=this.statusView;e.title=l._99("DR.Empty.Message"),e.shouldShowSpinner=!1,e.shouldShowLoadingProgress=!1,this.workspaceContainerView.contentView=e},_presentLoadingStatus:function(){var e=this.statusView;e.title=l._99("DR.Status.Loading"),e.shouldShowSpinner=!0,e.shouldShowLoadingProgress=!0,this.workspaceContainerView.contentView=e},_presentLoadError:function(){var e=this.loadingErrorView;this.workspaceContainerView.contentView=e},updateNumberOfCurrentlyFoundRecoverableDocuments:function(e){var t=o._0.create(this._entitiesComparator,{entities:e}),i=t?t.size:0,n=this.statusView;n&&(n.numberOfFoundFiles=i)},_presentProcessingDocumentsStatus:function(e,t){var i=t.count,n=this.statusView;if(1===i)n.title=l._99(e.singularTitle);else{var r=c.p.getNumberFormatter().format(i);n.title=l._99(e.pluralTitle,{count:r})}n.shouldShowSpinner=!0,n.shouldShowLoadingProgress=!1,this.workspaceContainerView.contentView=n},_presentPurgingDocumentsStatus:function(e){this._presentProcessingDocumentsStatus(S,e)},_presentRestoringDocumentsStatus:function(e){this._presentProcessingDocumentsStatus(C,e)},_presentProcessedDocumentsStatus:function(e,t){var i=t.count,n=this.statusView;if(1===i)n.title=l._99(e.singularTitle);else{var r=c.p.getNumberFormatter().format(i);n.title=l._99(e.pluralTitle,{count:r})}n.shouldShowSpinner=!1,n.shouldShowLoadingProgress=!1,this.workspaceContainerView.contentView=n},_presentPurgedDocumentsStatus:function(e){this._presentProcessedDocumentsStatus(I,e)},_presentRestoredDocumentsStatus:function(e){this._presentProcessedDocumentsStatus(w,e)},_presentDocumentsForTransactionRecordOfType:function(e,i){var n=this._documentSet,t=i===a.a.UnpurgedDocument?d.a.UnpurgedDocumentGroup:d.a.UnrecoveredDocumentGroup,r=s.a.create({type:t});e.uncommittedItems.forEach(function(e){var t=n.getEntityWithID(e.id);r.addDocumentOfType(t,i)}),this.alertPresenter.presentErrorGroup(r)},_presentUnpurgedDocumentsForTransactionRecord:function(e){this._presentDocumentsForTransactionRecordOfType(e,a.a.UnpurgedDocument)},_presentUncommittedDocumentsForTransactionRecord:function(e){this._presentDocumentsForTransactionRecordOfType(e,a.a.UnrecoveredDocument)},fetchAllRecoverableDocuments:function(){var t=this;y.a.fetchAllRecoverableDocuments(function(e){t.updateNumberOfCurrentlyFoundRecoverableDocuments(e||[])}).then(function(e){t.didFinishFetchingRecoverableDocuments(e)}).catch(function(e){t.didFailFetchingRecoverableDocuments(e)}),this.didStartFetchingRecoverableDocuments()},didStartFetchingRecoverableDocuments:function(){this._presentLoadingStatus()},didFinishFetchingRecoverableDocuments:function(e){var t=e.items;if(0===t.length)this._presentEmptyStatus();else{this._documentSet=o._0.create(this._entitiesComparator,{entities:t});var i=e.hasMoreItems;this.hasMoreItems=i,this.documentsListView.reload(),this._presentRecoverableFiles()}},didFailFetchingRecoverableDocuments:function(e){this._presentLoadError()},purgeSelectedDocuments:function(){var e,t,i=this.selectedDocuments,n=this,r=null,a=o.h.create({additionalClassNames:l._60(["confirm"]),title:l._99("DR.Delete"),target:this,action:function(){r.animateClosed(),l.e.application._paneManager.removeRootView(r),n._startPurgingDocuments(i)},shortcut:l.S.RETURN}),s=o.h.create({additionalClassNames:l._60(["cancel"]),title:l._99("DR.Cancel"),target:this,action:function(){r.animateClosed(),l.e.application._paneManager.removeRootView(r)},shortcut:l.S.ESC});1===i.length?(e=l._99("DR.Alert.DeleteSelectedItems.Single.Message",{name:i.createIterator().value.fullName}),t=l._99("DR.Alert.DeleteSelectedItems.Single.Description")):(e=l._99("DR.Alert.DeleteSelectedItems.Multiple.Message",{count:c.p.getNumberFormatter().format(i.length)}),t=l._99("DR.Alert.DeleteSelectedItems.Multiple.Description")),r=u.c.create({message:e,description:t,buttonViews:[s,a],suppressedKeyCodes:[l.S.DELETE,l.S.BACKSPACE]}),l.e.application._paneManager.addRootView(r),r.animateOpen()},_startPurgingDocuments:function(i){var l=this;v.a.purgeDocumentsByZone(i).then(function(e){for(var t=[],i=null,n=0;n<e.length;n++){var r=e[n],a=r.status,s=r.transactionRecord;if(a===m.a.OK)if(i)for(var o=0;o<s.items.length;o++){var c=s.items[0];i.addItem(c)}else i=s;else r.files.forEach(function(e){t.push(e)})}i&&l.didFinishPurgingDocuments(i),0<t.length&&l.didFailPurgingDocuments(t)}).catch(function(e){var t=e.record;t||(t=i),l.didFailPurgingDocuments(t)}),this.didStartPurgingDocuments(i)},didStartPurgingDocuments:function(e){this._notifyCloudOSReadyTerminateIs(!1),this._presentPurgingDocumentsStatus({count:e.length})},didFinishPurgingDocuments:function(e){this._completePurgingDocuments(e)},didFailPurgingDocuments:function(e){var t=m.a.FatalError,i=g.a.createWithFilesAndItemStatus(e||[],t);this._completePurgingDocuments(i)},_completePurgingDocuments:function(e){if(this._completeProcessingDocuments(e),e.hasUncommittedItems)this._presentUnpurgedDocumentsForTransactionRecord(e);else{var t=e.committedItems;this._presentPurgedDocumentsStatus({count:t.length})}},restoreSelectedDocuments:function(){var t=this.selectedDocuments,i=this;y.a.recoverDocuments(t).then(function(e){i.didFinishRestoringDocuments(e)}).catch(function(e){i.didFailRestoringDocuments(e,t)}),this.didStartRestoringDocuments(t)},didStartRestoringDocuments:function(e){this._notifyCloudOSReadyTerminateIs(!1),this._presentRestoringDocumentsStatus({count:e.length})},didFinishRestoringDocuments:function(e){this._completeRestoringDocuments(e)},didFailRestoringDocuments:function(e,t){l._100.error("Unexpected failure when trying to recover document:",e.message);var i=m.a.FatalError,n=g.a.createWithFilesAndItemStatus(t,i);this._completeRestoringDocuments(n)},_completeRestoringDocuments:function(e){if(this._completeProcessingDocuments(e),e.hasUncommittedItems)this._presentUncommittedDocumentsForTransactionRecord(e);else{var t=e.committedItems;this._presentRestoredDocumentsStatus({count:t.length})}},_completeProcessingDocuments:function(e){var t=this._documentSet,i=e.committedItems;t.batchChanges(function(){i.forEach(function(e){t.removeEntityWithID(e.id)})}),this.selectedDocuments=o.R.create(),this.documentsListView.reload(),this._notifyCloudOSReadyTerminateIs(!0);var n=this;o._4.setTimeout(function(){0<t.size?n._presentRecoverableFiles():n._presentEmptyStatus()},2e3)},_notifyCloudOSReadyTerminateIs:function(e){c.o.cloudOSService.isReadyToTerminateDidChange(e)},recoverableDocumentCellPerformCheckedAction:function(e,t){var i=this.selectedDocuments,n=e.content;i&&n&&(!0===t?i.add(n):i.remove(n))},getItemCountForGridView:function(e){var t=this._documentSet;return t?t.size:0},collectionViewGetCellForIndex:function(e,t){var i=r.a.create({iconService:this.iconService,showcaseViewPool:this.showcaseViewPool,thumbnailCanvasFactory:this.thumbnailCanvasFactory,thumbnailStatsReporterService:this.thumbnailStatsReporterService});return this._reloadCellForContentAtIndex(i,t),i},collectionViewGetItemIdentifierForCell:function(e,t){return t.content.id},collectionViewGetItemIdentifierForIndex:function(e,t){return this._documentSet[t].id},collectionViewShouldReuseCell:function(e,t){return!0},collectionViewPrepareReusableCell:function(e,t){t.delegate=null,t.content=null},collectionViewGetReuseIdentifierForCell:function(e,t){return"doc-cell"},collectionViewGetCellReuseIdentifierForIndex:function(e,t){return"doc-cell"},collectionViewWillDisplayReusableCellForIndex:function(e,t,i){this._reloadCellForContentAtIndex(t,i)},collectionViewDidEndDisplayingCellForIndex:function(e,t,i){},collectionViewShouldPerformActionForItemAtIndex:function(e,t){return!0},collectionViewPerformActionForItemAtIndex:function(e,t){var i=this.selectedDocuments,n=this._documentSet.getEntityAtIndex(t);i.contains(n)?i.remove(n):i.add(n)},_reloadCellForContentAtIndex:function(e,t){var i=this._documentSet,n=i.getEntityAtIndex(t),r=this.selectedDocuments;e.content=n,e.delegate=this,e.checked=r.contains(n),e.set("isLastRow",t===i.size-1)},staticMembers:{__QUALIFIED_CLASS_NAME__:"RootViewController"},__superMap:{_$ea$init:"init",_$lV$viewDidAppear:"viewDidAppear"}}),T={prioritizeDigits:!0};function A(e,t){return l._104(e.fullName,t.fullName,T)}function O(e,t){return e.dateChanged.getTime()-t.dateChanged.getTime()}function D(e,t){return e.size-t.size}},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(16),r=i(1500),a=n.h.extend({init:function(e){this.__s._$3a$init.call(this,e),this.items=[]},addDocumentOfType:function(e,t){this.items.push(r.a.create(t,e))},staticMembers:{__QUALIFIED_CLASS_NAME__:"DocumentsErrorGroup"},__superMap:{_$3a$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(16),a=i(892),s=r.i.extend({type:n._107({type:a.a}),staticMembers:{__QUALIFIED_CLASS_NAME__:"DocumentsErrorItem"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(227),r=(i.n(n),i(1502)),a=(i.n(r),i(4)),s=i(0),o=a._7.extend({additionalClassNames:s._60(["dr-loading-error-view"]),loadSubviews:function(){var e=this.title=a.J.create({additionalClassNames:s._60(["message","dr-text-size-x-large","dr-text-light"]),value:s._99("DR.Error.Loading.Message")}),t=this.description=a.J.create({additionalClassNames:s._60(["description","dr-text-large","dr-text-light"]),value:s._99("DR.Error.Loading.Description")}),i=this.container=a._7.create({additionalClassNames:s._60(["body"])});i.addSubview(e),i.addSubview(t),this.addSubview(i)},layoutSubviews:function(){var e=this.get("frame"),t=this.container.get("frame"),i=Math.round(e.get("width")/2-t.get("width")/2),n=Math.round(e.get("height")/2-t.get("height")/2);t.adjustPosition(i,n)},frameDidInvalidate:function(){this.setNeedsLayout()},frameBoundsDidChange:function(){this.setNeedsLayout()},staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadingErrorView"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(1504),r=(i.n(n),i(4)),_=i(0),m=i(86),a=r.m.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["title","dr-text-bold"]},{type:"ELEMENT",tagname:"div",children:[],classes:["size","dr-text-bold"]}],classes:["primary"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["path","dr-text-light","dr-text-size-small"]},{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"span",children:[],classes:["date-modified"]},{type:"TEXT",data:"  "},{type:"ELEMENT",tagname:"span",children:[],classes:["time-remaining"]}],classes:["subinfo","dr-text-light","dr-text-size-small"]}],classes:["secondary"]}],classes:["details"]}],classes:["body",{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"selected",truevalue:"selected",attributes:{}},{type:"CLASSNAMEOUTLET",bindingtype:"IFBINDING",name:"highlighted",truevalue:"highlighted",attributes:{}}],attributes:{"aria-hidden":"true"}}],attributes:{role:"listcell",tabindex:"-1","aria-label":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"ariaLabel",attributes:{},attribute:"aria-label"},"aria-selected":{type:"ATTRIBUTEOUTLET",bindingtype:"DIRECTBINDING",name:"selected",attributes:{},attribute:"aria-selected"}}},__QUALIFIED_CLASS_NAME__:"RecoverableDocumentCell"},additionalClassNames:_._60(["recoverable-document-item"]),delegate:null,checked:_._105(!1),content:_._105({defaultValue:null,render:!0}),isLastRow:_._105({defaultValue:!1,render:!0}),iconService:_._107(),showcaseViewPool:_._105(),thumbnailCanvasFactory:_._105(),thumbnailStatsReporterService:_._105(),loadSubviews:function(){this.__s._$W9$loadSubviews.call(this);var e=this.fileShowcaseView=m.k.create(this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,{additionalClassNames:_._60(["medium","medium-recoverable-document"]),displaySize:m.q.MEDIUM,showThumbnailsWhenAvailable:!1,content:r._10({root:this,path:"content"})});this._fileShowcaseView=e;var t=this.checkbox=r.k.create({value:r._10({root:this,path:"checked",direction:_.i.READ_WRITE}),target:this,action:"_checkboxValueDidChange"});this.addSubview(e),this.addSubview(t)},render:function(){this.__s._$nF$render.call(this);var e=this.get("content");if(e){if(this.shouldRenderForKey("content")){var t=this.get("index")%2==0;this.$().toggleClass("even",t).toggleClass("odd",!t);var i,n=e.get("fullName"),r=e.get("restorePath");i=r?(o=r.split("/")).length<=1?null:(o.splice(o.length-1,1),o.join(g)):function(e){if(!e)return"";for(var t="",i=e.length,n=0;n<i;n++){var r=e[n];r.name&&(t+=r.name,n<i-1&&(t+=g))}return t}(e.get("hierarchy"));var a=(s=e.get("size"),m.J(s));this.$(".title").text(n),this.$(".path").text(i),this.$(".size").text(a)}var s,o,c,l,u;if(this.shouldRenderForKey("isLastRow")&&this.$().toggleClass("last-row",this.get("isLastRow")),this.shouldRenderForKey("friendlyDateModified")){var d=this._friendlyDateModified;this.$(".date-modified").text(d)}if(this.shouldRenderForKey("timeRemaining")){var h=(l=e.get("dateChanged"),u=Date.now()-l.getTime(),y-u),p=v<(c=h)?_._99("DR.DaysRemaining.MoreThanOne",{days:Math.ceil(c/v)}):_._99("DR.DaysRemaining.One"),f=h<=b;this.$(".time-remaining").text(p).toggleClass("warn",f)}}},endDisplay:function(){this.__s._$1DD$endDisplay.call(this);var e=this._refreshFDMTimeoutHandle;e&&(r._4.clearTimeout(e),this._refreshFDMTimeoutHandle=null);var t=this._fileShowcaseView;t&&t.prepareForReuse()},_contentDidChange:_._106("content",function(e){e&&this._refreshDateModified()}),_checkboxValueDidChange:function(){var e=this.delegate,t=e?e.recoverableDocumentCellPerformCheckedAction:null,i=this.checkbox.get("value");t&&t.call(e,this,i)},_refreshDateModified:function(){var e=this.get("content").get("dateChanged"),t=m.K.descriptionForDateTime(e);this._friendlyDateModified=t.str;var i=t.ttl;if(i&&i!==1/0){var n=this;this._refreshFDMTimeoutHandle=r._4.setTimeout(function(){n._refreshDateModified()},i)}this.setNeedsRenderForKey("friendlyDateModified"),this.setNeedsRenderForKey("timeRemaining")},__superMap:{_$W9$loadSubviews:"loadSubviews",_$nF$render:"render",_$1DD$endDisplay:"endDisplay"}}),g=" ",v=864e5,y=30*v,b=3*v},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(227),r=(i.n(n),i(1506)),a=(i.n(r),i(4)),s=i(0),o=a._7.extend({additionalClassNames:s._60(["dr-restore-docs-workspace-view"]),selectedDocuments:s._105(null),documentsListView:null,selectAllDocumentsCheckbox:null,restoreDocumentsButton:null,loadSubviews:function(){this.documentsListView=a.C.create({additionalClassNames:s._60(["documents-list"]),selectionMode:a.l.SelectionMode.None,columnWidth:a.D.Full(),rowHeight:64}),this.footerView=c.create(),this.selectAllDocumentsCheckbox=a.k.create({additionalClassNames:s._60(["select-all-docs","dr-text-bold","dr-text-size-small","dr-link-color"]),title:s._99("DR.SelectAll")}),this.selectedActionsView=a._7.create({additionalClassNames:s._60(["selection-actions-wrapper"])}),this.restoreDocumentsButton=a.h.create({additionalClassNames:s._60(["selection-action-button","dr-text-size-large","dr-text-bold"]),title:s._99("DR.RestoreDocument")}),this.purgeDocumentsButton=a.h.create({additionalClassNames:s._60(["selection-action-button","dr-text-size-large","dr-text-bold","purge-action-button"]),title:s._99("DR.Delete")}),this.selectedActionsView.addSubview(this.purgeDocumentsButton),this.selectedActionsView.addSubview(this.restoreDocumentsButton),this.footerView.addSubview(this.selectAllDocumentsCheckbox),this.footerView.addSubview(this.selectedActionsView),this.addSubview(this.documentsListView),this.addSubview(this.footerView)},_selectedDocumentsDidChange:s._106("selectedDocuments","selectedDocuments.changed",function(e,t){if(e){var i=0<e.get("size");this.footerView.highlight=i,this.selectedActionsView.visible=i}}),staticMembers:{__QUALIFIED_CLASS_NAME__:"RestoreDocumentsWorkspaceView"}}),c=a._7.extend({additionalClassNames:s._60(["footer"]),highlight:s._105({render:!0}),render:function(){this.$().toggleClass("highlight",this.highlight)},staticMembers:{__QUALIFIED_CLASS_NAME__:"FooterView"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1508),r=(i.n(n),i(0)),a=i(4),s=a._7.extend({staticMembers:{template:{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[{type:"ELEMENT",tagname:"div",children:[],classes:["title","dr-text-size-large","dr-text-bold"]},{type:"ELEMENT",tagname:"div",children:[],classes:["description","dr-text-size-small"]}],classes:["info"]}],classes:["dr-root-header"]},__QUALIFIED_CLASS_NAME__:"RootHeaderView"},sortByTitle:r._105(""),sortByActionMenuButton:null,loadSubviews:function(){this.__s._$Aq$loadSubviews.call(this),this.sortByActionMenuButton=a.h.create({additionalClassNames:r._60(["sort-action-menu","dr-text-size-small"]),title:a._10({root:this,path:"sortByTitle"}),showRightAccessory:!0}),this.addSubview(this.sortByActionMenuButton)},render:function(){this.__s._$Hb$render.call(this),this.$(".title").text(r._99("DR.Header.Title")),this.$(".description").text(r._99("DR.Header.Description"))},__superMap:{_$Aq$loadSubviews:"loadSubviews",_$Hb$render:"render"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(227),r=(i.n(n),i(1510)),a=(i.n(r),i(0)),s=i(4),o=i(1511),c=s._7.extend({additionalClassNames:a._60(["dr-status-view"]),title:a._105({defaultValue:"",dynamicContent:!0}),shouldShowSpinner:a._105({defaultValue:!0,render:!0}),shouldShowLoadingProgress:a._105({defaultValue:!1,render:!0}),numberOfFoundFiles:a._105(0),loadSubviews:function(){var e=this.contentView=s._7.create({additionalClassNames:a._60(["content"])}),t=this.label=s.J.create({additionalClassNames:a._60(["dr-text-size-x-large"]),value:s._10({root:this,path:"title"})}),i=this.spinner=s._1.create({spin:s._10({root:this,path:"shouldShowSpinner"}),visible:s._10({root:this,path:"shouldShowSpinner"})}),n=this.loadingProgressView=o.a.create({numberOfFoundFiles:s._10({root:this,path:"numberOfFoundFiles"}),visible:s._10({root:this,path:"shouldShowLoadingProgress"})});e.addSubview(i),e.addSubview(t),e.addSubview(n),this.addSubview(e)},render:function(){this.__s._$Ya$render.call(this);var e=this.$();e.toggleClass("show-spinner",this.shouldShowSpinner),e.toggleClass("show-loading-progress",this.shouldShowLoadingProgress)},layoutSubviews:function(){this.__s._$cV$layoutSubviews.call(this);var e=this.get("frame"),t=this.contentView.get("frame"),i=Math.round(e.get("width")/2-t.get("width")/2),n=Math.round(e.get("height")/2-t.get("height")/2);t.adjustPosition(i,n)},frameDidInvalidate:function(){this.__s._$iI$frameDidInvalidate.call(this),this.setNeedsLayout()},frameBoundsDidChange:function(){this.__s._$jq$frameBoundsDidChange.call(this),this.setNeedsLayout()},subviewDidChangeDynamicContent:function(){this.__s._$lX$subviewDidChangeDynamicContent.call(this),this.setNeedsLayout()},_shouldShowSpinnerDidChange:a._106("shouldShowSpinner",function(){this.invalidateSubviewFrames(),this.setNeedsLayout()}),_shouldShowLoadingProgress:a._106("shouldShowLoadingProgress",function(){this.invalidateSubviewFrames(),this.setNeedsLayout()}),staticMembers:{__QUALIFIED_CLASS_NAME__:"StatusView"},__superMap:{_$Ya$render:"render",_$cV$layoutSubviews:"layoutSubviews",_$iI$frameDidInvalidate:"frameDidInvalidate",_$jq$frameBoundsDidChange:"frameBoundsDidChange",_$lX$subviewDidChangeDynamicContent:"subviewDidChangeDynamicContent"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(1512),o=(i.n(n),i(8)),c=i(0),r=i(4).J.extend({additionalClassNames:c._60(["dr-loading-progress-view"]),numberOfFoundFiles:c._105(0),value:c._105({readOnly:!0,dependencies:["numberOfFoundFiles"],get:Object.assign(function(){var e=this.numberOfFoundFiles,t="DR.ProgressText.";if(0===e)return"";t+=1===e?"Singular":"Plural";var i=o.p.getNumberFormatter();return c._99(t,{numberOfFiles:i.format(e)})},{__CW__getter:function(e,t,i,n){var r=n.internalGet(this,t[0+i]),a="DR.ProgressText.";if(0===r)return"";a+=1===r?"Singular":"Plural";var s=o.p.getNumberFormatter();return c._99(a,{numberOfFiles:s.format(r)})}})}),staticMembers:{__QUALIFIED_CLASS_NAME__:"LoadingProgressView"}})},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(154),a=n.v.extend({staticMembers:{Status:r.a,__QUALIFIED_CLASS_NAME__:"TransactionItemRecord"},status:n._107({readOnly:!0,get:function(){return this._status}}),id:n._107({readOnly:!0,get:function(){return this._id}}),init:function(e){this.__s._$8S$init.call(this,e),this._status=e.status,this._itemID=e.id},__superMap:{_$8S$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("DRApp.TransactionStatus",["OK","Partial","Failed","Fatal"])},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(1516),a=n.v.extend({service:n._107({readOnly:!0,get:function(){return this._service}}),init:function(){this.__s._$5Q$init.call(this),this._service=this.loadService()},loadService:function(){return r.a.create()},__superMap:{_$5Q$init:"init"}}).create().get("service")},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var l=i(4),n=i(0),u=i(1517),r=n.v.extend({purgeDocumentsByZone:function(e){for(var t=this._groupDocumentsByZone(e),i=[],n=Object.keys(t),r=0,a=n.length;r<a;++r){var s=n[r],o=t[s],c=u.a.create({files:o,zone:s});i.push(c)}return l.g.map(i,function(e){return e.run()}).then(function(e){return e}).catch(function(e){return l.g.reject(e)})},_groupDocumentsByZone:function(e){var n={};return e.forEach(function(e){var t=e.zone,i=n[t];i||(i=l.R.create()),i.add(e),n[t]=i}),n},staticMembers:{__QUALIFIED_CLASS_NAME__:"DocumentPurgeService"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var s=i(8),r=i(4),o=i(154),c=i(405),n=r._2.extend({files:null,zone:"com.apple.CloudDocs",startRun:function(){var e=this.get("files"),t=r.c.create({method:"POST",body:this._generateJSONForFiles(e),useCredentialsIfCrossOrigin:!0,reportingPathname:null,shouldReportSuccess:!0,shouldReportFailure:!0}),i=t.get("url");i.serviceName="docws",i.set("pathname","/ws/"+this.zone+"/update/purgeTombstones"),t.setHeader("Content-Type","text/plain");var n=this;t.send().then(function(){n._rf_requestDidSucceed(t)}).catch(function(){n._rf_requestDidFail(t)})},_rf_requestDidSucceed:function(e){var t,i=e.get("response"),n=i.status,r=this.get("files");switch(n){case 204:t=c.a.createWithFilesAndItemStatus(r,o.a.OK);break;default:t=c.a.createWithFilesAndItemStatus(r,o.a.UNKNOWN),s.o.get("cloudOSService").recordStat("Unexpected purge tombstones response",{status:n,response:i})}var a={status:o.a.OK,zone:this.zone,transactionRecord:t,files:r};this.finishRunWithSuccess(a)},_rf_requestDidFail:function(e){var t=this.get("files"),i=c.a.createWithFilesAndItemStatus(t,o.a.FatalError);s.o.get("cloudOSService").recordStat("Purge tombstones request failed",{status:status});var n={status:o.a.FatalError,zone:this.zone,transactionRecord:i,files:t};this.finishRunWithFailure(n)},finishRunWithFailure:function(e){this._taskError=e||null,this._taskRunState=r.X.Completed,this._promise.resolve(e)},_generateJSONForFiles:function(e){var t={documentIds:[]};return e.forEach(function(e){t.documentIds.push(e.get("docwsid"))}),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"PurgeFilesTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=i(1519),a=n.v.extend({service:n._107({readOnly:!0,get:function(){return this._service}}),init:function(){this.__s._$5Z$init.call(this),this._service=this.loadService()},loadService:function(){return r.a.create()},__superMap:{_$5Z$init:"init"}}).create().get("service")},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(0),r=i(1520),a=i(1521),s=n.v.extend({fetchAllRecoverableDocuments:function(e){var t=a.a.create();return e&&(t.progressCallback=e),t.run()},recoverDocuments:function(e){return r.a.create({files:e}).run()},staticMembers:{__QUALIFIED_CLASS_NAME__:"DocumentRecoveryService"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var s=i(0),n=i(4),o=i(154),c=i(405),r=i(894),a=n._2.extend({files:null,startRun:function(){var e=this.get("files"),t=this._generateJSONForFiles(e),i=Object(r.a)("/recoverDeletedFiles");i.set("method","POST"),i.set("body",t);var n=this;i.send().then(function(){n._rf_requestDidSucceed(i)}).catch(function(){n._rf_requestDidFail(i)})},_rf_requestDidSucceed:function(e){var t,i,n=e.get("response"),r=n.status,a=this.get("files");if(200!==r)return t=c.a.createWithFilesAndItemStatus(a,o.a.OK),void this.finishRunWithSuccess(t);try{i=JSON.parse(n.encodedBody)}catch(e){return s._100.error("Failed to parse /recoverDeletedFiles response"),t=c.a.createWithFilesAndItemStatus(a,o.a.OK),void this.finishRunWithSuccess(t)}t=c.a.createWithOperationDetails(i.files||[]),this.finishRunWithSuccess(t)},_rf_requestDidFail:function(e){var t=this.get("files"),i=c.a.createWithFilesAndItemStatus(t,o.a.FatalError);this.finishRunWithFailure(i)},_generateJSONForFiles:function(e){var t={files:[]};return e.forEach(function(e){t.files.push({drivewsid:e.get("id"),etag:e.get("etag")})}),t},staticMembers:{__QUALIFIED_CLASS_NAME__:"RecoverFilesTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i(0),n=i(4),m=i(1522),s=i(1523),o=i(894),r=n._2.extend({progressCallback:void 0,startRun:function(){this._requestNextRoundOfFiles()},_requestNextRoundOfFiles:function(){var e=this,t=Object(o.a)("/retrieveDeletedItemDetails");t.method=a.H.POST,t.timeout=6e5;var i={},n=this._activeJobId;n&&(i.jobId=n);var r=this._itemsSoFar;r&&(i.offset=r.length),t.body=i,t.send().then(function(){e._rrf_requestDidSucceed(t)}).catch(function(){e._rrf_requestDidFail(t)})},_rrf_requestDidSucceed:function(t){var e=t.response,i=e.status;if(200!==i){var n=new Error("Unable to retrieve recoverable files");return n.type=m.a.FatalServerError,n.status=i,n.request=t,void this.finishRunWithFailure(n)}var r=void 0;try{r=JSON.parse(e.encodedBody)}catch(e){var a=new Error("Unable to retrieve recoverable files. Cannot parse HTTP response");return a.type=m.a.FatalError,a.request=t,void this.finishRunWithFailure(a)}var s=r.jobId;if(!s)return this._handleMalformedResponseBody(t,"No `jobId` in response");var o=this._activeJobId;if(o&&o!==s)return this._handleMalformedResponseBody(t,'Inconsistent `jobId` in response. Expected "'+o+'" but got "'+s+'"');this._activeJobId=s;var c=r.items;if(!c)return this._handleMalformedResponseBody(t,"No `items` in response");c=this._generateRecoverableFiles(c);var l=this._itemsSoFar;l&&(c=l.concat(c)),l=this._itemsSoFar=c;var u=r.hasMoreItems||!1,d=r.jobStatus;if("PENDING"===d){var h=r.retryAfterMilliseconds||1e3;this._scheduleNextRoundOfFiles(h);var p=this.progressCallback;p&&p(l)}else{if("SUCCESS"!==d){var f=new Error("Unable to retrieve recoverable files. Job ended in error");return f.type=m.a.FatalError,f.request=t,void this.finishRunWithFailure(f)}var _={items:c,hasMoreItems:u};this.finishRunWithSuccess(_)}},_handleMalformedResponseBody:function(e,t){var i=new Error("Unable to retrieve recoverable files. "+t);i.type=m.a.FatalError,i.request=e,this.finishRunWithFailure(i)},_rrf_requestDidFail:function(e){var t=e.response,i=m.a.FatalServerError;"timedout"===e.state&&(i=m.a.Timeout);var n=new Error("Unable to retrieve recoverable files.");n.type=i,n.status=t.status,n.request=e,this.finishRunWithFailure(n)},_generateRecoverableFiles:function(e){for(var t=e?e.length:0,i=new Array(t),n=0;n<t;n++){var r=e[n];"."!==r.name.charAt(0)&&(r.id=r.drivewsid,r.dateModified=new Date(r.dateModified),r.dateChanged=new Date(r.dateChanged),i[n]=s.a.create(r))}return i},_scheduleNextRoundOfFiles:function(e){var t=this._nextRetryTimeMS;0===t?t=e:e!==this._serverIndicatedMinimumRetryTimeMS?t=this._serverIndicatedMinimumRetryTimeMS=e:t<5e3&&(t=Math.min(2*t,5e3)),this._nextRetryTimeMS=t,a._116(this._requestNextRoundOfFiles.bind(this),t)},_activeJobId:void 0,_itemsSoFar:void 0,_nextRetryTimeMS:0,_serverIndicatedMinimumRetryTimeMS:0,staticMembers:{__QUALIFIED_CLASS_NAME__:"RetrieveRecoverableFilesTask"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=i(0)._67("DRApp.FileRecoveryErrorType",["FatalError","FatalServerError","Timeout"])},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),r=n.v.extend({id:null,name:null,extension:null,etag:null,fullName:n._107({readOnly:!0,get:function(){var e=this.get("name"),t=this.get("extension"),i="";return e&&t?i=e+"."+t:e?i=e:t&&(i="."+t),i}}),size:0,dateModified:null,dateChanged:null,type:null,zone:null,hierarchy:null,staticMembers:{__QUALIFIED_CLASS_NAME__:"RecoverableFile"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),a=i(86),s=i(1525),o=i(893),r=n.v.extend({alertPresenter:n._107({readOnly:!0,get:function(){return this._alertPresenter}}),showcaseViewPool:n._107({readOnly:!0}),iconService:n._107({readOnly:!0}),thumbnailCanvasFactory:n._107({readOnly:!0}),thumbnailStatsReporterService:n._107({readOnly:!0}),init:function(e){this.__s._$DX$init.call(this,e),this._alertPresenter=this.loadAlertPresenter()},loadAlertPresenter:function(){var e=a.b.create(),t=this.iconService,i=this.thumbnailCanvasFactory,n=this.showcaseViewPool,r=this.thumbnailStatsReporterService;return e.addErrorItemPresentationInfoGenerator(s.a.create(t,n,i,r,{errorGroupType:o.a.UnpurgedDocumentGroup,pluralDescription:"DR.Error.Deleting.Group.Description",pluralMessage:"DR.Error.Deleting.Group.Message",singularDescription:"DR.Error.Deleting.Single.Description",singleMessage:"DR.Error.Deleting.Single.Message"})),e.addErrorItemPresentationInfoGenerator(s.a.create(t,n,i,r,{errorGroupType:o.a.UnrecoveredDocumentGroup,pluralDescription:"DR.Error.Restoring.Group.Description",pluralMessage:"DR.Error.Restoring.Group.Message",singularDescription:"DR.Error.Restoring.Single.Description",singleMessage:"DR.Error.Restoring.Single.Message"})),e},staticMembers:{__QUALIFIED_CLASS_NAME__:"AlertPresenterController"},__superMap:{_$DX$init:"init"}})},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var r=i(8),o=i(0),c=i(86),n=c.j.extend({errorGroupType:"",pluralDescription:"",pluralMessage:"",singularDescription:"",singleMessage:"",shouldPresentDetailsForErrorGroup:function(e){return 1<e.get("items").length},getMessageForErrorGroup:function(e){var t=e.get("items").length;if(1===t){var i=e.get("items")[0].get("details");return o._99(this.get("singleMessage"),{name:i.get("fullName")})}var n=r.p.getNumberFormatter().format(t);return o._99(this.get("pluralMessage"),{count:n})},getDescriptionForErrorGroup:function(e){return 1===e.get("items").length?o._99(this.get("singularDescription")):o._99(this.get("pluralDescription"))},getPresentationInfoForErrorGroupItemAtIndex:function(e,t,i){var n=t.get("details"),r=n.get("extension"),a=o.v.create({extension:r}),s=c.k.create(this.iconService,this.showcaseViewPool,this.thumbnailCanvasFactory,this.thumbnailStatsReporterService,{additionalClassNames:o._60(["medium"]),content:a,fileType:r,fileExtension:r,displaySize:c.q.MEDIUM});return c.i.create(n.get("fullName"),{iconView:s})},shouldPresentItemDescriptionsForErrorGroup:function(e){return!1},staticMembers:{__QUALIFIED_CLASS_NAME__:"DocumentsErrorItemPresentationInfoGenerator"}})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);